var Nf=Object.defineProperty;var Mf=(e,t,r)=>t in e?Nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var g=(e,t,r)=>(Mf(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function vo(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}function xo(e){if(_e(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Je(n)?Ff(n):xo(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Je(e))return e;if(je(e))return e}}const Rf=/;(?![^(]*\))/g,Lf=/:([^]+)/,jf=/\/\*.*?\*\//gs;function Ff(e){const t={};return e.replace(jf,"").split(Rf).forEach(r=>{if(r){const n=r.split(Lf);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Wt(e){let t="";if(Je(e))t=e;else if(_e(e))for(let r=0;r<e.length;r++){const n=Wt(e[r]);n&&(t+=n+" ")}else if(je(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const $f="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uf=vo($f);function dl(e){return!!e||e===""}function Df(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Hs(e[n],t[n]);return r}function Hs(e,t){if(e===t)return!0;let r=ca(e),n=ca(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Rn(e),n=Rn(t),r||n)return e===t;if(r=_e(e),n=_e(t),r||n)return r&&n?Df(e,t):!1;if(r=je(e),n=je(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Hs(e[o],t[o]))return!1}}return String(e)===String(t)}function Bf(e,t){return e.findIndex(r=>Hs(r,t))}const er=e=>Je(e)?e:e==null?"":_e(e)||je(e)&&(e.toString===gl||!xe(e.toString))?JSON.stringify(e,ml,2):String(e),ml=(e,t)=>t&&t.__v_isRef?ml(e,t.value):Yr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Vs(t)?{[`Set(${t.size})`]:[...t.values()]}:je(t)&&!_e(t)&&!_l(t)?String(t):t,Fe={},Kr=[],Ft=()=>{},qf=()=>!1,Hf=/^on[^a-z]/,zs=e=>Hf.test(e),Eo=e=>e.startsWith("onUpdate:"),st=Object.assign,So=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},zf=Object.prototype.hasOwnProperty,Ce=(e,t)=>zf.call(e,t),_e=Array.isArray,Yr=e=>Kn(e)==="[object Map]",Vs=e=>Kn(e)==="[object Set]",ca=e=>Kn(e)==="[object Date]",xe=e=>typeof e=="function",Je=e=>typeof e=="string",Rn=e=>typeof e=="symbol",je=e=>e!==null&&typeof e=="object",pl=e=>je(e)&&xe(e.then)&&xe(e.catch),gl=Object.prototype.toString,Kn=e=>gl.call(e),Vf=e=>Kn(e).slice(8,-1),_l=e=>Kn(e)==="[object Object]",Oo=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ys=vo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Wf=/-(\w)/g,Yt=Ws(e=>e.replace(Wf,(t,r)=>r?r.toUpperCase():"")),Gf=/\B([A-Z])/g,jr=Ws(e=>e.replace(Gf,"-$1").toLowerCase()),Gs=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),wi=Ws(e=>e?`on${Gs(e)}`:""),Ln=(e,t)=>!Object.is(e,t),ws=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ps=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},bl=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let la;const Kf=()=>la||(la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let yt;class yl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=yt;try{return yt=this,t()}finally{yt=r}}}on(){yt=this}off(){yt=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Yf(e){return new yl(e)}function Jf(e,t=yt){t&&t.active&&t.effects.push(e)}function wl(){return yt}function Xf(e){yt&&yt.cleanups.push(e)}const Po=e=>{const t=new Set(e);return t.w=0,t.n=0,t},vl=e=>(e.w&_r)>0,xl=e=>(e.n&_r)>0,Qf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_r},Zf=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];vl(s)&&!xl(s)?s.delete(e):t[r++]=s,s.w&=~_r,s.n&=~_r}t.length=r}},As=new WeakMap;let vn=0,_r=1;const Di=30;let Rt;const Nr=Symbol(""),Bi=Symbol("");class Ao{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Jf(this,n)}run(){if(!this.active)return this.fn();let t=Rt,r=mr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,mr=!0,_r=1<<++vn,vn<=Di?Qf(this):ua(this),this.fn()}finally{vn<=Di&&Zf(this),_r=1<<--vn,Rt=this.parent,mr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(ua(this),this.onStop&&this.onStop(),this.active=!1)}}function ua(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let mr=!0;const El=[];function an(){El.push(mr),mr=!1}function cn(){const e=El.pop();mr=e===void 0?!0:e}function gt(e,t,r){if(mr&&Rt){let n=As.get(e);n||As.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=Po()),Sl(s)}}function Sl(e,t){let r=!1;vn<=Di?xl(e)||(e.n|=_r,r=!vl(e)):r=!e.has(Rt),r&&(e.add(Rt),Rt.deps.push(e))}function ir(e,t,r,n,s,i){const o=As.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&_e(e)){const c=Number(n);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":_e(e)?Oo(r)&&a.push(o.get("length")):(a.push(o.get(Nr)),Yr(e)&&a.push(o.get(Bi)));break;case"delete":_e(e)||(a.push(o.get(Nr)),Yr(e)&&a.push(o.get(Bi)));break;case"set":Yr(e)&&a.push(o.get(Nr));break}if(a.length===1)a[0]&&qi(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);qi(Po(c))}}function qi(e,t){const r=_e(e)?e:[...e];for(const n of r)n.computed&&fa(n);for(const n of r)n.computed||fa(n)}function fa(e,t){(e!==Rt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function eh(e,t){var r;return(r=As.get(e))===null||r===void 0?void 0:r.get(t)}const th=vo("__proto__,__v_isRef,__isVue"),Ol=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rn)),rh=Co(),nh=Co(!1,!0),sh=Co(!0),ha=ih();function ih(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=ke(this);for(let i=0,o=this.length;i<o;i++)gt(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(ke)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){an();const n=ke(this)[t].apply(this,r);return cn(),n}}),e}function oh(e){const t=ke(this);return gt(t,"has",e),t.hasOwnProperty(e)}function Co(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?xh:kl:t?Il:Cl).get(n))return n;const o=_e(n);if(!e){if(o&&Ce(ha,s))return Reflect.get(ha,s,i);if(s==="hasOwnProperty")return oh}const a=Reflect.get(n,s,i);return(Rn(s)?Ol.has(s):th(s))||(e||gt(n,"get",s),t)?a:Ze(a)?o&&Oo(s)?a:a.value:je(a)?e?To(a):Yn(a):a}}const ah=Pl(),ch=Pl(!0);function Pl(e=!1){return function(r,n,s,i){let o=r[n];if(tn(o)&&Ze(o)&&!Ze(s))return!1;if(!e&&(!Cs(s)&&!tn(s)&&(o=ke(o),s=ke(s)),!_e(r)&&Ze(o)&&!Ze(s)))return o.value=s,!0;const a=_e(r)&&Oo(n)?Number(n)<r.length:Ce(r,n),c=Reflect.set(r,n,s,i);return r===ke(i)&&(a?Ln(s,o)&&ir(r,"set",n,s):ir(r,"add",n,s)),c}}function lh(e,t){const r=Ce(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&ir(e,"delete",t,void 0),n}function uh(e,t){const r=Reflect.has(e,t);return(!Rn(t)||!Ol.has(t))&&gt(e,"has",t),r}function fh(e){return gt(e,"iterate",_e(e)?"length":Nr),Reflect.ownKeys(e)}const Al={get:rh,set:ah,deleteProperty:lh,has:uh,ownKeys:fh},hh={get:sh,set(e,t){return!0},deleteProperty(e,t){return!0}},dh=st({},Al,{get:nh,set:ch}),Io=e=>e,Ks=e=>Reflect.getPrototypeOf(e);function as(e,t,r=!1,n=!1){e=e.__v_raw;const s=ke(e),i=ke(t);r||(t!==i&&gt(s,"get",t),gt(s,"get",i));const{has:o}=Ks(s),a=n?Io:r?Mo:jn;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function cs(e,t=!1){const r=this.__v_raw,n=ke(r),s=ke(e);return t||(e!==s&&gt(n,"has",e),gt(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function ls(e,t=!1){return e=e.__v_raw,!t&&gt(ke(e),"iterate",Nr),Reflect.get(e,"size",e)}function da(e){e=ke(e);const t=ke(this);return Ks(t).has.call(t,e)||(t.add(e),ir(t,"add",e,e)),this}function ma(e,t){t=ke(t);const r=ke(this),{has:n,get:s}=Ks(r);let i=n.call(r,e);i||(e=ke(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?Ln(t,o)&&ir(r,"set",e,t):ir(r,"add",e,t),this}function pa(e){const t=ke(this),{has:r,get:n}=Ks(t);let s=r.call(t,e);s||(e=ke(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&ir(t,"delete",e,void 0),i}function ga(){const e=ke(this),t=e.size!==0,r=e.clear();return t&&ir(e,"clear",void 0,void 0),r}function us(e,t){return function(n,s){const i=this,o=i.__v_raw,a=ke(o),c=t?Io:e?Mo:jn;return!e&&gt(a,"iterate",Nr),o.forEach((l,u)=>n.call(s,c(l),c(u),i))}}function fs(e,t,r){return function(...n){const s=this.__v_raw,i=ke(s),o=Yr(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...n),u=r?Io:t?Mo:jn;return!t&&gt(i,"iterate",c?Bi:Nr),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:this}}function mh(){const e={get(i){return as(this,i)},get size(){return ls(this)},has:cs,add:da,set:ma,delete:pa,clear:ga,forEach:us(!1,!1)},t={get(i){return as(this,i,!1,!0)},get size(){return ls(this)},has:cs,add:da,set:ma,delete:pa,clear:ga,forEach:us(!1,!0)},r={get(i){return as(this,i,!0)},get size(){return ls(this,!0)},has(i){return cs.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:us(!0,!1)},n={get(i){return as(this,i,!0,!0)},get size(){return ls(this,!0)},has(i){return cs.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=fs(i,!1,!1),r[i]=fs(i,!0,!1),t[i]=fs(i,!1,!0),n[i]=fs(i,!0,!0)}),[e,r,t,n]}const[ph,gh,_h,bh]=mh();function ko(e,t){const r=t?e?bh:_h:e?gh:ph;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Ce(r,s)&&s in n?r:n,s,i)}const yh={get:ko(!1,!1)},wh={get:ko(!1,!0)},vh={get:ko(!0,!1)},Cl=new WeakMap,Il=new WeakMap,kl=new WeakMap,xh=new WeakMap;function Eh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sh(e){return e.__v_skip||!Object.isExtensible(e)?0:Eh(Vf(e))}function Yn(e){return tn(e)?e:No(e,!1,Al,yh,Cl)}function Oh(e){return No(e,!1,dh,wh,Il)}function To(e){return No(e,!0,hh,vh,kl)}function No(e,t,r,n,s){if(!je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Sh(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function Jr(e){return tn(e)?Jr(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function Cs(e){return!!(e&&e.__v_isShallow)}function Tl(e){return Jr(e)||tn(e)}function ke(e){const t=e&&e.__v_raw;return t?ke(t):e}function Nl(e){return Ps(e,"__v_skip",!0),e}const jn=e=>je(e)?Yn(e):e,Mo=e=>je(e)?To(e):e;function Ml(e){mr&&Rt&&(e=ke(e),Sl(e.dep||(e.dep=Po())))}function Rl(e,t){e=ke(e);const r=e.dep;r&&qi(r)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function Ge(e){return jl(e,!1)}function Ll(e){return jl(e,!0)}function jl(e,t){return Ze(e)?e:new Ph(e,t)}class Ph{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ke(t),this._value=r?t:jn(t)}get value(){return Ml(this),this._value}set value(t){const r=this.__v_isShallow||Cs(t)||tn(t);t=r?t:ke(t),Ln(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:jn(t),Rl(this))}}function Me(e){return Ze(e)?e.value:e}const Ah={get:(e,t,r)=>Me(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return Ze(s)&&!Ze(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Fl(e){return Jr(e)?e:new Proxy(e,Ah)}class Ch{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return eh(ke(this._object),this._key)}}function oy(e,t,r){const n=e[t];return Ze(n)?n:new Ch(e,t,r)}var $l;class Ih{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[$l]=!1,this._dirty=!0,this.effect=new Ao(t,()=>{this._dirty||(this._dirty=!0,Rl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=ke(this);return Ml(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}$l="__v_isReadonly";function kh(e,t,r=!1){let n,s;const i=xe(e);return i?(n=e,s=Ft):(n=e.get,s=e.set),new Ih(n,s,i||!s,r)}function pr(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){Ys(i,t,r)}return s}function Ct(e,t,r,n){if(xe(e)){const i=pr(e,t,r,n);return i&&pl(i)&&i.catch(o=>{Ys(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Ct(e[i],t,r,n));return s}function Ys(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=r;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){pr(c,null,10,[e,o,a]);return}}Th(e,r,s,n)}function Th(e,t,r,n=!0){console.error(e)}let Fn=!1,Hi=!1;const nt=[];let zt=0;const Xr=[];let Zt=null,Ar=0;const Ul=Promise.resolve();let Ro=null;function Jn(e){const t=Ro||Ul;return e?t.then(this?e.bind(this):e):t}function Nh(e){let t=zt+1,r=nt.length;for(;t<r;){const n=t+r>>>1;$n(nt[n])<e?t=n+1:r=n}return t}function Lo(e){(!nt.length||!nt.includes(e,Fn&&e.allowRecurse?zt+1:zt))&&(e.id==null?nt.push(e):nt.splice(Nh(e.id),0,e),Dl())}function Dl(){!Fn&&!Hi&&(Hi=!0,Ro=Ul.then(ql))}function Mh(e){const t=nt.indexOf(e);t>zt&&nt.splice(t,1)}function Rh(e){_e(e)?Xr.push(...e):(!Zt||!Zt.includes(e,e.allowRecurse?Ar+1:Ar))&&Xr.push(e),Dl()}function _a(e,t=Fn?zt+1:0){for(;t<nt.length;t++){const r=nt[t];r&&r.pre&&(nt.splice(t,1),t--,r())}}function Bl(e){if(Xr.length){const t=[...new Set(Xr)];if(Xr.length=0,Zt){Zt.push(...t);return}for(Zt=t,Zt.sort((r,n)=>$n(r)-$n(n)),Ar=0;Ar<Zt.length;Ar++)Zt[Ar]();Zt=null,Ar=0}}const $n=e=>e.id==null?1/0:e.id,Lh=(e,t)=>{const r=$n(e)-$n(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function ql(e){Hi=!1,Fn=!0,nt.sort(Lh);const t=Ft;try{for(zt=0;zt<nt.length;zt++){const r=nt[zt];r&&r.active!==!1&&pr(r,null,14)}}finally{zt=0,nt.length=0,Bl(),Fn=!1,Ro=null,(nt.length||Xr.length)&&ql()}}function jh(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Fe;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[u]||Fe;d&&(s=r.map(b=>Je(b)?b.trim():b)),f&&(s=r.map(bl))}let a,c=n[a=wi(t)]||n[a=wi(Yt(t))];!c&&i&&(c=n[a=wi(jr(t))]),c&&Ct(c,e,6,s);const l=n[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ct(l,e,6,s)}}function Hl(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!xe(e)){const c=l=>{const u=Hl(l,t,!0);u&&(a=!0,st(o,u))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(je(e)&&n.set(e,null),null):(_e(i)?i.forEach(c=>o[c]=null):st(o,i),je(e)&&n.set(e,o),o)}function Js(e,t){return!e||!zs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,jr(t))||Ce(e,t))}let rt=null,Xs=null;function Is(e){const t=rt;return rt=e,Xs=e&&e.type.__scopeId||null,t}function ay(e){Xs=e}function cy(){Xs=null}function rr(e,t=rt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Aa(-1);const i=Is(t);let o;try{o=e(...s)}finally{Is(i),n._d&&Aa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function vi(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:f,data:d,setupState:b,ctx:x,inheritAttrs:I}=e;let q,k;const j=Is(e);try{if(r.shapeFlag&4){const z=s||n;q=qt(u.call(z,z,f,i,b,d,x)),k=c}else{const z=t;q=qt(z.length>1?z(i,{attrs:c,slots:a,emit:l}):z(i,null)),k=t.props?c:Fh(c)}}catch(z){On.length=0,Ys(z,e,1),q=Re(kt)}let H=q;if(k&&I!==!1){const z=Object.keys(k),{shapeFlag:D}=H;z.length&&D&7&&(o&&z.some(Eo)&&(k=$h(k,o)),H=br(H,k))}return r.dirs&&(H=br(H),H.dirs=H.dirs?H.dirs.concat(r.dirs):r.dirs),r.transition&&(H.transition=r.transition),q=H,Is(j),q}const Fh=e=>{let t;for(const r in e)(r==="class"||r==="style"||zs(r))&&((t||(t={}))[r]=e[r]);return t},$h=(e,t)=>{const r={};for(const n in e)(!Eo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Uh(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?ba(n,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!Js(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ba(n,o,l):!0:!!o;return!1}function ba(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Js(r,i))return!0}return!1}function Dh({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Bh=e=>e.__isSuspense;function qh(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):Rh(e)}function vs(e,t){if(Ve){let r=Ve.provides;const n=Ve.parent&&Ve.parent.provides;n===r&&(r=Ve.provides=Object.create(n)),r[e]=t}}function It(e,t,r=!1){const n=Ve||rt;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&xe(t)?t.call(n.proxy):t}}function Hh(e,t){return jo(e,null,t)}const hs={};function ct(e,t,r){return jo(e,t,r)}function jo(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=Fe){const a=wl()===(Ve==null?void 0:Ve.scope)?Ve:null;let c,l=!1,u=!1;if(Ze(e)?(c=()=>e.value,l=Cs(e)):Jr(e)?(c=()=>e,n=!0):_e(e)?(u=!0,l=e.some(H=>Jr(H)||Cs(H)),c=()=>e.map(H=>{if(Ze(H))return H.value;if(Jr(H))return Tr(H);if(xe(H))return pr(H,a,2)})):xe(e)?t?c=()=>pr(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Ct(e,a,3,[d])}:c=Ft,t&&n){const H=c;c=()=>Tr(H())}let f,d=H=>{f=k.onStop=()=>{pr(H,a,4)}},b;if(Bn)if(d=Ft,t?r&&Ct(t,a,3,[c(),u?[]:void 0,d]):c(),s==="sync"){const H=$d();b=H.__watcherHandles||(H.__watcherHandles=[])}else return Ft;let x=u?new Array(e.length).fill(hs):hs;const I=()=>{if(k.active)if(t){const H=k.run();(n||l||(u?H.some((z,D)=>Ln(z,x[D])):Ln(H,x)))&&(f&&f(),Ct(t,a,3,[H,x===hs?void 0:u&&x[0]===hs?[]:x,d]),x=H)}else k.run()};I.allowRecurse=!!t;let q;s==="sync"?q=I:s==="post"?q=()=>ht(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),q=()=>Lo(I));const k=new Ao(c,q);t?r?I():x=k.run():s==="post"?ht(k.run.bind(k),a&&a.suspense):k.run();const j=()=>{k.stop(),a&&a.scope&&So(a.scope.effects,k)};return b&&b.push(j),j}function zh(e,t,r){const n=this.proxy,s=Je(e)?e.includes(".")?zl(n,e):()=>n[e]:e.bind(n,n);let i;xe(t)?i=t:(i=t.handler,r=t);const o=Ve;rn(this);const a=jo(s,i.bind(n),r);return o?rn(o):Mr(),a}function zl(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Tr(e,t){if(!je(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))Tr(e.value,t);else if(_e(e))for(let r=0;r<e.length;r++)Tr(e[r],t);else if(Vs(e)||Yr(e))e.forEach(r=>{Tr(r,t)});else if(_l(e))for(const r in e)Tr(e[r],t);return e}function Vh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xn(()=>{e.isMounted=!0}),Kl(()=>{e.isUnmounting=!0}),e}const Ot=[Function,Array],Wh={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(e,{slots:t}){const r=Zn(),n=Vh();let s;return()=>{const i=t.default&&Wl(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==kt){o=I;break}}const a=ke(e),{mode:c}=a;if(n.isLeaving)return xi(o);const l=ya(o);if(!l)return xi(o);const u=zi(l,a,n,r);Vi(l,u);const f=r.subTree,d=f&&ya(f);let b=!1;const{getTransitionKey:x}=l.type;if(x){const I=x();s===void 0?s=I:I!==s&&(s=I,b=!0)}if(d&&d.type!==kt&&(!Cr(l,d)||b)){const I=zi(d,a,n,r);if(Vi(d,I),c==="out-in")return n.isLeaving=!0,I.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},xi(o);c==="in-out"&&l.type!==kt&&(I.delayLeave=(q,k,j)=>{const H=Vl(n,d);H[String(d.key)]=d,q._leaveCb=()=>{k(),q._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=j})}return o}}},Gh=Wh;function Vl(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function zi(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:b,onLeaveCancelled:x,onBeforeAppear:I,onAppear:q,onAfterAppear:k,onAppearCancelled:j}=t,H=String(e.key),z=Vl(r,e),D=(Y,ue)=>{Y&&Ct(Y,n,9,ue)},fe=(Y,ue)=>{const pe=ue[1];D(Y,ue),_e(Y)?Y.every(Ee=>Ee.length<=1)&&pe():Y.length<=1&&pe()},me={mode:i,persisted:o,beforeEnter(Y){let ue=a;if(!r.isMounted)if(s)ue=I||a;else return;Y._leaveCb&&Y._leaveCb(!0);const pe=z[H];pe&&Cr(e,pe)&&pe.el._leaveCb&&pe.el._leaveCb(),D(ue,[Y])},enter(Y){let ue=c,pe=l,Ee=u;if(!r.isMounted)if(s)ue=q||c,pe=k||l,Ee=j||u;else return;let Te=!1;const De=Y._enterCb=T=>{Te||(Te=!0,T?D(Ee,[Y]):D(pe,[Y]),me.delayedLeave&&me.delayedLeave(),Y._enterCb=void 0)};ue?fe(ue,[Y,De]):De()},leave(Y,ue){const pe=String(e.key);if(Y._enterCb&&Y._enterCb(!0),r.isUnmounting)return ue();D(f,[Y]);let Ee=!1;const Te=Y._leaveCb=De=>{Ee||(Ee=!0,ue(),De?D(x,[Y]):D(b,[Y]),Y._leaveCb=void 0,z[pe]===e&&delete z[pe])};z[pe]=e,d?fe(d,[Y,Te]):Te()},clone(Y){return zi(Y,t,r,n)}};return me}function xi(e){if(Qs(e))return e=br(e),e.children=null,e}function ya(e){return Qs(e)?e.children?e.children[0]:void 0:e}function Vi(e,t){e.shapeFlag&6&&e.component?Vi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wl(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===wt?(o.patchFlag&128&&s++,n=n.concat(Wl(o.children,t,a))):(t||o.type!==kt)&&n.push(a!=null?br(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function ln(e){return xe(e)?{setup:e,name:e.name}:e}const En=e=>!!e.type.__asyncLoader,Qs=e=>e.type.__isKeepAlive;function Kh(e,t){Gl(e,"a",t)}function Yh(e,t){Gl(e,"da",t)}function Gl(e,t,r=Ve){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Zs(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Qs(s.parent.vnode)&&Jh(n,t,r,s),s=s.parent}}function Jh(e,t,r,n){const s=Zs(t,e,n,!0);Fo(()=>{So(n[t],s)},r)}function Zs(e,t,r=Ve,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;an(),rn(r);const a=Ct(t,r,e,o);return Mr(),cn(),a});return n?s.unshift(i):s.push(i),i}}const cr=e=>(t,r=Ve)=>(!Bn||e==="sp")&&Zs(e,(...n)=>t(...n),r),Xh=cr("bm"),Xn=cr("m"),Qh=cr("bu"),Zh=cr("u"),Kl=cr("bum"),Fo=cr("um"),ed=cr("sp"),td=cr("rtg"),rd=cr("rtc");function nd(e,t=Ve){Zs("ec",e,t)}function ly(e,t){const r=rt;if(r===null)return e;const n=ri(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=Fe]=t[i];o&&(xe(o)&&(o={mounted:o,updated:o}),o.deep&&Tr(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function Er(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(an(),Ct(c,r,8,[e.el,a,e,t]),cn())}}const Yl="components";function ei(e,t){return id(Yl,e,!0,t)||e}const sd=Symbol();function id(e,t,r=!0,n=!1){const s=rt||Ve;if(s){const i=s.type;if(e===Yl){const a=Ld(i,!1);if(a&&(a===t||a===Yt(t)||a===Gs(Yt(t))))return i}const o=wa(s[e]||i[e],t)||wa(s.appContext[e],t);return!o&&n?i:o}}function wa(e,t){return e&&(e[t]||e[Yt(t)]||e[Gs(Yt(t))])}function uy(e,t,r,n){let s;const i=r&&r[n];if(_e(e)||Je(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(je(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return r&&(r[n]=s),s}function Ei(e,t,r={},n,s){if(rt.isCE||rt.parent&&En(rt.parent)&&rt.parent.isCE)return t!=="default"&&(r.name=t),Re("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),mt();const o=i&&Jl(i(r)),a=Dn(wt,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Jl(e){return e.some(t=>Ts(t)?!(t.type===kt||t.type===wt&&!Jl(t.children)):!0)?e:null}const Wi=e=>e?cu(e)?ri(e)||e.proxy:Wi(e.parent):null,Sn=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wi(e.parent),$root:e=>Wi(e.root),$emit:e=>e.emit,$options:e=>$o(e),$forceUpdate:e=>e.f||(e.f=()=>Lo(e.update)),$nextTick:e=>e.n||(e.n=Jn.bind(e.proxy)),$watch:e=>zh.bind(e)}),Si=(e,t)=>e!==Fe&&!e.__isScriptSetup&&Ce(e,t),od={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(Si(n,t))return o[t]=1,n[t];if(s!==Fe&&Ce(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&Ce(l,t))return o[t]=3,i[t];if(r!==Fe&&Ce(r,t))return o[t]=4,r[t];Gi&&(o[t]=0)}}const u=Sn[t];let f,d;if(u)return t==="$attrs"&&gt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(r!==Fe&&Ce(r,t))return o[t]=4,r[t];if(d=c.config.globalProperties,Ce(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return Si(s,t)?(s[t]=r,!0):n!==Fe&&Ce(n,t)?(n[t]=r,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==Fe&&Ce(e,o)||Si(t,o)||(a=i[0])&&Ce(a,o)||Ce(n,o)||Ce(Sn,o)||Ce(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ce(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let Gi=!0;function ad(e){const t=$o(e),r=e.proxy,n=e.ctx;Gi=!1,t.beforeCreate&&va(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:b,updated:x,activated:I,deactivated:q,beforeDestroy:k,beforeUnmount:j,destroyed:H,unmounted:z,render:D,renderTracked:fe,renderTriggered:me,errorCaptured:Y,serverPrefetch:ue,expose:pe,inheritAttrs:Ee,components:Te,directives:De,filters:T}=t;if(l&&cd(l,n,null,e.appContext.config.unwrapInjectedRef),o)for(const ne in o){const ae=o[ne];xe(ae)&&(n[ne]=ae.bind(r))}if(s){const ne=s.call(r,r);je(ne)&&(e.data=Yn(ne))}if(Gi=!0,i)for(const ne in i){const ae=i[ne],ye=xe(ae)?ae.bind(r,r):xe(ae.get)?ae.get.bind(r,r):Ft,he=!xe(ae)&&xe(ae.set)?ae.set.bind(r):Ft,de=qe({get:ye,set:he});Object.defineProperty(n,ne,{enumerable:!0,configurable:!0,get:()=>de.value,set:be=>de.value=be})}if(a)for(const ne in a)Xl(a[ne],n,r,ne);if(c){const ne=xe(c)?c.call(r):c;Reflect.ownKeys(ne).forEach(ae=>{vs(ae,ne[ae])})}u&&va(u,e,"c");function le(ne,ae){_e(ae)?ae.forEach(ye=>ne(ye.bind(r))):ae&&ne(ae.bind(r))}if(le(Xh,f),le(Xn,d),le(Qh,b),le(Zh,x),le(Kh,I),le(Yh,q),le(nd,Y),le(rd,fe),le(td,me),le(Kl,j),le(Fo,z),le(ed,ue),_e(pe))if(pe.length){const ne=e.exposed||(e.exposed={});pe.forEach(ae=>{Object.defineProperty(ne,ae,{get:()=>r[ae],set:ye=>r[ae]=ye})})}else e.exposed||(e.exposed={});D&&e.render===Ft&&(e.render=D),Ee!=null&&(e.inheritAttrs=Ee),Te&&(e.components=Te),De&&(e.directives=De)}function cd(e,t,r=Ft,n=!1){_e(e)&&(e=Ki(e));for(const s in e){const i=e[s];let o;je(i)?"default"in i?o=It(i.from||s,i.default,!0):o=It(i.from||s):o=It(i),Ze(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function va(e,t,r){Ct(_e(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Xl(e,t,r,n){const s=n.includes(".")?zl(r,n):()=>r[n];if(Je(e)){const i=t[e];xe(i)&&ct(s,i)}else if(xe(e))ct(s,e.bind(r));else if(je(e))if(_e(e))e.forEach(i=>Xl(i,t,r,n));else{const i=xe(e.handler)?e.handler.bind(r):t[e.handler];xe(i)&&ct(s,i,e)}}function $o(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!r&&!n?c=t:(c={},s.length&&s.forEach(l=>ks(c,l,o,!0)),ks(c,t,o)),je(t)&&i.set(t,c),c}function ks(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&ks(e,i,r,!0),s&&s.forEach(o=>ks(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=ld[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const ld={data:xa,props:Or,emits:Or,methods:Or,computed:Or,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Or,directives:Or,watch:fd,provide:xa,inject:ud};function xa(e,t){return t?e?function(){return st(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function ud(e,t){return Or(Ki(e),Ki(t))}function Ki(e){if(_e(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?st(st(Object.create(null),e),t):t}function fd(e,t){if(!e)return t;if(!t)return e;const r=st(Object.create(null),e);for(const n in t)r[n]=it(e[n],t[n]);return r}function hd(e,t,r,n=!1){const s={},i={};Ps(i,ti,1),e.propsDefaults=Object.create(null),Ql(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:Oh(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function dd(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ke(s),[c]=e.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Js(e.emitsOptions,d))continue;const b=t[d];if(c)if(Ce(i,d))b!==i[d]&&(i[d]=b,l=!0);else{const x=Yt(d);s[x]=Yi(c,a,x,b,e,!1)}else b!==i[d]&&(i[d]=b,l=!0)}}}else{Ql(e,t,s,i)&&(l=!0);let u;for(const f in a)(!t||!Ce(t,f)&&((u=jr(f))===f||!Ce(t,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(s[f]=Yi(c,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!Ce(t,f))&&(delete i[f],l=!0)}l&&ir(e,"set","$attrs")}function Ql(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(ys(c))continue;const l=t[c];let u;s&&Ce(s,u=Yt(c))?!i||!i.includes(u)?r[u]=l:(a||(a={}))[u]=l:Js(e.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(i){const c=ke(r),l=a||Fe;for(let u=0;u<i.length;u++){const f=i[u];r[f]=Yi(s,c,f,l[f],e,!Ce(l,f))}}return o}function Yi(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=Ce(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&xe(c)){const{propsDefaults:l}=s;r in l?n=l[r]:(rn(s),n=l[r]=c.call(null,t),Mr())}else n=c}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===jr(r))&&(n=!0))}return n}function Zl(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!xe(e)){const u=f=>{c=!0;const[d,b]=Zl(f,t,!0);st(o,d),b&&a.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return je(e)&&n.set(e,Kr),Kr;if(_e(i))for(let u=0;u<i.length;u++){const f=Yt(i[u]);Ea(f)&&(o[f]=Fe)}else if(i)for(const u in i){const f=Yt(u);if(Ea(f)){const d=i[u],b=o[f]=_e(d)||xe(d)?{type:d}:Object.assign({},d);if(b){const x=Pa(Boolean,b.type),I=Pa(String,b.type);b[0]=x>-1,b[1]=I<0||x<I,(x>-1||Ce(b,"default"))&&a.push(f)}}}const l=[o,a];return je(e)&&n.set(e,l),l}function Ea(e){return e[0]!=="$"}function Sa(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Oa(e,t){return Sa(e)===Sa(t)}function Pa(e,t){return _e(t)?t.findIndex(r=>Oa(r,e)):xe(t)&&Oa(t,e)?0:-1}const eu=e=>e[0]==="_"||e==="$stable",Uo=e=>_e(e)?e.map(qt):[qt(e)],md=(e,t,r)=>{if(t._n)return t;const n=rr((...s)=>Uo(t(...s)),r);return n._c=!1,n},tu=(e,t,r)=>{const n=e._ctx;for(const s in e){if(eu(s))continue;const i=e[s];if(xe(i))t[s]=md(s,i,n);else if(i!=null){const o=Uo(i);t[s]=()=>o}}},ru=(e,t)=>{const r=Uo(t);e.slots.default=()=>r},pd=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ke(t),Ps(t,"_",r)):tu(t,e.slots={})}else e.slots={},t&&ru(e,t);Ps(e.slots,ti,1)},gd=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=Fe;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(st(s,t),!r&&a===1&&delete s._):(i=!t.$stable,tu(t,s)),o=t}else t&&(ru(e,t),o={default:1});if(i)for(const a in s)!eu(a)&&!(a in o)&&delete s[a]};function nu(){return{app:null,config:{isNativeTag:qf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _d=0;function bd(e,t){return function(n,s=null){xe(n)||(n=Object.assign({},n)),s!=null&&!je(s)&&(s=null);const i=nu(),o=new Set;let a=!1;const c=i.app={_uid:_d++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Ud,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&xe(l.install)?(o.add(l),l.install(c,...u)):xe(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,f){if(!a){const d=Re(n,s);return d.appContext=i,u&&t?t(d,l):e(d,l,f),a=!0,c._container=l,l.__vue_app__=c,ri(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Ji(e,t,r,n,s=!1){if(_e(e)){e.forEach((d,b)=>Ji(d,t&&(_e(t)?t[b]:t),r,n,s));return}if(En(n)&&!s)return;const i=n.shapeFlag&4?ri(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===Fe?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(Je(l)?(u[l]=null,Ce(f,l)&&(f[l]=null)):Ze(l)&&(l.value=null)),xe(c))pr(c,a,12,[o,u]);else{const d=Je(c),b=Ze(c);if(d||b){const x=()=>{if(e.f){const I=d?Ce(f,c)?f[c]:u[c]:c.value;s?_e(I)&&So(I,i):_e(I)?I.includes(i)||I.push(i):d?(u[c]=[i],Ce(f,c)&&(f[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,Ce(f,c)&&(f[c]=o)):b&&(c.value=o,e.k&&(u[e.k]=o))};o?(x.id=-1,ht(x,r)):x()}}}const ht=qh;function yd(e){return wd(e)}function wd(e,t){const r=Kf();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:b=Ft,insertStaticContent:x}=e,I=(_,w,C,M=null,U=null,W=null,Q=!1,V=null,K=!!w.dynamicChildren)=>{if(_===w)return;_&&!Cr(_,w)&&(M=$(_),be(_,U,W,!0),_=null),w.patchFlag===-2&&(K=!1,w.dynamicChildren=null);const{type:R,ref:S,shapeFlag:O}=w;switch(R){case Qn:q(_,w,C,M);break;case kt:k(_,w,C,M);break;case Oi:_==null&&j(w,C,M,Q);break;case wt:Te(_,w,C,M,U,W,Q,V,K);break;default:O&1?D(_,w,C,M,U,W,Q,V,K):O&6?De(_,w,C,M,U,W,Q,V,K):(O&64||O&128)&&R.process(_,w,C,M,U,W,Q,V,K,te)}S!=null&&U&&Ji(S,_&&_.ref,W,w||_,!w)},q=(_,w,C,M)=>{if(_==null)n(w.el=a(w.children),C,M);else{const U=w.el=_.el;w.children!==_.children&&l(U,w.children)}},k=(_,w,C,M)=>{_==null?n(w.el=c(w.children||""),C,M):w.el=_.el},j=(_,w,C,M)=>{[_.el,_.anchor]=x(_.children,w,C,M,_.el,_.anchor)},H=({el:_,anchor:w},C,M)=>{let U;for(;_&&_!==w;)U=d(_),n(_,C,M),_=U;n(w,C,M)},z=({el:_,anchor:w})=>{let C;for(;_&&_!==w;)C=d(_),s(_),_=C;s(w)},D=(_,w,C,M,U,W,Q,V,K)=>{Q=Q||w.type==="svg",_==null?fe(w,C,M,U,W,Q,V,K):ue(_,w,U,W,Q,V,K)},fe=(_,w,C,M,U,W,Q,V)=>{let K,R;const{type:S,props:O,shapeFlag:J,transition:se,dirs:ve}=_;if(K=_.el=o(_.type,W,O&&O.is,O),J&8?u(K,_.children):J&16&&Y(_.children,K,null,M,U,W&&S!=="foreignObject",Q,V),ve&&Er(_,null,M,"created"),me(K,_,_.scopeId,Q,M),O){for(const Se in O)Se!=="value"&&!ys(Se)&&i(K,Se,null,O[Se],W,_.children,M,U,G);"value"in O&&i(K,"value",null,O.value),(R=O.onVnodeBeforeMount)&&Dt(R,M,_)}ve&&Er(_,null,M,"beforeMount");const Ae=(!U||U&&!U.pendingBranch)&&se&&!se.persisted;Ae&&se.beforeEnter(K),n(K,w,C),((R=O&&O.onVnodeMounted)||Ae||ve)&&ht(()=>{R&&Dt(R,M,_),Ae&&se.enter(K),ve&&Er(_,null,M,"mounted")},U)},me=(_,w,C,M,U)=>{if(C&&b(_,C),M)for(let W=0;W<M.length;W++)b(_,M[W]);if(U){let W=U.subTree;if(w===W){const Q=U.vnode;me(_,Q,Q.scopeId,Q.slotScopeIds,U.parent)}}},Y=(_,w,C,M,U,W,Q,V,K=0)=>{for(let R=K;R<_.length;R++){const S=_[R]=V?hr(_[R]):qt(_[R]);I(null,S,w,C,M,U,W,Q,V)}},ue=(_,w,C,M,U,W,Q)=>{const V=w.el=_.el;let{patchFlag:K,dynamicChildren:R,dirs:S}=w;K|=_.patchFlag&16;const O=_.props||Fe,J=w.props||Fe;let se;C&&Sr(C,!1),(se=J.onVnodeBeforeUpdate)&&Dt(se,C,w,_),S&&Er(w,_,C,"beforeUpdate"),C&&Sr(C,!0);const ve=U&&w.type!=="foreignObject";if(R?pe(_.dynamicChildren,R,V,C,M,ve,W):Q||ae(_,w,V,null,C,M,ve,W,!1),K>0){if(K&16)Ee(V,w,O,J,C,M,U);else if(K&2&&O.class!==J.class&&i(V,"class",null,J.class,U),K&4&&i(V,"style",O.style,J.style,U),K&8){const Ae=w.dynamicProps;for(let Se=0;Se<Ae.length;Se++){const Ue=Ae[Se],ut=O[Ue],lr=J[Ue];(lr!==ut||Ue==="value")&&i(V,Ue,ut,lr,U,_.children,C,M,G)}}K&1&&_.children!==w.children&&u(V,w.children)}else!Q&&R==null&&Ee(V,w,O,J,C,M,U);((se=J.onVnodeUpdated)||S)&&ht(()=>{se&&Dt(se,C,w,_),S&&Er(w,_,C,"updated")},M)},pe=(_,w,C,M,U,W,Q)=>{for(let V=0;V<w.length;V++){const K=_[V],R=w[V],S=K.el&&(K.type===wt||!Cr(K,R)||K.shapeFlag&70)?f(K.el):C;I(K,R,S,null,M,U,W,Q,!0)}},Ee=(_,w,C,M,U,W,Q)=>{if(C!==M){if(C!==Fe)for(const V in C)!ys(V)&&!(V in M)&&i(_,V,C[V],null,Q,w.children,U,W,G);for(const V in M){if(ys(V))continue;const K=M[V],R=C[V];K!==R&&V!=="value"&&i(_,V,R,K,Q,w.children,U,W,G)}"value"in M&&i(_,"value",C.value,M.value)}},Te=(_,w,C,M,U,W,Q,V,K)=>{const R=w.el=_?_.el:a(""),S=w.anchor=_?_.anchor:a("");let{patchFlag:O,dynamicChildren:J,slotScopeIds:se}=w;se&&(V=V?V.concat(se):se),_==null?(n(R,C,M),n(S,C,M),Y(w.children,C,S,U,W,Q,V,K)):O>0&&O&64&&J&&_.dynamicChildren?(pe(_.dynamicChildren,J,C,U,W,Q,V),(w.key!=null||U&&w===U.subTree)&&su(_,w,!0)):ae(_,w,C,S,U,W,Q,V,K)},De=(_,w,C,M,U,W,Q,V,K)=>{w.slotScopeIds=V,_==null?w.shapeFlag&512?U.ctx.activate(w,C,M,Q,K):T(w,C,M,U,W,Q,K):A(_,w,K)},T=(_,w,C,M,U,W,Q)=>{const V=_.component=kd(_,M,U);if(Qs(_)&&(V.ctx.renderer=te),Td(V),V.asyncDep){if(U&&U.registerDep(V,le),!_.el){const K=V.subTree=Re(kt);k(null,K,w,C)}return}le(V,_,w,C,U,W,Q)},A=(_,w,C)=>{const M=w.component=_.component;if(Uh(_,w,C))if(M.asyncDep&&!M.asyncResolved){ne(M,w,C);return}else M.next=w,Mh(M.update),M.update();else w.el=_.el,M.vnode=w},le=(_,w,C,M,U,W,Q)=>{const V=()=>{if(_.isMounted){let{next:S,bu:O,u:J,parent:se,vnode:ve}=_,Ae=S,Se;Sr(_,!1),S?(S.el=ve.el,ne(_,S,Q)):S=ve,O&&ws(O),(Se=S.props&&S.props.onVnodeBeforeUpdate)&&Dt(Se,se,S,ve),Sr(_,!0);const Ue=vi(_),ut=_.subTree;_.subTree=Ue,I(ut,Ue,f(ut.el),$(ut),_,U,W),S.el=Ue.el,Ae===null&&Dh(_,Ue.el),J&&ht(J,U),(Se=S.props&&S.props.onVnodeUpdated)&&ht(()=>Dt(Se,se,S,ve),U)}else{let S;const{el:O,props:J}=w,{bm:se,m:ve,parent:Ae}=_,Se=En(w);if(Sr(_,!1),se&&ws(se),!Se&&(S=J&&J.onVnodeBeforeMount)&&Dt(S,Ae,w),Sr(_,!0),O&&ge){const Ue=()=>{_.subTree=vi(_),ge(O,_.subTree,_,U,null)};Se?w.type.__asyncLoader().then(()=>!_.isUnmounted&&Ue()):Ue()}else{const Ue=_.subTree=vi(_);I(null,Ue,C,M,_,U,W),w.el=Ue.el}if(ve&&ht(ve,U),!Se&&(S=J&&J.onVnodeMounted)){const Ue=w;ht(()=>Dt(S,Ae,Ue),U)}(w.shapeFlag&256||Ae&&En(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&_.a&&ht(_.a,U),_.isMounted=!0,w=C=M=null}},K=_.effect=new Ao(V,()=>Lo(R),_.scope),R=_.update=()=>K.run();R.id=_.uid,Sr(_,!0),R()},ne=(_,w,C)=>{w.component=_;const M=_.vnode.props;_.vnode=w,_.next=null,dd(_,w.props,M,C),gd(_,w.children,C),an(),_a(),cn()},ae=(_,w,C,M,U,W,Q,V,K=!1)=>{const R=_&&_.children,S=_?_.shapeFlag:0,O=w.children,{patchFlag:J,shapeFlag:se}=w;if(J>0){if(J&128){he(R,O,C,M,U,W,Q,V,K);return}else if(J&256){ye(R,O,C,M,U,W,Q,V,K);return}}se&8?(S&16&&G(R,U,W),O!==R&&u(C,O)):S&16?se&16?he(R,O,C,M,U,W,Q,V,K):G(R,U,W,!0):(S&8&&u(C,""),se&16&&Y(O,C,M,U,W,Q,V,K))},ye=(_,w,C,M,U,W,Q,V,K)=>{_=_||Kr,w=w||Kr;const R=_.length,S=w.length,O=Math.min(R,S);let J;for(J=0;J<O;J++){const se=w[J]=K?hr(w[J]):qt(w[J]);I(_[J],se,C,null,U,W,Q,V,K)}R>S?G(_,U,W,!0,!1,O):Y(w,C,M,U,W,Q,V,K,O)},he=(_,w,C,M,U,W,Q,V,K)=>{let R=0;const S=w.length;let O=_.length-1,J=S-1;for(;R<=O&&R<=J;){const se=_[R],ve=w[R]=K?hr(w[R]):qt(w[R]);if(Cr(se,ve))I(se,ve,C,null,U,W,Q,V,K);else break;R++}for(;R<=O&&R<=J;){const se=_[O],ve=w[J]=K?hr(w[J]):qt(w[J]);if(Cr(se,ve))I(se,ve,C,null,U,W,Q,V,K);else break;O--,J--}if(R>O){if(R<=J){const se=J+1,ve=se<S?w[se].el:M;for(;R<=J;)I(null,w[R]=K?hr(w[R]):qt(w[R]),C,ve,U,W,Q,V,K),R++}}else if(R>J)for(;R<=O;)be(_[R],U,W,!0),R++;else{const se=R,ve=R,Ae=new Map;for(R=ve;R<=J;R++){const Xe=w[R]=K?hr(w[R]):qt(w[R]);Xe.key!=null&&Ae.set(Xe.key,R)}let Se,Ue=0;const ut=J-ve+1;let lr=!1,hn=0;const vr=new Array(ut);for(R=0;R<ut;R++)vr[R]=0;for(R=se;R<=O;R++){const Xe=_[R];if(Ue>=ut){be(Xe,U,W,!0);continue}let _t;if(Xe.key!=null)_t=Ae.get(Xe.key);else for(Se=ve;Se<=J;Se++)if(vr[Se-ve]===0&&Cr(Xe,w[Se])){_t=Se;break}_t===void 0?be(Xe,U,W,!0):(vr[_t-ve]=R+1,_t>=hn?hn=_t:lr=!0,I(Xe,w[_t],C,null,U,W,Q,V,K),Ue++)}const Ut=lr?vd(vr):Kr;for(Se=Ut.length-1,R=ut-1;R>=0;R--){const Xe=ve+R,_t=w[Xe],Fr=Xe+1<S?w[Xe+1].el:M;vr[R]===0?I(null,_t,C,Fr,U,W,Q,V,K):lr&&(Se<0||R!==Ut[Se]?de(_t,C,Fr,2):Se--)}}},de=(_,w,C,M,U=null)=>{const{el:W,type:Q,transition:V,children:K,shapeFlag:R}=_;if(R&6){de(_.component.subTree,w,C,M);return}if(R&128){_.suspense.move(w,C,M);return}if(R&64){Q.move(_,w,C,te);return}if(Q===wt){n(W,w,C);for(let O=0;O<K.length;O++)de(K[O],w,C,M);n(_.anchor,w,C);return}if(Q===Oi){H(_,w,C);return}if(M!==2&&R&1&&V)if(M===0)V.beforeEnter(W),n(W,w,C),ht(()=>V.enter(W),U);else{const{leave:O,delayLeave:J,afterLeave:se}=V,ve=()=>n(W,w,C),Ae=()=>{O(W,()=>{ve(),se&&se()})};J?J(W,ve,Ae):Ae()}else n(W,w,C)},be=(_,w,C,M=!1,U=!1)=>{const{type:W,props:Q,ref:V,children:K,dynamicChildren:R,shapeFlag:S,patchFlag:O,dirs:J}=_;if(V!=null&&Ji(V,null,C,_,!0),S&256){w.ctx.deactivate(_);return}const se=S&1&&J,ve=!En(_);let Ae;if(ve&&(Ae=Q&&Q.onVnodeBeforeUnmount)&&Dt(Ae,w,_),S&6)N(_.component,C,M);else{if(S&128){_.suspense.unmount(C,M);return}se&&Er(_,null,w,"beforeUnmount"),S&64?_.type.remove(_,w,C,U,te,M):R&&(W!==wt||O>0&&O&64)?G(R,w,C,!1,!0):(W===wt&&O&384||!U&&S&16)&&G(K,w,C),M&&$e(_)}(ve&&(Ae=Q&&Q.onVnodeUnmounted)||se)&&ht(()=>{Ae&&Dt(Ae,w,_),se&&Er(_,null,w,"unmounted")},C)},$e=_=>{const{type:w,el:C,anchor:M,transition:U}=_;if(w===wt){Pe(C,M);return}if(w===Oi){z(_);return}const W=()=>{s(C),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(_.shapeFlag&1&&U&&!U.persisted){const{leave:Q,delayLeave:V}=U,K=()=>Q(C,W);V?V(_.el,W,K):K()}else W()},Pe=(_,w)=>{let C;for(;_!==w;)C=d(_),s(_),_=C;s(w)},N=(_,w,C)=>{const{bum:M,scope:U,update:W,subTree:Q,um:V}=_;M&&ws(M),U.stop(),W&&(W.active=!1,be(Q,_,w,C)),V&&ht(V,w),ht(()=>{_.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},G=(_,w,C,M=!1,U=!1,W=0)=>{for(let Q=W;Q<_.length;Q++)be(_[Q],w,C,M,U)},$=_=>_.shapeFlag&6?$(_.component.subTree):_.shapeFlag&128?_.suspense.next():d(_.anchor||_.el),re=(_,w,C)=>{_==null?w._vnode&&be(w._vnode,null,null,!0):I(w._vnode||null,_,w,null,null,null,C),_a(),Bl(),w._vnode=_},te={p:I,um:be,m:de,r:$e,mt:T,mc:Y,pc:ae,pbc:pe,n:$,o:e};let we,ge;return t&&([we,ge]=t(te)),{render:re,hydrate:we,createApp:bd(re,we)}}function Sr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function su(e,t,r=!1){const n=e.children,s=t.children;if(_e(n)&&_e(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=hr(s[i]),a.el=o.el),r||su(o,a)),a.type===Qn&&(a.el=o.el)}}function vd(e){const t=e.slice(),r=[0];let n,s,i,o,a;const c=e.length;for(n=0;n<c;n++){const l=e[n];if(l!==0){if(s=r[r.length-1],e[s]<l){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<l?i=a+1:o=a;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const xd=e=>e.__isTeleport,wt=Symbol(void 0),Qn=Symbol(void 0),kt=Symbol(void 0),Oi=Symbol(void 0),On=[];let Lt=null;function mt(e=!1){On.push(Lt=e?null:[])}function Ed(){On.pop(),Lt=On[On.length-1]||null}let Un=1;function Aa(e){Un+=e}function iu(e){return e.dynamicChildren=Un>0?Lt||Kr:null,Ed(),Un>0&&Lt&&Lt.push(e),e}function or(e,t,r,n,s,i){return iu(He(e,t,r,n,s,i,!0))}function Dn(e,t,r,n,s){return iu(Re(e,t,r,n,s,!0))}function Ts(e){return e?e.__v_isVNode===!0:!1}function Cr(e,t){return e.type===t.type&&e.key===t.key}const ti="__vInternal",ou=({key:e})=>e??null,xs=({ref:e,ref_key:t,ref_for:r})=>e!=null?Je(e)||Ze(e)||xe(e)?{i:rt,r:e,k:t,f:!!r}:e:null;function He(e,t=null,r=null,n=0,s=null,i=e===wt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ou(t),ref:t&&xs(t),scopeId:Xs,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rt};return a?(Do(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=Je(r)?8:16),Un>0&&!o&&Lt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Lt.push(c),c}const Re=Sd;function Sd(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===sd)&&(e=kt),Ts(e)){const a=br(e,t,!0);return r&&Do(a,r),Un>0&&!i&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(e)]=a:Lt.push(a)),a.patchFlag|=-2,a}if(jd(e)&&(e=e.__vccOpts),t){t=Od(t);let{class:a,style:c}=t;a&&!Je(a)&&(t.class=Wt(a)),je(c)&&(Tl(c)&&!_e(c)&&(c=st({},c)),t.style=xo(c))}const o=Je(e)?1:Bh(e)?128:xd(e)?64:je(e)?4:xe(e)?2:0;return He(e,t,r,n,s,o,i,!0)}function Od(e){return e?Tl(e)||ti in e?st({},e):e:null}function br(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,a=t?Ad(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ou(a),ref:t&&t.ref?r&&s?_e(s)?s.concat(xs(t)):[s,xs(t)]:xs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&br(e.ssContent),ssFallback:e.ssFallback&&br(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function au(e=" ",t=0){return Re(Qn,null,e,t)}function Pd(e="",t=!1){return t?(mt(),Dn(kt,null,e)):Re(kt,null,e)}function qt(e){return e==null||typeof e=="boolean"?Re(kt):_e(e)?Re(wt,null,e.slice()):typeof e=="object"?hr(e):Re(Qn,null,String(e))}function hr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:br(e)}function Do(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(_e(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Do(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(ti in t)?t._ctx=rt:s===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[au(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ad(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Wt([t.class,n.class]));else if(s==="style")t.style=xo([t.style,n.style]);else if(zs(s)){const i=t[s],o=n[s];o&&i!==o&&!(_e(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Dt(e,t,r,n=null){Ct(e,t,7,[r,n])}const Cd=nu();let Id=0;function kd(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Cd,i={uid:Id++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new yl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zl(n,s),emitsOptions:Hl(n,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:n.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=jh.bind(null,i),e.ce&&e.ce(i),i}let Ve=null;const Zn=()=>Ve||rt,rn=e=>{Ve=e,e.scope.on()},Mr=()=>{Ve&&Ve.scope.off(),Ve=null};function cu(e){return e.vnode.shapeFlag&4}let Bn=!1;function Td(e,t=!1){Bn=t;const{props:r,children:n}=e.vnode,s=cu(e);hd(e,r,s,t),pd(e,n);const i=s?Nd(e,t):void 0;return Bn=!1,i}function Nd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Nl(new Proxy(e.ctx,od));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?Rd(e):null;rn(e),an();const i=pr(n,e,0,[e.props,s]);if(cn(),Mr(),pl(i)){if(i.then(Mr,Mr),t)return i.then(o=>{Ca(e,o,t)}).catch(o=>{Ys(o,e,0)});e.asyncDep=i}else Ca(e,i,t)}else lu(e,t)}function Ca(e,t,r){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:je(t)&&(e.setupState=Fl(t)),lu(e,r)}let Ia;function lu(e,t,r){const n=e.type;if(!e.render){if(!t&&Ia&&!n.render){const s=n.template||$o(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,l=st(st({isCustomElement:i,delimiters:a},o),c);n.render=Ia(s,l)}}e.render=n.render||Ft}rn(e),an(),ad(e),cn(),Mr()}function Md(e){return new Proxy(e.attrs,{get(t,r){return gt(e,"get","$attrs"),t[r]}})}function Rd(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Md(e))},slots:e.slots,emit:e.emit,expose:t}}function ri(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Fl(Nl(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Sn)return Sn[r](e)},has(t,r){return r in t||r in Sn}}))}function Ld(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function jd(e){return xe(e)&&"__vccOpts"in e}const qe=(e,t)=>kh(e,t,Bn);function ni(e,t,r){const n=arguments.length;return n===2?je(t)&&!_e(t)?Ts(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ts(r)&&(r=[r]),Re(e,t,r))}const Fd=Symbol(""),$d=()=>It(Fd),Ud="3.2.47",Dd="http://www.w3.org/2000/svg",Ir=typeof document<"u"?document:null,ka=Ir&&Ir.createElement("template"),Bd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?Ir.createElementNS(Dd,e):Ir.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Ir.createTextNode(e),createComment:e=>Ir.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ir.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{ka.innerHTML=n?`<svg>${e}</svg>`:e;const a=ka.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function qd(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Hd(e,t,r){const n=e.style,s=Je(r);if(r&&!s){if(t&&!Je(t))for(const i in t)r[i]==null&&Xi(n,i,"");for(const i in r)Xi(n,i,r[i])}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Ta=/\s*!important$/;function Xi(e,t,r){if(_e(r))r.forEach(n=>Xi(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=zd(e,t);Ta.test(r)?e.setProperty(jr(n),r.replace(Ta,""),"important"):e[n]=r}}const Na=["Webkit","Moz","ms"],Pi={};function zd(e,t){const r=Pi[t];if(r)return r;let n=Yt(t);if(n!=="filter"&&n in e)return Pi[t]=n;n=Gs(n);for(let s=0;s<Na.length;s++){const i=Na[s]+n;if(i in e)return Pi[t]=i}return t}const Ma="http://www.w3.org/1999/xlink";function Vd(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Ma,t.slice(6,t.length)):e.setAttributeNS(Ma,t,r);else{const i=Uf(t);r==null||i&&!dl(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function Wd(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=dl(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(t)}function uu(e,t,r,n){e.addEventListener(t,r,n)}function Gd(e,t,r,n){e.removeEventListener(t,r,n)}function Kd(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,c]=Yd(t);if(n){const l=i[t]=Qd(n,s);uu(e,a,l,c)}else o&&(Gd(e,a,o,c),i[t]=void 0)}}const Ra=/(?:Once|Passive|Capture)$/;function Yd(e){let t;if(Ra.test(e)){t={};let n;for(;n=e.match(Ra);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jr(e.slice(2)),t]}let Ai=0;const Jd=Promise.resolve(),Xd=()=>Ai||(Jd.then(()=>Ai=0),Ai=Date.now());function Qd(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ct(Zd(n,r.value),t,5,[n])};return r.value=e,r.attached=Xd(),r}function Zd(e,t){if(_e(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const La=/^on[a-z]/,em=(e,t,r,n,s=!1,i,o,a,c)=>{t==="class"?qd(e,n,s):t==="style"?Hd(e,r,n):zs(t)?Eo(t)||Kd(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tm(e,t,n,s))?Wd(e,t,n,i,o,a,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Vd(e,t,n,s))};function tm(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&La.test(t)&&xe(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||La.test(t)&&Je(r)?!1:t in e}const rm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Gh.props;const ja=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?r=>ws(t,r):t},fy={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const s=Vs(t);uu(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?bl(Ns(o)):Ns(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=ja(n)},mounted(e,{value:t}){Fa(e,t)},beforeUpdate(e,t,r){e._assign=ja(r)},updated(e,{value:t}){Fa(e,t)}};function Fa(e,t){const r=e.multiple;if(!(r&&!_e(t)&&!Vs(t))){for(let n=0,s=e.options.length;n<s;n++){const i=e.options[n],o=Ns(i);if(r)_e(t)?i.selected=Bf(t,o)>-1:i.selected=t.has(o);else if(Hs(Ns(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ns(e){return"_value"in e?e._value:e.value}const nm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hy=(e,t)=>r=>{if(!("key"in r))return;const n=jr(r.key);if(t.some(s=>s===n||nm[s]===n))return e(r)},dy={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):_n(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),_n(e,!0),n.enter(e)):n.leave(e,()=>{_n(e,!1)}):_n(e,t))},beforeUnmount(e,{value:t}){_n(e,t)}};function _n(e,t){e.style.display=t?e._vod:"none"}const sm=st({patchProp:em},Bd);let $a;function im(){return $a||($a=yd(sm))}const om=(...e)=>{const t=im().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=am(n);if(!s)return;const i=t._component;!xe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function am(e){return Je(e)?document.querySelector(e):e}/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Qi=typeof window<"u",cm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",yr=e=>cm?Symbol(e):e,lm=(e,t,r)=>um({l:e,k:t,s:r}),um=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Qe=e=>typeof e=="number"&&isFinite(e),fm=e=>Ho(e)==="[object Date]",Ms=e=>Ho(e)==="[object RegExp]",si=e=>Ie(e)&&Object.keys(e).length===0;function hm(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const lt=Object.assign;let Ua;const Bo=()=>Ua||(Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Da(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const dm=Object.prototype.hasOwnProperty;function qo(e,t){return dm.call(e,t)}const Ke=Array.isArray,tt=e=>typeof e=="function",oe=e=>typeof e=="string",ze=e=>typeof e=="boolean",Le=e=>e!==null&&typeof e=="object",fu=Object.prototype.toString,Ho=e=>fu.call(e),Ie=e=>Ho(e)==="[object Object]",mm=e=>e==null?"":Ke(e)||Ie(e)&&e.toString===fu?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const hu={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function du(e,t,r={}){const{domain:n,messages:s,args:i}=r,o=e,a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=n,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const mu={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const wr=[];wr[0]={w:[0],i:[3,0],["["]:[4],o:[7]};wr[1]={w:[1],["."]:[2],["["]:[4],o:[7]};wr[2]={w:[2],i:[3,0],[0]:[3,0]};wr[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};wr[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};wr[5]={["'"]:[4,0],o:8,l:[5,0]};wr[6]={['"']:[4,0],o:8,l:[6,0]};const pm=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gm(e){return pm.test(e)}function _m(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function bm(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ym(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:gm(t)?_m(t):"*"+t}function wm(e){const t=[];let r=-1,n=0,s=0,i,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,n=4,d[0]();else{if(s=0,o===void 0||(o=ym(o),o===!1))return!1;d[1]()}};function b(){const x=e[r+1];if(n===5&&x==="'"||n===6&&x==='"')return r++,a="\\"+x,d[0](),!0}for(;n!==null;)if(r++,i=e[r],!(i==="\\"&&b())){if(c=bm(i),f=wr[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=i,u()===!1))))return;if(n===7)return t}}const Ba=new Map;function vm(e,t){return Le(e)?e[t]:null}function xm(e,t){if(!Le(e))return null;let r=Ba.get(t);if(r||(r=wm(t),r&&Ba.set(t,r)),!r)return null;const n=r.length;let s=e,i=0;for(;i<n;){const o=s[r[i]];if(o===void 0)return null;s=o,i++}return s}const Em=e=>e,Sm=e=>"",Om="text",Pm=e=>e.length===0?"":e.join(""),Am=mm;function qa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Cm(e){const t=Qe(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Qe(e.named.count)||Qe(e.named.n))?Qe(e.named.count)?e.named.count:Qe(e.named.n)?e.named.n:t:t}function Im(e,t){t.count||(t.count=e),t.n||(t.n=e)}function km(e={}){const t=e.locale,r=Cm(e),n=Le(e.pluralRules)&&oe(t)&&tt(e.pluralRules[t])?e.pluralRules[t]:qa,s=Le(e.pluralRules)&&oe(t)&&tt(e.pluralRules[t])?qa:void 0,i=k=>k[n(r,k.length,s)],o=e.list||[],a=k=>o[k],c=e.named||{};Qe(e.pluralIndex)&&Im(r,c);const l=k=>c[k];function u(k){const j=tt(e.messages)?e.messages(k):Le(e.messages)?e.messages[k]:!1;return j||(e.parent?e.parent.message(k):Sm)}const f=k=>e.modifiers?e.modifiers[k]:Em,d=Ie(e.processor)&&tt(e.processor.normalize)?e.processor.normalize:Pm,b=Ie(e.processor)&&tt(e.processor.interpolate)?e.processor.interpolate:Am,x=Ie(e.processor)&&oe(e.processor.type)?e.processor.type:Om,q={list:a,named:l,plural:i,linked:(k,...j)=>{const[H,z]=j;let D="text",fe="";j.length===1?Le(H)?(fe=H.modifier||fe,D=H.type||D):oe(H)&&(fe=H||fe):j.length===2&&(oe(H)&&(fe=H||fe),oe(z)&&(D=z||D));let me=u(k)(q);return D==="vnode"&&Ke(me)&&fe&&(me=me[0]),fe?f(fe)(me,D):me},message:u,type:x,interpolate:b,normalize:d};return q}let qn=null;function Tm(e){qn=e}function Nm(e,t,r){qn&&qn.emit(mu.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Mm=Rm(mu.FunctionTranslate);function Rm(e){return t=>qn&&qn.emit(e,t)}function Lm(e,t,r){return[...new Set([r,...Ke(t)?t:Le(t)?Object.keys(t):oe(t)?[t]:[r]])]}function pu(e,t,r){const n=oe(r)?r:zo,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(n);if(!i){i=[];let o=[r];for(;Ke(o);)o=Ha(i,o,t);const a=Ke(t)||!Ie(t)?t:t.default?t.default:null;o=oe(a)?[a]:a,Ke(o)&&Ha(i,o,!1),s.__localeChainCache.set(n,i)}return i}function Ha(e,t,r){let n=!0;for(let s=0;s<t.length&&ze(n);s++){const i=t[s];oe(i)&&(n=jm(e,t[s],r))}return n}function jm(e,t,r){let n;const s=t.split("-");do{const i=s.join("-");n=Fm(e,i,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function Fm(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Ke(r)||Ie(r))&&r[s]&&(n=r[s])}return n}const $m="9.2.2",ii=-1,zo="en-US",za="",Va=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Um(){return{upper:(e,t)=>t==="text"&&oe(e)?e.toUpperCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&oe(e)?e.toLowerCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&oe(e)?Va(e):t==="vnode"&&Le(e)&&"__v_isVNode"in e?Va(e.children):e}}let Dm,gu;function Bm(e){gu=e}let _u;function qm(e){_u=e}let bu=null;const Wa=e=>{bu=e},Hm=()=>bu;let yu=null;const Ga=e=>{yu=e},zm=()=>yu;let Ka=0;function Vm(e={}){const t=oe(e.version)?e.version:$m,r=oe(e.locale)?e.locale:zo,n=Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||oe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,s=Ie(e.messages)?e.messages:{[r]:{}},i=Ie(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},o=Ie(e.numberFormats)?e.numberFormats:{[r]:{}},a=lt({},e.modifiers||{},Um()),c=e.pluralRules||{},l=tt(e.missing)?e.missing:null,u=ze(e.missingWarn)||Ms(e.missingWarn)?e.missingWarn:!0,f=ze(e.fallbackWarn)||Ms(e.fallbackWarn)?e.fallbackWarn:!0,d=!!e.fallbackFormat,b=!!e.unresolving,x=tt(e.postTranslation)?e.postTranslation:null,I=Ie(e.processor)?e.processor:null,q=ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,k=!!e.escapeParameter,j=tt(e.messageCompiler)?e.messageCompiler:Dm,H=tt(e.messageResolver)?e.messageResolver:gu||vm,z=tt(e.localeFallbacker)?e.localeFallbacker:_u||Lm,D=Le(e.fallbackContext)?e.fallbackContext:void 0,fe=tt(e.onWarn)?e.onWarn:hm,me=e,Y=Le(me.__datetimeFormatters)?me.__datetimeFormatters:new Map,ue=Le(me.__numberFormatters)?me.__numberFormatters:new Map,pe=Le(me.__meta)?me.__meta:{};Ka++;const Ee={version:t,cid:Ka,locale:r,fallbackLocale:n,messages:s,modifiers:a,pluralRules:c,missing:l,missingWarn:u,fallbackWarn:f,fallbackFormat:d,unresolving:b,postTranslation:x,processor:I,warnHtmlMessage:q,escapeParameter:k,messageCompiler:j,messageResolver:H,localeFallbacker:z,fallbackContext:D,onWarn:fe,__meta:pe};return Ee.datetimeFormats=i,Ee.numberFormats=o,Ee.__datetimeFormatters=Y,Ee.__numberFormatters=ue,__INTLIFY_PROD_DEVTOOLS__&&Nm(Ee,t,pe),Ee}function Vo(e,t,r,n,s){const{missing:i,onWarn:o}=e;if(i!==null){const a=i(e,r,t,s);return oe(a)?a:t}else return t}function bn(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}let wu=hu.__EXTEND_POINT__;const Ci=()=>++wu,zr={INVALID_ARGUMENT:wu,INVALID_DATE_ARGUMENT:Ci(),INVALID_ISO_DATE_ARGUMENT:Ci(),__EXTEND_POINT__:Ci()};function Vr(e){return du(e,null,void 0)}const Ya=()=>"",Ht=e=>tt(e);function Ja(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=e,[c,l]=Zi(...t),u=ze(l.missingWarn)?l.missingWarn:e.missingWarn,f=ze(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=ze(l.escapeParameter)?l.escapeParameter:e.escapeParameter,b=!!l.resolvedMessage,x=oe(l.default)||ze(l.default)?ze(l.default)?i?c:()=>c:l.default:r?i?c:()=>c:"",I=r||x!=="",q=oe(l.locale)?l.locale:e.locale;d&&Wm(l);let[k,j,H]=b?[c,q,a[q]||{}]:vu(e,c,q,o,f,u),z=k,D=c;if(!b&&!(oe(z)||Ht(z))&&I&&(z=x,D=z),!b&&(!(oe(z)||Ht(z))||!oe(j)))return s?ii:c;let fe=!1;const me=()=>{fe=!0},Y=Ht(z)?z:xu(e,c,j,z,D,me);if(fe)return z;const ue=Ym(e,j,H,l),pe=km(ue),Ee=Gm(e,Y,pe),Te=n?n(Ee,c):Ee;if(__INTLIFY_PROD_DEVTOOLS__){const De={timestamp:Date.now(),key:oe(c)?c:Ht(z)?z.key:"",locale:j||(Ht(z)?z.locale:""),format:oe(z)?z:Ht(z)?z.source:"",message:Te};De.meta=lt({},e.__meta,Hm()||{}),Mm(De)}return Te}function Wm(e){Ke(e.list)?e.list=e.list.map(t=>oe(t)?Da(t):t):Le(e.named)&&Object.keys(e.named).forEach(t=>{oe(e.named[t])&&(e.named[t]=Da(e.named[t]))})}function vu(e,t,r,n,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=e,u=l(e,n,r);let f={},d,b=null;const x="translate";for(let I=0;I<u.length&&(d=u[I],f=o[d]||{},(b=c(f,t))===null&&(b=f[t]),!(oe(b)||tt(b)));I++){const q=Vo(e,t,d,i,x);q!==t&&(b=q)}return[b,d,f]}function xu(e,t,r,n,s,i){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Ht(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||t,l}if(o==null){const l=()=>n;return l.locale=r,l.key=t,l}const c=o(n,Km(e,r,s,n,a,i));return c.locale=r,c.key=t,c.source=n,c}function Gm(e,t,r){return t(r)}function Zi(...e){const[t,r,n]=e,s={};if(!oe(t)&&!Qe(t)&&!Ht(t))throw Vr(zr.INVALID_ARGUMENT);const i=Qe(t)?String(t):(Ht(t),t);return Qe(r)?s.plural=r:oe(r)?s.default=r:Ie(r)&&!si(r)?s.named=r:Ke(r)&&(s.list=r),Qe(n)?s.plural=n:oe(n)?s.default=n:Ie(n)&&lt(s,n),[i,s]}function Km(e,t,r,n,s,i){return{warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>lm(t,r,o)}}function Ym(e,t,r,n){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=e,d={locale:t,modifiers:s,pluralRules:i,messages:b=>{let x=o(r,b);if(x==null&&u){const[,,I]=vu(u,b,t,a,c,l);x=o(I,b)}if(oe(x)){let I=!1;const k=xu(e,b,t,x,b,()=>{I=!0});return I?Ya:k}else return Ht(x)?x:Ya}};return e.processor&&(d.processor=e.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),Qe(n.plural)&&(d.pluralIndex=n.plural),d}function Xa(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[c,l,u,f]=eo(...t),d=ze(u.missingWarn)?u.missingWarn:e.missingWarn;ze(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const b=!!u.part,x=oe(u.locale)?u.locale:e.locale,I=o(e,s,x);if(!oe(c)||c==="")return new Intl.DateTimeFormat(x,f).format(l);let q={},k,j=null;const H="datetime format";for(let fe=0;fe<I.length&&(k=I[fe],q=r[k]||{},j=q[c],!Ie(j));fe++)Vo(e,c,k,d,H);if(!Ie(j)||!oe(k))return n?ii:c;let z=`${k}__${c}`;si(f)||(z=`${z}__${JSON.stringify(f)}`);let D=a.get(z);return D||(D=new Intl.DateTimeFormat(k,lt({},j,f)),a.set(z,D)),b?D.formatToParts(l):D.format(l)}const Eu=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function eo(...e){const[t,r,n,s]=e,i={};let o={},a;if(oe(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Vr(zr.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Vr(zr.INVALID_ISO_DATE_ARGUMENT)}}else if(fm(t)){if(isNaN(t.getTime()))throw Vr(zr.INVALID_DATE_ARGUMENT);a=t}else if(Qe(t))a=t;else throw Vr(zr.INVALID_ARGUMENT);return oe(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{Eu.includes(c)?o[c]=r[c]:i[c]=r[c]}),oe(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function Qa(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function Za(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:a}=e,[c,l,u,f]=to(...t),d=ze(u.missingWarn)?u.missingWarn:e.missingWarn;ze(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const b=!!u.part,x=oe(u.locale)?u.locale:e.locale,I=o(e,s,x);if(!oe(c)||c==="")return new Intl.NumberFormat(x,f).format(l);let q={},k,j=null;const H="number format";for(let fe=0;fe<I.length&&(k=I[fe],q=r[k]||{},j=q[c],!Ie(j));fe++)Vo(e,c,k,d,H);if(!Ie(j)||!oe(k))return n?ii:c;let z=`${k}__${c}`;si(f)||(z=`${z}__${JSON.stringify(f)}`);let D=a.get(z);return D||(D=new Intl.NumberFormat(k,lt({},j,f)),a.set(z,D)),b?D.formatToParts(l):D.format(l)}const Su=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function to(...e){const[t,r,n,s]=e,i={};let o={};if(!Qe(t))throw Vr(zr.INVALID_ARGUMENT);const a=t;return oe(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{Su.includes(c)?o[c]=r[c]:i[c]=r[c]}),oe(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function ec(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bo().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Jm="9.2.2";function Xm(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bo().__INTLIFY_PROD_DEVTOOLS__=!1)}let Ou=hu.__EXTEND_POINT__;const ft=()=>++Ou,St={UNEXPECTED_RETURN_TYPE:Ou,INVALID_ARGUMENT:ft(),MUST_BE_CALL_SETUP_TOP:ft(),NOT_INSLALLED:ft(),NOT_AVAILABLE_IN_LEGACY_MODE:ft(),REQUIRED_VALUE:ft(),INVALID_VALUE:ft(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ft(),NOT_INSLALLED_WITH_PROVIDE:ft(),UNEXPECTED_ERROR:ft(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ft(),BRIDGE_SUPPORT_VUE_2_ONLY:ft(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ft(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ft(),__EXTEND_POINT__:ft()};function Tt(e,...t){return du(e,null,void 0)}const ro=yr("__transrateVNode"),no=yr("__datetimeParts"),so=yr("__numberParts"),Qm=yr("__setPluralRules");yr("__intlifyMeta");const Zm=yr("__injectWithOption");function io(e){if(!Le(e))return e;for(const t in e)if(qo(e,t))if(!t.includes("."))Le(e[t])&&io(e[t]);else{const r=t.split("."),n=r.length-1;let s=e;for(let i=0;i<n;i++)r[i]in s||(s[r[i]]={}),s=s[r[i]];s[r[n]]=e[t],delete e[t],Le(s[r[n]])&&io(s[r[n]])}return e}function Pu(e,t){const{messages:r,__i18n:n,messageResolver:s,flatJson:i}=t,o=Ie(r)?r:Ke(n)?{}:{[e]:{}};if(Ke(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},Pn(l,o[c])):Pn(l,o)}else oe(a)&&Pn(JSON.parse(a),o)}),s==null&&i)for(const a in o)qo(o,a)&&io(o[a]);return o}const ds=e=>!Le(e)||Ke(e);function Pn(e,t){if(ds(e)||ds(t))throw Tt(St.INVALID_VALUE);for(const r in e)qo(e,r)&&(ds(e[r])||ds(t[r])?t[r]=e[r]:Pn(e[r],t[r]))}function Au(e){return e.type}function ep(e,t,r){let n=Le(t.messages)?t.messages:{};"__i18nGlobal"in r&&(n=Pu(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(i=>{e.mergeLocaleMessage(i,n[i])});{if(Le(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(Le(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function tc(e){return Re(Qn,null,e,0)}const rc="__INTLIFY_META__";let nc=0;function sc(e){return(t,r,n,s)=>e(r,n,Zn()||void 0,s)}const tp=()=>{const e=Zn();let t=null;return e&&(t=Au(e)[rc])?{[rc]:t}:null};function Cu(e={},t){const{__root:r}=e,n=r===void 0;let s=ze(e.inheritLocale)?e.inheritLocale:!0;const i=Ge(r&&s?r.locale.value:oe(e.locale)?e.locale:zo),o=Ge(r&&s?r.fallbackLocale.value:oe(e.fallbackLocale)||Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),a=Ge(Pu(i.value,e)),c=Ge(Ie(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),l=Ge(Ie(e.numberFormats)?e.numberFormats:{[i.value]:{}});let u=r?r.missingWarn:ze(e.missingWarn)||Ms(e.missingWarn)?e.missingWarn:!0,f=r?r.fallbackWarn:ze(e.fallbackWarn)||Ms(e.fallbackWarn)?e.fallbackWarn:!0,d=r?r.fallbackRoot:ze(e.fallbackRoot)?e.fallbackRoot:!0,b=!!e.fallbackFormat,x=tt(e.missing)?e.missing:null,I=tt(e.missing)?sc(e.missing):null,q=tt(e.postTranslation)?e.postTranslation:null,k=r?r.warnHtmlMessage:ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,j=!!e.escapeParameter;const H=r?r.modifiers:Ie(e.modifiers)?e.modifiers:{};let z=e.pluralRules||r&&r.pluralRules,D;D=(()=>{n&&Ga(null);const S={version:Jm,locale:i.value,fallbackLocale:o.value,messages:a.value,modifiers:H,pluralRules:z,missing:I===null?void 0:I,missingWarn:u,fallbackWarn:f,fallbackFormat:b,unresolving:!0,postTranslation:q===null?void 0:q,warnHtmlMessage:k,escapeParameter:j,messageResolver:e.messageResolver,__meta:{framework:"vue"}};S.datetimeFormats=c.value,S.numberFormats=l.value,S.__datetimeFormatters=Ie(D)?D.__datetimeFormatters:void 0,S.__numberFormatters=Ie(D)?D.__numberFormatters:void 0;const O=Vm(S);return n&&Ga(O),O})(),bn(D,i.value,o.value);function me(){return[i.value,o.value,a.value,c.value,l.value]}const Y=qe({get:()=>i.value,set:S=>{i.value=S,D.locale=i.value}}),ue=qe({get:()=>o.value,set:S=>{o.value=S,D.fallbackLocale=o.value,bn(D,i.value,S)}}),pe=qe(()=>a.value),Ee=qe(()=>c.value),Te=qe(()=>l.value);function De(){return tt(q)?q:null}function T(S){q=S,D.postTranslation=S}function A(){return x}function le(S){S!==null&&(I=sc(S)),x=S,D.missing=I}const ne=(S,O,J,se,ve,Ae)=>{me();let Se;if(__INTLIFY_PROD_DEVTOOLS__)try{Wa(tp()),n||(D.fallbackContext=r?zm():void 0),Se=S(D)}finally{Wa(null),n||(D.fallbackContext=void 0)}else Se=S(D);if(Qe(Se)&&Se===ii){const[Ue,ut]=O();return r&&d?se(r):ve(Ue)}else{if(Ae(Se))return Se;throw Tt(St.UNEXPECTED_RETURN_TYPE)}};function ae(...S){return ne(O=>Reflect.apply(Ja,null,[O,...S]),()=>Zi(...S),"translate",O=>Reflect.apply(O.t,O,[...S]),O=>O,O=>oe(O))}function ye(...S){const[O,J,se]=S;if(se&&!Le(se))throw Tt(St.INVALID_ARGUMENT);return ae(O,J,lt({resolvedMessage:!0},se||{}))}function he(...S){return ne(O=>Reflect.apply(Xa,null,[O,...S]),()=>eo(...S),"datetime format",O=>Reflect.apply(O.d,O,[...S]),()=>za,O=>oe(O))}function de(...S){return ne(O=>Reflect.apply(Za,null,[O,...S]),()=>to(...S),"number format",O=>Reflect.apply(O.n,O,[...S]),()=>za,O=>oe(O))}function be(S){return S.map(O=>oe(O)||Qe(O)||ze(O)?tc(String(O)):O)}const Pe={normalize:be,interpolate:S=>S,type:"vnode"};function N(...S){return ne(O=>{let J;const se=O;try{se.processor=Pe,J=Reflect.apply(Ja,null,[se,...S])}finally{se.processor=null}return J},()=>Zi(...S),"translate",O=>O[ro](...S),O=>[tc(O)],O=>Ke(O))}function G(...S){return ne(O=>Reflect.apply(Za,null,[O,...S]),()=>to(...S),"number format",O=>O[so](...S),()=>[],O=>oe(O)||Ke(O))}function $(...S){return ne(O=>Reflect.apply(Xa,null,[O,...S]),()=>eo(...S),"datetime format",O=>O[no](...S),()=>[],O=>oe(O)||Ke(O))}function re(S){z=S,D.pluralRules=z}function te(S,O){const J=oe(O)?O:i.value,se=_(J);return D.messageResolver(se,S)!==null}function we(S){let O=null;const J=pu(D,o.value,i.value);for(let se=0;se<J.length;se++){const ve=a.value[J[se]]||{},Ae=D.messageResolver(ve,S);if(Ae!=null){O=Ae;break}}return O}function ge(S){const O=we(S);return O??(r?r.tm(S)||{}:{})}function _(S){return a.value[S]||{}}function w(S,O){a.value[S]=O,D.messages=a.value}function C(S,O){a.value[S]=a.value[S]||{},Pn(O,a.value[S]),D.messages=a.value}function M(S){return c.value[S]||{}}function U(S,O){c.value[S]=O,D.datetimeFormats=c.value,Qa(D,S,O)}function W(S,O){c.value[S]=lt(c.value[S]||{},O),D.datetimeFormats=c.value,Qa(D,S,O)}function Q(S){return l.value[S]||{}}function V(S,O){l.value[S]=O,D.numberFormats=l.value,ec(D,S,O)}function K(S,O){l.value[S]=lt(l.value[S]||{},O),D.numberFormats=l.value,ec(D,S,O)}nc++,r&&Qi&&(ct(r.locale,S=>{s&&(i.value=S,D.locale=S,bn(D,i.value,o.value))}),ct(r.fallbackLocale,S=>{s&&(o.value=S,D.fallbackLocale=S,bn(D,i.value,o.value))}));const R={id:nc,locale:Y,fallbackLocale:ue,get inheritLocale(){return s},set inheritLocale(S){s=S,S&&r&&(i.value=r.locale.value,o.value=r.fallbackLocale.value,bn(D,i.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:pe,get modifiers(){return H},get pluralRules(){return z||{}},get isGlobal(){return n},get missingWarn(){return u},set missingWarn(S){u=S,D.missingWarn=u},get fallbackWarn(){return f},set fallbackWarn(S){f=S,D.fallbackWarn=f},get fallbackRoot(){return d},set fallbackRoot(S){d=S},get fallbackFormat(){return b},set fallbackFormat(S){b=S,D.fallbackFormat=b},get warnHtmlMessage(){return k},set warnHtmlMessage(S){k=S,D.warnHtmlMessage=S},get escapeParameter(){return j},set escapeParameter(S){j=S,D.escapeParameter=S},t:ae,getLocaleMessage:_,setLocaleMessage:w,mergeLocaleMessage:C,getPostTranslationHandler:De,setPostTranslationHandler:T,getMissingHandler:A,setMissingHandler:le,[Qm]:re};return R.datetimeFormats=Ee,R.numberFormats=Te,R.rt=ye,R.te=te,R.tm=ge,R.d=he,R.n=de,R.getDateTimeFormat=M,R.setDateTimeFormat=U,R.mergeDateTimeFormat=W,R.getNumberFormat=Q,R.setNumberFormat=V,R.mergeNumberFormat=K,R[Zm]=e.__injectWithOption,R[ro]=N,R[no]=$,R[so]=G,R}const Wo={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function rp({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,s)=>n=[...n,...Ke(s.children)?s.children:[s]],[]):t.reduce((r,n)=>{const s=e[n];return s&&(r[n]=s()),r},{})}function Iu(e){return wt}const ic={name:"i18n-t",props:lt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Qe(e)||!isNaN(e)}},Wo),setup(e,t){const{slots:r,attrs:n}=t,s=e.i18n||un({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter(f=>f!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=oe(e.plural)?+e.plural:e.plural);const a=rp(t,i),c=s[ro](e.keypath,a,o),l=lt({},n),u=oe(e.tag)||Le(e.tag)?e.tag:Iu();return ni(u,l,c)}}};function np(e){return Ke(e)&&!oe(e[0])}function ku(e,t,r,n){const{slots:s,attrs:i}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),oe(e.format)?o.key=e.format:Le(e.format)&&(oe(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((d,b)=>r.includes(b)?lt({},d,{[b]:e.format[b]}):d,{}));const c=n(e.value,o,a);let l=[o.key];Ke(c)?l=c.map((d,b)=>{const x=s[d.type],I=x?x({[d.type]:d.value,index:b,parts:c}):[d.value];return np(I)&&(I[0].key=`${d.type}-${b}`),I}):oe(c)&&(l=[c]);const u=lt({},i),f=oe(e.tag)||Le(e.tag)?e.tag:Iu();return ni(f,u,l)}}const oc={name:"i18n-n",props:lt({value:{type:Number,required:!0},format:{type:[String,Object]}},Wo),setup(e,t){const r=e.i18n||un({useScope:"parent",__useComponent:!0});return ku(e,t,Su,(...n)=>r[so](...n))}},ac={name:"i18n-d",props:lt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Wo),setup(e,t){const r=e.i18n||un({useScope:"parent",__useComponent:!0});return ku(e,t,Eu,(...n)=>r[no](...n))}};function sp(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function ip(e){const t=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Tt(St.UNEXPECTED_ERROR);const u=sp(e,a.$),f=cc(l);return[Reflect.apply(u.t,u,[...lc(f)]),u]};return{created:(o,a)=>{const[c,l]=t(a);Qi&&e.global===l&&(o.__i18nWatcher=ct(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{Qi&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=cc(a);o.textContent=Reflect.apply(c.t,c,[...lc(l)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function cc(e){if(oe(e))return{path:e};if(Ie(e)){if(!("path"in e))throw Tt(St.REQUIRED_VALUE,"path");return e}else throw Tt(St.INVALID_VALUE)}function lc(e){const{path:t,locale:r,args:n,choice:s,plural:i}=e,o={},a=n||{};return oe(r)&&(o.locale=r),Qe(s)&&(o.plural=s),Qe(i)&&(o.plural=i),[t,a,o]}function op(e,t,...r){const n=Ie(r[0])?r[0]:{},s=!!n.useI18nComponentName;(ze(n.globalInstall)?n.globalInstall:!0)&&(e.component(s?"i18n":ic.name,ic),e.component(oc.name,oc),e.component(ac.name,ac)),e.directive("t",ip(t))}const ap=yr("global-vue-i18n");function cp(e={},t){const r=ze(e.globalInjection)?e.globalInjection:!0,n=!0,s=new Map,[i,o]=lp(e),a=yr("");function c(f){return s.get(f)||null}function l(f,d){s.set(f,d)}function u(f){s.delete(f)}{const f={get mode(){return"composition"},get allowComposition(){return n},async install(d,...b){d.__VUE_I18N_SYMBOL__=a,d.provide(d.__VUE_I18N_SYMBOL__,f),r&&_p(d,f.global),op(d,f,...b);const x=d.unmount;d.unmount=()=>{f.dispose(),x()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return f}}function un(e={}){const t=Zn();if(t==null)throw Tt(St.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Tt(St.NOT_INSLALLED);const r=up(t),n=hp(r),s=Au(t),i=fp(e,s);if(i==="global")return ep(n,e,s),n;if(i==="parent"){let c=dp(r,t,e.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(t);if(a==null){const c=lt({},e);"__i18n"in s&&(c.__i18n=s.__i18n),n&&(c.__root=n),a=Cu(c),mp(o,t),o.__setInstance(t,a)}return a}function lp(e,t,r){const n=Yf();{const s=n.run(()=>Cu(e));if(s==null)throw Tt(St.UNEXPECTED_ERROR);return[n,s]}}function up(e){{const t=It(e.isCE?ap:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Tt(e.isCE?St.NOT_INSLALLED_WITH_PROVIDE:St.UNEXPECTED_ERROR);return t}}function fp(e,t){return si(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function hp(e){return e.mode==="composition"?e.global:e.global.__composer}function dp(e,t,r=!1){let n=null;const s=t.root;let i=t.parent;for(;i!=null;){const o=e;if(e.mode==="composition"&&(n=o.__getInstance(i)),n!=null||s===i)break;i=i.parent}return n}function mp(e,t,r){Xn(()=>{},t),Fo(()=>{e.__deleteInstance(t)},t)}const pp=["locale","fallbackLocale","availableLocales"],gp=["t","rt","d","n","tm"];function _p(e,t){const r=Object.create(null);pp.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw Tt(St.UNEXPECTED_ERROR);const i=Ze(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,i)}),e.config.globalProperties.$i18n=r,gp.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw Tt(St.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)})}Bm(xm);qm(pu);Xm();if(__INTLIFY_PROD_DEVTOOLS__){const e=Bo();e.__INTLIFY__=!0,Tm(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const bp={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},yp=He("path",{fill:"currentColor",d:"M19.14 12.94c.04-.3.06-.61.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6s-1.62 3.6-3.6 3.6z"},null,-1),wp=[yp];function vp(e,t){return mt(),or("svg",bp,wp)}const xp={name:"ic-baseline-settings",render:vp},Ep={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Sp=He("path",{fill:"currentColor",d:"m234 115.5l-45.2 37.6l14.3 58.1a16.5 16.5 0 0 1-15.8 20.8a16.1 16.1 0 0 1-8.7-2.6l-50.5-31.9h-.2L81 227.2a18 18 0 0 1-20.1-.6a18.5 18.5 0 0 1-7-19.6l13.5-53.1L22 115.5a16.8 16.8 0 0 1-5.2-18.1A16.5 16.5 0 0 1 31.4 86l59-3.8l22.4-55.8A16.4 16.4 0 0 1 128 16a16.4 16.4 0 0 1 15.2 10.4l22 55.5l59.4 4.1a16.4 16.4 0 0 1 14.6 11.4a16.8 16.8 0 0 1-5.2 18.1Z"},null,-1),Op=[Sp];function Pp(e,t){return mt(),or("svg",Ep,Op)}const Ap={name:"ph-star-fill",render:Pp},Cp={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ip=He("path",{fill:"currentColor",d:"m16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13Zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4Z"},null,-1),kp=He("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),Tp=He("path",{fill:"currentColor",d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2Z"},null,-1),Np=[Ip,kp,Tp];function Mp(e,t){return mt(),or("svg",Cp,Np)}const Rp={name:"carbon-map",render:Mp},Lp={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},jp=He("path",{fill:"currentColor",d:"m232.5 215.5l-40.7-40.7A94.9 94.9 0 0 0 212 116a96 96 0 1 0-96 96a94.9 94.9 0 0 0 58.8-20.2l40.7 40.7a12.1 12.1 0 0 0 17 0a12 12 0 0 0 0-17ZM44 116a72 72 0 1 1 72 72a72.1 72.1 0 0 1-72-72Z"},null,-1),Fp=[jp];function $p(e,t){return mt(),or("svg",Lp,Fp)}const Up={name:"ph-magnifying-glass-bold",render:$p};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Hr=typeof window<"u";function Dp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Ii(e,t){const r={};for(const n in t){const s=t[n];r[n]=$t(s)?s.map(e):e(s)}return r}const An=()=>{},$t=Array.isArray,Bp=/\/$/,qp=e=>e.replace(Bp,"");function ki(e,t,r="/"){let n,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=Wp(n??t,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:o}}function Hp(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function uc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zp(e,t,r){const n=t.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&nn(t.matched[n],r.matched[s])&&Tu(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function nn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Vp(e[r],t[r]))return!1;return!0}function Vp(e,t){return $t(e)?fc(e,t):$t(t)?fc(t,e):e===t}function fc(e,t){return $t(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Wp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let s=r.length-1,i,o;for(i=0;i<n.length;i++)if(o=n[i],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var Hn;(function(e){e.pop="pop",e.push="push"})(Hn||(Hn={}));var Cn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Cn||(Cn={}));function Gp(e){if(!e)if(Hr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qp(e)}const Kp=/^[^#]+#/;function Yp(e,t){return e.replace(Kp,"#")+t}function Jp(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const oi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Xp(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=Jp(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function hc(e,t){return(history.state?history.state.position-t:-1)+e}const oo=new Map;function Qp(e,t){oo.set(e,t)}function Zp(e){const t=oo.get(e);return oo.delete(e),t}let eg=()=>location.protocol+"//"+location.host;function Nu(e,t){const{pathname:r,search:n,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),uc(c,"")}return uc(r,e)+n+s}function tg(e,t,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const b=Nu(e,location),x=r.value,I=t.value;let q=0;if(d){if(r.value=b,t.value=d,o&&o===x){o=null;return}q=I?d.position-I.position:0}else n(b);s.forEach(k=>{k(r.value,x,{delta:q,type:Hn.pop,direction:q?q>0?Cn.forward:Cn.back:Cn.unknown})})};function c(){o=r.value}function l(d){s.push(d);const b=()=>{const x=s.indexOf(d);x>-1&&s.splice(x,1)};return i.push(b),b}function u(){const{history:d}=window;d.state&&d.replaceState(Ne({},d.state,{scroll:oi()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:f}}function dc(e,t,r,n=!1,s=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:s?oi():null}}function rg(e){const{history:t,location:r}=window,n={value:Nu(e,r)},s={value:t.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+c:eg()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(b){console.error(b),r[u?"replace":"assign"](d)}}function o(c,l){const u=Ne({},t.state,dc(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),n.value=c}function a(c,l){const u=Ne({},s.value,t.state,{forward:c,scroll:oi()});i(u.current,u,!0);const f=Ne({},dc(n.value,c,null),{position:u.position+1},l);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function ng(e){e=Gp(e);const t=rg(e),r=tg(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=Ne({location:"",base:e,go:n,createHref:Yp.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function sg(e){return typeof e=="string"||e&&typeof e=="object"}function Mu(e){return typeof e=="string"||typeof e=="symbol"}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ru=Symbol("");var mc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(mc||(mc={}));function sn(e,t){return Ne(new Error,{type:e,[Ru]:!0},t)}function Qt(e,t){return e instanceof Error&&Ru in e&&(t==null||!!(e.type&t))}const pc="[^/]+?",ig={sensitive:!1,strict:!1,start:!0,end:!0},og=/[.+*?^${}()[\]/\\]/g;function ag(e,t){const r=Ne({},ig,t),n=[];let s=r.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];r.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let b=40+(r.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(og,"\\$&"),b+=40;else if(d.type===1){const{value:x,repeatable:I,optional:q,regexp:k}=d;i.push({name:x,repeatable:I,optional:q});const j=k||pc;if(j!==pc){b+=10;try{new RegExp(`(${j})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${x}" (${j}): `+z.message)}}let H=I?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;f||(H=q&&l.length<2?`(?:/${H})`:"/"+H),q&&(H+="?"),s+=H,b+=20,q&&(b+=-8),I&&(b+=-20),j===".*"&&(b+=-50)}u.push(b)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const b=u[d]||"",x=i[d-1];f[x.name]=b&&x.repeatable?b.split("/"):b}return f}function c(l){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const b of d)if(b.type===0)u+=b.value;else if(b.type===1){const{value:x,repeatable:I,optional:q}=b,k=x in l?l[x]:"";if($t(k)&&!I)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const j=$t(k)?k.join("/"):k;if(!j)if(q)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${x}"`);u+=j}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function cg(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function lg(e,t){let r=0;const n=e.score,s=t.score;for(;r<n.length&&r<s.length;){const i=cg(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(gc(n))return 1;if(gc(s))return-1}return s.length-n.length}function gc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ug={type:0,value:""},fg=/[a-zA-Z0-9_]/;function hg(e){if(!e)return[[]];if(e==="/")return[[ug]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${r})/"${l}": ${b}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:fg.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function dg(e,t,r){const n=ag(hg(e.path),r),s=Ne(n,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function mg(e,t){const r=[],n=new Map;t=yc({strict:!1,end:!0,sensitive:!1},t);function s(u){return n.get(u)}function i(u,f,d){const b=!d,x=pg(u);x.aliasOf=d&&d.record;const I=yc(t,u),q=[x];if("alias"in u){const H=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of H)q.push(Ne({},x,{components:d?d.record.components:x.components,path:z,aliasOf:d?d.record:x}))}let k,j;for(const H of q){const{path:z}=H;if(f&&z[0]!=="/"){const D=f.record.path,fe=D[D.length-1]==="/"?"":"/";H.path=f.record.path+(z&&fe+z)}if(k=dg(H,f,I),d?d.alias.push(k):(j=j||k,j!==k&&j.alias.push(k),b&&u.name&&!bc(k)&&o(u.name)),x.children){const D=x.children;for(let fe=0;fe<D.length;fe++)i(D[fe],k,d&&d.children[fe])}d=d||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&c(k)}return j?()=>{o(j)}:An}function o(u){if(Mu(u)){const f=n.get(u);f&&(n.delete(u),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(u);f>-1&&(r.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return r}function c(u){let f=0;for(;f<r.length&&lg(u,r[f])>=0&&(u.record.path!==r[f].record.path||!Lu(u,r[f]));)f++;r.splice(f,0,u),u.record.name&&!bc(u)&&n.set(u.record.name,u)}function l(u,f){let d,b={},x,I;if("name"in u&&u.name){if(d=n.get(u.name),!d)throw sn(1,{location:u});I=d.record.name,b=Ne(_c(f.params,d.keys.filter(j=>!j.optional).map(j=>j.name)),u.params&&_c(u.params,d.keys.map(j=>j.name))),x=d.stringify(b)}else if("path"in u)x=u.path,d=r.find(j=>j.re.test(x)),d&&(b=d.parse(x),I=d.record.name);else{if(d=f.name?n.get(f.name):r.find(j=>j.re.test(f.path)),!d)throw sn(1,{location:u,currentLocation:f});I=d.record.name,b=Ne({},f.params,u.params),x=d.stringify(b)}const q=[];let k=d;for(;k;)q.unshift(k.record),k=k.parent;return{name:I,path:x,params:b,matched:q,meta:_g(q)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function _c(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function pg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:gg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function gg(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _g(e){return e.reduce((t,r)=>Ne(t,r.meta),{})}function yc(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Lu(e,t){return t.children.some(r=>r===e||Lu(e,r))}const ju=/#/g,bg=/&/g,yg=/\//g,wg=/=/g,vg=/\?/g,Fu=/\+/g,xg=/%5B/g,Eg=/%5D/g,$u=/%5E/g,Sg=/%60/g,Uu=/%7B/g,Og=/%7C/g,Du=/%7D/g,Pg=/%20/g;function Go(e){return encodeURI(""+e).replace(Og,"|").replace(xg,"[").replace(Eg,"]")}function Ag(e){return Go(e).replace(Uu,"{").replace(Du,"}").replace($u,"^")}function ao(e){return Go(e).replace(Fu,"%2B").replace(Pg,"+").replace(ju,"%23").replace(bg,"%26").replace(Sg,"`").replace(Uu,"{").replace(Du,"}").replace($u,"^")}function Cg(e){return ao(e).replace(wg,"%3D")}function Ig(e){return Go(e).replace(ju,"%23").replace(vg,"%3F")}function kg(e){return e==null?"":Ig(e).replace(yg,"%2F")}function Rs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Tg(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Fu," "),o=i.indexOf("="),a=Rs(o<0?i:i.slice(0,o)),c=o<0?null:Rs(i.slice(o+1));if(a in t){let l=t[a];$t(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function wc(e){let t="";for(let r in e){const n=e[r];if(r=Cg(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}($t(n)?n.map(i=>i&&ao(i)):[n&&ao(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function Ng(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=$t(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return t}const Mg=Symbol(""),vc=Symbol(""),ai=Symbol(""),Ko=Symbol(""),co=Symbol("");function yn(){let e=[];function t(n){return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function dr(e,t,r,n,s){const i=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(sn(4,{from:r,to:t})):f instanceof Error?a(f):sg(f)?a(sn(2,{from:t,to:f})):(i&&n.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),o())},l=e.call(n&&n.instances[s],t,r,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(f=>a(f))})}function Ti(e,t,r,n){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Rg(a)){const l=(a.__vccOpts||a)[t];l&&s.push(dr(l,r,n,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Dp(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&dr(d,r,n,i,o)()}))}}return s}function Rg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xc(e){const t=It(ai),r=It(Ko),n=qe(()=>t.resolve(Me(e.to))),s=qe(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(nn.bind(null,u));if(d>-1)return d;const b=Ec(c[l-2]);return l>1&&Ec(u)===b&&f[f.length-1].path!==b?f.findIndex(nn.bind(null,c[l-2])):d}),i=qe(()=>s.value>-1&&$g(r.params,n.value.params)),o=qe(()=>s.value>-1&&s.value===r.matched.length-1&&Tu(r.params,n.value.params));function a(c={}){return Fg(c)?t[Me(e.replace)?"replace":"push"](Me(e.to)).catch(An):Promise.resolve()}return{route:n,href:qe(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const Lg=ln({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xc,setup(e,{slots:t}){const r=Yn(xc(e)),{options:n}=It(ai),s=qe(()=>({[Sc(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Sc(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:ni("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),jg=Lg;function Fg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function $g(e,t){for(const r in t){const n=t[r],s=e[r];if(typeof n=="string"){if(n!==s)return!1}else if(!$t(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Ec(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Sc=(e,t,r)=>e??t??r,Ug=ln({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=It(co),s=qe(()=>e.route||n.value),i=It(vc,0),o=qe(()=>{let l=Me(i);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=qe(()=>s.value.matched[o.value]);vs(vc,qe(()=>o.value+1)),vs(Mg,a),vs(co,s);const c=Ge();return ct(()=>[c.value,a.value,e.name],([l,u,f],[d,b,x])=>{u&&(u.instances[f]=l,b&&b!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=b.leaveGuards),u.updateGuards.size||(u.updateGuards=b.updateGuards))),l&&u&&(!b||!nn(u,b)||!d)&&(u.enterCallbacks[f]||[]).forEach(I=>I(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Oc(r.default,{Component:d,route:l});const b=f.props[u],x=b?b===!0?l.params:typeof b=="function"?b(l):b:null,q=ni(d,Ne({},x,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Oc(r.default,{Component:q,route:l})||q}}});function Oc(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Dg=Ug;function Bg(e){const t=mg(e.routes,e),r=e.parseQuery||Tg,n=e.stringifyQuery||wc,s=e.history,i=yn(),o=yn(),a=yn(),c=Ll(fr);let l=fr;Hr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ii.bind(null,N=>""+N),f=Ii.bind(null,kg),d=Ii.bind(null,Rs);function b(N,G){let $,re;return Mu(N)?($=t.getRecordMatcher(N),re=G):re=N,t.addRoute(re,$)}function x(N){const G=t.getRecordMatcher(N);G&&t.removeRoute(G)}function I(){return t.getRoutes().map(N=>N.record)}function q(N){return!!t.getRecordMatcher(N)}function k(N,G){if(G=Ne({},G||c.value),typeof N=="string"){const _=ki(r,N,G.path),w=t.resolve({path:_.path},G),C=s.createHref(_.fullPath);return Ne(_,w,{params:d(w.params),hash:Rs(_.hash),redirectedFrom:void 0,href:C})}let $;if("path"in N)$=Ne({},N,{path:ki(r,N.path,G.path).path});else{const _=Ne({},N.params);for(const w in _)_[w]==null&&delete _[w];$=Ne({},N,{params:f(N.params)}),G.params=f(G.params)}const re=t.resolve($,G),te=N.hash||"";re.params=u(d(re.params));const we=Hp(n,Ne({},N,{hash:Ag(te),path:re.path})),ge=s.createHref(we);return Ne({fullPath:we,hash:te,query:n===wc?Ng(N.query):N.query||{}},re,{redirectedFrom:void 0,href:ge})}function j(N){return typeof N=="string"?ki(r,N,c.value.path):Ne({},N)}function H(N,G){if(l!==N)return sn(8,{from:G,to:N})}function z(N){return me(N)}function D(N){return z(Ne(j(N),{replace:!0}))}function fe(N){const G=N.matched[N.matched.length-1];if(G&&G.redirect){const{redirect:$}=G;let re=typeof $=="function"?$(N):$;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=j(re):{path:re},re.params={}),Ne({query:N.query,hash:N.hash,params:"path"in re?{}:N.params},re)}}function me(N,G){const $=l=k(N),re=c.value,te=N.state,we=N.force,ge=N.replace===!0,_=fe($);if(_)return me(Ne(j(_),{state:typeof _=="object"?Ne({},te,_.state):te,force:we,replace:ge}),G||$);const w=$;w.redirectedFrom=G;let C;return!we&&zp(n,re,$)&&(C=sn(16,{to:w,from:re}),he(re,re,!0,!1)),(C?Promise.resolve(C):ue(w,re)).catch(M=>Qt(M)?Qt(M,2)?M:ye(M):ne(M,w,re)).then(M=>{if(M){if(Qt(M,2))return me(Ne({replace:ge},j(M.to),{state:typeof M.to=="object"?Ne({},te,M.to.state):te,force:we}),G||w)}else M=Ee(w,re,!0,ge,te);return pe(w,re,M),M})}function Y(N,G){const $=H(N,G);return $?Promise.reject($):Promise.resolve()}function ue(N,G){let $;const[re,te,we]=qg(N,G);$=Ti(re.reverse(),"beforeRouteLeave",N,G);for(const _ of re)_.leaveGuards.forEach(w=>{$.push(dr(w,N,G))});const ge=Y.bind(null,N,G);return $.push(ge),Br($).then(()=>{$=[];for(const _ of i.list())$.push(dr(_,N,G));return $.push(ge),Br($)}).then(()=>{$=Ti(te,"beforeRouteUpdate",N,G);for(const _ of te)_.updateGuards.forEach(w=>{$.push(dr(w,N,G))});return $.push(ge),Br($)}).then(()=>{$=[];for(const _ of N.matched)if(_.beforeEnter&&!G.matched.includes(_))if($t(_.beforeEnter))for(const w of _.beforeEnter)$.push(dr(w,N,G));else $.push(dr(_.beforeEnter,N,G));return $.push(ge),Br($)}).then(()=>(N.matched.forEach(_=>_.enterCallbacks={}),$=Ti(we,"beforeRouteEnter",N,G),$.push(ge),Br($))).then(()=>{$=[];for(const _ of o.list())$.push(dr(_,N,G));return $.push(ge),Br($)}).catch(_=>Qt(_,8)?_:Promise.reject(_))}function pe(N,G,$){for(const re of a.list())re(N,G,$)}function Ee(N,G,$,re,te){const we=H(N,G);if(we)return we;const ge=G===fr,_=Hr?history.state:{};$&&(re||ge?s.replace(N.fullPath,Ne({scroll:ge&&_&&_.scroll},te)):s.push(N.fullPath,te)),c.value=N,he(N,G,$,ge),ye()}let Te;function De(){Te||(Te=s.listen((N,G,$)=>{if(!Pe.listening)return;const re=k(N),te=fe(re);if(te){me(Ne(te,{replace:!0}),re).catch(An);return}l=re;const we=c.value;Hr&&Qp(hc(we.fullPath,$.delta),oi()),ue(re,we).catch(ge=>Qt(ge,12)?ge:Qt(ge,2)?(me(ge.to,re).then(_=>{Qt(_,20)&&!$.delta&&$.type===Hn.pop&&s.go(-1,!1)}).catch(An),Promise.reject()):($.delta&&s.go(-$.delta,!1),ne(ge,re,we))).then(ge=>{ge=ge||Ee(re,we,!1),ge&&($.delta&&!Qt(ge,8)?s.go(-$.delta,!1):$.type===Hn.pop&&Qt(ge,20)&&s.go(-1,!1)),pe(re,we,ge)}).catch(An)}))}let T=yn(),A=yn(),le;function ne(N,G,$){ye(N);const re=A.list();return re.length?re.forEach(te=>te(N,G,$)):console.error(N),Promise.reject(N)}function ae(){return le&&c.value!==fr?Promise.resolve():new Promise((N,G)=>{T.add([N,G])})}function ye(N){return le||(le=!N,De(),T.list().forEach(([G,$])=>N?$(N):G()),T.reset()),N}function he(N,G,$,re){const{scrollBehavior:te}=e;if(!Hr||!te)return Promise.resolve();const we=!$&&Zp(hc(N.fullPath,0))||(re||!$)&&history.state&&history.state.scroll||null;return Jn().then(()=>te(N,G,we)).then(ge=>ge&&Xp(ge)).catch(ge=>ne(ge,N,G))}const de=N=>s.go(N);let be;const $e=new Set,Pe={currentRoute:c,listening:!0,addRoute:b,removeRoute:x,hasRoute:q,getRoutes:I,resolve:k,options:e,push:z,replace:D,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:A.add,isReady:ae,install(N){const G=this;N.component("RouterLink",jg),N.component("RouterView",Dg),N.config.globalProperties.$router=G,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(c)}),Hr&&!be&&c.value===fr&&(be=!0,z(s.location).catch(te=>{}));const $={};for(const te in fr)$[te]=qe(()=>c.value[te]);N.provide(ai,G),N.provide(Ko,Yn($)),N.provide(co,c);const re=N.unmount;$e.add(N),N.unmount=function(){$e.delete(N),$e.size<1&&(l=fr,Te&&Te(),Te=null,c.value=fr,be=!1,le=!1),re()}}};return Pe}function Br(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function qg(e,t){const r=[],n=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>nn(l,a))?n.push(a):r.push(a));const c=e.matched[o];c&&(t.matched.find(l=>nn(l,c))||s.push(c))}return[r,n,s]}function my(){return It(ai)}function Hg(){return It(Ko)}var Pc;const Bu=typeof window<"u",zg=e=>typeof e=="function",Vg=e=>typeof e=="string",Wg=()=>{};Bu&&((Pc=window==null?void 0:window.navigator)!=null&&Pc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Yo(e){return typeof e=="function"?e():Me(e)}function Gg(e,t){function r(...n){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(i)})}return r}const qu=e=>e();function Kg(e=qu){const t=Ge(!0);function r(){t.value=!1}function n(){t.value=!0}const s=(...i)=>{t.value&&e(...i)};return{isActive:To(t),pause:r,resume:n,eventFilter:s}}function Yg(e){return e}function Jo(e){return wl()?(Xf(e),!0):!1}function Jg(e){return typeof e=="function"?qe(e):Ge(e)}function Hu(e,t=!0){Zn()?Xn(e):t?e():Jn(e)}var Ac=Object.getOwnPropertySymbols,Xg=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable,Zg=(e,t)=>{var r={};for(var n in e)Xg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ac)for(var n of Ac(e))t.indexOf(n)<0&&Qg.call(e,n)&&(r[n]=e[n]);return r};function e0(e,t,r={}){const n=r,{eventFilter:s=qu}=n,i=Zg(n,["eventFilter"]);return ct(e,Gg(s,t),i)}var t0=Object.defineProperty,r0=Object.defineProperties,n0=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,zu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,Cc=(e,t,r)=>t in e?t0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s0=(e,t)=>{for(var r in t||(t={}))zu.call(t,r)&&Cc(e,r,t[r]);if(Ls)for(var r of Ls(t))Vu.call(t,r)&&Cc(e,r,t[r]);return e},i0=(e,t)=>r0(e,n0(t)),o0=(e,t)=>{var r={};for(var n in e)zu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ls)for(var n of Ls(e))t.indexOf(n)<0&&Vu.call(e,n)&&(r[n]=e[n]);return r};function a0(e,t,r={}){const n=r,{eventFilter:s}=n,i=o0(n,["eventFilter"]),{eventFilter:o,pause:a,resume:c,isActive:l}=Kg(s);return{stop:e0(e,t,i0(s0({},i),{eventFilter:o})),pause:a,resume:c,isActive:l}}function In(e){var t;const r=Yo(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Lr=Bu?window:void 0;function Ic(...e){let t,r,n,s;if(Vg(e[0])||Array.isArray(e[0])?([r,n,s]=e,t=Lr):[t,r,n,s]=e,!t)return Wg;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,f,d,b)=>(u.addEventListener(f,d,b),()=>u.removeEventListener(f,d,b)),c=ct(()=>[In(t),Yo(s)],([u,f])=>{o(),u&&i.push(...r.flatMap(d=>n.map(b=>a(u,d,b,f))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Jo(l),l}function Wu(e,t=!1){const r=Ge(),n=()=>r.value=Boolean(e());return n(),Hu(n,t),r}function c0(e,t={}){const{window:r=Lr}=t,n=Wu(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let s;const i=Ge(!1),o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},a=()=>{n.value&&(o(),s=r.matchMedia(Jg(e).value),i.value=s.matches,"addEventListener"in s?s.addEventListener("change",a):s.addListener(a))};return Hh(a),Jo(()=>o()),i}const lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo="__vueuse_ssr_handlers__";lo[uo]=lo[uo]||{};const l0=lo[uo];function Gu(e,t){return l0[e]||t}function u0(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var f0=Object.defineProperty,kc=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable,Tc=(e,t,r)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nc=(e,t)=>{for(var r in t||(t={}))h0.call(t,r)&&Tc(e,r,t[r]);if(kc)for(var r of kc(t))d0.call(t,r)&&Tc(e,r,t[r]);return e};const m0={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Mc="vueuse-storage";function Ku(e,t,r,n={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:f=Lr,eventFilter:d,onError:b=Y=>{console.error(Y)}}=n,x=(u?Ll:Ge)(t);if(!r)try{r=Gu("getDefaultStorage",()=>{var Y;return(Y=Lr)==null?void 0:Y.localStorage})()}catch(Y){b(Y)}if(!r)return x;const I=Yo(t),q=u0(I),k=(s=n.serializer)!=null?s:m0[q],{pause:j,resume:H}=a0(x,()=>z(x.value),{flush:i,deep:o,eventFilter:d});return f&&a&&(Ic(f,"storage",me),Ic(f,Mc,fe)),me(),x;function z(Y){try{if(Y==null)r.removeItem(e);else{const ue=k.write(Y),pe=r.getItem(e);pe!==ue&&(r.setItem(e,ue),f&&f.dispatchEvent(new CustomEvent(Mc,{detail:{key:e,oldValue:pe,newValue:ue,storageArea:r}})))}}catch(ue){b(ue)}}function D(Y){const ue=Y?Y.newValue:r.getItem(e);if(ue==null)return c&&I!==null&&r.setItem(e,k.write(I)),I;if(!Y&&l){const pe=k.read(ue);return zg(l)?l(pe,I):q==="object"&&!Array.isArray(pe)?Nc(Nc({},I),pe):pe}else return typeof ue!="string"?ue:k.read(ue)}function fe(Y){me(Y.detail)}function me(Y){if(!(Y&&Y.storageArea!==r)){if(Y&&Y.key==null){x.value=I;return}if(!(Y&&Y.key!==e)){j();try{x.value=D(Y)}catch(ue){b(ue)}finally{Y?Jn(H):H()}}}}}function p0(e){return c0("(prefers-color-scheme: dark)",e)}var g0=Object.defineProperty,Rc=Object.getOwnPropertySymbols,_0=Object.prototype.hasOwnProperty,b0=Object.prototype.propertyIsEnumerable,Lc=(e,t,r)=>t in e?g0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y0=(e,t)=>{for(var r in t||(t={}))_0.call(t,r)&&Lc(e,r,t[r]);if(Rc)for(var r of Rc(t))b0.call(t,r)&&Lc(e,r,t[r]);return e};function w0(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:s=Lr,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l}=e,u=y0({auto:"",light:"light",dark:"dark"},e.modes||{}),f=p0({window:s}),d=qe(()=>f.value?"dark":"light"),b=c||(o==null?Ge(n):Ku(o,n,i,{window:s,listenToStorageChanges:a})),x=qe({get(){return b.value==="auto"&&!l?d.value:b.value},set(j){b.value=j}}),I=Gu("updateHTMLAttrs",(j,H,z)=>{const D=s==null?void 0:s.document.querySelector(j);if(D)if(H==="class"){const fe=z.split(/\s/g);Object.values(u).flatMap(me=>(me||"").split(/\s/g)).filter(Boolean).forEach(me=>{fe.includes(me)?D.classList.add(me):D.classList.remove(me)})}else D.setAttribute(H,z)});function q(j){var H;const z=j==="auto"?d.value:j;I(t,r,(H=u[z])!=null?H:z)}function k(j){e.onChanged?e.onChanged(j,q):q(j)}return ct(x,k,{flush:"post",immediate:!0}),l&&ct(d,()=>k(x.value),{flush:"post"}),Hu(()=>k(x.value)),x}var jc=Object.getOwnPropertySymbols,v0=Object.prototype.hasOwnProperty,x0=Object.prototype.propertyIsEnumerable,E0=(e,t)=>{var r={};for(var n in e)v0.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&jc)for(var n of jc(e))t.indexOf(n)<0&&x0.call(e,n)&&(r[n]=e[n]);return r};function S0(e,t,r={}){const n=r,{window:s=Lr}=n,i=E0(n,["window"]);let o;const a=Wu(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},l=ct(()=>In(e),f=>{c(),a.value&&s&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return Jo(u),{isSupported:a,stop:u}}function py(e,t={width:0,height:0},r={}){const{window:n=Lr,box:s="content-box"}=r,i=qe(()=>{var c,l;return(l=(c=In(e))==null?void 0:c.namespaceURI)==null?void 0:l.includes("svg")}),o=Ge(t.width),a=Ge(t.height);return S0(e,([c])=>{const l=s==="border-box"?c.borderBoxSize:s==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(n&&i.value){const u=In(e);if(u){const f=n.getComputedStyle(u);o.value=parseFloat(f.width),a.value=parseFloat(f.height)}}else if(l){const u=Array.isArray(l)?l:[l];o.value=u.reduce((f,{inlineSize:d})=>f+d,0),a.value=u.reduce((f,{blockSize:d})=>f+d,0)}else o.value=c.contentRect.width,a.value=c.contentRect.height},r),ct(()=>In(e),c=>{o.value=c?t.width:0,a.value=c?t.height:0}),{width:o,height:a}}var Fc;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Fc||(Fc={}));var O0=Object.defineProperty,$c=Object.getOwnPropertySymbols,P0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable,Uc=(e,t,r)=>t in e?O0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C0=(e,t)=>{for(var r in t||(t={}))P0.call(t,r)&&Uc(e,r,t[r]);if($c)for(var r of $c(t))A0.call(t,r)&&Uc(e,r,t[r]);return e};const I0={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};C0({linear:Yg},I0);const Yu="kiel_live",k0={liteMode:Ku(`${Yu}.lite`,!1)};function Ju(){return k0}const T0={class:"flex w-full justify-center border-t-1 border-gray-200 dark:border-gray-800 dark:bg-dark-400 dark:text-gray-300 shadow-top"},N0={class:"flex w-full justify-around max-w-96"},M0={class:"mt-auto text-xs"},R0={class:"mt-auto text-xs"},L0={class:"mt-auto text-xs"},j0={class:"mt-auto text-xs"},F0=ln({__name:"AppBarBottom",setup(e){const{t}=un(),{liteMode:r}=Ju(),n=Hg(),s=qe(()=>n.name==="favorites"?"favorites":n.meta.settings?"settings":"map");return(i,o)=>{const a=Up,c=ei("router-link"),l=Rp,u=Ap,f=xp;return mt(),or("nav",T0,[He("div",N0,[Me(r)?(mt(),Dn(c,{key:0,to:{name:"search"},class:Wt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="map"}]),"aria-label":Me(t)("search")},{default:rr(()=>[Re(a,{class:"w-6 h-6 mb-1"}),He("span",M0,er(Me(t)("search")),1)]),_:1},8,["class","aria-label"])):(mt(),Dn(c,{key:1,to:{name:"home"},class:Wt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="map"}]),"aria-label":Me(t)("map")},{default:rr(()=>[Re(l,{class:"w-6 h-6 mb-1"}),He("span",R0,er(Me(t)("map")),1)]),_:1},8,["class","aria-label"])),Re(c,{to:{name:"favorites"},class:Wt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="favorites"}]),"aria-label":Me(t)("favorites")},{default:rr(()=>[Re(u,{class:"w-6 h-6 mb-1"}),He("span",L0,er(Me(t)("favorites")),1)]),_:1},8,["class","aria-label"]),Re(c,{to:{name:"settings-about"},class:Wt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="settings"}]),"aria-label":Me(t)("settings")},{default:rr(()=>[Re(f,{class:"w-6 h-6 mb-1"}),He("span",j0,er(Me(t)("settings")),1)]),_:1},8,["class","aria-label"])])])}}});var Xo={};(function e(t,r,n,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function a(T){var A=r.exports.Promise,le=A!==void 0?A:t.Promise;return typeof le=="function"?new le(T):(T(o,o),null)}var c=function(){var T=Math.floor(16.666666666666668),A,le,ne={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(ye){var he=Math.random();return ne[he]=requestAnimationFrame(function de(be){ae===be||ae+T-1<be?(ae=be,delete ne[he],ye()):ne[he]=requestAnimationFrame(de)}),he},le=function(ye){ne[ye]&&cancelAnimationFrame(ne[ye])}):(A=function(ye){return setTimeout(ye,T)},le=function(ye){return clearTimeout(ye)}),{frame:A,cancel:le}}(),l=function(){var T,A,le={};function ne(ae){function ye(he,de){ae.postMessage({options:he||{},callback:de})}ae.init=function(de){var be=de.transferControlToOffscreen();ae.postMessage({canvas:be},[be])},ae.fire=function(de,be,$e){if(A)return ye(de,null),A;var Pe=Math.random().toString(36).slice(2);return A=a(function(N){function G($){$.data.callback===Pe&&(delete le[Pe],ae.removeEventListener("message",G),A=null,$e(),N())}ae.addEventListener("message",G),ye(de,Pe),le[Pe]=G.bind(null,{data:{callback:Pe}})}),A},ae.reset=function(){ae.postMessage({reset:!0});for(var de in le)le[de](),delete le[de]}}return function(){if(T)return T;if(!n&&i){var ae=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ye){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ye),null}ne(T)}return T}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(T,A){return A?A(T):T}function d(T){return T!=null}function b(T,A,le){return f(T&&d(T[A])?T[A]:u[A],le)}function x(T){return T<0?0:Math.floor(T)}function I(T,A){return Math.floor(Math.random()*(A-T))+T}function q(T){return parseInt(T,16)}function k(T){return T.map(j)}function j(T){var A=String(T).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:q(A.substring(0,2)),g:q(A.substring(2,4)),b:q(A.substring(4,6))}}function H(T){var A=b(T,"origin",Object);return A.x=b(A,"x",Number),A.y=b(A,"y",Number),A}function z(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function D(T){var A=T.getBoundingClientRect();T.width=A.width,T.height=A.height}function fe(T){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=T,A}function me(T,A,le,ne,ae,ye,he,de,be){T.save(),T.translate(A,le),T.rotate(ye),T.scale(ne,ae),T.arc(0,0,1,he,de,be),T.restore()}function Y(T){var A=T.angle*(Math.PI/180),le=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-A+(.5*le-Math.random()*le),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar}}function ue(T,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.wobble+=A.wobbleSpeed,A.velocity*=A.decay,A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble);var le=A.tick++/A.totalTicks,ne=A.x+A.random*A.tiltCos,ae=A.y+A.random*A.tiltSin,ye=A.wobbleX+A.random*A.tiltCos,he=A.wobbleY+A.random*A.tiltSin;if(T.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-le)+")",T.beginPath(),A.shape==="circle")T.ellipse?T.ellipse(A.x,A.y,Math.abs(ye-ne)*A.ovalScalar,Math.abs(he-ae)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):me(T,A.x,A.y,Math.abs(ye-ne)*A.ovalScalar,Math.abs(he-ae)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var de=Math.PI/2*3,be=4*A.scalar,$e=8*A.scalar,Pe=A.x,N=A.y,G=5,$=Math.PI/G;G--;)Pe=A.x+Math.cos(de)*$e,N=A.y+Math.sin(de)*$e,T.lineTo(Pe,N),de+=$,Pe=A.x+Math.cos(de)*be,N=A.y+Math.sin(de)*be,T.lineTo(Pe,N),de+=$;else T.moveTo(Math.floor(A.x),Math.floor(A.y)),T.lineTo(Math.floor(A.wobbleX),Math.floor(ae)),T.lineTo(Math.floor(ye),Math.floor(he)),T.lineTo(Math.floor(ne),Math.floor(A.wobbleY));return T.closePath(),T.fill(),A.tick<A.totalTicks}function pe(T,A,le,ne,ae){var ye=A.slice(),he=T.getContext("2d"),de,be,$e=a(function(Pe){function N(){de=be=null,he.clearRect(0,0,ne.width,ne.height),ae(),Pe()}function G(){n&&!(ne.width===s.width&&ne.height===s.height)&&(ne.width=T.width=s.width,ne.height=T.height=s.height),!ne.width&&!ne.height&&(le(T),ne.width=T.width,ne.height=T.height),he.clearRect(0,0,ne.width,ne.height),ye=ye.filter(function($){return ue(he,$)}),ye.length?de=c.frame(G):N()}de=c.frame(G),be=N});return{addFettis:function(Pe){return ye=ye.concat(Pe),$e},canvas:T,promise:$e,reset:function(){de&&c.cancel(de),be&&be()}}}function Ee(T,A){var le=!T,ne=!!b(A||{},"resize"),ae=b(A,"disableForReducedMotion",Boolean),ye=i&&!!b(A||{},"useWorker"),he=ye?l():null,de=le?z:D,be=T&&he?!!T.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pe;function N($,re,te){for(var we=b($,"particleCount",x),ge=b($,"angle",Number),_=b($,"spread",Number),w=b($,"startVelocity",Number),C=b($,"decay",Number),M=b($,"gravity",Number),U=b($,"drift",Number),W=b($,"colors",k),Q=b($,"ticks",Number),V=b($,"shapes"),K=b($,"scalar"),R=H($),S=we,O=[],J=T.width*R.x,se=T.height*R.y;S--;)O.push(Y({x:J,y:se,angle:ge,spread:_,startVelocity:w,color:W[S%W.length],shape:V[I(0,V.length)],ticks:Q,decay:C,gravity:M,drift:U,scalar:K}));return Pe?Pe.addFettis(O):(Pe=pe(T,O,de,re,te),Pe.promise)}function G($){var re=ae||b($,"disableForReducedMotion",Boolean),te=b($,"zIndex",Number);if(re&&$e)return a(function(w){w()});le&&Pe?T=Pe.canvas:le&&!T&&(T=fe(te),document.body.appendChild(T)),ne&&!be&&de(T);var we={width:T.width,height:T.height};he&&!be&&he.init(T),be=!0,he&&(T.__confetti_initialized=!0);function ge(){if(he){var w={getBoundingClientRect:function(){if(!le)return T.getBoundingClientRect()}};de(w),he.postMessage({resize:{width:w.width,height:w.height}});return}we.width=we.height=null}function _(){Pe=null,ne&&t.removeEventListener("resize",ge),le&&T&&(document.body.removeChild(T),T=null,be=!1)}return ne&&t.addEventListener("resize",ge,!1),he?he.fire($,we,_):N($,we,_)}return G.reset=function(){he&&he.reset(),Pe&&Pe.reset()},G}var Te;function De(){return Te||(Te=Ee(null,{useWorker:!0,resize:!0})),Te}r.exports=function(){return De().apply(this,arguments)},r.exports.reset=function(){De().reset()},r.exports.create=Ee})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Xo,!1);const $0=Xo.exports;Xo.exports.create;const U0=["href"],D0=ln({__name:"Button",props:{to:null,href:null},setup(e){const t="border-1 hover:border-gray-300 dark:border-gray-400 dark:hover:border-gray-500 rounded p-2 flex items-center justify-center cursor-pointer";return(r,n)=>{const s=ei("router-link");return e.to?(mt(),Dn(s,{key:0,class:Wt(t),to:e.to},{default:rr(()=>[Ei(r.$slots,"default")]),_:3},8,["to"])):e.href?(mt(),or("a",{key:1,href:e.href,target:"_blank",rel:"noopener noreferrer",class:Wt(t)},[Ei(r.$slots,"default")],8,U0)):(mt(),or("button",{key:2,type:"button",class:Wt(t)},[Ei(r.$slots,"default")]))}}}),Dc=atob("YW5kcm9pZEBqdTYwLmRl"),gy="21.02.2023 22:05:24",_y="https://boomerang.ju60.de/share/z8KAHmGY/Kiel%20Live",Xu="https://tiles.ju60.de",by=`${Xu}/styles/gray-matter/style.json`,yy=`${Xu}/styles/bright-matter/style.json`,B0="wss://api.kiel-live.ju60.de/",q0={class:"m-2 flex flex-col rounded-md p-4 bg-white border-1 border-gray-200 shadow-xl z-20 md:w-104 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800"},H0={class:"flex flex-col text-center gap-4"},z0={class:"text-xl mb-2"},V0=["href"],W0={href:"https://www.instagram.com/kiel.live/",target:"_blank",class:"underline"},G0={class:"flex flex-row w-full justify-center mt-8"},K0=ln({__name:"UpdateNotice",setup(e){const t="kiel-live-version-v1",r="2.0.0",n=Ge(localStorage.getItem(t)),s=qe(()=>n.value!==null&&n.value!==r),{t:i}=un();Xn(async()=>{const a=localStorage.getItem("version");a!==null&&(n.value=a,localStorage.removeItem("version"))}),ct(s,()=>{if(!s.value)return;const a=3*1e3,c=Date.now()+a,l=setInterval(()=>{if(c-Date.now()<=0){clearInterval(l);return}$0({particleCount:100,spread:70,origin:{y:1.1},startVelocity:90,zIndex:2e3})},250)},{immediate:!0});function o(){localStorage.setItem(t,r),n.value=r}return(a,c)=>{const l=ei("i18n-t");return Me(s)?(mt(),or("div",{key:0,class:"flex fixed top-0 left-0 right-0 bottom-0 bg-gray-900 bg-opacity-80 z-1000 justify-center items-center",onClick:o},[He("div",q0,[He("div",H0,[He("span",z0,er(Me(i)("update_title")),1),He("span",null,er(Me(i)("update_msg")),1),Re(l,{keypath:"feedback",tag:"span"},{email:rr(()=>[He("a",{href:`mailto:${Me(Dc)}`,class:"underline"},er(Me(Dc)),9,V0)]),instagram:rr(()=>[He("a",W0,er(Me(i)("instagram")),1)]),_:1})]),He("div",G0,[Re(D0,{onClick:o},{default:rr(()=>[au(er(Me(i)("nice")),1)]),_:1})])])])):Pd("",!0)}}}),Y0=e=>w0({storageKey:`${Yu}.theme`,...e}),J0={class:"app flex flex-col m-auto w-full h-full bg-white text-black dark:bg-dark-400 dark:text-gray-300"},X0={class:"flex flex-grow min-h-0"},Q0=ln({__name:"App",setup(e){Y0();const{locale:t}=un();return ct(t,()=>{document.documentElement.setAttribute("lang",t.value)},{immediate:!0}),(r,n)=>{const s=ei("router-view");return mt(),or("div",J0,[He("main",X0,[Re(s)]),Re(F0,{class:"mt-auto flex-shrink-0"}),Re(K0)])}}});const Z0=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},e_=Z0(Q0,[["__scopeId","data-v-376ff901"]]),t_="modulepreload",r_=function(e){return"/"+e},Bc={},Bt=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=r_(i),i in Bc)return;Bc[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":t_,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},n_=(e,t)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};function s_(){return navigator.language.split("-")[0]}const Qu=s_(),Zu=cp({legacy:!1,locale:Qu}),i_=async e=>{const{default:t}=await n_(Object.assign({"./locales/de.json":()=>Bt(()=>import("./de-0cfbb1ea.js"),[]),"./locales/en.json":()=>Bt(()=>import("./en-50f729de.js"),[])}),`./locales/${e}.json`);return Zu.global.setLocaleMessage(e,t),Jn()};i_(Qu);let Ni=!0;const o_=[{path:"/",name:"home",component:()=>Bt(()=>import("./Home-57507701.js"),["assets/Home-57507701.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/map/:markerType/:markerId",name:"map-marker",component:()=>Bt(()=>import("./Home-57507701.js"),["assets/Home-57507701.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"]),props:!0},{path:"/search",name:"search",component:()=>Bt(()=>import("./Home-57507701.js"),["assets/Home-57507701.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/favorites",name:"favorites",component:()=>Bt(()=>import("./Home-57507701.js"),["assets/Home-57507701.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/settings/about",name:"settings-about",component:()=>Bt(()=>import("./About-a30d8465.js"),["assets/About-a30d8465.js","assets/logo-553d861a.js","assets/SettingsContainer-8446812d.js"]),meta:{settings:!0}},{path:"/settings/changelog",name:"settings-changelog",component:()=>Bt(()=>import("./Changelog-6d39afa0.js"),["assets/Changelog-6d39afa0.js","assets/SettingsContainer-8446812d.js"]),meta:{settings:!0}},{path:"/settings/settings",name:"settings-settings",component:()=>Bt(()=>import("./Settings-8e69642e.js"),["assets/Settings-8e69642e.js","assets/SettingsContainer-8446812d.js"]),meta:{settings:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>Bt(()=>import("./NotFound-8be1e38f.js"),[])}],ef=Bg({history:ng(),routes:o_}),{liteMode:a_}=Ju();ef.beforeEach((e,t,r)=>{if(e.name==="home"&&(Ni||a_.value)){Ni=!1,r({name:"favorites"});return}Ni=!1,r()});var X;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(X||(X={}));class tf{constructor(){g(this,"messages");this.messages=new Map,this.messages.set(X.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(X.BadJson,"Bad JSON"),this.messages.set(X.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return c_.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const c_=new tf;function l_(e){return typeof e.code=="string"}class ce extends Error{constructor(r,n,s){super(r);g(this,"name");g(this,"message");g(this,"code");g(this,"permissionContext");g(this,"chainedError");g(this,"api_error");this.name="NatsError",this.message=r,this.code=n,this.chainedError=s}static errorForCode(r,n){const s=tf.getMessage(r);return new ce(s,r,n)}isAuthError(){return this.code===X.AuthenticationExpired||this.code===X.AuthorizationViolation}isPermissionError(){return this.code===X.PermissionsViolation}isProtocolError(){return this.code===X.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const at=new Uint8Array(0);var tr;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(tr||(tr={}));var zn;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(zn||(zn={}));const fo="127.0.0.1",rf=2*1e3,nf=2*60*1e3,u_=2;var Gt;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(Gt||(Gt={}));var qc;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(qc||(qc={}));var ho;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(ho||(ho={}));var Vn;(function(e){e.Old="old",e.New="new"})(Vn||(Vn={}));var mo;(function(e){e.File="file",e.Memory="memory"})(mo||(mo={}));var vt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(vt||(vt={}));var et;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(et||(et={}));var on;(function(e){e.Instant="instant",e.Original="original"})(on||(on={}));var jt;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(jt||(jt={}));var Wr;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(Wr||(Wr={}));var Hc;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(Hc||(Hc={}));const fn=new TextEncoder,Jt=new TextDecoder;function f_(...e){let t=0;for(let s=0;s<e.length;s++)t+=e[s].length;const r=new Uint8Array(t);let n=0;for(let s=0;s<e.length;s++)r.set(e[s],n),n+=e[s].length;return r}function kn(...e){const t=[];for(let r=0;r<e.length;r++)t.push(fn.encode(e[r]));return t.length===0?at:t.length===1?t[0]:f_(...t)}function zc(e){return!e||e.length===0?"":Jt.decode(e)}class es{constructor(){g(this,"buffers");g(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let r=0;for(let i=0;i<t.length;i++)r+=t[i].length;const n=new Uint8Array(r);let s=0;for(let i=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}static fromAscii(t){return t||(t=""),fn.encode(t)}static toAscii(t){return Jt.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let r=0;for(let n=0;n<this.buffers.length;n++)t.set(this.buffers[n],r),r+=this.buffers[n].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const r=this.buffers.pop();if(r){const n=this.byteLength;(t===void 0||t>n)&&(t=n);const s=r.subarray(0,t);return n>t&&this.buffers.push(r.subarray(t)),this.byteLength=n-t,s}}return new Uint8Array(0)}fill(t,...r){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let n=0;n<r.length;n++)r[n]&&r[n].length&&(this.buffers.push(r[n]),this.byteLength+=r[n].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const Pr=`\r
`,js=es.fromAscii(Pr),h_=new Uint8Array(js)[0],d_=new Uint8Array(js)[1];function m_(e){return e instanceof Uint8Array}function p_(e){for(let t=0;t<e.length;t++){const r=t+1;if(e.byteLength>r&&e[t]===h_&&e[r]===d_)return r+1}return 0}function g_(e){const t=p_(e);if(t>0){const n=new Uint8Array(e).slice(0,t);return Jt.decode(n)}return""}function ci(e,...t){for(let r=0;r<t.length;r++){const n=t[r];Object.keys(n).forEach(function(s){e[s]=n[s]})}return e}function ms(e){const t="␍",r="␊";return Jt.decode(e).replace(/\n/g,r).replace(/\r/g,t)}function li(e){const t=ce.errorForCode(X.Timeout);let r,n;const s=new Promise((i,o)=>{r={cancel:()=>{n&&clearTimeout(n)}},n=setTimeout(()=>{o(t)},e)});return Object.assign(s,r)}function Qo(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function We(){let e={};const t=new Promise((r,n)=>{e={resolve:r,reject:n}});return Object.assign(t,e)}function sf(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}class pt{constructor(){g(this,"inflight");g(this,"processed");g(this,"received");g(this,"noIterator");g(this,"iterClosed");g(this,"done");g(this,"signal");g(this,"yields");g(this,"filtered");g(this,"pendingFiltered");g(this,"ingestionFilterFn");g(this,"protocolFilterFn");g(this,"dispatchedFn");g(this,"ctx");g(this,"_data");g(this,"err");g(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=We(),this.yields=[],this.iterClosed=We(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:r,protocol:n}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};r&&(n&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new ce("unsupported iterator",X.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let r=0;r<t.length;r++){if(typeof t[r]=="function"){const s=t[r];try{s()}catch(i){throw i}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[r]):!0){this.processed++;const s=Date.now();yield t[r],this.time=Date.now()-s,this.dispatchedFn&&t[r]&&this.dispatchedFn(t[r])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=We())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Vc(e){let n=!0;const s=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new ce(`'${e[i]}' is not a valid character for a header key`,X.BadHeader);n&&97<=o&&o<=122?o-=32:!n&&65<=o&&o<=90&&(o+=32),s[i]=o,n=o==45}return String.fromCharCode(...s)}function ar(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new gr(e,t)}const Mi="NATS/1.0";var Pt;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Pt||(Pt={}));class gr{constructor(t=0,r=""){g(this,"_code");g(this,"headers");g(this,"_description");this._code=t,this._description=r,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[r,n]of this.headers){const s=t.values(r);if(n.length!==s.length)return!1;const i=[...n].sort(),o=[...s].sort();for(let a=0;a<i.length;a++)if(i[a]!==o[a])return!1}return!0}return!1}static decode(t){const r=new gr,s=Jt.decode(t).split(`\r
`),i=s[0];if(i!==Mi){let o=i.replace(Mi,"");r._code=parseInt(o,10);const a=r._code.toString();o=o.replace(a,""),r._description=o.trim()}return s.length>=1&&s.slice(1).map(o=>{if(o){const a=o.indexOf(":");if(a>-1){const c=o.slice(0,a),l=o.slice(a+1).trim();r.append(c,l)}}}),r}toString(){if(this.headers.size===0&&this._code===0)return"";let t=Mi;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[r,n]of this.headers)for(let s=0;s<n.length;s++)t=`${t}\r
${r}: ${n[s]}`;return`${t}\r
\r
`}encode(){return fn.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new ce("invalid header value - \\r and \\n are not allowed.",X.BadHeader);return t.trim()}keys(){const t=[];for(const r of this.headers.keys())t.push(r);return t}findKeys(t,r=Pt.Exact){const n=this.keys();switch(r){case Pt.Exact:return n.filter(s=>s===t);case Pt.CanonicalMIME:return t=Vc(t),n.filter(s=>s===t);default:{const s=t.toLowerCase();return n.filter(i=>s===i.toLowerCase())}}}get(t,r=Pt.Exact){const n=this.findKeys(t,r);if(n.length){const s=this.headers.get(n[0]);if(s)return Array.isArray(s)?s[0]:s}return""}has(t,r=Pt.Exact){return this.findKeys(t,r).length>0}set(t,r,n=Pt.Exact){this.delete(t,n),this.append(t,r,n)}append(t,r,n=Pt.Exact){const s=Vc(t);n===Pt.CanonicalMIME&&(t=s);const i=this.findKeys(t,n);t=i.length>0?i[0]:t;const o=gr.validHeaderValue(r);let a=this.headers.get(t);a||(a=[],this.headers.set(t,a)),a.push(o)}values(t,r=Pt.Exact){const n=[];return this.findKeys(t,r).forEach(i=>{const o=this.headers.get(i);o&&n.push(...o)}),n}delete(t,r=Pt.Exact){this.findKeys(t,r).forEach(s=>{this.headers.delete(s)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(r=>{t[r]=this.values(r)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const r=new gr;for(const n in t)r.headers.set(n,t[n]);return r}}function of(){return{encode(e){return fn.encode(e)},decode(e){return Jt.decode(e)}}}function Vt(e){return{encode(t){try{return t===void 0&&(t=null),fn.encode(JSON.stringify(t))}catch(r){throw ce.errorForCode(X.BadJson,r)}},decode(t){try{return JSON.parse(Jt.decode(t),e)}catch(r){throw ce.errorForCode(X.BadJson,r)}}}}const Wc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Gc=36,__=0xcfd41b9100000,Kc=33,b_=333,Yc=12+10;function y_(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function w_(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):y_(e)}class v_{constructor(){g(this,"buf");g(this,"seq");g(this,"inc");this.buf=new Uint8Array(Yc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*__),this.inc=Math.floor(Math.random()*(b_-Kc)+Kc)}setPre(){const t=new Uint8Array(12);w_(t);for(let r=0;r<12;r++){const n=t[r]%36;this.buf[r]=Wc.charCodeAt(n)}}fillSeq(){let t=this.seq;for(let r=Yc-1;r>=12;r--)this.buf[r]=Wc.charCodeAt(t%Gc),t=Math.floor(t/Gc)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const ui=new v_;function af(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?ce.errorForCode(X.NoResponders):null}class cf{constructor(t,r,n){g(this,"_headers");g(this,"_msg");g(this,"_rdata");g(this,"_reply");g(this,"_subject");g(this,"publisher");this._msg=t,this._rdata=r,this.publisher=n}get subject(){return this._subject?this._subject:(this._subject=Jt.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=Jt.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=gr.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=at,r){return this.reply?(this.publisher.publish(this.reply,t,r),!0):!1}size(){var s;const t=this._msg.subject.length,r=((s=this._msg.reply)==null?void 0:s.length)||0,n=this._msg.size===-1?0:this._msg.size;return t+r+n}}function Qr(e){return lf("durable",e)}function dt(e){return lf("stream",e)}function lf(e,t=""){if(t==="")throw Error(`${e} name required`);return[".","*",">","/","\\"].forEach(n=>{if(t.indexOf(n)!==-1)throw Error(`invalid ${e} name - ${e} name cannot contain '${n}'`)}),""}function Es(e,t=""){if(t==="")throw Error(`${e} name required`);const r=uf(t);if(r.length)throw new Error(`invalid ${e} name - ${e} name ${r}`)}function uf(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const n of e.split(""))if(n.match(t)===null)return`cannot contain '${n}'`}return""}function x_(e,t={}){return Object.assign({name:e,deliver_policy:vt.All,ack_policy:et.Explicit,ack_wait:Ye(30*1e3),replay_policy:on.Instant},t)}function Ye(e){return e*1e6}function Zo(e){return Math.floor(e/1e6)}function po(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function Jc(e){var t;return po(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function E_(e,t,r){const n=ar(e,t),s={hdr:1,sid:0,size:0},i=new cf(s,at,{});return i._headers=n,i._subject=r,i}function Zr(e){if(e.data.length!==0)return null;const t=e.headers;return t?ff(t.code,t.description):null}var Mt;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="`idle heartbeats missed`"})(Mt||(Mt={}));function S_(e){return e.code!==X.JetStream409?!1:[Mt.MaxBatchExceeded,Mt.MaxExpiresExceeded,Mt.MaxBytesExceeded,Mt.MaxMessageSizeExceeded,Mt.PushConsumer,Mt.IdleHeartbeatMissed].find(r=>e.message.indexOf(r)!==-1)!==void 0}function ff(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new ce(t,X.JetStream404NoMessages);case 408:return new ce(t,X.JetStream408RequestTimeout);case 409:{const r=t.startsWith(Mt.IdleHeartbeatMissed)?X.JetStreamIdleHeartBeat:X.JetStream409;return new ce(t,r)}case 503:return ce.errorForCode(X.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=X.Unknown),new ce(t,`${e}`)}}function Rr(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function go(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var xt;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct"})(xt||(xt={}));class O_{constructor(t){g(this,"server");g(this,"features");g(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=Rr(t)),this.server=t,this.set(xt.JS_KV,"2.6.2"),this.set(xt.JS_OBJECTSTORE,"2.6.3"),this.set(xt.JS_PULL_MAX_BYTES,"2.8.3"),this.set(xt.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(xt.JS_ALLOW_DIRECT,"2.9.0"),this.disabled.forEach(r=>{this.features.delete(r)})}set(t,r){this.features.set(t,{min:r,ok:go(this.server,Rr(r))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var r;return((r=this.get(t))==null?void 0:r.ok)||!1}require(t){return typeof t=="string"&&(t=Rr(t)),go(this.server,t)>=0}}const P_="$SRV",Fs="Nats-Service-Error",$s="Nats-Service-Error-Code";var Kt;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO",e.SCHEMA="SCHEMA"})(Kt||(Kt={}));var Gr;(function(e){e.STATS="io.nats.micro.v1.stats_response",e.INFO="io.nats.micro.v1.info_response",e.PING="io.nats.micro.v1.ping_response",e.SCHEMA="io.nats.micro.v1.schema_response"})(Gr||(Gr={}));class Xc{constructor(t){g(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}respond(t,r){return this.msg.respond(t,r)}respondError(t,r,n,s){var i,o;return s=s||{},s.headers=s.headers||ar(),(i=s.headers)==null||i.set($s,`${t}`),(o=s.headers)==null||o.set(Fs,r),this.msg.respond(n,s)}}class Wn{constructor(t,r=""){g(this,"subject");g(this,"srv");r!==""&&C_("service group",r);let n="";if(t instanceof ts)this.srv=t,n="";else if(t instanceof Wn){const s=t;this.srv=s.srv,n=s.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(n,r)}calcSubject(t,r=""){return r===""?t:t!==""?`${t}.${r}`:r}addEndpoint(t="",r){r=r||{subject:t};const n=typeof r=="function"?{handler:r,subject:t}:r;Es("endpoint",t);let{subject:s,handler:i,schema:o}=n;s=s||t,A_("endpoint subject",s),s=this.calcSubject(this.subject,s);const a={name:t,subject:s,handler:i,schema:o};return this.srv._addEndpoint(a)}addGroup(t=""){return new Wn(this,t)}}function A_(e,t){if(t==="")throw new Error(`${e} cannot be empty`);if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);const r=t.split(".");r.forEach((n,s)=>{if(n===">"&&s!==r.length-1)throw new Error(`${e} cannot have internal '>': '${t}'`)})}function C_(e,t){if(t.indexOf(" ")!==-1)throw new Error(`${e} cannot contain spaces: '${t}'`);t.split(".").forEach(n=>{if(n===">")throw new Error(`${e} name cannot contain internal '>': '${t}'`)})}class Us extends Error{constructor(r,n){super(n);g(this,"code");this.code=r}static isServiceError(r){return Us.toServiceError(r)!==null}static toServiceError(r){var s,i;const n=((s=r==null?void 0:r.headers)==null?void 0:s.get($s))||"";if(n!==""){const o=parseInt(n)||400,a=((i=r==null?void 0:r.headers)==null?void 0:i.get(Fs))||"";return new Us(o,a.length?a:n)}return null}}class ts extends pt{constructor(r,n={name:"",version:""}){var s,i,o;super();g(this,"nc");g(this,"_id");g(this,"config");g(this,"handlers");g(this,"internal");g(this,"_stopped");g(this,"_done");g(this,"_schema");g(this,"started");this.nc=r,this.config=n,Es("name",this.config.name),Rr(this.config.version),this._id=ui.next(),this.internal=[],this._done=We(),this._stopped=!1,this.handlers=[],this.noIterator=!0,this.started=new Date().toISOString(),this.reset(),this.config.endpoint&&this._addEndpoint({name:"default",subject:(s=this.config.endpoint)==null?void 0:s.subject,handler:(i=this.config.endpoint)==null?void 0:i.handler,schema:(o=this.config.endpoint)==null?void 0:o.schema},!0),this.nc.closed().then(()=>{this.close().catch()}).catch(a=>{this.close(a).catch()})}static controlSubject(r,n="",s="",i){const o=i??P_;return n===""&&s===""?`${o}.${r}`:(Es("control subject name",n),s!==""?(Es("control subject id",s),`${o}.${r}.${n}.${s}`):`${o}.${r}.${n}`)}get subjects(){return this.handlers.filter(r=>r.internal===!1).map(r=>r.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}errorToHeader(r){const n=ar();if(r instanceof Us){const s=r;n.set(Fs,s.message),n.set($s,`${s.code}`)}else n.set(Fs,r.message),n.set($s,"500");return n}setupHandler(r,n=!1){const s=n?"":"q",{name:i,subject:o,handler:a,schema:c}=r,l=r;l.internal=n,n&&this.internal.push(l),l.stats=new I_(i,o),l.schema=c;const u=a?(f,d)=>{if(f){this.close(f);return}const b=Date.now();try{a(f,new Xc(d))}catch(x){l.stats.countError(x),d==null||d.respond(at,{headers:this.errorToHeader(x)})}finally{l.stats.countLatency(b)}}:void 0;return l.sub=this.nc.subscribe(o,{callback:u,queue:s}),l.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${r.subject} stopped`)).catch()}).catch(f=>{if(!this._stopped){const d=new Error(`required subscription ${r.subject} errored: ${f.message}`);d.stack=f.stack,this.close(d).catch()}}),l}info(){return{type:Gr.INFO,name:this.name,id:this.id,version:this.version,description:this.description,subjects:this.subjects}}async stats(){const r=[];for(const n of this.handlers){if(typeof this.config.statsHandler=="function")try{n.stats.data=await this.config.statsHandler(n)}catch(s){n.stats.countError(s)}r.push(n.stats.stats(n.qi))}return{type:Gr.STATS,name:this.name,id:this.id,version:this.version,started:this.started,endpoints:r}}addInternalHandler(r,n){const s=`${r}`.toUpperCase();this._doAddInternalHandler(`${s}-all`,r,n),this._doAddInternalHandler(`${s}-kind`,r,n,this.name),this._doAddInternalHandler(`${s}`,r,n,this.name,this.id)}_doAddInternalHandler(r,n,s,i="",o=""){const a={};a.name=r,a.subject=ts.controlSubject(n,i,o),a.handler=s,this.setupHandler(a,!0)}start(){const r=Vt(),n=(c,l)=>c?(this.close(c),Promise.reject(c)):this.stats().then(u=>(l==null||l.respond(r.encode(u)),Promise.resolve())),s=(c,l)=>c?(this.close(c),Promise.reject(c)):(l==null||l.respond(r.encode(this.info())),Promise.resolve()),i=r.encode({type:Gr.PING,name:this.name,id:this.id,version:this.version}),o=(c,l)=>c?(this.close(c).then().catch(),Promise.reject(c)):(l.respond(i),Promise.resolve()),a=(c,l)=>c?(this.close(c),Promise.reject(c)):(l==null||l.respond(Vt().encode(this.schema())),Promise.resolve());return this.addInternalHandler(Kt.PING,o),this.addInternalHandler(Kt.STATS,n),this.addInternalHandler(Kt.INFO,s),this.addInternalHandler(Kt.SCHEMA,a),this.handlers.forEach(c=>{const{subject:l}=c;typeof l=="string"&&c.handler!==null&&this.setupHandler(c)}),Promise.resolve(this)}close(r){if(this._stopped)return this._done;this._stopped=!0;let n=[];return this.nc.isClosed()||(n=this.handlers.concat(this.internal).map(s=>s.sub.drain())),Promise.allSettled(n).then(()=>{this._done.resolve(r||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(r){return this.close(r)}schema(){const r={type:Gr.SCHEMA,name:this.name,id:this.id,version:this.version,api_url:this.config.apiURL,endpoints:[]};return r.endpoints=this.handlers.map(n=>{const{schema:s,subject:i,name:o}=n;return{schema:s,subject:i,name:o}}),r}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const r of this.handlers)r.stats.reset(r.qi)}addGroup(r){return new Wn(this,r)}addEndpoint(r,n){return new Wn(this).addEndpoint(r,n)}_addEndpoint(r,n=!1){const s=n?this:new pt;s.noIterator=typeof r.handler=="function",s.noIterator||(r.handler=(o,a)=>{o?this.stop(o).catch():s.push(new Xc(a))},s.iterClosed.then(()=>{this.close().catch()}));const i=this.setupHandler(r,!1);return i.qi=s,this.handlers.push(i),s}}class I_{constructor(t,r){g(this,"name");g(this,"subject");g(this,"average_processing_time");g(this,"num_requests");g(this,"processing_time");g(this,"num_errors");g(this,"last_error");g(this,"data");this.name=t,this.subject=r,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0}reset(t){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const r=t;r&&(r.time=0,r.processed=0)}countLatency(t){this.num_requests++,this.processing_time+=Ye(Date.now()-t),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(t){this.num_errors++,this.last_error=t.message}_stats(){const{name:t,subject:r,average_processing_time:n,num_errors:s,num_requests:i,processing_time:o,last_error:a,data:c}=this;return{name:t,subject:r,average_processing_time:n,num_errors:s,num_requests:i,processing_time:o,last_error:a,data:c}}stats(t){const r=t;return(r==null?void 0:r.noIterator)===!1&&(this.processing_time=r.time,this.num_requests=r.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}const k_="$JS.API";function T_(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),ci({apiPrefix:k_,timeout:5e3},e)}class rs{constructor(t,r){g(this,"nc");g(this,"opts");g(this,"prefix");g(this,"timeout");g(this,"jc");this.nc=t,this.opts=T_(r),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=Vt()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,r=null,n){n=n||{},n.timeout=this.timeout;let s=at;r&&(s=this.jc.encode(r));const i=await this.nc.request(t,s,n);return this.parseJsResponse(i)}async findStream(t){const r={subject:t},s=await this._request(`${this.prefix}.STREAM.NAMES`,r);if(!s.streams||s.streams.length!==1)throw new Error("no stream matches subject");return s.streams[0]}parseJsResponse(t){const r=this.jc.decode(t.data),n=r;if(n.error){const s=ff(n.error.code,n.error.description);if(s!==null)throw s.api_error=n.error,s}return r}}class xn{constructor(t,r,n,s){g(this,"err");g(this,"offset");g(this,"pageInfo");g(this,"subject");g(this,"jsm");g(this,"filter");g(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=n,this.offset=0,this.pageInfo={},this.filter=r,this.payload=s||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const r=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=r;const n=this.filter(r);return this.offset+=n.length,n}catch(r){throw this.err=r,r}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const r of t)yield r;t=await this.next()}}}class hf extends rs{constructor(t,r){super(t,r)}async add(t,r){if(dt(t),r.deliver_group&&r.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(r.deliver_group&&r.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const n={};n.config=r,n.stream_name=t,n.config.durable_name&&Qr(n.config.durable_name);const s=this.nc,{min:i,ok:o}=s.features.get(xt.JS_NEW_CONSUMER_CREATE_API),a=r.name===""?void 0:r.name;if(a&&!o)throw new Error(`consumer 'name' requires server ${i}`);if(a){const f=uf(a);if(f.length)throw new Error(`consumer 'name' ${f}`)}let c,l="";if(o&&(l=r.name??r.durable_name??""),l!==""){let f=r.filter_subject??void 0;f===">"&&(f=void 0),c=f!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${l}.${f}`:`${this.prefix}.CONSUMER.CREATE.${t}.${l}`}else c=r.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${r.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(c,n)}async update(t,r,n){const s=await this.info(t,r),i=n;return this.add(t,Object.assign(s.config,i))}async info(t,r){return dt(t),Qr(r),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${r}`)}async delete(t,r){return dt(t),Qr(r),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${r}`)).success}list(t){dt(t);const r=s=>s.consumers,n=`${this.prefix}.CONSUMER.LIST.${t}`;return new xn(n,r,this)}}class df{constructor(t,r){g(this,"token");g(this,"received");g(this,"ctx");g(this,"requestSubject");g(this,"mux");this.mux=t,this.requestSubject=r,this.received=0,this.token=ui.next(),this.ctx=new Error}}class N_ extends df{constructor(r,n,s={maxWait:1e3}){super(r,n);g(this,"callback");g(this,"done");g(this,"timer");g(this,"max");g(this,"opts");if(this.opts=s,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof s.maxMessages=="number"&&s.maxMessages>0?s.maxMessages:-1,this.done=We(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},s.maxWait)}cancel(r){r&&this.callback(r,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(r,n){r?(r.stack+=`

${this.ctx.stack}`,this.cancel(r)):(this.callback(null,n),this.opts.strategy===Gt.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===Gt.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===Gt.SentinelMsg&&n&&n.data.length===0&&this.cancel())}}class mf extends df{constructor(r,n,s={timeout:1e3}){super(r,n);g(this,"deferred");g(this,"timer");this.deferred=We(),this.timer=li(s.timeout)}resolver(r,n){this.timer&&this.timer.cancel(),r?(r.stack+=`

${this.ctx.stack}`,this.deferred.reject(r)):this.deferred.resolve(n),this.cancel()}cancel(r){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(r||ce.errorForCode(X.Cancelled))}}const Qc=Uint8Array.of(43,65,67,75),M_=Uint8Array.of(45,78,65,75),wn=Uint8Array.of(43,87,80,73),R_=Uint8Array.of(43,78,88,84),L_=Uint8Array.of(43,84,69,82,77),j_=Uint8Array.of(32);function Ds(e){return new $_(e)}function F_(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const r={};return r.domain=t[2]==="_"?"":t[2],r.account_hash=t[3],r.stream=t[4],r.consumer=t[5],r.redeliveryCount=parseInt(t[6],10),r.redelivered=r.redeliveryCount>1,r.streamSequence=parseInt(t[7],10),r.deliverySequence=parseInt(t[8],10),r.timestampNanos=parseInt(t[9],10),r.pending=parseInt(t[10],10),r}class $_{constructor(t){g(this,"msg");g(this,"di");g(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=F_(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===wn[0]&&t[1]===wn[1]&&t[2]===wn[2]&&t[3]===wn[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const r=this.msg.publisher,n=new mf(r.muxSubscriptions,this.msg.reply);r.request(n);try{r.publish(this.msg.reply,Qc,{reply:`${r.muxSubscriptions.baseInbox}${n.token}`})}catch(s){n.cancel(s)}try{return await Promise.race([n.timer,n.deferred]),!0}catch(s){n.cancel(s)}}return!1}ack(){this.doAck(Qc)}nak(t){let r=M_;t&&(r=of().encode(`-NAK ${JSON.stringify({delay:Ye(t)})}`)),this.doAck(r)}working(){this.doAck(wn)}next(t,r={batch:1}){const n={};n.batch=r.batch||1,n.no_wait=r.no_wait||!1,r.expires&&r.expires>0&&(n.expires=Ye(r.expires));const s=Vt().encode(n),i=es.concat(R_,j_,s),o=t?{reply:t}:void 0;this.msg.respond(i,o)}term(){this.doAck(L_)}}function qr(e,t,r=!1){if(r===!0&&!e)throw ce.errorForCode(X.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw ce.errorForCode(X.ApiError,new Error(`${t} is not a function`))}class U_ extends pt{constructor(r,n,s){super();g(this,"sub");g(this,"adapter");g(this,"subIterDone");qr(s.adapter,"adapter",!0),this.adapter=s.adapter,s.callback&&qr(s.callback,"callback"),this.noIterator=typeof s.callback=="function",s.ingestionFilterFn&&(qr(s.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=s.ingestionFilterFn),s.protocolFilterFn&&(qr(s.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=s.protocolFilterFn),s.dispatchedFn&&(qr(s.dispatchedFn,"dispatchedFn"),this.dispatchedFn=s.dispatchedFn),s.cleanupFn&&qr(s.cleanupFn,"cleanupFn");let i=(u,f)=>{this.callback(u,f)};if(s.callback){const u=s.callback;i=(f,d)=>{const[b,x]=this.adapter(f,d);if(b){u(b,null);return}const{ingest:I}=this.ingestionFilterFn?this.ingestionFilterFn(x,this):{ingest:!0};I&&(!this.protocolFilterFn||this.protocolFilterFn(x))&&(u(b,x),this.dispatchedFn&&x&&this.dispatchedFn(x))}}const{max:o,queue:a,timeout:c}=s,l={queue:a,timeout:c,callback:i};o&&o>0&&(l.max=o),this.sub=r.subscribe(n,l),s.cleanupFn&&(this.sub.cleanupFn=s.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=We(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async u=>{await u.closed,this.stop()})(this.sub).then().catch()}unsubscribe(r){this.sub.unsubscribe(r)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(r,n){this.sub.cancelTimeout();const[s,i]=this.adapter(r,n);s&&this.stop(s),i&&this.push(i)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let Et;function D_(e){Et=e}function pf(){return Et!==void 0&&Et.defaultPort!==void 0?Et.defaultPort:4222}function Ri(){return Et!==void 0&&Et.urlParseFn?Et.urlParseFn:void 0}function B_(){if(!Et||typeof Et.factory!="function")throw new Error("transport fn is not set");return Et.factory()}function gf(){return Et!==void 0&&Et.dnsResolveFn?Et.dnsResolveFn:void 0}const q_=4,_f=48,H_=65,z_=97;function V_(e,t,r,n){const s=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,a)=>{s[a]=o}),s[12]=e,s[13]=t,s[14]=r,s[15]=n,s}function _o(e){return W_(e)!==void 0}function W_(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return bf(e);case":":return G_(e)}}function bf(e){const t=new Uint8Array(4);for(let r=0;r<4;r++){if(e.length===0)return;if(r>0){if(e[0]!==".")return;e=e.substring(1)}const{n,c:s,ok:i}=K_(e);if(!i||n>255)return;e=e.substring(s),t[r]=n}return V_(t[0],t[1],t[2],t[3])}function G_(e){const t=new Uint8Array(16);let r=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(r=0,e=e.substring(2),e.length===0))return t;let n=0;for(;n<16;){const{n:s,c:i,ok:o}=Y_(e);if(!o||s>65535)return;if(i<e.length&&e[i]==="."){if(r<0&&n!=16-4||n+4>16)return;const a=bf(e);if(a===void 0)return;t[n]=a[12],t[n+1]=a[13],t[n+2]=a[14],t[n+3]=a[15],e="",n+=q_;break}if(t[n]=s>>8,t[n+1]=s,n+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(r>=0)return;if(r=n,e=e.substring(1),e.length===0)break}}if(e.length===0){if(n<16){if(r<0)return;const s=16-n;for(let i=n-1;i>=r;i--)t[i+s]=t[i];for(let i=r+s-1;i>=r;i--)t[i]=0}else if(r>=0)return;return t}}function K_(e){let t=0,r=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(r=r*10+(e.charCodeAt(t)-_f),r>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n:r,c:t,ok:!0}}function Y_(e){let t=0,r=0;for(r=0;r<e.length;r++){if(48<=e.charCodeAt(r)&&e.charCodeAt(r)<=57)t*=16,t+=e.charCodeAt(r)-_f;else if(97<=e.charCodeAt(r)&&e.charCodeAt(r)<=102)t*=16,t+=e.charCodeAt(r)-z_+10;else if(65<=e.charCodeAt(r)&&e.charCodeAt(r)<=70)t*=16,t+=e.charCodeAt(r)-H_+10;else break;if(t>=16777215)return{n:0,c:r,ok:!1}}return r===0?{n:0,c:r,ok:!1}:{n:t,c:r,ok:!0}}function J_(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function bo(e){return!J_(e)}function X_(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),bo(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=bo(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),r=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,n=r===80?"https":"http",s=new URL(`${n}://${e}`);s.port=`${r}`;let i=s.hostname;return i.charAt(0)==="["&&(i=i.substring(1,i.length-1)),{listen:s.host,hostname:i,port:r}}class Tn{constructor(t,r=!1){g(this,"src");g(this,"listen");g(this,"hostname");g(this,"port");g(this,"didConnect");g(this,"reconnects");g(this,"lastConnect");g(this,"gossiped");g(this,"tlsName");g(this,"resolves");this.src=t,this.tlsName="";const n=X_(t);this.listen=n.listen,this.hostname=n.hostname,this.port=n.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=r}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const r=[];if(_o(this.hostname))return[this];{const n=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${n.join(",")}`);for(const s of n){const i=this.port===80?"https":"http",o=new URL(`${i}://${bo(s)?"["+s+"]":s}`);o.port=`${this.port}`;const a=new Tn(o.host,!1);a.tlsName=this.hostname,r.push(a)}}return t.randomize&&sf(r),this.resolves=r,r}}class Q_{constructor(t=[],r={}){g(this,"firstSelect");g(this,"servers");g(this,"currentServer");g(this,"tlsName");g(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=r.randomize||!1;const n=Ri();t&&(t.forEach(s=>{s=n?n(s):s,this.servers.push(new Tn(s))}),this.randomize&&(this.servers=sf(this.servers))),this.servers.length===0&&this.addServer(`${fo}:${pf()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();_o(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(r=>{r.gossiped&&(r.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,r=!1){const n=Ri();t=n?n(t):t;const s=new Tn(t,r);_o(s.hostname)&&(s.tlsName=this.tlsName),this.servers.push(s)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const r=this.servers.indexOf(t);this.servers.splice(r,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const r=[];let n=[];const s=Ri(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(a=>{a=s?s(a):a;const c=new Tn(a,!0);i.set(a,c)});const o=[];return this.servers.forEach((a,c)=>{const l=a.listen;a.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(c),i.delete(l)}),o.reverse(),o.forEach(a=>{const c=this.servers.splice(a,1);n=n.concat(c[0].listen)}),i.forEach((a,c)=>{this.servers.push(a),r.push(c)}),{added:r,deleted:n}}}class yf extends pt{constructor(r,n,s={}){super();g(this,"sid");g(this,"queue");g(this,"draining");g(this,"max");g(this,"subject");g(this,"drained");g(this,"protocol");g(this,"timer");g(this,"info");g(this,"cleanupFn");g(this,"closed");g(this,"requestSubject");ci(this,s),this.protocol=r,this.subject=n,this.draining=!1,this.noIterator=typeof s.callback=="function",this.closed=We(),s.timeout&&(this.timer=li(s.timeout),this.timer.then(()=>{this.timer=void 0}).catch(i=>{this.stop(i),this.noIterator&&this.callback(i,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(r){if(this.noIterator){const n=this.callback,s=r.ingestionFilterFn?r.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),i=r.protocolFilterFn?r.protocolFilterFn:()=>!0,o=r.dispatchedFn?r.dispatchedFn:()=>{};this.callback=(a,c)=>{const{ingest:l}=s(c);l&&i(c)&&(n(a,c),o(c))}}else this.protocolFilterFn=r.protocolFilterFn,this.dispatchedFn=r.dispatchedFn}callback(r,n){this.cancelTimeout(),r?this.stop(r):this.push(n)}close(){if(!this.isClosed()){this.cancelTimeout();const r=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?r():this.push(r)}}unsubscribe(r){this.protocol.unsubscribe(this,r)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(ce.errorForCode(X.ConnectionClosed)):this.isClosed()?Promise.reject(ce.errorForCode(X.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(We()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class Z_{constructor(){g(this,"mux");g(this,"subs");g(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const r=t.permissionContext,n=this.all();let s;if(r.operation==="subscription"&&(s=n.find(i=>i.subject===r.subject)),r.operation==="publish"&&(s=n.find(i=>i.requestSubject===r.subject)),s)return s.callback(t,{}),s.close(),this.subs.delete(s.sid),s!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class eb{constructor(t,r,n){g(this,"ph");g(this,"interval");g(this,"maxOut");g(this,"timer");g(this,"pendings");this.ph=t,this.interval=r,this.maxOut=n,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:zn.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=We();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class tb extends Error{constructor(t){super(t),this.name="AssertionError"}}function rb(e,t="Assertion failed."){if(!e)throw new tb(t)}const Zc=32*1024,Li=2**32-2;function ps(e,t,r=0){const n=t.byteLength-r;return e.byteLength>n&&(e=e.subarray(0,n)),t.set(e,r),e.byteLength}class ji{constructor(t){g(this,"_buf");g(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const r=this._buf.byteLength;return t<=this.capacity-r?(this._reslice(r+t),r):-1}_reslice(t){rb(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const r=ps(this._buf.subarray(this._off),t);return this._off+=r,r}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(fn.encode(t))}write(t){const r=this._grow(t.byteLength);return ps(t,this._buf,r)}_grow(t){const r=this.length;r===0&&this._off!==0&&this.reset();const n=this._tryGrowByReslice(t);if(n>=0)return n;const s=this.capacity;if(t<=Math.floor(s/2)-r)ps(this._buf.subarray(this._off),this._buf);else{if(s+t>Li)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*s+t,Li));ps(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(r+t,Li)),r}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const r=this._grow(t);this._reslice(r)}readFrom(t){let r=0;const n=new Uint8Array(Zc);for(;;){const s=this.capacity-this.length<Zc,i=s?n:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return r;s?this.write(i.subarray(0,o)):this._reslice(this.length+o),r+=o}}}var ot;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(ot||(ot={}));function el(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const nb=48;class tl{constructor(t){g(this,"dispatcher");g(this,"state");g(this,"as");g(this,"drop");g(this,"hdr");g(this,"ma");g(this,"argBuf");g(this,"msgBuf");this.dispatcher=t,this.state=Z.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let r;for(r=0;r<t.length;r++){const n=t[r];switch(this.state){case Z.OP_START:switch(n){case ee.M:case ee.m:this.state=Z.OP_M,this.hdr=-1,this.ma=el();break;case ee.H:case ee.h:this.state=Z.OP_H,this.hdr=0,this.ma=el();break;case ee.P:case ee.p:this.state=Z.OP_P;break;case ee.PLUS:this.state=Z.OP_PLUS;break;case ee.MINUS:this.state=Z.OP_MINUS;break;case ee.I:case ee.i:this.state=Z.OP_I;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_H:switch(n){case ee.M:case ee.m:this.state=Z.OP_M;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_M:switch(n){case ee.S:case ee.s:this.state=Z.OP_MS;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MS:switch(n){case ee.G:case ee.g:this.state=Z.OP_MSG;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MSG:switch(n){case ee.SPACE:case ee.TAB:this.state=Z.OP_MSG_SPC;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MSG_SPC:switch(n){case ee.SPACE:case ee.TAB:continue;default:this.state=Z.MSG_ARG,this.as=r}break;case Z.MSG_ARG:switch(n){case ee.CR:this.drop=1;break;case ee.NL:{const s=this.argBuf?this.argBuf.bytes():t.subarray(this.as,r-this.drop);this.processMsgArgs(s),this.drop=0,this.as=r+1,this.state=Z.MSG_PAYLOAD,r=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;case Z.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const s=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:s}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Z.MSG_END}else{let s=this.ma.size-this.msgBuf.length;const i=t.length-r;i<s&&(s=i),s>0?(this.msgBuf.write(t.subarray(r,r+s)),r=r+s-1):this.msgBuf.writeByte(n)}else r-this.as>=this.ma.size&&(this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:t.subarray(this.as,r)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Z.MSG_END);break;case Z.MSG_END:switch(n){case ee.NL:this.drop=0,this.as=r+1,this.state=Z.OP_START;break;default:continue}break;case Z.OP_PLUS:switch(n){case ee.O:case ee.o:this.state=Z.OP_PLUS_O;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PLUS_O:switch(n){case ee.K:case ee.k:this.state=Z.OP_PLUS_OK;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PLUS_OK:switch(n){case ee.NL:this.dispatcher.push({kind:ot.OK}),this.drop=0,this.state=Z.OP_START;break}break;case Z.OP_MINUS:switch(n){case ee.E:case ee.e:this.state=Z.OP_MINUS_E;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MINUS_E:switch(n){case ee.R:case ee.r:this.state=Z.OP_MINUS_ER;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MINUS_ER:switch(n){case ee.R:case ee.r:this.state=Z.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MINUS_ERR:switch(n){case ee.SPACE:case ee.TAB:this.state=Z.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_MINUS_ERR_SPC:switch(n){case ee.SPACE:case ee.TAB:continue;default:this.state=Z.MINUS_ERR_ARG,this.as=r}break;case Z.MINUS_ERR_ARG:switch(n){case ee.CR:this.drop=1;break;case ee.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.ERR,data:s}),this.drop=0,this.as=r+1,this.state=Z.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(n))}break;case Z.OP_P:switch(n){case ee.I:case ee.i:this.state=Z.OP_PI;break;case ee.O:case ee.o:this.state=Z.OP_PO;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PO:switch(n){case ee.N:case ee.n:this.state=Z.OP_PON;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PON:switch(n){case ee.G:case ee.g:this.state=Z.OP_PONG;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PONG:switch(n){case ee.NL:this.dispatcher.push({kind:ot.PONG}),this.drop=0,this.state=Z.OP_START;break}break;case Z.OP_PI:switch(n){case ee.N:case ee.n:this.state=Z.OP_PIN;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PIN:switch(n){case ee.G:case ee.g:this.state=Z.OP_PING;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_PING:switch(n){case ee.NL:this.dispatcher.push({kind:ot.PING}),this.drop=0,this.state=Z.OP_START;break}break;case Z.OP_I:switch(n){case ee.N:case ee.n:this.state=Z.OP_IN;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_IN:switch(n){case ee.F:case ee.f:this.state=Z.OP_INF;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_INF:switch(n){case ee.O:case ee.o:this.state=Z.OP_INFO;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_INFO:switch(n){case ee.SPACE:case ee.TAB:this.state=Z.OP_INFO_SPC;break;default:throw this.fail(t.subarray(r))}break;case Z.OP_INFO_SPC:switch(n){case ee.SPACE:case ee.TAB:continue;default:this.state=Z.INFO_ARG,this.as=r}break;case Z.INFO_ARG:switch(n){case ee.CR:this.drop=1;break;case ee.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.INFO,data:s}),this.drop=0,this.as=r+1,this.state=Z.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;default:throw this.fail(t.subarray(r))}}(this.state===Z.MSG_ARG||this.state===Z.MINUS_ERR_ARG||this.state===Z.INFO_ARG)&&!this.argBuf&&(this.argBuf=new ji(t.subarray(this.as,r-this.drop))),this.state===Z.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new ji(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,r=this.ma.reply?this.ma.reply.length:0,n=new Uint8Array(t+r);n.set(this.ma.subject),this.ma.reply&&n.set(this.ma.reply,t),this.argBuf=new ji(n),this.ma.subject=n.subarray(0,t),this.ma.reply&&(this.ma.reply=n.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case ee.SPACE:case ee.TAB:case ee.CR:case ee.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 3:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(r[2]);break;case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.size=this.protoParseInt(r[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,r=""){return r?r=`${r} [${this.state}]`:r=`parse error [${this.state}]`,new Error(`${r}: ${Jt.decode(t)}`)}processHeaderMsgArgs(t){const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case ee.SPACE:case ee.TAB:case ee.CR:case ee.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(r[2]),this.ma.size=this.protoParseInt(r[3]);break;case 5:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.hdr=this.protoParseInt(r[3]),this.ma.size=this.protoParseInt(r[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let r=0;for(let n=0;n<t.length;n++){if(t[n]<48||t[n]>57)return-1;r=r*10+(t[n]-nb)}return r}}var Z;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(Z||(Z={}));var ee;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(ee||(ee={}));const sb=1024*32,ib=/^INFO\s+([^\r\n]+)\r\n/i;function nr(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${ui.next()}`}class ob{constructor(){g(this,"baseInbox");g(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${nr(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const r=t.subject||"";return r.indexOf(this.baseInbox)===0?r.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,r){if(r&&r.permissionContext){if(t)return this.all().forEach(s=>{s.resolver(r,{})}),!0;const n=r.permissionContext;if(n.operation==="publish"){const s=this.all().find(i=>i.requestSubject===n.subject);if(s)return s.resolver(r,{}),!0}}return!1}dispatcher(){return(t,r)=>{const n=this.getToken(r);if(n){const s=this.get(n);s&&(t===null&&r.headers&&(t=af(r)),s.resolver(t,r))}}}close(){const t=ce.errorForCode(X.Timeout);this.reqs.forEach(r=>{r.resolver(t,{})})}}const ab=kn(`PONG\r
`),rl=kn(`PING\r
`);class cb{constructor(t,r,n){g(this,"echo");g(this,"no_responders");g(this,"protocol");g(this,"verbose");g(this,"pedantic");g(this,"jwt");g(this,"nkey");g(this,"sig");g(this,"user");g(this,"pass");g(this,"auth_token");g(this,"tls_required");g(this,"name");g(this,"lang");g(this,"version");g(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=r.noEcho?!1:void 0,this.verbose=r.verbose,this.pedantic=r.pedantic,this.tls_required=r.tls?!0:void 0,this.name=r.name;const s=(r&&r.authenticator?r.authenticator(n):{})||{};ci(this,s)}}class Bs{constructor(t,r){g(this,"connected");g(this,"connectedOnce");g(this,"infoReceived");g(this,"info");g(this,"muxSubscriptions");g(this,"options");g(this,"outbound");g(this,"pongs");g(this,"subscriptions");g(this,"transport");g(this,"noMorePublishing");g(this,"connectError");g(this,"publisher");g(this,"_closed");g(this,"closed");g(this,"listeners");g(this,"heartbeats");g(this,"parser");g(this,"outMsgs");g(this,"inMsgs");g(this,"outBytes");g(this,"inBytes");g(this,"pendingLimit");g(this,"lastError");g(this,"abortReconnect");g(this,"servers");g(this,"server");g(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=sb,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=r,this.subscriptions=new Z_,this.muxSubscriptions=new ob,this.outbound=new es,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new O_({major:0,minor:0,micro:0});const n=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new Q_(n,{randomize:!t.noRandomize}),this.closed=We(),this.parser=new tl(this),this.heartbeats=new eb(this,this.options.pingInterval||nf,this.options.maxPingOut||u_)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const r=ce.errorForCode(X.Disconnect);r.stack="",t.forEach(n=>{n.reject(r)}),this.parser=new tl(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(r=>{r.push(t)})}status(){const t=new pt;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=We();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=r=>{t.reject(r)},this.transport=B_(),this.transport.closed().then(async r=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:zn.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:tr.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var r;this.dispatchStatus({type:tr.Reconnect,data:this.servers.getCurrentServer().toString()}),((r=this.lastError)==null?void 0:r.code)===X.AuthenticationExpired&&(this.lastError=void 0)}).catch(r=>{this._close(r)}):await this._close(t)}async dial(t){const r=this.prepare();let n;try{n=li(this.options.timeout||2e4);const s=this.transport.connect(t,this.options);await Promise.race([s,n]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(s){r.reject(s)}try{await Promise.race([n,r]),n&&n.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(s){throw n&&n.cancel(),await this.transport.close(s),s}}async _doDial(t){const r=await t.resolve({fn:gf(),debug:this.options.debug,randomize:!this.options.noRandomize});let n=null;for(const s of r)try{n=null,this.dispatchStatus({type:zn.Reconnecting,data:s.toString()}),await this.dial(s);return}catch(i){n=i}throw n}async dialLoop(){let t;for(;;){this._closed&&this.servers.clear();const r=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():rf;let n=r;const s=this.selectServer();if(!s||this.abortReconnect)throw t||(this.lastError?this.lastError:ce.errorForCode(X.ConnectionRefused));const i=Date.now();if(s.lastConnect===0||s.lastConnect+r<=i){s.lastConnect=Date.now();try{await this._doDial(s);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}s.reconnects++;const a=this.options.maxReconnectAttempts||0;a!==-1&&s.reconnects>=a&&this.servers.removeCurrentServer()}}else n=Math.min(n,s.lastConnect+r-i),await Qo(n)}}static async connect(t,r){const n=new Bs(t,r);return await n.dialLoop(),n}static toError(t){const r=t?t.toLowerCase():"";if(r.indexOf("permissions violation")!==-1){const n=new ce(t,X.PermissionsViolation),s=t.match(/(Publish|Subscription) to "(\S+)"/);return s&&(n.permissionContext={operation:s[1].toLowerCase(),subject:s[2]}),n}else return r.indexOf("authorization violation")!==-1?new ce(t,X.AuthorizationViolation):r.indexOf("user authentication expired")!==-1?new ce(t,X.AuthenticationExpired):new ce(t,X.ProtocolError)}processMsg(t,r){if(this.inMsgs++,this.inBytes+=r.length,!this.subscriptions.sidCounter)return;const n=this.subscriptions.get(t.sid);n&&(n.received+=1,n.callback&&n.callback(null,new cf(t,r,this)),n.max!==void 0&&n.received>=n.max&&n.unsubscribe())}processError(t){const r=zc(t),n=Bs.toError(r),s={type:tr.Error,data:n.code};if(n.isPermissionError()){let i=!1;if(n.permissionContext){s.permissionContext=n.permissionContext;const o=this.subscriptions.getMux();i=(o==null?void 0:o.subject)===n.permissionContext.subject}this.subscriptions.handleError(n),this.muxSubscriptions.handleError(i,n),i&&this.subscriptions.setMux(null)}this.dispatchStatus(s),this.handleError(n)}handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(ab)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const r=JSON.parse(zc(t));this.info=r;const n=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(r);if(!this.infoReceived){this.features.update(Rr(r.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const a=new cb({version:i,lang:o},this.options,r.nonce);r.headers&&(a.headers=!0,a.no_responders=!0);const c=JSON.stringify(a);this.transport.send(kn(`CONNECT ${c}${Pr}`)),this.transport.send(rl)}catch(a){this._close(a)}}n&&this.dispatchStatus({type:tr.Update,data:n}),(r.ldm!==void 0?r.ldm:!1)&&this.dispatchStatus({type:tr.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case ot.MSG:{const{msg:r,data:n}=t;this.processMsg(r,n);break}case ot.OK:break;case ot.ERR:this.processError(t.data);break;case ot.PING:this.processPing();break;case ot.PONG:this.processPong();break;case ot.INFO:this.processInfo(t.data);break}}sendCommand(t,...r){const n=this.outbound.length();let s;typeof t=="string"?s=kn(t):s=t,this.outbound.fill(s,...r),n===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,r,n){let s=r.length;n=n||{},n.reply=n.reply||"";let i=at,o=0;if(n.headers){if(this.info&&!this.info.headers)throw new ce("headers",X.ServerOptionNotAvailable);i=n.headers.encode(),o=i.length,s=r.length+o}if(this.info&&s>this.info.max_payload)throw ce.errorForCode(X.MaxPayloadExceeded);this.outBytes+=s,this.outMsgs++;let a;n.headers?(n.reply?a=`HPUB ${t} ${n.reply} ${o} ${s}${Pr}`:a=`HPUB ${t} ${o} ${s}\r
`,this.sendCommand(a,i,r,js)):(n.reply?a=`PUB ${t} ${n.reply} ${s}\r
`:a=`PUB ${t} ${s}\r
`,this.sendCommand(a,r,js))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,r){this.unsub(t,r),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,r){!t||this.isClosed()||(r?this.sendCommand(`UNSUB ${t.sid} ${r}${Pr}`):this.sendCommand(`UNSUB ${t.sid}${Pr}`),t.max=r)}resub(t,r){!t||this.isClosed()||(t.subject=r,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=We()),this.pongs.push(t),this.sendCommand(rl),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(r=>{const n=r;n.queue?t.push(`SUB ${n.subject} ${n.queue} ${n.sid}${Pr}`):t.push(`SUB ${n.subject} ${n.sid}${Pr}`)}),t.length&&this.transport.send(kn(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(r=>{r.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),r=[];return t.forEach(n=>{r.push(n.drain())}),Promise.all(r).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const r=this.muxSubscriptions.init(this.options.inboxPrefix),n=new yf(this,`${r}*`);n.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(n),this.subscribe(n)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function sr(e){return new lb(e)}class lb{constructor(t){g(this,"config");g(this,"ordered");g(this,"mack");g(this,"stream");g(this,"callbackFn");g(this,"max");g(this,"qname");g(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=x_("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?et.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Qr(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=vt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=vt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=vt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=vt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=vt.Last,this}deliverNew(){return this.config.deliver_policy=vt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=et.None,this}ackAll(){return this.config.ack_policy=et.All,this}ackExplicit(){return this.config.ack_policy=et.Explicit,this}ackWait(t){return this.config.ack_wait=Ye(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=on.Instant,this}replayOriginal(){return this.config.replay_policy=on.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=Ye(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,r){return this.stream=t,this.config.durable_name=r,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=Ye(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=Ye(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function nl(e){return typeof e.getOpts=="function"}class wf{constructor(t,r,n={maxOut:2}){g(this,"interval");g(this,"maxOut");g(this,"cancelAfter");g(this,"timer");g(this,"autoCancelTimer");g(this,"last");g(this,"missed");g(this,"count");g(this,"callback");this.interval=t,this.maxOut=(n==null?void 0:n.maxOut)||2,this.cancelAfter=(n==null?void 0:n.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=r,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,r=0,n=2){this.interval=t,this.maxOut=n,this.cancelAfter=r,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.interval>this.last&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}class sl{static encode(t){if(typeof t=="string")return btoa(t);const r=Array.from(t);return btoa(String.fromCharCode(...r))}static decode(t,r=!1){const n=atob(t);return r?Uint8Array.from(n,s=>s.charCodeAt(0)):n}}class qs{static encode(t){return qs.toB64URLEncoding(sl.encode(t))}static decode(t,r=!1){return sl.decode(qs.fromB64URLEncoding(t),r)}static toB64URLEncoding(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}function il(e){const t=e.length;let r=e.indexOf("=");r===-1&&(r=t);const n=r===t?0:4-r%4;return[r,n]}function ub(e,t,r=!1){function n(o,a){return Math.floor((o+a)*3/4-a)}function s(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function i(o,a,c){const l=new Array((c-a)/3);for(let u=a,f=0;u<c;u+=3)l[f++]=s((o[u]<<16)+(o[u+1]<<8)+o[u+2]);return l.join("")}return{byteLength(o){return n.apply(null,il(o))},toUint8Array(o){const[a,c]=il(o),l=new Uint8Array(n(a,c)),u=c?a-4:a;let f,d=0,b;for(b=0;b<u;b+=4)f=t[o.charCodeAt(b)]<<18|t[o.charCodeAt(b+1)]<<12|t[o.charCodeAt(b+2)]<<6|t[o.charCodeAt(b+3)],l[d++]=f>>16&255,l[d++]=f>>8&255,l[d++]=f&255;return c===2?(f=t[o.charCodeAt(b)]<<2|t[o.charCodeAt(b+1)]>>4,l[d++]=f&255):c===1&&(f=t[o.charCodeAt(b)]<<10|t[o.charCodeAt(b+1)]<<4|t[o.charCodeAt(b+2)]>>2,l[d++]=f>>8&255,l[d++]=f&255),l},fromUint8Array(o){const c=o.length,l=c%3,u=c-l,f=new Array(Math.ceil(u/16383)+(l?1:0));let d=0,b;for(let I=0;I<u;I+=16383)b=I+16383,f[d++]=i(o,I,b>u?u:b);let x;return l===1?(x=o[u],f[d]=e[x>>2]+e[x<<4&63],r||(f[d]+="==")):l===2&&(x=o[u]<<8|o[u+1]&255,f[d]=e[x>>10]+e[x>>4&63]+e[x<<2&63],r||(f[d]+="=")),f.join("")}}}const vf=[],xf=[],Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=Fi.length;e<t;++e)vf[e]=Fi[e],xf[Fi.charCodeAt(e)]=e;const{byteLength:wy,toUint8Array:fb,fromUint8Array:hb}=ub(vf,xf,!0),db=new TextDecoder,mb=new TextEncoder;function pb(e){return e.reduce((t,r)=>`${t}${r<16?"0":""}${r.toString(16)}`,"")}function gb(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const r=new Uint8Array(Math.floor(t/2)),n=t/2;for(let s=0;s<n;++s)r[s]=parseInt(e.substr(s*2,2),16);return r}function _b(e,t="utf8"){if(/^utf-?8$/i.test(t))return db.decode(e);if(/^base64$/i.test(t))return hb(e);if(/^hex(?:adecimal)?$/i.test(t))return pb(e);throw new TypeError("Unsupported string encoding.")}function bb(e,t="utf8"){if(/^utf-?8$/i.test(t))return mb.encode(e);if(/^base64$/i.test(t))return fb(e);if(/^hex(?:adecimal)?$/i.test(t))return gb(e);throw new TypeError("Unsupported string encoding.")}class ol{constructor(){g(this,"hashSize",32);g(this,"_buf");g(this,"_bufIdx");g(this,"_count");g(this,"_K");g(this,"_H");g(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,r){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=bb(t,r));for(let s=0,i=t.length;s<i;s++)this._buf[this._bufIdx++]=t[s],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const n=this._count;return(n[0]+=t.length<<3)<t.length<<3&&n[1]++,n[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const r=this._buf;let n=this._bufIdx;for(r[n++]=128;n!==56;)n===64&&(this._transform(),n=0),r[n++]=0;const s=this._count;r[56]=s[1]>>>24&255,r[57]=s[1]>>>16&255,r[58]=s[1]>>>8&255,r[59]=s[1]>>>0&255,r[60]=s[0]>>>24&255,r[61]=s[0]>>>16&255,r[62]=s[0]>>>8&255,r[63]=s[0]>>>0&255,this._transform();const i=new Uint8Array(32);for(let o=0;o<8;o++)i[(o<<2)+0]=this._H[o]>>>24&255,i[(o<<2)+1]=this._H[o]>>>16&255,i[(o<<2)+2]=this._H[o]>>>8&255,i[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?_b(i,t):i}_transform(){const t=this._H;let r=t[0],n=t[1],s=t[2],i=t[3],o=t[4],a=t[5],c=t[6],l=t[7];const u=new Uint32Array(16);let f;for(f=0;f<16;f++)u[f]=this._buf[(f<<2)+3]|this._buf[(f<<2)+2]<<8|this._buf[(f<<2)+1]<<16|this._buf[f<<2]<<24;for(f=0;f<64;f++){let d;if(f<16)d=u[f];else{let b=u[f+1&15],x=u[f+14&15];d=u[f&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(x>>>17^x>>>19^x>>>10^x<<15^x<<13)+u[f&15]+u[f+9&15]|0}d=d+l+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(a^c))+this._K[f]|0,l=c,c=a,a=o,o=i+d,i=s,s=n,n=r,r=d+(n&s^i&(n^s))+(n>>>2^n>>>13^n>>>22^n<<30^n<<19^n<<10)|0}t[0]=t[0]+r|0,t[1]=t[1]+n|0,t[2]=t[2]+s|0,t[3]=t[3]+i|0,t[4]=t[4]+o|0,t[5]=t[5]+a|0,t[6]=t[6]+c|0,t[7]=t[7]+l|0}}class yb extends rs{constructor(t,r){super(t,r)}async getMessage(t,r){dt(t);let n=r;const{last_by_subj:s}=n;s&&(n=null);const i=n?this.jc.encode(n):at,o=this.opts.apiPrefix||"$JS.API",a=s?`${o}.DIRECT.GET.${t}.${s}`:`${o}.DIRECT.GET.${t}`,c=await this.nc.request(a,i),l=Zr(c);if(l)return Promise.reject(l);const u=new wb(c);return Promise.resolve(u)}}class wb{constructor(t){g(this,"data");g(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(Wr.Subject)}get seq(){const t=this.header.get(Wr.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(Wr.TimeStamp)))}get stream(){return this.header.get(Wr.Stream)}}(function(e){var t=function(h,p){this.hi=h|0,this.lo=p|0},r=function(h){var p,m=new Float64Array(16);if(h)for(p=0;p<h.length;p++)m[p]=h[p];return m},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=r(),a=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(h,p){return h<<p|h>>>32-p}function I(h,p){var m=h[p+3]&255;return m=m<<8|h[p+2]&255,m=m<<8|h[p+1]&255,m<<8|h[p+0]&255}function q(h,p){var m=h[p]<<24|h[p+1]<<16|h[p+2]<<8|h[p+3],y=h[p+4]<<24|h[p+5]<<16|h[p+6]<<8|h[p+7];return new t(m,y)}function k(h,p,m){var y;for(y=0;y<4;y++)h[p+y]=m&255,m>>>=8}function j(h,p,m){h[p]=m.hi>>24&255,h[p+1]=m.hi>>16&255,h[p+2]=m.hi>>8&255,h[p+3]=m.hi&255,h[p+4]=m.lo>>24&255,h[p+5]=m.lo>>16&255,h[p+6]=m.lo>>8&255,h[p+7]=m.lo&255}function H(h,p,m,y,v){var E,F=0;for(E=0;E<v;E++)F|=h[p+E]^m[y+E];return(1&F-1>>>8)-1}function z(h,p,m,y){return H(h,p,m,y,16)}function D(h,p,m,y){return H(h,p,m,y,32)}function fe(h,p,m,y,v){var E=new Uint32Array(16),F=new Uint32Array(16),B=new Uint32Array(16),P=new Uint32Array(4),L,ie,Oe;for(L=0;L<4;L++)F[5*L]=I(y,4*L),F[1+L]=I(m,4*L),F[6+L]=I(p,4*L),F[11+L]=I(m,16+4*L);for(L=0;L<16;L++)B[L]=F[L];for(L=0;L<20;L++){for(ie=0;ie<4;ie++){for(Oe=0;Oe<4;Oe++)P[Oe]=F[(5*ie+4*Oe)%16];for(P[1]^=x(P[0]+P[3]|0,7),P[2]^=x(P[1]+P[0]|0,9),P[3]^=x(P[2]+P[1]|0,13),P[0]^=x(P[3]+P[2]|0,18),Oe=0;Oe<4;Oe++)E[4*ie+(ie+Oe)%4]=P[Oe]}for(Oe=0;Oe<16;Oe++)F[Oe]=E[Oe]}if(v){for(L=0;L<16;L++)F[L]=F[L]+B[L]|0;for(L=0;L<4;L++)F[5*L]=F[5*L]-I(y,4*L)|0,F[6+L]=F[6+L]-I(p,4*L)|0;for(L=0;L<4;L++)k(h,4*L,F[5*L]),k(h,16+4*L,F[6+L])}else for(L=0;L<16;L++)k(h,4*L,F[L]+B[L]|0)}function me(h,p,m,y){return fe(h,p,m,y,!1),0}function Y(h,p,m,y){return fe(h,p,m,y,!0),0}var ue=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function pe(h,p,m,y,v,E,F){var B=new Uint8Array(16),P=new Uint8Array(64),L,ie;if(!v)return 0;for(ie=0;ie<16;ie++)B[ie]=0;for(ie=0;ie<8;ie++)B[ie]=E[ie];for(;v>=64;){for(me(P,B,F,ue),ie=0;ie<64;ie++)h[p+ie]=(m?m[y+ie]:0)^P[ie];for(L=1,ie=8;ie<16;ie++)L=L+(B[ie]&255)|0,B[ie]=L&255,L>>>=8;v-=64,p+=64,m&&(y+=64)}if(v>0)for(me(P,B,F,ue),ie=0;ie<v;ie++)h[p+ie]=(m?m[y+ie]:0)^P[ie];return 0}function Ee(h,p,m,y,v){return pe(h,p,null,0,m,y,v)}function Te(h,p,m,y,v){var E=new Uint8Array(32);return Y(E,y,v,ue),Ee(h,p,m,y.subarray(16),E)}function De(h,p,m,y,v,E,F){var B=new Uint8Array(32);return Y(B,E,F,ue),pe(h,p,m,y,v,E.subarray(16),B)}function T(h,p){var m,y=0;for(m=0;m<17;m++)y=y+(h[m]+p[m]|0)|0,h[m]=y&255,y>>>=8}var A=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function le(h,p,m,y,v,E){var F,B,P,L,ie=new Uint32Array(17),Oe=new Uint32Array(17),Be=new Uint32Array(17),Nt=new Uint32Array(17),Dr=new Uint32Array(17);for(P=0;P<17;P++)Oe[P]=Be[P]=0;for(P=0;P<16;P++)Oe[P]=E[P];for(Oe[3]&=15,Oe[4]&=252,Oe[7]&=15,Oe[8]&=252,Oe[11]&=15,Oe[12]&=252,Oe[15]&=15;v>0;){for(P=0;P<17;P++)Nt[P]=0;for(P=0;P<16&&P<v;++P)Nt[P]=m[y+P];for(Nt[P]=1,y+=P,v-=P,T(Be,Nt),B=0;B<17;B++)for(ie[B]=0,P=0;P<17;P++)ie[B]=ie[B]+Be[P]*(P<=B?Oe[B-P]:320*Oe[B+17-P]|0)|0|0;for(B=0;B<17;B++)Be[B]=ie[B];for(L=0,P=0;P<16;P++)L=L+Be[P]|0,Be[P]=L&255,L>>>=8;for(L=L+Be[16]|0,Be[16]=L&3,L=5*(L>>>2)|0,P=0;P<16;P++)L=L+Be[P]|0,Be[P]=L&255,L>>>=8;L=L+Be[16]|0,Be[16]=L}for(P=0;P<17;P++)Dr[P]=Be[P];for(T(Be,A),F=-(Be[16]>>>7)|0,P=0;P<17;P++)Be[P]^=F&(Dr[P]^Be[P]);for(P=0;P<16;P++)Nt[P]=E[P+16];for(Nt[16]=0,T(Be,Nt),P=0;P<16;P++)h[p+P]=Be[P];return 0}function ne(h,p,m,y,v,E){var F=new Uint8Array(16);return le(F,0,m,y,v,E),z(h,p,F,0)}function ae(h,p,m,y,v){var E;if(m<32)return-1;for(De(h,0,p,0,m,y,v),le(h,16,h,32,m-32,h),E=0;E<16;E++)h[E]=0;return 0}function ye(h,p,m,y,v){var E,F=new Uint8Array(32);if(m<32||(Te(F,0,32,y,v),ne(p,16,p,32,m-32,F)!==0))return-1;for(De(h,0,p,0,m,y,v),E=0;E<32;E++)h[E]=0;return 0}function he(h,p){var m;for(m=0;m<16;m++)h[m]=p[m]|0}function de(h){var p,m;for(m=0;m<16;m++)h[m]+=65536,p=Math.floor(h[m]/65536),h[(m+1)*(m<15?1:0)]+=p-1+37*(p-1)*(m===15?1:0),h[m]-=p*65536}function be(h,p,m){for(var y,v=~(m-1),E=0;E<16;E++)y=v&(h[E]^p[E]),h[E]^=y,p[E]^=y}function $e(h,p){var m,y,v,E=r(),F=r();for(m=0;m<16;m++)F[m]=p[m];for(de(F),de(F),de(F),y=0;y<2;y++){for(E[0]=F[0]-65517,m=1;m<15;m++)E[m]=F[m]-65535-(E[m-1]>>16&1),E[m-1]&=65535;E[15]=F[15]-32767-(E[14]>>16&1),v=E[15]>>16&1,E[14]&=65535,be(F,E,1-v)}for(m=0;m<16;m++)h[2*m]=F[m]&255,h[2*m+1]=F[m]>>8}function Pe(h,p){var m=new Uint8Array(32),y=new Uint8Array(32);return $e(m,h),$e(y,p),D(m,0,y,0)}function N(h){var p=new Uint8Array(32);return $e(p,h),p[0]&1}function G(h,p){var m;for(m=0;m<16;m++)h[m]=p[2*m]+(p[2*m+1]<<8);h[15]&=32767}function $(h,p,m){var y;for(y=0;y<16;y++)h[y]=p[y]+m[y]|0}function re(h,p,m){var y;for(y=0;y<16;y++)h[y]=p[y]-m[y]|0}function te(h,p,m){var y,v,E=new Float64Array(31);for(y=0;y<31;y++)E[y]=0;for(y=0;y<16;y++)for(v=0;v<16;v++)E[y+v]+=p[y]*m[v];for(y=0;y<15;y++)E[y]+=38*E[y+16];for(y=0;y<16;y++)h[y]=E[y];de(h),de(h)}function we(h,p){te(h,p,p)}function ge(h,p){var m=r(),y;for(y=0;y<16;y++)m[y]=p[y];for(y=253;y>=0;y--)we(m,m),y!==2&&y!==4&&te(m,m,p);for(y=0;y<16;y++)h[y]=m[y]}function _(h,p){var m=r(),y;for(y=0;y<16;y++)m[y]=p[y];for(y=250;y>=0;y--)we(m,m),y!==1&&te(m,m,p);for(y=0;y<16;y++)h[y]=m[y]}function w(h,p,m){var y=new Uint8Array(32),v=new Float64Array(80),E,F,B=r(),P=r(),L=r(),ie=r(),Oe=r(),Be=r();for(F=0;F<31;F++)y[F]=p[F];for(y[31]=p[31]&127|64,y[0]&=248,G(v,m),F=0;F<16;F++)P[F]=v[F],ie[F]=B[F]=L[F]=0;for(B[0]=ie[0]=1,F=254;F>=0;--F)E=y[F>>>3]>>>(F&7)&1,be(B,P,E),be(L,ie,E),$(Oe,B,L),re(B,B,L),$(L,P,ie),re(P,P,ie),we(ie,Oe),we(Be,B),te(B,L,B),te(L,P,Oe),$(Oe,B,L),re(B,B,L),we(P,B),re(L,ie,Be),te(B,L,c),$(B,B,ie),te(L,L,B),te(B,ie,Be),te(ie,P,v),we(P,Oe),be(B,P,E),be(L,ie,E);for(F=0;F<16;F++)v[F+16]=B[F],v[F+32]=L[F],v[F+48]=P[F],v[F+64]=ie[F];var Nt=v.subarray(32),Dr=v.subarray(16);return ge(Nt,Nt),te(Dr,Dr,Nt),$e(h,Dr),0}function C(h,p){return w(h,p,i)}function M(h,p){return n(p,32),C(h,p)}function U(h,p,m){var y=new Uint8Array(32);return w(y,m,p),Y(h,s,y,ue)}var W=ae,Q=ye;function V(h,p,m,y,v,E){var F=new Uint8Array(32);return U(F,v,E),W(h,p,m,y,F)}function K(h,p,m,y,v,E){var F=new Uint8Array(32);return U(F,v,E),Q(h,p,m,y,F)}function R(){var h=0,p=0,m=0,y=0,v=65535,E,F,B;for(B=0;B<arguments.length;B++)E=arguments[B].lo,F=arguments[B].hi,h+=E&v,p+=E>>>16,m+=F&v,y+=F>>>16;return p+=h>>>16,m+=p>>>16,y+=m>>>16,new t(m&v|y<<16,h&v|p<<16)}function S(h,p){return new t(h.hi>>>p,h.lo>>>p|h.hi<<32-p)}function O(){var h=0,p=0,m;for(m=0;m<arguments.length;m++)h^=arguments[m].lo,p^=arguments[m].hi;return new t(p,h)}function J(h,p){var m,y,v=32-p;return p<32?(m=h.hi>>>p|h.lo<<v,y=h.lo>>>p|h.hi<<v):p<64&&(m=h.lo>>>p|h.hi<<v,y=h.hi>>>p|h.lo<<v),new t(m,y)}function se(h,p,m){var y=h.hi&p.hi^~h.hi&m.hi,v=h.lo&p.lo^~h.lo&m.lo;return new t(y,v)}function ve(h,p,m){var y=h.hi&p.hi^h.hi&m.hi^p.hi&m.hi,v=h.lo&p.lo^h.lo&m.lo^p.lo&m.lo;return new t(y,v)}function Ae(h){return O(J(h,28),J(h,34),J(h,39))}function Se(h){return O(J(h,14),J(h,18),J(h,41))}function Ue(h){return O(J(h,1),J(h,8),S(h,7))}function ut(h){return O(J(h,19),J(h,61),S(h,6))}var lr=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function hn(h,p,m){var y=[],v=[],E=[],F=[],B,P,L;for(P=0;P<8;P++)y[P]=E[P]=q(h,8*P);for(var ie=0;m>=128;){for(P=0;P<16;P++)F[P]=q(p,8*P+ie);for(P=0;P<80;P++){for(L=0;L<8;L++)v[L]=E[L];for(B=R(E[7],Se(E[4]),se(E[4],E[5],E[6]),lr[P],F[P%16]),v[7]=R(B,Ae(E[0]),ve(E[0],E[1],E[2])),v[3]=R(v[3],B),L=0;L<8;L++)E[(L+1)%8]=v[L];if(P%16===15)for(L=0;L<16;L++)F[L]=R(F[L],F[(L+9)%16],Ue(F[(L+1)%16]),ut(F[(L+14)%16]))}for(P=0;P<8;P++)E[P]=R(E[P],y[P]),y[P]=E[P];ie+=128,m-=128}for(P=0;P<8;P++)j(h,8*P,y[P]);return m}var vr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function Ut(h,p,m){var y=new Uint8Array(64),v=new Uint8Array(256),E,F=m;for(E=0;E<64;E++)y[E]=vr[E];for(hn(y,p,m),m%=128,E=0;E<256;E++)v[E]=0;for(E=0;E<m;E++)v[E]=p[F-m+E];for(v[m]=128,m=256-128*(m<112?1:0),v[m-9]=0,j(v,m-8,new t(F/536870912|0,F<<3)),hn(y,v,m),E=0;E<64;E++)h[E]=y[E];return 0}function Xe(h,p){var m=r(),y=r(),v=r(),E=r(),F=r(),B=r(),P=r(),L=r(),ie=r();re(m,h[1],h[0]),re(ie,p[1],p[0]),te(m,m,ie),$(y,h[0],h[1]),$(ie,p[0],p[1]),te(y,y,ie),te(v,h[3],p[3]),te(v,v,u),te(E,h[2],p[2]),$(E,E,E),re(F,y,m),re(B,E,v),$(P,E,v),$(L,y,m),te(h[0],F,B),te(h[1],L,P),te(h[2],P,B),te(h[3],F,L)}function _t(h,p,m){var y;for(y=0;y<4;y++)be(h[y],p[y],m)}function Fr(h,p){var m=r(),y=r(),v=r();ge(v,p[2]),te(m,p[0],v),te(y,p[1],v),$e(h,y),h[31]^=N(m)<<7}function fi(h,p,m){var y,v;for(he(h[0],o),he(h[1],a),he(h[2],a),he(h[3],o),v=255;v>=0;--v)y=m[v/8|0]>>(v&7)&1,_t(h,p,y),Xe(p,h),Xe(h,h),_t(h,p,y)}function ns(h,p){var m=[r(),r(),r(),r()];he(m[0],f),he(m[1],d),he(m[2],a),te(m[3],f,d),fi(h,m,p)}function hi(h,p,m){var y=new Uint8Array(64),v=[r(),r(),r(),r()],E;for(m||n(p,32),Ut(y,p,32),y[0]&=248,y[31]&=127,y[31]|=64,ns(v,y),Fr(h,v),E=0;E<32;E++)p[E+32]=h[E];return 0}var ss=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function di(h,p){var m,y,v,E;for(y=63;y>=32;--y){for(m=0,v=y-32,E=y-12;v<E;++v)p[v]+=m-16*p[y]*ss[v-(y-32)],m=Math.floor((p[v]+128)/256),p[v]-=m*256;p[v]+=m,p[y]=0}for(m=0,v=0;v<32;v++)p[v]+=m-(p[31]>>4)*ss[v],m=p[v]>>8,p[v]&=255;for(v=0;v<32;v++)p[v]-=m*ss[v];for(y=0;y<32;y++)p[y+1]+=p[y]>>8,h[y]=p[y]&255}function mi(h){var p=new Float64Array(64),m;for(m=0;m<64;m++)p[m]=h[m];for(m=0;m<64;m++)h[m]=0;di(h,p)}function sa(h,p,m,y){var v=new Uint8Array(64),E=new Uint8Array(64),F=new Uint8Array(64),B,P,L=new Float64Array(64),ie=[r(),r(),r(),r()];Ut(v,y,32),v[0]&=248,v[31]&=127,v[31]|=64;var Oe=m+64;for(B=0;B<m;B++)h[64+B]=p[B];for(B=0;B<32;B++)h[32+B]=v[32+B];for(Ut(F,h.subarray(32),m+32),mi(F),ns(ie,F),Fr(h,ie),B=32;B<64;B++)h[B]=y[B];for(Ut(E,h,m+64),mi(E),B=0;B<64;B++)L[B]=0;for(B=0;B<32;B++)L[B]=F[B];for(B=0;B<32;B++)for(P=0;P<32;P++)L[B+P]+=E[B]*v[P];return di(h.subarray(32),L),Oe}function Cf(h,p){var m=r(),y=r(),v=r(),E=r(),F=r(),B=r(),P=r();return he(h[2],a),G(h[1],p),we(v,h[1]),te(E,v,l),re(v,v,h[2]),$(E,h[2],E),we(F,E),we(B,F),te(P,B,F),te(m,P,v),te(m,m,E),_(m,m),te(m,m,v),te(m,m,E),te(m,m,E),te(h[0],m,E),we(y,h[0]),te(y,y,E),Pe(y,v)&&te(h[0],h[0],b),we(y,h[0]),te(y,y,E),Pe(y,v)?-1:(N(h[0])===p[31]>>7&&re(h[0],o,h[0]),te(h[3],h[0],h[1]),0)}function pi(h,p,m,y){var v,E=new Uint8Array(32),F=new Uint8Array(64),B=[r(),r(),r(),r()],P=[r(),r(),r(),r()];if(m<64||Cf(P,y))return-1;for(v=0;v<m;v++)h[v]=p[v];for(v=0;v<32;v++)h[v+32]=y[v];if(Ut(F,h,m),mi(F),fi(B,P,F),ns(P,p.subarray(32)),Xe(B,P),Fr(E,B),m-=64,D(p,0,E,0)){for(v=0;v<m;v++)h[v]=0;return-1}for(v=0;v<m;v++)h[v]=p[v+64];return m}var gi=32,is=24,dn=32,$r=16,mn=32,os=32,pn=32,gn=32,_i=32,ia=is,If=dn,kf=$r,Xt=64,xr=32,Ur=64,bi=32,yi=64;e.lowlevel={crypto_core_hsalsa20:Y,crypto_stream_xor:De,crypto_stream:Te,crypto_stream_salsa20_xor:pe,crypto_stream_salsa20:Ee,crypto_onetimeauth:le,crypto_onetimeauth_verify:ne,crypto_verify_16:z,crypto_verify_32:D,crypto_secretbox:ae,crypto_secretbox_open:ye,crypto_scalarmult:w,crypto_scalarmult_base:C,crypto_box_beforenm:U,crypto_box_afternm:W,crypto_box:V,crypto_box_open:K,crypto_box_keypair:M,crypto_hash:Ut,crypto_sign:sa,crypto_sign_keypair:hi,crypto_sign_open:pi,crypto_secretbox_KEYBYTES:gi,crypto_secretbox_NONCEBYTES:is,crypto_secretbox_ZEROBYTES:dn,crypto_secretbox_BOXZEROBYTES:$r,crypto_scalarmult_BYTES:mn,crypto_scalarmult_SCALARBYTES:os,crypto_box_PUBLICKEYBYTES:pn,crypto_box_SECRETKEYBYTES:gn,crypto_box_BEFORENMBYTES:_i,crypto_box_NONCEBYTES:ia,crypto_box_ZEROBYTES:If,crypto_box_BOXZEROBYTES:kf,crypto_sign_BYTES:Xt,crypto_sign_PUBLICKEYBYTES:xr,crypto_sign_SECRETKEYBYTES:Ur,crypto_sign_SEEDBYTES:bi,crypto_hash_BYTES:yi,gf:r,D:l,L:ss,pack25519:$e,unpack25519:G,M:te,A:$,S:we,Z:re,pow2523:_,add:Xe,set25519:he,modL:di,scalarmult:fi,scalarbase:ns};function oa(h,p){if(h.length!==gi)throw new Error("bad key size");if(p.length!==is)throw new Error("bad nonce size")}function Tf(h,p){if(h.length!==pn)throw new Error("bad public key size");if(p.length!==gn)throw new Error("bad secret key size")}function bt(){for(var h=0;h<arguments.length;h++)if(!(arguments[h]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function aa(h){for(var p=0;p<h.length;p++)h[p]=0}e.randomBytes=function(h){var p=new Uint8Array(h);return n(p,h),p},e.secretbox=function(h,p,m){bt(h,p,m),oa(m,p);for(var y=new Uint8Array(dn+h.length),v=new Uint8Array(y.length),E=0;E<h.length;E++)y[E+dn]=h[E];return ae(v,y,y.length,p,m),v.subarray($r)},e.secretbox.open=function(h,p,m){bt(h,p,m),oa(m,p);for(var y=new Uint8Array($r+h.length),v=new Uint8Array(y.length),E=0;E<h.length;E++)y[E+$r]=h[E];return y.length<32||ye(v,y,y.length,p,m)!==0?null:v.subarray(dn)},e.secretbox.keyLength=gi,e.secretbox.nonceLength=is,e.secretbox.overheadLength=$r,e.scalarMult=function(h,p){if(bt(h,p),h.length!==os)throw new Error("bad n size");if(p.length!==mn)throw new Error("bad p size");var m=new Uint8Array(mn);return w(m,h,p),m},e.scalarMult.base=function(h){if(bt(h),h.length!==os)throw new Error("bad n size");var p=new Uint8Array(mn);return C(p,h),p},e.scalarMult.scalarLength=os,e.scalarMult.groupElementLength=mn,e.box=function(h,p,m,y){var v=e.box.before(m,y);return e.secretbox(h,p,v)},e.box.before=function(h,p){bt(h,p),Tf(h,p);var m=new Uint8Array(_i);return U(m,h,p),m},e.box.after=e.secretbox,e.box.open=function(h,p,m,y){var v=e.box.before(m,y);return e.secretbox.open(h,p,v)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var h=new Uint8Array(pn),p=new Uint8Array(gn);return M(h,p),{publicKey:h,secretKey:p}},e.box.keyPair.fromSecretKey=function(h){if(bt(h),h.length!==gn)throw new Error("bad secret key size");var p=new Uint8Array(pn);return C(p,h),{publicKey:p,secretKey:new Uint8Array(h)}},e.box.publicKeyLength=pn,e.box.secretKeyLength=gn,e.box.sharedKeyLength=_i,e.box.nonceLength=ia,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(h,p){if(bt(h,p),p.length!==Ur)throw new Error("bad secret key size");var m=new Uint8Array(Xt+h.length);return sa(m,h,h.length,p),m},e.sign.open=function(h,p){if(bt(h,p),p.length!==xr)throw new Error("bad public key size");var m=new Uint8Array(h.length),y=pi(m,h,h.length,p);if(y<0)return null;for(var v=new Uint8Array(y),E=0;E<v.length;E++)v[E]=m[E];return v},e.sign.detached=function(h,p){for(var m=e.sign(h,p),y=new Uint8Array(Xt),v=0;v<y.length;v++)y[v]=m[v];return y},e.sign.detached.verify=function(h,p,m){if(bt(h,p,m),p.length!==Xt)throw new Error("bad signature size");if(m.length!==xr)throw new Error("bad public key size");var y=new Uint8Array(Xt+h.length),v=new Uint8Array(Xt+h.length),E;for(E=0;E<Xt;E++)y[E]=p[E];for(E=0;E<h.length;E++)y[E+Xt]=h[E];return pi(v,y,y.length,m)>=0},e.sign.keyPair=function(){var h=new Uint8Array(xr),p=new Uint8Array(Ur);return hi(h,p),{publicKey:h,secretKey:p}},e.sign.keyPair.fromSecretKey=function(h){if(bt(h),h.length!==Ur)throw new Error("bad secret key size");for(var p=new Uint8Array(xr),m=0;m<p.length;m++)p[m]=h[32+m];return{publicKey:p,secretKey:new Uint8Array(h)}},e.sign.keyPair.fromSeed=function(h){if(bt(h),h.length!==bi)throw new Error("bad seed size");for(var p=new Uint8Array(xr),m=new Uint8Array(Ur),y=0;y<32;y++)m[y]=h[y];return hi(p,m,!0),{publicKey:p,secretKey:m}},e.sign.publicKeyLength=xr,e.sign.secretKeyLength=Ur,e.sign.seedLength=bi,e.sign.signatureLength=Xt,e.hash=function(h){bt(h);var p=new Uint8Array(yi);return Ut(p,h,h.length),p},e.hash.hashLength=yi,e.verify=function(h,p){return bt(h,p),h.length===0||p.length===0||h.length!==p.length?!1:H(h,0,p,0,h.length)===0},e.setPRNG=function(h){n=h},function(){var h=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(h&&h.getRandomValues){var p=65536;e.setPRNG(function(m,y){var v,E=new Uint8Array(y);for(v=0;v<y;v+=p)h.getRandomValues(E.subarray(v,v+Math.min(y-v,p)));for(v=0;v<y;v++)m[v]=E[v];aa(E)})}else typeof require<"u"&&(h=require("crypto"),h&&h.randomBytes&&e.setPRNG(function(m,y){var v,E=h.randomBytes(y);for(v=0;v<y;v++)m[v]=E[v];aa(E)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const gs=typeof module<"u"&&module.exports?module.exports:globalThis.nacl;gs.sign.keyPair.fromSeed,gs.sign.detached,gs.sign.detached.verify,gs.randomBytes;var al;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(al||(al={}));var cl;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(cl||(cl={}));function vb(e){return e.authenticator?e.authenticator:e.token?Sb(e.token):e.user?Eb(e.user,e.pass):xb()}function xb(){return()=>{}}function Eb(e,t){return()=>{const r=typeof e=="function"?e():e,n=typeof t=="function"?t():t;return{user:r,pass:n}}}function Sb(e){return()=>({auth_token:typeof e=="function"?e():e})}function Ob(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:nf,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:rf,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function Pb(e){const t=`${fo}:${pf()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new ce("port and servers options are mutually exclusive",X.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${fo}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const r=ci(Ob(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw ce.errorForCode(X.BadAuthentication);if(r.authenticator=vb(r),["reconnectDelayHandler","authenticator"].forEach(n=>{if(r[n]&&typeof r[n]!="function")throw new ce(`${n} option should be a function`,X.NotFunction)}),r.reconnectDelayHandler||(r.reconnectDelayHandler=()=>{let n=r.tls?r.reconnectJitterTLS:r.reconnectJitter;return n&&(n++,n=Math.floor(Math.random()*n)),r.reconnectTimeWait+n}),r.inboxPrefix)try{nr(r.inboxPrefix)}catch(n){throw new ce(n.message,X.ApiError)}if(r.resolve&&typeof gf()!="function")throw new ce("'resolve' is not supported on this client",X.InvalidOption);return r}function Ef(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function Ab(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:Ef(),storage:mo.File}}const _s="KV-Operation",At="KV_",ll="$KV",Cb=/^[-/=.\w]+$/,Ib=/^[-/=.>*\w]+$/,kb=/^[-\w]+$/;function Sf(e){if(e.startsWith(".")||e.endsWith(".")||!Cb.test(e))throw new Error(`invalid key: ${e}`)}function Tb(e){if(e.startsWith(".")||e.endsWith(".")||!Ib.test(e))throw new Error(`invalid key: ${e}`)}function Nb(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let r=!1;for(let n=0;n<t.length;n++)switch(t[n]){case"*":r=!0;break;case">":if(n!==t.length-1)throw new Error(`invalid key: ${e}`);r=!0;break}return r}function Ss(e){if(!kb.test(e))throw new Error(`invalid bucket name: ${e}`)}class Gn{constructor(t,r,n){g(this,"jsm");g(this,"js");g(this,"stream");g(this,"bucket");g(this,"direct");g(this,"codec");g(this,"prefix");g(this,"editPrefix");g(this,"useJsPrefix");g(this,"_prefixLen");g(this,"validateKey",Sf);g(this,"validateSearchKey",Tb);g(this,"hasWildcards",Nb);Ss(t),this.jsm=r,this.js=n,this.bucket=t,this.prefix=ll,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,r,n={}){const s=t,{ok:i,min:o}=s.nc.features.get(xt.JS_KV);if(!i)return Promise.reject(new Error(`kv is only supported on servers ${o} or better`));Ss(r);const a=n.timeout||2e3;let c=s.opts||{};c=Object.assign(c,{timeout:a});const l=await s.nc.jetstreamManager(c),u=new Gn(r,l,t);return await u.init(n),u}static async bind(t,r,n={}){const i=await t.nc.jetstreamManager(),o=await i.streams.info(`${At}${r}`);Ss(o.config.name);const a=new Gn(r,i,t);return Object.assign(a,o),a.codec=n.codec||Ef(),a.direct=o.config.allow_direct??!1,a.initializePrefixes(o),a}async init(t={}){const r=Object.assign(Ab(),t);this.codec=r.codec;const n={};this.stream=n.name=t.streamName??this.bucketName(),n.retention=ho.Limits,n.max_msgs_per_subject=r.history,r.maxBucketSize&&(r.max_bytes=r.maxBucketSize),r.max_bytes&&(n.max_bytes=r.max_bytes),n.max_msg_size=r.maxValueSize,n.storage=r.storage;const s=t.placementCluster??"";if(s&&(t.placement={},t.placement.cluster=s,t.placement.tags=[]),t.placement&&(n.placement=t.placement),t.republish&&(n.republish=t.republish),t.description&&(n.description=t.description),t.mirror){const f=Object.assign({},t.mirror);f.name.startsWith(At)||(f.name=`${At}${f.name}`),n.mirror=f,n.mirror_direct=!0}else if(t.sources){const f=t.sources.map(d=>{const b=Object.assign({},d);b.name.startsWith(At)||(b.name=`${At}${b.name}`)});n.sources=f}else n.subjects=[this.subjectForBucket()];const i=this.js.nc,o=i.getServerVersion(),a=o?go(o,Rr("2.7.2"))>=0:!1;n.discard=a?Vn.New:Vn.Old;const{ok:c,min:l}=i.features.get(xt.JS_ALLOW_DIRECT);if(!c&&t.allow_direct===!0){const f=o?`${o.major}.${o.minor}.${o.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${f} - requires ${l}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:c,n.allow_direct=t.allow_direct,this.direct=n.allow_direct,n.num_replicas=r.replicas,r.ttl&&(n.max_age=Ye(r.ttl)),n.allow_rollup_hdrs=!0;let u;try{u=await this.jsm.streams.info(n.name),!u.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(f){if(f.message==="stream not found")u=await this.jsm.streams.add(n);else throw f}this.initializePrefixes(u)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.opts.apiPrefix!=="$JS.API";const{mirror:r}=t.config;if(r){let n=r.name;if(n.startsWith(At)&&(n=n.substring(At.length)),r.external&&r.external.api!==""){const s=r.name.substring(At.length);this.useJsPrefix=!1,this.prefix=`$KV.${s}`,this.editPrefix=`${r.external.api}.$KV.${n}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${At}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,r=!1){const n=[];return r?(this.useJsPrefix&&n.push(this.js.apiPrefix),this.editPrefix!==""?n.push(this.editPrefix):n.push(this.prefix)):this.prefix&&n.push(this.prefix),n.push(t),n.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${ll}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.encode(n));break}return r.join(".")}decodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.decode(n));break}return r.join(".")}close(){return Promise.resolve()}dataLen(t,r){const n=r&&r.get(jt.MessageSizeHdr)||"";return n!==""?parseInt(n,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(_s)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var n;const r=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:r,value:t.data,created:new Date(Zo(t.info.timestampNanos)),revision:t.seq,operation:((n=t.headers)==null?void 0:n.get(_s))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}async create(t,r){var i;let n;try{const o=await this.put(t,r,{previousSeq:0});return Promise.resolve(o)}catch(o){if(n=o,((i=o==null?void 0:o.api_error)==null?void 0:i.err_code)!==10071)return Promise.reject(o)}let s=0;try{const o=await this.get(t);return(o==null?void 0:o.operation)==="DEL"||(o==null?void 0:o.operation)==="PURGE"?(s=o!==null?o.revision:0,this.update(t,r,s)):Promise.reject(n)}catch(o){return Promise.reject(o)}}update(t,r,n){if(n<=0)throw new Error("version must be greater than 0");return this.put(t,r,{previousSeq:n})}async put(t,r,n={}){var o,a;const s=this.encodeKey(t);this.validateKey(s);const i={};if(n.previousSeq!==void 0){const c=ar();i.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${n.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(s,!0),r,i)).seq}catch(c){const l=c;return l.isJetStreamError()?(l.message=(o=l.api_error)==null?void 0:o.description,l.code=`${(a=l.api_error)==null?void 0:a.code}`,Promise.reject(l)):Promise.reject(c)}}async get(t,r){const n=this.encodeKey(t);this.validateKey(n);let s={last_by_subj:this.subjectForKey(n)};r&&r.revision>0&&(s={seq:r.revision});let i;try{this.direct?i=await this.jsm.direct.getMessage(this.bucketName(),s):i=await this.jsm.streams.getMessage(this.bucketName(),s);const o=this.smToEntry(i);return o.key!==n?null:o}catch(o){if(o.code===X.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const r=We(),n=[],s=await this.watch({key:">",initializedFn:()=>{r.resolve()}});(async()=>{for await(const c of s)(c.operation==="DEL"||c.operation==="PURGE")&&n.push(c)})().then(),await r,s.stop();const i=Date.now()-t,o=n.map(c=>{const l=this.subjectForKey(c.key);return c.created.getTime()>=i?this.jsm.streams.purge(this.stream,{filter:l,keep:1}):this.jsm.streams.purge(this.stream,{filter:l,keep:0})}),a=await Promise.all(o);return a.unshift({success:!0,purged:0}),a.reduce((c,l)=>(c.purged+=l.purged,c))}async _deleteOrPurge(t,r){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,r);const n=await this.keys(t),s=[];for await(const i of n)s.push(this._doDeleteOrPurge(i,r)),s.length===100&&(await Promise.all(s),s.length=0);s.length>0&&await Promise.all(s)}async _doDeleteOrPurge(t,r){const n=this.encodeKey(t);this.validateKey(n);const s=ar();s.set(_s,r),r==="PURGE"&&s.set(jt.RollupHdr,jt.RollupValueSubject),await this.js.publish(this.subjectForKey(n,!0),at,{headers:s})}_buildCC(t,r=!1,n={}){const s=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:r?vt.All:vt.LastPerSubject,ack_policy:et.None,filter_subject:this.fullKeyName(s),flow_control:!0,idle_heartbeat:Ye(5*1e3)},n)}remove(t){return this.purge(t)}async history(t={}){const r=t.key??">",n=new pt,s={};s.headers_only=t.headers_only||!1;let i;i=()=>{n.stop()};let o=0;const a=this._buildCC(r,!0,s),c=a.filter_subject,l=sr(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const b=this.jmToEntry(d);n.push(b),n.received++,(i&&o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(b){n.stop(b)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async watch(t={}){const r=t.key??">",n=new pt,s={};s.headers_only=t.headers_only||!1;let i=t.initializedFn,o=0;const a=this._buildCC(r,!1,s),c=a.filter_subject,l=sr(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const b=this.jmToEntry(d);n.push(b),n.received++,i&&(o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(b){n.stop(b)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async keys(t=">"){const r=new pt,n=this._buildCC(t,!1,{headers_only:!0}),s=n.filter_subject,i=sr(n);i.bindStream(this.stream),i.orderedConsumer();const o=await this.js.subscribe(s,i);return(async()=>{var c;for await(const l of o){const u=(c=l.headers)==null?void 0:c.get(_s);if(u!=="DEL"&&u!=="PURGE"){const f=this.decodeKey(l.subject.substring(this.prefixLen));r.push(f)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{r.stop()}).catch(c=>{r.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),r}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var i;const r=((i=this.js.nc.info)==null?void 0:i.cluster)??"",n=this.bucketName(),s=await this.jsm.streams.info(n);return new Of(s,r)}}class Of{constructor(t,r=""){g(this,"si");g(this,"cluster");this.si=t,this.cluster=r}get bucket(){return this.si.config.name.startsWith(At)?this.si.config.name.substring(At.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return Zo(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}}const ea="OBJ_",ul="SHA-256=";function Mb(e){return Ss(e),`${ea}${e}`}function Rb(e){return e.startsWith(ea)?e.substring(4):e}class yo{constructor(t){g(this,"si");g(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return Rb(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}function bs(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const r=Object.assign({},e);if(delete r.domain,t==="")return r;if(r.external)throw new Error("domain and external are both set");return r.external={api:`$JS.${t}.API`},r}class Lb extends rs{constructor(t,r){super(t,r)}async add(t={}){var s;dt(t.name),t.mirror=bs(t.mirror),t.sources=(s=t.sources)==null?void 0:s.map(bs);const n=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(n),n}async delete(t){return dt(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,r={}){var a;if(typeof t=="object"){const c=t;t=c.name,r=c,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}dt(t);const n=await this.info(t),s=Object.assign(n.config,r);s.mirror=bs(s.mirror),s.sources=(a=s.sources)==null?void 0:a.map(bs);const o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,s);return this._fixInfo(o),o}async info(t,r){dt(t);const n=`${this.prefix}.STREAM.INFO.${t}`;let i=await this._request(n,r),{total:o,limit:a}=i,c=i.state.subjects?Object.getOwnPropertyNames(i.state.subjects).length:1;if(o&&o>c){const l=[i],u=r||{};let f=0;for(;o>c;){f++,u.offset=a*f;const b=await this._request(n,u);o=b.total,l.push(b);const x=Object.getOwnPropertyNames(b.state.subjects).length;if(c+=x,x<a)break}let d={};for(let b=0;b<l.length;b++)i=l[b],i.state.subjects&&(d=Object.assign(d,i.state.subjects));i.offset=0,i.total=0,i.limit=0,i.state.subjects=d}return this._fixInfo(i),i}list(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>{const o=i;return o.streams.forEach(a=>{this._fixInfo(a)}),o.streams},s=`${this.prefix}.STREAM.LIST`;return new xn(s,n,this,r)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,r){if(r){const{keep:s,seq:i}=r;if(typeof s=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return dt(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,r)}async deleteMessage(t,r,n=!0){dt(t);const s={seq:r};return n||(s.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,s)).success}async getMessage(t,r){dt(t);const s=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,r);return new Hb(s)}find(t){return this.findStream(t)}listKvs(){const t=n=>{var c;const i=n.streams.filter(l=>l.config.name.startsWith(At));i.forEach(l=>{this._fixInfo(l)});let o="";return i.length&&(o=((c=this.nc.info)==null?void 0:c.cluster)??""),i.map(l=>new Of(l,o))},r=`${this.prefix}.STREAM.LIST`;return new xn(r,t,this)}listObjectStores(){const t=n=>{const i=n.streams.filter(a=>a.config.name.startsWith(ea));return i.forEach(a=>{this._fixInfo(a)}),i.map(a=>new yo(a))},r=`${this.prefix}.STREAM.LIST`;return new xn(r,t,this)}names(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>i.streams,s=`${this.prefix}.STREAM.NAMES`;return new xn(s,n,this,r)}}class jb extends rs{constructor(r,n){super(r,n);g(this,"streams");g(this,"consumers");g(this,"direct");this.streams=new Lb(r,n),this.consumers=new hf(r,n),this.direct=new yb(r,n)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const r=new pt;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(n,s)=>{if(n)throw n;try{const i=this.parseJsResponse(s),o=i.type.split("."),a=o[o.length-1];r.push({kind:a,data:i})}catch(i){r.stop(i)}}}),r}}var kr;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(kr||(kr={}));class $i{constructor(t){g(this,"info");g(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=gr.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function fl(e){const t={name:e.name,description:e.description??"",options:e.options};if(e.headers){const r=e.headers;t.headers=r.toRecord()}return t}function Fb(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function $b(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class Nn{constructor(t,r,n){g(this,"jsm");g(this,"js");g(this,"stream");g(this,"name");this.name=t,this.jsm=r,this.js=n}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[. ]/g,"_");let r;try{Sf(t)}catch(n){r=n}return{name:t,error:r}}async info(t){const r=await this.rawInfo(t);return r?new $i(r):null}async list(){const t=[],r=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const n of r){if(n===null)break;t.push(n)}return Promise.resolve(t)}async rawInfo(t){const{name:r,error:n}=this._sanitizeName(t);if(n)return Promise.reject(n);const s=this._metaSubject(r);try{const i=await this.jsm.streams.getMessage(this.stream,{last_by_subj:s});return Vt().decode(i.data)}catch(i){return i.code==="404"?null:Promise.reject(i)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(r){return r.code==="404"?null:Promise.reject(r)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new yo(t)))}async status(t){const r=await this._si(t);return r===null?Promise.reject(new Error("object store not found")):Promise.resolve(new yo(r))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,r,n){var j,H;const s=this.js;n=n||{timeout:s.timeout},n.timeout=n.timeout||1e3;const{timeout:i}=n,o=((j=s.nc.info)==null?void 0:j.max_payload)||1024;t=t||{},t.options=t.options||{};let a=((H=t.options)==null?void 0:H.max_chunk_size)||128*1024;a=a>o?o:a,t.options.max_chunk_size=a;const c=await this.info(t.name),{name:l,error:u}=this._sanitizeName(t.name);if(u)return Promise.reject(u);const f=ui.next(),d=this._chunkSubject(f),b=this._metaSubject(l),x=Object.assign({bucket:this.name,nuid:f,size:0,chunks:0},fl(t)),I=We(),q=[],k=new es;try{const z=r?r.getReader():null,D=new ol;for(;;){const{done:fe,value:me}=z?await z.read():{done:!0,value:void 0};if(fe){if(k.size()>0){const Te=k.drain();D.update(Te),x.chunks++,x.size+=Te.length,q.push(this.js.publish(d,Te,{timeout:i}))}x.mtime=new Date().toISOString();const Y=D.digest("base64"),ue=Y.length%3,pe=ue>0?"=".repeat(ue):"";x.digest=`${ul}${Y}${pe}`,x.deleted=!1;const Ee=ar();Ee.set(jt.RollupHdr,jt.RollupValueSubject),q.push(this.js.publish(b,Vt().encode(x),{headers:Ee,timeout:i})),c&&q.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${c.nuid}`})),await Promise.all(q),I.resolve(new $i(x));break}if(me)for(k.fill(me);k.size()>a;){x.chunks++,x.size+=a;const Y=k.drain(t.options.max_chunk_size);D.update(Y),q.push(this.js.publish(d,Y,{timeout:i}))}}}catch(z){await this.jsm.streams.purge(this.stream,{filter:d}),I.reject(z)}return I}put(t,r,n){var s;return(s=t==null?void 0:t.options)!=null&&s.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,r,n)}async get(t){const r=await this.rawInfo(t);if(r===null||r.deleted)return Promise.resolve(null);if(r.options&&r.options.link){const u=r.options.link.name||"";if(u==="")throw new Error("link is a bucket");return(await Nn.create(this.js,r.options.link.bucket)).get(u)}const n=We(),s={info:new $i(r),error:n};if(r.size===0)return s.data=$b(),n.resolve(null),Promise.resolve(s);let i;const o=sr();o.orderedConsumer();const a=new ol,c=`$O.${this.name}.C.${r.nuid}`,l=await this.js.subscribe(c,o);return(async()=>{for await(const u of l)if(u.data.length>0&&(a.update(u.data),i.enqueue(u.data)),u.info.pending===0){const f=a.digest("base64"),d=f.length%3,b=d>0?"=".repeat(d):"",x=`${ul}${f}${b}`;x!==r.digest?i.error(new Error(`received a corrupt object, digests do not match received: ${r.digest} calculated ${x}`)):i.close(),l.unsubscribe()}})().then(()=>{n.resolve()}).catch(u=>{i.error(u),n.reject(u)}),s.data=new ReadableStream({start(u){i=u},cancel(){l.unsubscribe()}}),s}linkStore(t,r){if(!(r instanceof Nn))return Promise.reject("bucket required");const n=r,{name:s,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const o={name:s,options:{link:{bucket:n.name}}};return this._put(o,null)}async link(t,r){if(r.deleted)return Promise.reject(new Error("object is deleted"));const{name:n,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);if(this.name===r.bucket){const a=Object.assign({},Fb(r));a.name=n;try{return await this.update(r.name,a),await this.info(n)}catch(c){return Promise.reject(c)}}const i={bucket:r.bucket,name:r.name},o={name:n,options:{link:i}};return this._put(o,null)}async delete(t){const r=await this.rawInfo(t);if(r===null)return Promise.resolve({purged:0,success:!1});r.deleted=!0,r.size=0,r.chunks=0,r.digest="";const n=Vt(),s=ar();return s.set(jt.RollupHdr,jt.RollupValueSubject),await this.js.publish(this._metaSubject(r.name),n.encode(r),{headers:s}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(r.nuid)})}async update(t,r={}){const n=await this.rawInfo(t);if(n===null)return Promise.reject(new Error("object not found"));if(n.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));r.name=r.name??n.name;const{name:s,error:i}=this._sanitizeName(r.name);if(i)return Promise.reject(i);if(t!==r.name){const c=await this.info(r.name);if(c&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"))}r.name=s;const o=Object.assign({},n,fl(r)),a=Vt();return this.js.publish(this._metaSubject(o.name),a.encode(o))}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let r=!1;const n=new pt,s=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:s})}catch(c){c.code==="404"?(n.push(null),r=!0):n.stop(c)}const i=Vt(),o=sr();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(r=!0,o.deliverNew()),o.callback((c,l)=>{var u;if(c){n.stop(c);return}if(l!==null){const f=i.decode(l.data);f.deleted&&t.ignoreDeletes===!0||n.push(f),((u=l.info)==null?void 0:u.pending)===0&&!r&&(r=!0,n.push(null))}});const a=await this.js.subscribe(s,o);return n._data=a,n.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{n.stop()}).catch(c=>{n.stop(c)}),n}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${qs.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=Mb(this.name)}catch(n){return Promise.reject(n)}const r=Object.assign({},t);r.name=this.stream,r.allow_rollup_hdrs=!0,r.discard=Vn.New,r.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(r.placement=t.placement);try{await this.jsm.streams.info(r.name)}catch(n){n.message==="stream not found"&&await this.jsm.streams.add(r)}}static async create(t,r,n={}){var f;if(typeof((f=crypto==null?void 0:crypto.subtle)==null?void 0:f.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const s=t,{ok:i,min:o}=s.nc.features.get(xt.JS_OBJECTSTORE);if(!i)return Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`));let a=s.opts||{};const c=a.timeout||2e3;a=Object.assign(a,{timeout:c});const l=await s.nc.jetstreamManager(a),u=new Nn(r,l,t);return await u.init(n),Promise.resolve(u)}}class Ub{constructor(t){g(this,"js");this.js=t}kv(t,r={}){return r.bindOnly?Gn.bind(this.js,t):Gn.create(this.js,t,r)}os(t,r={}){return Yb(this.js.nc),Nn.create(this.js,t,r)}}class ta extends rs{constructor(r,n){super(r,n);g(this,"api");this.api=new hf(r,n)}get apiPrefix(){return this.prefix}get views(){return new Ub(this)}async publish(r,n=at,s){s=s||{},s.expect=s.expect||{};const i=(s==null?void 0:s.headers)||ar();s&&(s.msgID&&i.set(kr.MsgIdHdr,s.msgID),s.expect.lastMsgID&&i.set(kr.ExpectedLastMsgIdHdr,s.expect.lastMsgID),s.expect.streamName&&i.set(kr.ExpectedStreamHdr,s.expect.streamName),typeof s.expect.lastSequence=="number"&&i.set(kr.ExpectedLastSeqHdr,`${s.expect.lastSequence}`),typeof s.expect.lastSubjectSequence=="number"&&i.set(kr.ExpectedLastSubjectSequenceHdr,`${s.expect.lastSubjectSequence}`));const o=s.timeout||this.timeout,a={};o&&(a.timeout=o),s&&(a.headers=i);let{retries:c,retry_delay:l}=s;c=c||1,l=l||250;let u;for(let d=0;d<c;d++)try{u=await this.nc.request(r,n,a);break}catch(b){if(b.code==="503"&&d+1<c)await Qo(l);else throw b}const f=this.parseJsResponse(u);if(f.stream==="")throw ce.errorForCode(X.JetStreamInvalidAck);return f.duplicate=f.duplicate?f.duplicate:!1,f}async pull(r,n,s=0){dt(r),Qr(n);let i=this.timeout;s>i&&(i=s),s=s<0?0:Ye(s);const o={batch:1,no_wait:s===0,expires:s},a=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(o),{noMux:!0,timeout:i}),c=Zr(a);if(c)throw c;return Ds(a)}fetch(r,n,s={}){dt(r),Qr(n);let i=null;const o=(s.max_bytes??0)>0;let a=0;const c=o?s.max_bytes:0;let l=null;const u={};if(u.batch=s.batch||1,c){const j=this.nc.features.get(xt.JS_PULL_MAX_BYTES);if(!j.ok)throw new Error(`max_bytes is only supported on servers ${j.min} or better`);u.max_bytes=c}u.no_wait=s.no_wait||!1,u.no_wait&&u.expires&&(u.expires=0);const f=s.expires||0;if(f&&(u.expires=Ye(f)),f===0&&u.no_wait===!1)throw new Error("expires or no_wait is required");const d=s.idle_heartbeat||0;d&&(u.idle_heartbeat=Ye(d),s.delay_heartbeat===!0&&(u.idle_heartbeat=Ye(d*4)));const b=new pt,x=u.batch;let I=0;b.protocolFilterFn=(j,H=!1)=>Jc(j.msg)?(l==null||l.work(),!1):!0,b.dispatchedFn=j=>{if(j){if(o&&(a+=j.data.length),I++,i&&j.info.pending===0)return;(b.getPending()===1&&j.info.pending===0||x===I||c>0&&a>=c)&&b.stop()}};const q=nr(this.nc.options.inboxPrefix),k=this.nc.subscribe(q,{max:s.batch,callback:(j,H)=>{j===null&&(j=Zr(H)),j!==null?(i&&(i.cancel(),i=null),l_(j)?b.stop(Af(j)===null?void 0:j):b.stop(j)):(l==null||l.work(),b.received++,b.push(Ds(H)))}});return f&&(i=li(f),i.catch(()=>{k.isClosed()||(k.drain().catch(()=>{}),i=null),l&&l.cancel()})),(async()=>{try{d&&(l=new wf(d,j=>(b.push(()=>{b.err=new ce(`${Mt.IdleHeartbeatMissed}: ${j}`,X.JetStreamIdleHeartBeat)}),!0)))}catch{}await k.closed,i!==null&&(i.cancel(),i=null),l&&l.cancel(),b.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(u),{reply:q}),b}async pullSubscribe(r,n=sr()){const s=await this._processOptions(r,n);if(s.ordered)throw new Error("pull subscribers cannot be be ordered");if(s.attached||(s.config.filter_subject=r),s.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const i=s.config.ack_policy;if(i===et.None||i===et.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(s),a=new zb(this,s.deliver,o);a.info=s;try{await this._maybeCreateConsumer(s)}catch(c){throw a.unsubscribe(),c}return a}async subscribe(r,n=sr()){const s=await this._processOptions(r,n);if(!s.isBind&&!s.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const i=this._buildTypedSubscriptionOpts(s),o=new Pf(this,s.deliver,i);o.info=s;try{await this._maybeCreateConsumer(s)}catch(a){throw o.unsubscribe(),a}return o._maybeSetupHbMonitoring(),o}async _processOptions(r,n=sr()){const s=nl(n)?n.getOpts():n;if(s.isBind=nl(n)?n.isBind:!1,s.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},s.ordered){if(s.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},s.config.ack_policy!==et.NotSet&&s.config.ack_policy!==et.None)throw new ce("ordered consumer: ack_policy can only be set to 'none'",X.ApiError);if(s.config.durable_name&&s.config.durable_name.length>0)throw new ce("ordered consumer: durable_name cannot be set",X.ApiError);if(s.config.deliver_subject&&s.config.deliver_subject.length>0)throw new ce("ordered consumer: deliver_subject cannot be set",X.ApiError);if(s.config.max_deliver!==void 0&&s.config.max_deliver>1)throw new ce("ordered consumer: max_deliver cannot be set",X.ApiError);if(s.config.deliver_group&&s.config.deliver_group.length>0)throw new ce("ordered consumer: deliver_group cannot be set",X.ApiError);s.config.deliver_subject=nr(this.nc.options.inboxPrefix),s.config.ack_policy=et.None,s.config.max_deliver=1,s.config.flow_control=!0,s.config.idle_heartbeat=s.config.idle_heartbeat||Ye(5e3),s.config.ack_wait=Ye(22*60*60*1e3),s.config.mem_storage=!0,s.config.num_replicas=1}if(s.config.ack_policy===et.NotSet&&(s.config.ack_policy=et.All),s.api=this,s.config=s.config||{},s.stream=s.stream?s.stream:await this.findStream(r),s.attached=!1,s.config.durable_name)try{const i=await this.api.info(s.stream,s.config.durable_name);if(i){if(i.config.filter_subject&&i.config.filter_subject!==r)throw new Error("subject does not match consumer");const o=s.config.deliver_group??"";if(o===""&&i.push_bound===!0)throw new Error("duplicate subscription");const a=i.config.deliver_group??"";if(o!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);s.last=i,s.config=i.config,s.attached=!0,s.config.durable_name||(s.name=i.name)}}catch(i){if(i.code!=="404")throw i}return s.attached||(s.config.filter_subject=r),s.deliver=s.config.deliver_subject||nr(this.nc.options.inboxPrefix),s}_buildTypedSubscriptionOpts(r){const n={};return n.adapter=Vb(r.callbackFn===void 0),n.ingestionFilterFn=ta.ingestionFn(r.ordered),n.protocolFilterFn=(s,i=!1)=>{const o=s;return po(o.msg)?(i||o.msg.respond(),!1):!0},!r.mack&&r.config.ack_policy!==et.None&&(n.dispatchedFn=Kb),r.callbackFn&&(n.callback=r.callbackFn),n.max=r.max||0,n.queue=r.queue,n}async _maybeCreateConsumer(r){if(r.attached)return;if(r.isBind)throw new Error(`unable to bind - durable consumer ${r.config.durable_name} doesn't exist in ${r.stream}`);r.config=Object.assign({deliver_policy:vt.All,ack_policy:et.Explicit,ack_wait:Ye(30*1e3),replay_policy:on.Instant},r.config);const n=await this.api.add(r.stream,r.config);r.name=n.name,r.config=n.config,r.last=n}static ingestionFn(r){return(n,s)=>{var c;const i=s;if(!n)return{ingest:!1,protocol:!1};const o=n;if(Zr(o.msg)||(c=i.monitor)==null||c.work(),Jc(o.msg)){const l=r?i._checkHbOrderConsumer(o.msg):!0;return r||i.info.flow_control.heartbeat_count++,{ingest:l,protocol:!0}}else if(po(o.msg))return i.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:r?i._checkOrderedConsumer(n):!0,protocol:!1}}}}class ra{constructor(t){g(this,"options");g(this,"protocol");g(this,"draining");g(this,"listeners");g(this,"_services");this.draining=!1,this.options=Pb(t),this.listeners=[]}static connect(t={}){return new Promise((r,n)=>{const s=new ra(t);Bs.connect(s.options,s).then(i=>{s.protocol=i,async function(){for await(const o of i.status())s.listeners.forEach(a=>{a.push(o)})}(),r(s)}).catch(i=>{n(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,r,n){if(this.isClosed())throw ce.errorForCode(X.ConnectionClosed);if(r&&this.isDraining()||n&&this.protocol.noMorePublishing)throw ce.errorForCode(X.ConnectionDraining);if(t=t||"",t.length===0)throw ce.errorForCode(X.BadSubject)}publish(t,r=at,n){if(this._check(t,!1,!0),r&&!m_(r))throw ce.errorForCode(X.BadPayload);this.protocol.publish(t,r,n)}subscribe(t,r={}){this._check(t,!0,!1);const n=new yf(this.protocol,t,r);return this.protocol.subscribe(n),n}_resub(t,r,n){this._check(r,!0,!1);const s=t;s.max=n,n&&(s.max=n+s.received),this.protocol.resub(s,r)}requestMany(t,r=at,n={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(a){return Promise.reject(a)}if(n.strategy=n.strategy||Gt.Timer,n.maxWait=n.maxWait||1e3,n.maxWait<1)return Promise.reject(new ce("timeout",X.InvalidOption));const s=new pt;function i(a){s.push(()=>{s.stop(a)})}function o(a,c){a||c===null?i(a===null?void 0:a):s.push(c)}if(n.noMux){const a=new Error().stack;let c=typeof n.maxMessages=="number"&&n.maxMessages>0?n.maxMessages:-1;const l=this.subscribe(nr(this.options.inboxPrefix),{callback:(b,x)=>{var I,q;if(((I=x==null?void 0:x.data)==null?void 0:I.length)===0&&((q=x==null?void 0:x.headers)==null?void 0:q.status)===X.NoResponders&&(b=ce.errorForCode(X.NoResponders)),b){b.stack+=`

${a}`,u(b);return}o(null,x),n.strategy===Gt.Count&&(c--,c===0&&u()),n.strategy===Gt.JitterTimer&&(d(),f=setTimeout(()=>{u()},300)),n.strategy===Gt.SentinelMsg&&x&&x.data.length===0&&u()}});l.closed.then(()=>{i()}).catch(b=>{s.stop(b)});const u=b=>{b&&s.push(()=>{throw b}),d(),l.drain().then(()=>{i()}).catch(x=>{i()})};s.iterClosed.then(()=>{d(),l==null||l.unsubscribe()}).catch(b=>{d(),l==null||l.unsubscribe()});try{this.publish(t,at,{reply:l.getSubject()})}catch(b){u(b)}let f=setTimeout(()=>{u()},n.maxWait);const d=()=>{f&&clearTimeout(f)}}else{const a=n;a.callback=o,s.iterClosed.then(()=>{c.cancel()}).catch(l=>{c.cancel(l)});const c=new N_(this.protocol.muxSubscriptions,t,a);this.protocol.request(c);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:n.headers})}catch(l){c.cancel(l)}}return Promise.resolve(s)}request(t,r=at,n={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(s){return Promise.reject(s)}if(n.timeout=n.timeout||1e3,n.timeout<1)return Promise.reject(new ce("timeout",X.InvalidOption));if(!n.noMux&&n.reply)return Promise.reject(new ce("reply can only be used with noMux",X.InvalidOption));if(n.noMux){const s=n.reply?n.reply:nr(this.options.inboxPrefix),i=We(),o=new Error,a=this.subscribe(s,{max:1,timeout:n.timeout,callback:(c,l)=>{c?(c.code!==X.Timeout&&(c.stack+=`

${o.stack}`),i.reject(c)):(c=af(l),c?(c.stack+=`

${o.stack}`,i.reject(c)):i.resolve(l))}});return a.requestSubject=t,this.protocol.publish(t,r,{reply:s,headers:n.headers}),i}else{const s=new mf(this.protocol.muxSubscriptions,t,n);this.protocol.request(s);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${s.token}`,headers:n.headers})}catch(o){s.cancel(o)}const i=Promise.race([s.timer,s.deferred]);return i.catch(()=>{s.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(ce.errorForCode(X.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(ce.errorForCode(X.ConnectionClosed)):this.isDraining()?Promise.reject(ce.errorForCode(X.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new pt;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const r=new jb(this,t);try{await r.getAccountInfo()}catch(n){const s=n;throw s.code===X.NoResponders&&(s.code=X.JetStreamNotEnabled),s}return r}jetstream(t={}){return new ta(this,t)}getServerVersion(){const t=this.info;return t?Rr(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw ce.errorForCode(X.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new qb(this)),this._services}}class Db{constructor(t,r={strategy:Gt.JitterTimer,maxWait:2e3},n){g(this,"nc");g(this,"prefix");g(this,"opts");this.nc=t,this.prefix=n,this.opts=r}ping(t="",r=""){return this.q(Kt.PING,t,r)}stats(t="",r=""){return this.q(Kt.STATS,t,r)}schema(t="",r=""){return this.q(Kt.SCHEMA,t,r)}info(t="",r=""){return this.q(Kt.INFO,t,r)}async q(t,r="",n=""){const s=new pt,i=Vt(),o=ts.controlSubject(t,r,n,this.prefix),a=await this.nc.requestMany(o,at,this.opts);return(async()=>{for await(const c of a)try{const l=i.decode(c.data);s.push(l)}catch(l){s.push(()=>{s.stop(l)})}s.push(()=>{s.stop()})})().catch(c=>{s.stop(c)}),s}}function Bb(e,t){const{proto:r,tls_required:n,tls_available:s}=e;if((r===void 0||r<1)&&t.noEcho)throw new ce("noEcho",X.ServerOptionNotAvailable);const i=n||s||!1;if(t.tls&&!i)throw new ce("tls",X.ServerOptionNotAvailable)}class qb{constructor(t){g(this,"nc");this.nc=t,console.log("\x1B[33m >> service framework is beta functionality \x1B[0m")}add(t){try{return new ts(this.nc,t).start()}catch(r){return Promise.reject(r)}}client(t,r){return new Db(this.nc,t,r)}}class Hb{constructor(t){g(this,"subject");g(this,"seq");g(this,"data");g(this,"time");g(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):at,t.message.hdrs){const r=this._parse(t.message.hdrs);this.header=gr.decode(r)}else this.header=ar()}_parse(t){const r=atob(t),n=r.length,s=new Uint8Array(n);for(let i=0;i<n;i++)s[i]=r.charCodeAt(i);return s}}class Pf extends U_{constructor(r,n,s){super(r.nc,n,s);g(this,"js");g(this,"monitor");this.js=r,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(r){this.sub.info=r}get info(){return this.sub.info}_resetOrderedConsumer(r){if(this.info===null||this.sub.isClosed())return;const n=nr(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,n);const i=this.info;i.ordered_consumer_sequence.delivery_seq=0,i.flow_control.heartbeat_count=0,i.flow_control.fc_count=0,i.flow_control.consumer_restarts++,i.deliver=n,i.config.deliver_subject=n,i.config.deliver_policy=vt.StartSequence,i.config.opt_start_seq=r;const o={};o.stream_name=this.info.stream,o.config=i.config;const a=`${i.api.prefix}.CONSUMER.CREATE.${i.stream}`;this.js._request(a,o).then(c=>{const l=c;this.info.config=l.config,this.info.name=l.name}).catch(c=>{const l=new ce(`unable to recreate ordered consumer ${i.stream} at seq ${r}`,X.RequestError,c);this.sub.callback(l,{})})}_maybeSetupHbMonitoring(){var n,s;const r=((s=(n=this.info)==null?void 0:n.config)==null?void 0:s.idle_heartbeat)||0;r&&this._setupHbMonitoring(Zo(r))}_setupHbMonitoring(r,n=0){const s={cancelAfter:0,maxOut:2};n&&(s.cancelAfter=n);const i=this.sub,o=a=>{var u,f,d;const c=E_(409,`${Mt.IdleHeartbeatMissed}: ${a}`,this.sub.subject);if(!((u=this.info)==null?void 0:u.ordered))this.sub.callback(null,c);else{if(!this.js.nc.protocol.connected)return!1;const b=((d=(f=this.info)==null?void 0:f.ordered_consumer_sequence)==null?void 0:d.stream_seq)||0;return this._resetOrderedConsumer(b+1),!1}return!i.noIterator};this.monitor=new wf(r,o,s)}_checkHbOrderConsumer(r){const n=r.headers.get(jt.ConsumerStalledHdr);n!==""&&this.js.nc.publish(n);const s=parseInt(r.headers.get(jt.LastConsumerSeqHdr),10),i=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,s!==i.delivery_seq&&this._resetOrderedConsumer(i.stream_seq+1),!1}_checkOrderedConsumer(r){const n=this.info.ordered_consumer_sequence,s=r.info.streamSequence,i=r.info.deliverySequence;return i!=n.delivery_seq+1?(this._resetOrderedConsumer(n.stream_seq+1),!1):(n.delivery_seq=i,n.stream_seq=s,!0)}async destroy(){this.isClosed()||await this.drain();const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.DELETE.${r.stream}.${n}`;await r.api._request(s)}async consumerInfo(){const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.INFO.${r.stream}.${n}`,i=await r.api._request(s);return r.last=i,i}}class zb extends Pf{constructor(t,r,n){super(t,r,n)}pull(t={batch:1}){const{stream:r,config:n,name:s}=this.sub.info,i=n.durable_name??s,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const l=this.js.nc.features.get(xt.JS_PULL_MAX_BYTES);if(!l.ok)throw new Error(`max_bytes is only supported on servers ${l.min} or better`);o.max_bytes=t.max_bytes}let a=0;t.expires&&t.expires>0&&(a=t.expires,o.expires=Ye(a));let c=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(c=t.idle_heartbeat,o.idle_heartbeat=Ye(c)),c&&a===0)throw new Error("idle_heartbeat requires expires");if(c>a)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),a&&c&&(this.monitor?this.monitor._change(c,a):this._setupHbMonitoring(c,a));const l=this.info.api,u=`${l.prefix}.CONSUMER.MSG.NEXT.${r}.${i}`,f=this.sub.subject;l.nc.publish(u,l.jc.encode(o),{reply:f})}}}function Vb(e){return e?Gb:Wb}function Wb(e,t){return e?[e,null]:(e=Zr(t),e?[e,null]:[null,Ds(t)])}function Gb(e,t){if(e)return[e,null];const r=Zr(t);return r!==null?[Af(r),null]:[null,Ds(t)]}function Af(e){if(e!==null)switch(e.code){case X.JetStream404NoMessages:case X.JetStream408RequestTimeout:return null;case X.JetStream409:return S_(e)?e:null;default:return e}return null}function Kb(e){e&&e.ack()}const Yb=(()=>{let e=!1;return t=>{var r;if(!e){e=!0;const{lang:n}=(r=t==null?void 0:t.protocol)==null?void 0:r.transport;console.log(n?`\x1B[33m >> jetstream's materialized views object store functionality in ${n} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),Jb="1.13.1",Xb="nats.ws";class Qb{constructor(){g(this,"version");g(this,"lang");g(this,"closeError");g(this,"connected");g(this,"done");g(this,"socket");g(this,"options");g(this,"socketClosed");g(this,"encrypted");g(this,"peeked");g(this,"yields");g(this,"signal");g(this,"closedNotification");this.version=Jb,this.lang=Xb,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=We(),this.closedNotification=We()}async connect(t,r){const n=We();if(r.tls)return n.reject(new ce("tls",X.InvalidOption)),n;this.options=r;const s=t.src;if(r.wsFactory){const{socket:i,encrypted:o}=await r.wsFactory(t.src,r);this.socket=i,this.encrypted=o}else this.encrypted=s.indexOf("wss://")===0,this.socket=new WebSocket(s);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=es.concat(...this.yields),a=g_(o);if(a!==""){const c=ib.exec(a);if(!c){r.debug&&console.error("!!!",ms(o)),n.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(c[1]);Bb(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),n.resolve()}catch(l){n.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,a=new ce(o.message,X.Unknown,new Error(o.error));n.reject(a)},n}disconnect(){this._closed(void 0,!0)}async _closed(t,r=!0){if(this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await Qo(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}r&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let r=0;r<t.length;r++)this.options.debug&&console.info(`> ${ms(t[r])}`),yield t[r];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=We())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${ms(t)}`);return}catch(r){this.options.debug&&console.error(`!!! ${ms(t)}: ${r}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function Zb(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let r=new URL(e);const n=r.protocol.toLowerCase();n!=="https:"&&n!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),r=new URL(`http://${e}`));let s,i;const o=r.hostname,a=r.pathname,c=r.search||"";switch(n){case"http:":case"ws:":case"nats:":i=r.port||"80",s="ws:";break;default:i=r.port||"443",s="wss:";break}return`${s}//${o}:${i}${a}${c}`}function ey(e={}){return D_({defaultPort:443,urlParseFn:Zb,factory:()=>new Qb}),ra.connect(e)}const ty=of(),ry="---",vy=Ge({}),xy=Ge({}),Ey=Ge({}),Os=Ge(!1),Mn=Ge({}),en={};let Ui,wo;const ny=async(e,t)=>{if(Mn.value[e])return;if(!Os.value||!wo){en[e]=t;return}const r=sr();r.deliverTo(nr()),r.deliverAll(),r.ackNone(),r.replayInstantly();const n=await wo.subscribe(e,r);Mn.value[e]=n,(async()=>{for await(const s of n){const i=ty.decode(s.data);if(i!==ry){const o=JSON.parse(i);t.value=Object.freeze({...t.value,[o.id]:Object.freeze(o)})}}})()},Sy=async e=>{Mn.value[e]&&(Mn.value[e].unsubscribe(),delete Mn.value[e]),en[e]&&delete en[e]},hl=async()=>{await Promise.all(Object.keys(en).map(async e=>{await ny(e,en[e]),delete en[e]}))},sy=async()=>{Ui=await ey({servers:[B0],waitOnFirstConnect:!0,maxReconnectAttempts:-1}),Os.value=!0,wo=Ui.jetstream(),await hl(),(async()=>{for await(const e of Ui.status())e.type===tr.Disconnect&&(Os.value=!1),e.type===tr.Reconnect&&(Os.value=!0,await hl())})()},na=om(e_);na.use(ef);na.use(Zu);na.mount("#app");sy();export{Y0 as A,vy as B,xy as C,Ey as D,py as E,Xn as F,ny as G,by as H,yy as I,ct as J,wt as K,uy as L,Ap as M,Fo as N,au as O,Sy as P,ay as Q,cy as R,Up as S,Ju as T,Dc as U,_y as V,gy as W,fy as X,Ze as Y,Z0 as _,or as a,He as b,qe as c,ln as d,Pd as e,Ei as f,xo as g,Bt as h,Hg as i,my as j,Re as k,rr as l,Me as m,Wt as n,mt as o,hy as p,er as q,Ge as r,Dn as s,oy as t,un as u,dy as v,ly as w,D0 as x,ei as y,Os as z};
//# sourceMappingURL=index-bf5aa3ec.js.map
