{"version":3,"file":"Contact-DHDu3XPR.js","sources":["../../src/views/settings/Contact.vue"],"sourcesContent":["<template>\n  <SettingsContainer>\n    <h1 class=\"mb-4 text-xl font-bold\">{{ t('kiel_live') }}</h1>\n\n    <img src=\"../../assets/logo.png\" :alt=\"t('logo_alt')\" class=\"w-36 mx-auto mb-4\" />\n\n    <p class=\"mb-4 text-center\">{{ t('contact_title') }}</p>\n\n    <form class=\"flex flex-col gap-4 items-center mx-auto mb-auto w-8/10\" @submit.prevent=\"sendEmail\">\n      <textarea\n        v-model=\"message\"\n        rows=\"10\"\n        class=\"w-full p-2 rounded-md border border-gray-300 bg-white dark:border-gray-400 dark:bg-dark-400\"\n        type=\"text\"\n      />\n\n      <Button type=\"submit\">\n        <i-mdi-email class=\"mr-2\" />\n        <span>{{ t('send_email') }}</span>\n      </Button>\n    </form>\n  </SettingsContainer>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useStorage } from '@vueuse/core';\nimport { useI18n } from 'vue-i18n';\n\nimport Button from '~/components/atomic/Button.vue';\nimport SettingsContainer from '~/components/layout/SettingsContainer.vue';\nimport { useTrack } from '~/compositions/useTrack';\nimport { localStoragePrefix } from '~/compositions/useUserSettings';\nimport { buildDate, feedbackMail } from '~/config';\n\nconst { t } = useI18n();\nconst { track } = useTrack();\n\nconst message = useStorage(`${localStoragePrefix}.contact_message`, t('contact_email_body'));\n\nasync function sendEmail() {\n  const subject = encodeURIComponent(t('feedback_subject'));\n  const additionalData = {\n    version: buildDate,\n  };\n  const body = encodeURIComponent(\n    `${message.value}\\n\\n---\\n${Object.entries(additionalData)\n      .map(([key, value]) => `${key}: ${value}`)\n      .join('\\n')}\\n`,\n  );\n  track('contact:send-email');\n  window.open(`mailto:${feedbackMail}?subject=${subject}&body=${body}`);\n  message.value = t('contact_email_body');\n}\n</script>\n"],"names":["t","useI18n","track","useTrack","message","useStorage","localStoragePrefix","sendEmail","subject","additionalData","buildDate","body","key","value","feedbackMail","_createBlock","SettingsContainer","_createElementVNode","_hoisted_1","_toDisplayString","_unref","_imports_0","_hoisted_3","$event","_createVNode","Button","_component_i_mdi_email"],"mappings":"gsBAkCM,KAAA,CAAE,EAAAA,CAAE,EAAIC,EAAQ,EAChB,CAAE,MAAAC,CAAM,EAAIC,EAAS,EAErBC,EAAUC,EAAW,GAAGC,CAAkB,mBAAoBN,EAAE,oBAAoB,CAAC,EAE3F,eAAeO,GAAY,CACzB,MAAMC,EAAU,mBAAmBR,EAAE,kBAAkB,CAAC,EAClDS,EAAiB,CACrB,QAASC,CACX,EACMC,EAAO,mBACX,GAAGP,EAAQ,KAAK;AAAA;AAAA;AAAA,EAAY,OAAO,QAAQK,CAAc,EACtD,IAAI,CAAC,CAACG,EAAKC,CAAK,IAAM,GAAGD,CAAG,KAAKC,CAAK,EAAE,EACxC,KAAK;AAAA,CAAI,CAAC;AAAA,CACf,EACAX,EAAM,oBAAoB,EAC1B,OAAO,KAAK,UAAUY,CAAY,YAAYN,CAAO,SAASG,CAAI,EAAE,EAC5DP,EAAA,MAAQJ,EAAE,oBAAoB,CAAA,oCAlDtCe,EAoBoBC,EAAA,KAAA,WAnBlB,IAA4D,CAA5DC,EAA4D,KAA5DC,EAA4DC,EAAtBC,EAACpB,CAAA,EAAA,WAAA,CAAA,EAAA,CAAA,EAEvCiB,EAAkF,MAAA,CAA7E,IAAAI,EAA6B,IAAKD,EAACpB,CAAA,EAAA,UAAA,EAAc,MAAM,mBAAA,YAE5DiB,EAAwD,IAAxDK,EAAwDH,EAAzBC,EAACpB,CAAA,EAAA,eAAA,CAAA,EAAA,CAAA,EAEhCiB,EAYO,OAAA,CAZD,MAAM,0DAA2D,WAAgBV,EAAS,CAAA,SAAA,CAAA,CAAA,KAC9FU,EAKE,WAAA,2CAJSb,EAAO,MAAAmB,EAAA,MAChB,KAAK,KACL,MAAM,8FACN,KAAK,MAAA,gBAHIH,EAAOhB,CAAA,CAAA,CAAA,GAMlBoB,EAGSC,EAAA,CAHD,KAAK,UAAQ,WACnB,IAA4B,CAA5BD,EAA4BE,EAAA,CAAf,MAAM,OAAM,EACzBT,EAAkC,cAAzBG,EAACpB,CAAA,EAAA,YAAA,CAAA,EAAA,CAAA,CAAA"}