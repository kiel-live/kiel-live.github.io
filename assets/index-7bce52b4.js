var Of=Object.defineProperty;var Af=(e,t,r)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var b=(e,t,r)=>(Af(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function xo(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}function vo(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ye(n)?kf(n):vo(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ye(e))return e;if(Fe(e))return e}}const Pf=/;(?![^(]*\))/g,Cf=/:([^]+)/,If=/\/\*.*?\*\//gs;function kf(e){const t={};return e.replace(If,"").split(Pf).forEach(r=>{if(r){const n=r.split(Cf);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Gt(e){let t="";if(Ye(e))t=e;else if(pe(e))for(let r=0;r<e.length;r++){const n=Gt(e[r]);n&&(t+=n+" ")}else if(Fe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Tf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nf=xo(Tf);function cl(e){return!!e||e===""}function Rf(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Ds(e[n],t[n]);return r}function Ds(e,t){if(e===t)return!0;let r=oa(e),n=oa(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Nn(e),n=Nn(t),r||n)return e===t;if(r=pe(e),n=pe(t),r||n)return r&&n?Rf(e,t):!1;if(r=Fe(e),n=Fe(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Ds(e[o],t[o]))return!1}}return String(e)===String(t)}function Mf(e,t){return e.findIndex(r=>Ds(r,t))}const Ct=e=>Ye(e)?e:e==null?"":pe(e)||Fe(e)&&(e.toString===fl||!ve(e.toString))?JSON.stringify(e,ll,2):String(e),ll=(e,t)=>t&&t.__v_isRef?ll(e,t.value):Yr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:qs(t)?{[`Set(${t.size})`]:[...t.values()]}:Fe(t)&&!pe(t)&&!hl(t)?String(t):t,je={},Gr=[],Dt=()=>{},Lf=()=>!1,Ff=/^on[^a-z]/,Bs=e=>Ff.test(e),Eo=e=>e.startsWith("onUpdate:"),st=Object.assign,So=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},jf=Object.prototype.hasOwnProperty,Ce=(e,t)=>jf.call(e,t),pe=Array.isArray,Yr=e=>zn(e)==="[object Map]",qs=e=>zn(e)==="[object Set]",oa=e=>zn(e)==="[object Date]",ve=e=>typeof e=="function",Ye=e=>typeof e=="string",Nn=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",ul=e=>Fe(e)&&ve(e.then)&&ve(e.catch),fl=Object.prototype.toString,zn=e=>fl.call(e),$f=e=>zn(e).slice(8,-1),hl=e=>zn(e)==="[object Object]",Oo=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_s=xo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hs=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Uf=/-(\w)/g,Xt=Hs(e=>e.replace(Uf,(t,r)=>r?r.toUpperCase():"")),Df=/\B([A-Z])/g,Lr=Hs(e=>e.replace(Df,"-$1").toLowerCase()),Ws=Hs(e=>e.charAt(0).toUpperCase()+e.slice(1)),bi=Hs(e=>e?`on${Ws(e)}`:""),Rn=(e,t)=>!Object.is(e,t),bs=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Es=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Ao=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let aa;const Bf=()=>aa||(aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let gt;class dl{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=gt,!t&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}run(t){if(this.active){const r=gt;try{return gt=this,t()}finally{gt=r}}}on(){gt=this}off(){gt=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function qf(e){return new dl(e)}function Hf(e,t=gt){t&&t.active&&t.effects.push(e)}function Wf(){return gt}function Vf(e){gt&&gt.cleanups.push(e)}const Po=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ml=e=>(e.w&_r)>0,pl=e=>(e.n&_r)>0,zf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_r},Kf=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];ml(s)&&!pl(s)?s.delete(e):t[r++]=s,s.w&=~_r,s.n&=~_r}t.length=r}},$i=new WeakMap;let yn=0,_r=1;const Ui=30;let Ft;const Nr=Symbol(""),Di=Symbol("");class Co{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Hf(this,n)}run(){if(!this.active)return this.fn();let t=Ft,r=mr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ft,Ft=this,mr=!0,_r=1<<++yn,yn<=Ui?zf(this):ca(this),this.fn()}finally{yn<=Ui&&Kf(this),_r=1<<--yn,Ft=this.parent,mr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ft===this?this.deferStop=!0:this.active&&(ca(this),this.onStop&&this.onStop(),this.active=!1)}}function ca(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let mr=!0;const gl=[];function an(){gl.push(mr),mr=!1}function cn(){const e=gl.pop();mr=e===void 0?!0:e}function Et(e,t,r){if(mr&&Ft){let n=$i.get(e);n||$i.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=Po()),_l(s)}}function _l(e,t){let r=!1;yn<=Ui?pl(e)||(e.n|=_r,r=!ml(e)):r=!e.has(Ft),r&&(e.add(Ft),Ft.deps.push(e))}function or(e,t,r,n,s,i){const o=$i.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&pe(e)){const c=Ao(n);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":pe(e)?Oo(r)&&a.push(o.get("length")):(a.push(o.get(Nr)),Yr(e)&&a.push(o.get(Di)));break;case"delete":pe(e)||(a.push(o.get(Nr)),Yr(e)&&a.push(o.get(Di)));break;case"set":Yr(e)&&a.push(o.get(Nr));break}if(a.length===1)a[0]&&Bi(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Bi(Po(c))}}function Bi(e,t){const r=pe(e)?e:[...e];for(const n of r)n.computed&&la(n);for(const n of r)n.computed||la(n)}function la(e,t){(e!==Ft||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Gf=xo("__proto__,__v_isRef,__isVue"),bl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nn)),Yf=Io(),Jf=Io(!1,!0),Xf=Io(!0),ua=Qf();function Qf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Te(this);for(let i=0,o=this.length;i<o;i++)Et(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(Te)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){an();const n=Te(this)[t].apply(this,r);return cn(),n}}),e}function Io(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?mh:El:t?vl:xl).get(n))return n;const o=pe(n);if(!e&&o&&Ce(ua,s))return Reflect.get(ua,s,i);const a=Reflect.get(n,s,i);return(Nn(s)?bl.has(s):Gf(s))||(e||Et(n,"get",s),t)?a:Ze(a)?o&&Oo(s)?a:a.value:Fe(a)?e?Sl(a):Kn(a):a}}const Zf=yl(),eh=yl(!0);function yl(e=!1){return function(r,n,s,i){let o=r[n];if(tn(o)&&Ze(o)&&!Ze(s))return!1;if(!e&&(!Ss(s)&&!tn(s)&&(o=Te(o),s=Te(s)),!pe(r)&&Ze(o)&&!Ze(s)))return o.value=s,!0;const a=pe(r)&&Oo(n)?Number(n)<r.length:Ce(r,n),c=Reflect.set(r,n,s,i);return r===Te(i)&&(a?Rn(s,o)&&or(r,"set",n,s):or(r,"add",n,s)),c}}function th(e,t){const r=Ce(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&or(e,"delete",t,void 0),n}function rh(e,t){const r=Reflect.has(e,t);return(!Nn(t)||!bl.has(t))&&Et(e,"has",t),r}function nh(e){return Et(e,"iterate",pe(e)?"length":Nr),Reflect.ownKeys(e)}const wl={get:Yf,set:Zf,deleteProperty:th,has:rh,ownKeys:nh},sh={get:Xf,set(e,t){return!0},deleteProperty(e,t){return!0}},ih=st({},wl,{get:Jf,set:eh}),ko=e=>e,Vs=e=>Reflect.getPrototypeOf(e);function is(e,t,r=!1,n=!1){e=e.__v_raw;const s=Te(e),i=Te(t);r||(t!==i&&Et(s,"get",t),Et(s,"get",i));const{has:o}=Vs(s),a=n?ko:r?Ro:Mn;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function os(e,t=!1){const r=this.__v_raw,n=Te(r),s=Te(e);return t||(e!==s&&Et(n,"has",e),Et(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function as(e,t=!1){return e=e.__v_raw,!t&&Et(Te(e),"iterate",Nr),Reflect.get(e,"size",e)}function fa(e){e=Te(e);const t=Te(this);return Vs(t).has.call(t,e)||(t.add(e),or(t,"add",e,e)),this}function ha(e,t){t=Te(t);const r=Te(this),{has:n,get:s}=Vs(r);let i=n.call(r,e);i||(e=Te(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?Rn(t,o)&&or(r,"set",e,t):or(r,"add",e,t),this}function da(e){const t=Te(this),{has:r,get:n}=Vs(t);let s=r.call(t,e);s||(e=Te(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&or(t,"delete",e,void 0),i}function ma(){const e=Te(this),t=e.size!==0,r=e.clear();return t&&or(e,"clear",void 0,void 0),r}function cs(e,t){return function(n,s){const i=this,o=i.__v_raw,a=Te(o),c=t?ko:e?Ro:Mn;return!e&&Et(a,"iterate",Nr),o.forEach((l,u)=>n.call(s,c(l),c(u),i))}}function ls(e,t,r){return function(...n){const s=this.__v_raw,i=Te(s),o=Yr(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...n),u=r?ko:t?Ro:Mn;return!t&&Et(i,"iterate",c?Di:Nr),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:this}}function oh(){const e={get(i){return is(this,i)},get size(){return as(this)},has:os,add:fa,set:ha,delete:da,clear:ma,forEach:cs(!1,!1)},t={get(i){return is(this,i,!1,!0)},get size(){return as(this)},has:os,add:fa,set:ha,delete:da,clear:ma,forEach:cs(!1,!0)},r={get(i){return is(this,i,!0)},get size(){return as(this,!0)},has(i){return os.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:cs(!0,!1)},n={get(i){return is(this,i,!0,!0)},get size(){return as(this,!0)},has(i){return os.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:cs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ls(i,!1,!1),r[i]=ls(i,!0,!1),t[i]=ls(i,!1,!0),n[i]=ls(i,!0,!0)}),[e,r,t,n]}const[ah,ch,lh,uh]=oh();function To(e,t){const r=t?e?uh:lh:e?ch:ah;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Ce(r,s)&&s in n?r:n,s,i)}const fh={get:To(!1,!1)},hh={get:To(!1,!0)},dh={get:To(!0,!1)},xl=new WeakMap,vl=new WeakMap,El=new WeakMap,mh=new WeakMap;function ph(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gh(e){return e.__v_skip||!Object.isExtensible(e)?0:ph($f(e))}function Kn(e){return tn(e)?e:No(e,!1,wl,fh,xl)}function _h(e){return No(e,!1,ih,hh,vl)}function Sl(e){return No(e,!0,sh,dh,El)}function No(e,t,r,n,s){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=gh(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function Jr(e){return tn(e)?Jr(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function Ss(e){return!!(e&&e.__v_isShallow)}function Ol(e){return Jr(e)||tn(e)}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function Al(e){return Es(e,"__v_skip",!0),e}const Mn=e=>Fe(e)?Kn(e):e,Ro=e=>Fe(e)?Sl(e):e;function Pl(e){mr&&Ft&&(e=Te(e),_l(e.dep||(e.dep=Po())))}function Cl(e,t){e=Te(e),e.dep&&Bi(e.dep)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function ze(e){return kl(e,!1)}function Il(e){return kl(e,!0)}function kl(e,t){return Ze(e)?e:new bh(e,t)}class bh{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Te(t),this._value=r?t:Mn(t)}get value(){return Pl(this),this._value}set value(t){const r=this.__v_isShallow||Ss(t)||tn(t);t=r?t:Te(t),Rn(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Mn(t),Cl(this))}}function ke(e){return Ze(e)?e.value:e}const yh={get:(e,t,r)=>ke(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return Ze(s)&&!Ze(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Tl(e){return Jr(e)?e:new Proxy(e,yh)}class wh{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Zb(e,t,r){const n=e[t];return Ze(n)?n:new wh(e,t,r)}var Nl;class xh{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Nl]=!1,this._dirty=!0,this.effect=new Co(t,()=>{this._dirty||(this._dirty=!0,Cl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=Te(this);return Pl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Nl="__v_isReadonly";function vh(e,t,r=!1){let n,s;const i=ve(e);return i?(n=e,s=Dt):(n=e.get,s=e.set),new xh(n,s,i||!s,r)}function pr(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){zs(i,t,r)}return s}function It(e,t,r,n){if(ve(e)){const i=pr(e,t,r,n);return i&&ul(i)&&i.catch(o=>{zs(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(It(e[i],t,r,n));return s}function zs(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=r;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){pr(c,null,10,[e,o,a]);return}}Eh(e,r,s,n)}function Eh(e,t,r,n=!0){console.error(e)}let Ln=!1,qi=!1;const nt=[];let zt=0;const Xr=[];let rr=null,Pr=0;const Rl=Promise.resolve();let Mo=null;function Gn(e){const t=Mo||Rl;return e?t.then(this?e.bind(this):e):t}function Sh(e){let t=zt+1,r=nt.length;for(;t<r;){const n=t+r>>>1;Fn(nt[n])<e?t=n+1:r=n}return t}function Lo(e){(!nt.length||!nt.includes(e,Ln&&e.allowRecurse?zt+1:zt))&&(e.id==null?nt.push(e):nt.splice(Sh(e.id),0,e),Ml())}function Ml(){!Ln&&!qi&&(qi=!0,Mo=Rl.then(Fl))}function Oh(e){const t=nt.indexOf(e);t>zt&&nt.splice(t,1)}function Ah(e){pe(e)?Xr.push(...e):(!rr||!rr.includes(e,e.allowRecurse?Pr+1:Pr))&&Xr.push(e),Ml()}function pa(e,t=Ln?zt+1:0){for(;t<nt.length;t++){const r=nt[t];r&&r.pre&&(nt.splice(t,1),t--,r())}}function Ll(e){if(Xr.length){const t=[...new Set(Xr)];if(Xr.length=0,rr){rr.push(...t);return}for(rr=t,rr.sort((r,n)=>Fn(r)-Fn(n)),Pr=0;Pr<rr.length;Pr++)rr[Pr]();rr=null,Pr=0}}const Fn=e=>e.id==null?1/0:e.id,Ph=(e,t)=>{const r=Fn(e)-Fn(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Fl(e){qi=!1,Ln=!0,nt.sort(Ph);const t=Dt;try{for(zt=0;zt<nt.length;zt++){const r=nt[zt];r&&r.active!==!1&&pr(r,null,14)}}finally{zt=0,nt.length=0,Ll(),Ln=!1,Mo=null,(nt.length||Xr.length)&&Fl()}}function Ch(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||je;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[u]||je;d&&(s=r.map(_=>Ye(_)?_.trim():_)),f&&(s=r.map(Ao))}let a,c=n[a=bi(t)]||n[a=bi(Xt(t))];!c&&i&&(c=n[a=bi(Lr(t))]),c&&It(c,e,6,s);const l=n[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,It(l,e,6,s)}}function jl(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!ve(e)){const c=l=>{const u=jl(l,t,!0);u&&(a=!0,st(o,u))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Fe(e)&&n.set(e,null),null):(pe(i)?i.forEach(c=>o[c]=null):st(o,i),Fe(e)&&n.set(e,o),o)}function Ks(e,t){return!e||!Bs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Lr(t))||Ce(e,t))}let rt=null,Gs=null;function Os(e){const t=rt;return rt=e,Gs=e&&e.type.__scopeId||null,t}function ey(e){Gs=e}function ty(){Gs=null}function jt(e,t=rt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Oa(-1);const i=Os(t);let o;try{o=e(...s)}finally{Os(i),n._d&&Oa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function yi(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:f,data:d,setupState:_,ctx:E,inheritAttrs:A}=e;let H,T;const L=Os(e);try{if(r.shapeFlag&4){const z=s||n;H=Wt(u.call(z,z,f,i,_,d,E)),T=c}else{const z=t;H=Wt(z.length>1?z(i,{attrs:c,slots:a,emit:l}):z(i,null)),T=t.props?c:Ih(c)}}catch(z){En.length=0,zs(z,e,1),H=Re(Tt)}let q=H;if(T&&A!==!1){const z=Object.keys(T),{shapeFlag:D}=q;z.length&&D&7&&(o&&z.some(Eo)&&(T=kh(T,o)),q=br(q,T))}return r.dirs&&(q=br(q),q.dirs=q.dirs?q.dirs.concat(r.dirs):r.dirs),r.transition&&(q.transition=r.transition),H=q,Os(L),H}const Ih=e=>{let t;for(const r in e)(r==="class"||r==="style"||Bs(r))&&((t||(t={}))[r]=e[r]);return t},kh=(e,t)=>{const r={};for(const n in e)(!Eo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Th(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?ga(n,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!Ks(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ga(n,o,l):!0:!!o;return!1}function ga(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Ks(r,i))return!0}return!1}function Nh({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Rh=e=>e.__isSuspense;function Mh(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):Ah(e)}function ys(e,t){if(Xe){let r=Xe.provides;const n=Xe.parent&&Xe.parent.provides;n===r&&(r=Xe.provides=Object.create(n)),r[e]=t}}function kt(e,t,r=!1){const n=Xe||rt;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&ve(t)?t.call(n.proxy):t}}function Lh(e,t){return Fo(e,null,t)}const us={};function wt(e,t,r){return Fo(e,t,r)}function Fo(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=je){const a=Xe;let c,l=!1,u=!1;if(Ze(e)?(c=()=>e.value,l=Ss(e)):Jr(e)?(c=()=>e,n=!0):pe(e)?(u=!0,l=e.some(q=>Jr(q)||Ss(q)),c=()=>e.map(q=>{if(Ze(q))return q.value;if(Jr(q))return Tr(q);if(ve(q))return pr(q,a,2)})):ve(e)?t?c=()=>pr(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),It(e,a,3,[d])}:c=Dt,t&&n){const q=c;c=()=>Tr(q())}let f,d=q=>{f=T.onStop=()=>{pr(q,a,4)}},_;if(Un)if(d=Dt,t?r&&It(t,a,3,[c(),u?[]:void 0,d]):c(),s==="sync"){const q=Id();_=q.__watcherHandles||(q.__watcherHandles=[])}else return Dt;let E=u?new Array(e.length).fill(us):us;const A=()=>{if(T.active)if(t){const q=T.run();(n||l||(u?q.some((z,D)=>Rn(z,E[D])):Rn(q,E)))&&(f&&f(),It(t,a,3,[q,E===us?void 0:u&&E[0]===us?[]:E,d]),E=q)}else T.run()};A.allowRecurse=!!t;let H;s==="sync"?H=A:s==="post"?H=()=>ht(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),H=()=>Lo(A));const T=new Co(c,H);t?r?A():E=T.run():s==="post"?ht(T.run.bind(T),a&&a.suspense):T.run();const L=()=>{T.stop(),a&&a.scope&&So(a.scope.effects,T)};return _&&_.push(L),L}function Fh(e,t,r){const n=this.proxy,s=Ye(e)?e.includes(".")?$l(n,e):()=>n[e]:e.bind(n,n);let i;ve(t)?i=t:(i=t.handler,r=t);const o=Xe;rn(this);const a=Fo(s,i.bind(n),r);return o?rn(o):Rr(),a}function $l(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Tr(e,t){if(!Fe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))Tr(e.value,t);else if(pe(e))for(let r=0;r<e.length;r++)Tr(e[r],t);else if(qs(e)||Yr(e))e.forEach(r=>{Tr(r,t)});else if(hl(e))for(const r in e)Tr(e[r],t);return e}function jh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yn(()=>{e.isMounted=!0}),ql(()=>{e.isUnmounting=!0}),e}const Ot=[Function,Array],$h={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(e,{slots:t}){const r=Xn(),n=jh();let s;return()=>{const i=t.default&&Dl(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const A of i)if(A.type!==Tt){o=A;break}}const a=Te(e),{mode:c}=a;if(n.isLeaving)return wi(o);const l=_a(o);if(!l)return wi(o);const u=Hi(l,a,n,r);Wi(l,u);const f=r.subTree,d=f&&_a(f);let _=!1;const{getTransitionKey:E}=l.type;if(E){const A=E();s===void 0?s=A:A!==s&&(s=A,_=!0)}if(d&&d.type!==Tt&&(!Cr(l,d)||_)){const A=Hi(d,a,n,r);if(Wi(d,A),c==="out-in")return n.isLeaving=!0,A.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},wi(o);c==="in-out"&&l.type!==Tt&&(A.delayLeave=(H,T,L)=>{const q=Ul(n,d);q[String(d.key)]=d,H._leaveCb=()=>{T(),H._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=L})}return o}}},Uh=$h;function Ul(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Hi(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:_,onLeaveCancelled:E,onBeforeAppear:A,onAppear:H,onAfterAppear:T,onAppearCancelled:L}=t,q=String(e.key),z=Ul(r,e),D=(ne,ge)=>{ne&&It(ne,n,9,ge)},ue=(ne,ge)=>{const we=ge[1];D(ne,ge),pe(ne)?ne.every(Oe=>Oe.length<=1)&&we():ne.length<=1&&we()},re={mode:i,persisted:o,beforeEnter(ne){let ge=a;if(!r.isMounted)if(s)ge=A||a;else return;ne._leaveCb&&ne._leaveCb(!0);const we=z[q];we&&Cr(e,we)&&we.el._leaveCb&&we.el._leaveCb(),D(ge,[ne])},enter(ne){let ge=c,we=l,Oe=u;if(!r.isMounted)if(s)ge=H||c,we=T||l,Oe=L||u;else return;let Me=!1;const Be=ne._enterCb=k=>{Me||(Me=!0,k?D(Oe,[ne]):D(we,[ne]),re.delayedLeave&&re.delayedLeave(),ne._enterCb=void 0)};ge?ue(ge,[ne,Be]):Be()},leave(ne,ge){const we=String(e.key);if(ne._enterCb&&ne._enterCb(!0),r.isUnmounting)return ge();D(f,[ne]);let Oe=!1;const Me=ne._leaveCb=Be=>{Oe||(Oe=!0,ge(),Be?D(E,[ne]):D(_,[ne]),ne._leaveCb=void 0,z[we]===e&&delete z[we])};z[we]=e,d?ue(d,[ne,Me]):Me()},clone(ne){return Hi(ne,t,r,n)}};return re}function wi(e){if(Ys(e))return e=br(e),e.children=null,e}function _a(e){return Ys(e)?e.children?e.children[0]:void 0:e}function Wi(e,t){e.shapeFlag&6&&e.component?Wi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Dl(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===_t?(o.patchFlag&128&&s++,n=n.concat(Dl(o.children,t,a))):(t||o.type!==Tt)&&n.push(a!=null?br(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Fr(e){return ve(e)?{setup:e,name:e.name}:e}const xn=e=>!!e.type.__asyncLoader,Ys=e=>e.type.__isKeepAlive;function Dh(e,t){Bl(e,"a",t)}function Bh(e,t){Bl(e,"da",t)}function Bl(e,t,r=Xe){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Js(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Ys(s.parent.vnode)&&qh(n,t,r,s),s=s.parent}}function qh(e,t,r,n){const s=Js(t,e,n,!0);jo(()=>{So(n[t],s)},r)}function Js(e,t,r=Xe,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;an(),rn(r);const a=It(t,r,e,o);return Rr(),cn(),a});return n?s.unshift(i):s.push(i),i}}const cr=e=>(t,r=Xe)=>(!Un||e==="sp")&&Js(e,(...n)=>t(...n),r),Hh=cr("bm"),Yn=cr("m"),Wh=cr("bu"),Vh=cr("u"),ql=cr("bum"),jo=cr("um"),zh=cr("sp"),Kh=cr("rtg"),Gh=cr("rtc");function Yh(e,t=Xe){Js("ec",e,t)}function ry(e,t){const r=rt;if(r===null)return e;const n=Zs(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=je]=t[i];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&Tr(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function Er(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(an(),It(c,r,8,[e.el,a,e,t]),cn())}}const Hl="components";function Xs(e,t){return Xh(Hl,e,!0,t)||e}const Jh=Symbol();function Xh(e,t,r=!0,n=!1){const s=rt||Xe;if(s){const i=s.type;if(e===Hl){const a=Ad(i,!1);if(a&&(a===t||a===Xt(t)||a===Ws(Xt(t))))return i}const o=ba(s[e]||i[e],t)||ba(s.appContext[e],t);return!o&&n?i:o}}function ba(e,t){return e&&(e[t]||e[Xt(t)]||e[Ws(Xt(t))])}function ny(e,t,r,n){let s;const i=r&&r[n];if(pe(e)||Ye(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Fe(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return r&&(r[n]=s),s}function xi(e,t,r={},n,s){if(rt.isCE||rt.parent&&xn(rt.parent)&&rt.parent.isCE)return t!=="default"&&(r.name=t),Re("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),ct();const o=i&&Wl(i(r)),a=$n(_t,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Wl(e){return e.some(t=>Ps(t)?!(t.type===Tt||t.type===_t&&!Wl(t.children)):!0)?e:null}const Vi=e=>e?ru(e)?Zs(e)||e.proxy:Vi(e.parent):null,vn=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vi(e.parent),$root:e=>Vi(e.root),$emit:e=>e.emit,$options:e=>$o(e),$forceUpdate:e=>e.f||(e.f=()=>Lo(e.update)),$nextTick:e=>e.n||(e.n=Gn.bind(e.proxy)),$watch:e=>Fh.bind(e)}),vi=(e,t)=>e!==je&&!e.__isScriptSetup&&Ce(e,t),Qh={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(vi(n,t))return o[t]=1,n[t];if(s!==je&&Ce(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&Ce(l,t))return o[t]=3,i[t];if(r!==je&&Ce(r,t))return o[t]=4,r[t];zi&&(o[t]=0)}}const u=vn[t];let f,d;if(u)return t==="$attrs"&&Et(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(r!==je&&Ce(r,t))return o[t]=4,r[t];if(d=c.config.globalProperties,Ce(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return vi(s,t)?(s[t]=r,!0):n!==je&&Ce(n,t)?(n[t]=r,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==je&&Ce(e,o)||vi(t,o)||(a=i[0])&&Ce(a,o)||Ce(n,o)||Ce(vn,o)||Ce(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ce(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let zi=!0;function Zh(e){const t=$o(e),r=e.proxy,n=e.ctx;zi=!1,t.beforeCreate&&ya(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:_,updated:E,activated:A,deactivated:H,beforeDestroy:T,beforeUnmount:L,destroyed:q,unmounted:z,render:D,renderTracked:ue,renderTriggered:re,errorCaptured:ne,serverPrefetch:ge,expose:we,inheritAttrs:Oe,components:Me,directives:Be,filters:k}=t;if(l&&ed(l,n,null,e.appContext.config.unwrapInjectedRef),o)for(const se in o){const ce=o[se];ve(ce)&&(n[se]=ce.bind(r))}if(s){const se=s.call(r,r);Fe(se)&&(e.data=Kn(se))}if(zi=!0,i)for(const se in i){const ce=i[se],be=ve(ce)?ce.bind(r,r):ve(ce.get)?ce.get.bind(r,r):Dt,he=!ve(ce)&&ve(ce.set)?ce.set.bind(r):Dt,de=He({get:be,set:he});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>de.value,set:_e=>de.value=_e})}if(a)for(const se in a)Vl(a[se],n,r,se);if(c){const se=ve(c)?c.call(r):c;Reflect.ownKeys(se).forEach(ce=>{ys(ce,se[ce])})}u&&ya(u,e,"c");function fe(se,ce){pe(ce)?ce.forEach(be=>se(be.bind(r))):ce&&se(ce.bind(r))}if(fe(Hh,f),fe(Yn,d),fe(Wh,_),fe(Vh,E),fe(Dh,A),fe(Bh,H),fe(Yh,ne),fe(Gh,ue),fe(Kh,re),fe(ql,L),fe(jo,z),fe(zh,ge),pe(we))if(we.length){const se=e.exposed||(e.exposed={});we.forEach(ce=>{Object.defineProperty(se,ce,{get:()=>r[ce],set:be=>r[ce]=be})})}else e.exposed||(e.exposed={});D&&e.render===Dt&&(e.render=D),Oe!=null&&(e.inheritAttrs=Oe),Me&&(e.components=Me),Be&&(e.directives=Be)}function ed(e,t,r=Dt,n=!1){pe(e)&&(e=Ki(e));for(const s in e){const i=e[s];let o;Fe(i)?"default"in i?o=kt(i.from||s,i.default,!0):o=kt(i.from||s):o=kt(i),Ze(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function ya(e,t,r){It(pe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Vl(e,t,r,n){const s=n.includes(".")?$l(r,n):()=>r[n];if(Ye(e)){const i=t[e];ve(i)&&wt(s,i)}else if(ve(e))wt(s,e.bind(r));else if(Fe(e))if(pe(e))e.forEach(i=>Vl(i,t,r,n));else{const i=ve(e.handler)?e.handler.bind(r):t[e.handler];ve(i)&&wt(s,i,e)}}function $o(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!r&&!n?c=t:(c={},s.length&&s.forEach(l=>As(c,l,o,!0)),As(c,t,o)),Fe(t)&&i.set(t,c),c}function As(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&As(e,i,r,!0),s&&s.forEach(o=>As(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=td[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const td={data:wa,props:Or,emits:Or,methods:Or,computed:Or,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Or,directives:Or,watch:nd,provide:wa,inject:rd};function wa(e,t){return t?e?function(){return st(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function rd(e,t){return Or(Ki(e),Ki(t))}function Ki(e){if(pe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?st(st(Object.create(null),e),t):t}function nd(e,t){if(!e)return t;if(!t)return e;const r=st(Object.create(null),e);for(const n in t)r[n]=it(e[n],t[n]);return r}function sd(e,t,r,n=!1){const s={},i={};Es(i,Qs,1),e.propsDefaults=Object.create(null),zl(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:_h(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function id(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Te(s),[c]=e.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Ks(e.emitsOptions,d))continue;const _=t[d];if(c)if(Ce(i,d))_!==i[d]&&(i[d]=_,l=!0);else{const E=Xt(d);s[E]=Gi(c,a,E,_,e,!1)}else _!==i[d]&&(i[d]=_,l=!0)}}}else{zl(e,t,s,i)&&(l=!0);let u;for(const f in a)(!t||!Ce(t,f)&&((u=Lr(f))===f||!Ce(t,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(s[f]=Gi(c,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!Ce(t,f))&&(delete i[f],l=!0)}l&&or(e,"set","$attrs")}function zl(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(_s(c))continue;const l=t[c];let u;s&&Ce(s,u=Xt(c))?!i||!i.includes(u)?r[u]=l:(a||(a={}))[u]=l:Ks(e.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(i){const c=Te(r),l=a||je;for(let u=0;u<i.length;u++){const f=i[u];r[f]=Gi(s,c,f,l[f],e,!Ce(l,f))}}return o}function Gi(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=Ce(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&ve(c)){const{propsDefaults:l}=s;r in l?n=l[r]:(rn(s),n=l[r]=c.call(null,t),Rr())}else n=c}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Lr(r))&&(n=!0))}return n}function Kl(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!ve(e)){const u=f=>{c=!0;const[d,_]=Kl(f,t,!0);st(o,d),_&&a.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return Fe(e)&&n.set(e,Gr),Gr;if(pe(i))for(let u=0;u<i.length;u++){const f=Xt(i[u]);xa(f)&&(o[f]=je)}else if(i)for(const u in i){const f=Xt(u);if(xa(f)){const d=i[u],_=o[f]=pe(d)||ve(d)?{type:d}:Object.assign({},d);if(_){const E=Sa(Boolean,_.type),A=Sa(String,_.type);_[0]=E>-1,_[1]=A<0||E<A,(E>-1||Ce(_,"default"))&&a.push(f)}}}const l=[o,a];return Fe(e)&&n.set(e,l),l}function xa(e){return e[0]!=="$"}function va(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ea(e,t){return va(e)===va(t)}function Sa(e,t){return pe(t)?t.findIndex(r=>Ea(r,e)):ve(t)&&Ea(t,e)?0:-1}const Gl=e=>e[0]==="_"||e==="$stable",Uo=e=>pe(e)?e.map(Wt):[Wt(e)],od=(e,t,r)=>{if(t._n)return t;const n=jt((...s)=>Uo(t(...s)),r);return n._c=!1,n},Yl=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Gl(s))continue;const i=e[s];if(ve(i))t[s]=od(s,i,n);else if(i!=null){const o=Uo(i);t[s]=()=>o}}},Jl=(e,t)=>{const r=Uo(t);e.slots.default=()=>r},ad=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Te(t),Es(t,"_",r)):Yl(t,e.slots={})}else e.slots={},t&&Jl(e,t);Es(e.slots,Qs,1)},cd=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=je;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(st(s,t),!r&&a===1&&delete s._):(i=!t.$stable,Yl(t,s)),o=t}else t&&(Jl(e,t),o={default:1});if(i)for(const a in s)!Gl(a)&&!(a in o)&&delete s[a]};function Xl(){return{app:null,config:{isNativeTag:Lf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ld=0;function ud(e,t){return function(n,s=null){ve(n)||(n=Object.assign({},n)),s!=null&&!Fe(s)&&(s=null);const i=Xl(),o=new Set;let a=!1;const c=i.app={_uid:ld++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:kd,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ve(l.install)?(o.add(l),l.install(c,...u)):ve(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,f){if(!a){const d=Re(n,s);return d.appContext=i,u&&t?t(d,l):e(d,l,f),a=!0,c._container=l,l.__vue_app__=c,Zs(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Yi(e,t,r,n,s=!1){if(pe(e)){e.forEach((d,_)=>Yi(d,t&&(pe(t)?t[_]:t),r,n,s));return}if(xn(n)&&!s)return;const i=n.shapeFlag&4?Zs(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===je?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(Ye(l)?(u[l]=null,Ce(f,l)&&(f[l]=null)):Ze(l)&&(l.value=null)),ve(c))pr(c,a,12,[o,u]);else{const d=Ye(c),_=Ze(c);if(d||_){const E=()=>{if(e.f){const A=d?Ce(f,c)?f[c]:u[c]:c.value;s?pe(A)&&So(A,i):pe(A)?A.includes(i)||A.push(i):d?(u[c]=[i],Ce(f,c)&&(f[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,Ce(f,c)&&(f[c]=o)):_&&(c.value=o,e.k&&(u[e.k]=o))};o?(E.id=-1,ht(E,r)):E()}}}const ht=Mh;function fd(e){return hd(e)}function hd(e,t){const r=Bf();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:_=Dt,insertStaticContent:E}=e,A=(g,w,I,R=null,U=null,V=null,J=!1,W=null,G=!!w.dynamicChildren)=>{if(g===w)return;g&&!Cr(g,w)&&(R=$(g),_e(g,U,V,!0),g=null),w.patchFlag===-2&&(G=!1,w.dynamicChildren=null);const{type:M,ref:S,shapeFlag:O}=w;switch(M){case Jn:H(g,w,I,R);break;case Tt:T(g,w,I,R);break;case Ei:g==null&&L(w,I,R,J);break;case _t:Me(g,w,I,R,U,V,J,W,G);break;default:O&1?D(g,w,I,R,U,V,J,W,G):O&6?Be(g,w,I,R,U,V,J,W,G):(O&64||O&128)&&M.process(g,w,I,R,U,V,J,W,G,ee)}S!=null&&U&&Yi(S,g&&g.ref,V,w||g,!w)},H=(g,w,I,R)=>{if(g==null)n(w.el=a(w.children),I,R);else{const U=w.el=g.el;w.children!==g.children&&l(U,w.children)}},T=(g,w,I,R)=>{g==null?n(w.el=c(w.children||""),I,R):w.el=g.el},L=(g,w,I,R)=>{[g.el,g.anchor]=E(g.children,w,I,R,g.el,g.anchor)},q=({el:g,anchor:w},I,R)=>{let U;for(;g&&g!==w;)U=d(g),n(g,I,R),g=U;n(w,I,R)},z=({el:g,anchor:w})=>{let I;for(;g&&g!==w;)I=d(g),s(g),g=I;s(w)},D=(g,w,I,R,U,V,J,W,G)=>{J=J||w.type==="svg",g==null?ue(w,I,R,U,V,J,W,G):ge(g,w,U,V,J,W,G)},ue=(g,w,I,R,U,V,J,W)=>{let G,M;const{type:S,props:O,shapeFlag:Y,transition:ie,dirs:xe}=g;if(G=g.el=o(g.type,V,O&&O.is,O),Y&8?u(G,g.children):Y&16&&ne(g.children,G,null,R,U,V&&S!=="foreignObject",J,W),xe&&Er(g,null,R,"created"),O){for(const Ee in O)Ee!=="value"&&!_s(Ee)&&i(G,Ee,null,O[Ee],V,g.children,R,U,K);"value"in O&&i(G,"value",null,O.value),(M=O.onVnodeBeforeMount)&&Ht(M,R,g)}re(G,g,g.scopeId,J,R),xe&&Er(g,null,R,"beforeMount");const Pe=(!U||U&&!U.pendingBranch)&&ie&&!ie.persisted;Pe&&ie.beforeEnter(G),n(G,w,I),((M=O&&O.onVnodeMounted)||Pe||xe)&&ht(()=>{M&&Ht(M,R,g),Pe&&ie.enter(G),xe&&Er(g,null,R,"mounted")},U)},re=(g,w,I,R,U)=>{if(I&&_(g,I),R)for(let V=0;V<R.length;V++)_(g,R[V]);if(U){let V=U.subTree;if(w===V){const J=U.vnode;re(g,J,J.scopeId,J.slotScopeIds,U.parent)}}},ne=(g,w,I,R,U,V,J,W,G=0)=>{for(let M=G;M<g.length;M++){const S=g[M]=W?hr(g[M]):Wt(g[M]);A(null,S,w,I,R,U,V,J,W)}},ge=(g,w,I,R,U,V,J)=>{const W=w.el=g.el;let{patchFlag:G,dynamicChildren:M,dirs:S}=w;G|=g.patchFlag&16;const O=g.props||je,Y=w.props||je;let ie;I&&Sr(I,!1),(ie=Y.onVnodeBeforeUpdate)&&Ht(ie,I,w,g),S&&Er(w,g,I,"beforeUpdate"),I&&Sr(I,!0);const xe=U&&w.type!=="foreignObject";if(M?we(g.dynamicChildren,M,W,I,R,xe,V):J||ce(g,w,W,null,I,R,xe,V,!1),G>0){if(G&16)Oe(W,w,O,Y,I,R,U);else if(G&2&&O.class!==Y.class&&i(W,"class",null,Y.class,U),G&4&&i(W,"style",O.style,Y.style,U),G&8){const Pe=w.dynamicProps;for(let Ee=0;Ee<Pe.length;Ee++){const Ue=Pe[Ee],ut=O[Ue],lr=Y[Ue];(lr!==ut||Ue==="value")&&i(W,Ue,ut,lr,U,g.children,I,R,K)}}G&1&&g.children!==w.children&&u(W,w.children)}else!J&&M==null&&Oe(W,w,O,Y,I,R,U);((ie=Y.onVnodeUpdated)||S)&&ht(()=>{ie&&Ht(ie,I,w,g),S&&Er(w,g,I,"updated")},R)},we=(g,w,I,R,U,V,J)=>{for(let W=0;W<w.length;W++){const G=g[W],M=w[W],S=G.el&&(G.type===_t||!Cr(G,M)||G.shapeFlag&70)?f(G.el):I;A(G,M,S,null,R,U,V,J,!0)}},Oe=(g,w,I,R,U,V,J)=>{if(I!==R){if(I!==je)for(const W in I)!_s(W)&&!(W in R)&&i(g,W,I[W],null,J,w.children,U,V,K);for(const W in R){if(_s(W))continue;const G=R[W],M=I[W];G!==M&&W!=="value"&&i(g,W,M,G,J,w.children,U,V,K)}"value"in R&&i(g,"value",I.value,R.value)}},Me=(g,w,I,R,U,V,J,W,G)=>{const M=w.el=g?g.el:a(""),S=w.anchor=g?g.anchor:a("");let{patchFlag:O,dynamicChildren:Y,slotScopeIds:ie}=w;ie&&(W=W?W.concat(ie):ie),g==null?(n(M,I,R),n(S,I,R),ne(w.children,I,S,U,V,J,W,G)):O>0&&O&64&&Y&&g.dynamicChildren?(we(g.dynamicChildren,Y,I,U,V,J,W),(w.key!=null||U&&w===U.subTree)&&Ql(g,w,!0)):ce(g,w,I,S,U,V,J,W,G)},Be=(g,w,I,R,U,V,J,W,G)=>{w.slotScopeIds=W,g==null?w.shapeFlag&512?U.ctx.activate(w,I,R,J,G):k(w,I,R,U,V,J,G):C(g,w,G)},k=(g,w,I,R,U,V,J)=>{const W=g.component=xd(g,R,U);if(Ys(g)&&(W.ctx.renderer=ee),vd(W),W.asyncDep){if(U&&U.registerDep(W,fe),!g.el){const G=W.subTree=Re(Tt);T(null,G,w,I)}return}fe(W,g,w,I,U,V,J)},C=(g,w,I)=>{const R=w.component=g.component;if(Th(g,w,I))if(R.asyncDep&&!R.asyncResolved){se(R,w,I);return}else R.next=w,Oh(R.update),R.update();else w.el=g.el,R.vnode=w},fe=(g,w,I,R,U,V,J)=>{const W=()=>{if(g.isMounted){let{next:S,bu:O,u:Y,parent:ie,vnode:xe}=g,Pe=S,Ee;Sr(g,!1),S?(S.el=xe.el,se(g,S,J)):S=xe,O&&bs(O),(Ee=S.props&&S.props.onVnodeBeforeUpdate)&&Ht(Ee,ie,S,xe),Sr(g,!0);const Ue=yi(g),ut=g.subTree;g.subTree=Ue,A(ut,Ue,f(ut.el),$(ut),g,U,V),S.el=Ue.el,Pe===null&&Nh(g,Ue.el),Y&&ht(Y,U),(Ee=S.props&&S.props.onVnodeUpdated)&&ht(()=>Ht(Ee,ie,S,xe),U)}else{let S;const{el:O,props:Y}=w,{bm:ie,m:xe,parent:Pe}=g,Ee=xn(w);if(Sr(g,!1),ie&&bs(ie),!Ee&&(S=Y&&Y.onVnodeBeforeMount)&&Ht(S,Pe,w),Sr(g,!0),O&&me){const Ue=()=>{g.subTree=yi(g),me(O,g.subTree,g,U,null)};Ee?w.type.__asyncLoader().then(()=>!g.isUnmounted&&Ue()):Ue()}else{const Ue=g.subTree=yi(g);A(null,Ue,I,R,g,U,V),w.el=Ue.el}if(xe&&ht(xe,U),!Ee&&(S=Y&&Y.onVnodeMounted)){const Ue=w;ht(()=>Ht(S,Pe,Ue),U)}(w.shapeFlag&256||Pe&&xn(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&g.a&&ht(g.a,U),g.isMounted=!0,w=I=R=null}},G=g.effect=new Co(W,()=>Lo(M),g.scope),M=g.update=()=>G.run();M.id=g.uid,Sr(g,!0),M()},se=(g,w,I)=>{w.component=g;const R=g.vnode.props;g.vnode=w,g.next=null,id(g,w.props,R,I),cd(g,w.children,I),an(),pa(),cn()},ce=(g,w,I,R,U,V,J,W,G=!1)=>{const M=g&&g.children,S=g?g.shapeFlag:0,O=w.children,{patchFlag:Y,shapeFlag:ie}=w;if(Y>0){if(Y&128){he(M,O,I,R,U,V,J,W,G);return}else if(Y&256){be(M,O,I,R,U,V,J,W,G);return}}ie&8?(S&16&&K(M,U,V),O!==M&&u(I,O)):S&16?ie&16?he(M,O,I,R,U,V,J,W,G):K(M,U,V,!0):(S&8&&u(I,""),ie&16&&ne(O,I,R,U,V,J,W,G))},be=(g,w,I,R,U,V,J,W,G)=>{g=g||Gr,w=w||Gr;const M=g.length,S=w.length,O=Math.min(M,S);let Y;for(Y=0;Y<O;Y++){const ie=w[Y]=G?hr(w[Y]):Wt(w[Y]);A(g[Y],ie,I,null,U,V,J,W,G)}M>S?K(g,U,V,!0,!1,O):ne(w,I,R,U,V,J,W,G,O)},he=(g,w,I,R,U,V,J,W,G)=>{let M=0;const S=w.length;let O=g.length-1,Y=S-1;for(;M<=O&&M<=Y;){const ie=g[M],xe=w[M]=G?hr(w[M]):Wt(w[M]);if(Cr(ie,xe))A(ie,xe,I,null,U,V,J,W,G);else break;M++}for(;M<=O&&M<=Y;){const ie=g[O],xe=w[Y]=G?hr(w[Y]):Wt(w[Y]);if(Cr(ie,xe))A(ie,xe,I,null,U,V,J,W,G);else break;O--,Y--}if(M>O){if(M<=Y){const ie=Y+1,xe=ie<S?w[ie].el:R;for(;M<=Y;)A(null,w[M]=G?hr(w[M]):Wt(w[M]),I,xe,U,V,J,W,G),M++}}else if(M>Y)for(;M<=O;)_e(g[M],U,V,!0),M++;else{const ie=M,xe=M,Pe=new Map;for(M=xe;M<=Y;M++){const Je=w[M]=G?hr(w[M]):Wt(w[M]);Je.key!=null&&Pe.set(Je.key,M)}let Ee,Ue=0;const ut=Y-xe+1;let lr=!1,un=0;const xr=new Array(ut);for(M=0;M<ut;M++)xr[M]=0;for(M=ie;M<=O;M++){const Je=g[M];if(Ue>=ut){_e(Je,U,V,!0);continue}let mt;if(Je.key!=null)mt=Pe.get(Je.key);else for(Ee=xe;Ee<=Y;Ee++)if(xr[Ee-xe]===0&&Cr(Je,w[Ee])){mt=Ee;break}mt===void 0?_e(Je,U,V,!0):(xr[mt-xe]=M+1,mt>=un?un=mt:lr=!0,A(Je,w[mt],I,null,U,V,J,W,G),Ue++)}const qt=lr?dd(xr):Gr;for(Ee=qt.length-1,M=ut-1;M>=0;M--){const Je=xe+M,mt=w[Je],$r=Je+1<S?w[Je+1].el:R;xr[M]===0?A(null,mt,I,$r,U,V,J,W,G):lr&&(Ee<0||M!==qt[Ee]?de(mt,I,$r,2):Ee--)}}},de=(g,w,I,R,U=null)=>{const{el:V,type:J,transition:W,children:G,shapeFlag:M}=g;if(M&6){de(g.component.subTree,w,I,R);return}if(M&128){g.suspense.move(w,I,R);return}if(M&64){J.move(g,w,I,ee);return}if(J===_t){n(V,w,I);for(let O=0;O<G.length;O++)de(G[O],w,I,R);n(g.anchor,w,I);return}if(J===Ei){q(g,w,I);return}if(R!==2&&M&1&&W)if(R===0)W.beforeEnter(V),n(V,w,I),ht(()=>W.enter(V),U);else{const{leave:O,delayLeave:Y,afterLeave:ie}=W,xe=()=>n(V,w,I),Pe=()=>{O(V,()=>{xe(),ie&&ie()})};Y?Y(V,xe,Pe):Pe()}else n(V,w,I)},_e=(g,w,I,R=!1,U=!1)=>{const{type:V,props:J,ref:W,children:G,dynamicChildren:M,shapeFlag:S,patchFlag:O,dirs:Y}=g;if(W!=null&&Yi(W,null,I,g,!0),S&256){w.ctx.deactivate(g);return}const ie=S&1&&Y,xe=!xn(g);let Pe;if(xe&&(Pe=J&&J.onVnodeBeforeUnmount)&&Ht(Pe,w,g),S&6)N(g.component,I,R);else{if(S&128){g.suspense.unmount(I,R);return}ie&&Er(g,null,w,"beforeUnmount"),S&64?g.type.remove(g,w,I,U,ee,R):M&&(V!==_t||O>0&&O&64)?K(M,w,I,!1,!0):(V===_t&&O&384||!U&&S&16)&&K(G,w,I),R&&$e(g)}(xe&&(Pe=J&&J.onVnodeUnmounted)||ie)&&ht(()=>{Pe&&Ht(Pe,w,g),ie&&Er(g,null,w,"unmounted")},I)},$e=g=>{const{type:w,el:I,anchor:R,transition:U}=g;if(w===_t){Ae(I,R);return}if(w===Ei){z(g);return}const V=()=>{s(I),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(g.shapeFlag&1&&U&&!U.persisted){const{leave:J,delayLeave:W}=U,G=()=>J(I,V);W?W(g.el,V,G):G()}else V()},Ae=(g,w)=>{let I;for(;g!==w;)I=d(g),s(g),g=I;s(w)},N=(g,w,I)=>{const{bum:R,scope:U,update:V,subTree:J,um:W}=g;R&&bs(R),U.stop(),V&&(V.active=!1,_e(J,g,w,I)),W&&ht(W,w),ht(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},K=(g,w,I,R=!1,U=!1,V=0)=>{for(let J=V;J<g.length;J++)_e(g[J],w,I,R,U)},$=g=>g.shapeFlag&6?$(g.component.subTree):g.shapeFlag&128?g.suspense.next():d(g.anchor||g.el),te=(g,w,I)=>{g==null?w._vnode&&_e(w._vnode,null,null,!0):A(w._vnode||null,g,w,null,null,null,I),pa(),Ll(),w._vnode=g},ee={p:A,um:_e,m:de,r:$e,mt:k,mc:ne,pc:ce,pbc:we,n:$,o:e};let ye,me;return t&&([ye,me]=t(ee)),{render:te,hydrate:ye,createApp:ud(te,ye)}}function Sr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ql(e,t,r=!1){const n=e.children,s=t.children;if(pe(n)&&pe(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=hr(s[i]),a.el=o.el),r||Ql(o,a)),a.type===Jn&&(a.el=o.el)}}function dd(e){const t=e.slice(),r=[0];let n,s,i,o,a;const c=e.length;for(n=0;n<c;n++){const l=e[n];if(l!==0){if(s=r[r.length-1],e[s]<l){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<l?i=a+1:o=a;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const md=e=>e.__isTeleport,_t=Symbol(void 0),Jn=Symbol(void 0),Tt=Symbol(void 0),Ei=Symbol(void 0),En=[];let $t=null;function ct(e=!1){En.push($t=e?null:[])}function pd(){En.pop(),$t=En[En.length-1]||null}let jn=1;function Oa(e){jn+=e}function Zl(e){return e.dynamicChildren=jn>0?$t||Gr:null,pd(),jn>0&&$t&&$t.push(e),e}function Qt(e,t,r,n,s,i){return Zl(De(e,t,r,n,s,i,!0))}function $n(e,t,r,n,s){return Zl(Re(e,t,r,n,s,!0))}function Ps(e){return e?e.__v_isVNode===!0:!1}function Cr(e,t){return e.type===t.type&&e.key===t.key}const Qs="__vInternal",eu=({key:e})=>e??null,ws=({ref:e,ref_key:t,ref_for:r})=>e!=null?Ye(e)||Ze(e)||ve(e)?{i:rt,r:e,k:t,f:!!r}:e:null;function De(e,t=null,r=null,n=0,s=null,i=e===_t?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&eu(t),ref:t&&ws(t),scopeId:Gs,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rt};return a?(Do(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=Ye(r)?8:16),jn>0&&!o&&$t&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&$t.push(c),c}const Re=gd;function gd(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Jh)&&(e=Tt),Ps(e)){const a=br(e,t,!0);return r&&Do(a,r),jn>0&&!i&&$t&&(a.shapeFlag&6?$t[$t.indexOf(e)]=a:$t.push(a)),a.patchFlag|=-2,a}if(Pd(e)&&(e=e.__vccOpts),t){t=_d(t);let{class:a,style:c}=t;a&&!Ye(a)&&(t.class=Gt(a)),Fe(c)&&(Ol(c)&&!pe(c)&&(c=st({},c)),t.style=vo(c))}const o=Ye(e)?1:Rh(e)?128:md(e)?64:Fe(e)?4:ve(e)?2:0;return De(e,t,r,n,s,o,i,!0)}function _d(e){return e?Ol(e)||Qs in e?st({},e):e:null}function br(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,a=t?bd(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&eu(a),ref:t&&t.ref?r&&s?pe(s)?s.concat(ws(t)):[s,ws(t)]:ws(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_t?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&br(e.ssContent),ssFallback:e.ssFallback&&br(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Cs(e=" ",t=0){return Re(Jn,null,e,t)}function tu(e="",t=!1){return t?(ct(),$n(Tt,null,e)):Re(Tt,null,e)}function Wt(e){return e==null||typeof e=="boolean"?Re(Tt):pe(e)?Re(_t,null,e.slice()):typeof e=="object"?hr(e):Re(Jn,null,String(e))}function hr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:br(e)}function Do(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(pe(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Do(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(Qs in t)?t._ctx=rt:s===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[Cs(t)]):r=8);e.children=t,e.shapeFlag|=r}function bd(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Gt([t.class,n.class]));else if(s==="style")t.style=vo([t.style,n.style]);else if(Bs(s)){const i=t[s],o=n[s];o&&i!==o&&!(pe(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Ht(e,t,r,n=null){It(e,t,7,[r,n])}const yd=Xl();let wd=0;function xd(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||yd,i={uid:wd++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new dl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kl(n,s),emitsOptions:jl(n,s),emit:null,emitted:null,propsDefaults:je,inheritAttrs:n.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ch.bind(null,i),e.ce&&e.ce(i),i}let Xe=null;const Xn=()=>Xe||rt,rn=e=>{Xe=e,e.scope.on()},Rr=()=>{Xe&&Xe.scope.off(),Xe=null};function ru(e){return e.vnode.shapeFlag&4}let Un=!1;function vd(e,t=!1){Un=t;const{props:r,children:n}=e.vnode,s=ru(e);sd(e,r,s,t),ad(e,n);const i=s?Ed(e,t):void 0;return Un=!1,i}function Ed(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Al(new Proxy(e.ctx,Qh));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?Od(e):null;rn(e),an();const i=pr(n,e,0,[e.props,s]);if(cn(),Rr(),ul(i)){if(i.then(Rr,Rr),t)return i.then(o=>{Aa(e,o,t)}).catch(o=>{zs(o,e,0)});e.asyncDep=i}else Aa(e,i,t)}else nu(e,t)}function Aa(e,t,r){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=Tl(t)),nu(e,r)}let Pa;function nu(e,t,r){const n=e.type;if(!e.render){if(!t&&Pa&&!n.render){const s=n.template||$o(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,l=st(st({isCustomElement:i,delimiters:a},o),c);n.render=Pa(s,l)}}e.render=n.render||Dt}rn(e),an(),Zh(e),cn(),Rr()}function Sd(e){return new Proxy(e.attrs,{get(t,r){return Et(e,"get","$attrs"),t[r]}})}function Od(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Sd(e))},slots:e.slots,emit:e.emit,expose:t}}function Zs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Tl(Al(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in vn)return vn[r](e)},has(t,r){return r in t||r in vn}}))}function Ad(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Pd(e){return ve(e)&&"__vccOpts"in e}const He=(e,t)=>vh(e,t,Un);function ei(e,t,r){const n=arguments.length;return n===2?Fe(t)&&!pe(t)?Ps(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ps(r)&&(r=[r]),Re(e,t,r))}const Cd=Symbol(""),Id=()=>kt(Cd),kd="3.2.45",Td="http://www.w3.org/2000/svg",Ir=typeof document<"u"?document:null,Ca=Ir&&Ir.createElement("template"),Nd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?Ir.createElementNS(Td,e):Ir.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Ir.createTextNode(e),createComment:e=>Ir.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ir.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Ca.innerHTML=n?`<svg>${e}</svg>`:e;const a=Ca.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Rd(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Md(e,t,r){const n=e.style,s=Ye(r);if(r&&!s){for(const i in r)Ji(n,i,r[i]);if(t&&!Ye(t))for(const i in t)r[i]==null&&Ji(n,i,"")}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Ia=/\s*!important$/;function Ji(e,t,r){if(pe(r))r.forEach(n=>Ji(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Ld(e,t);Ia.test(r)?e.setProperty(Lr(n),r.replace(Ia,""),"important"):e[n]=r}}const ka=["Webkit","Moz","ms"],Si={};function Ld(e,t){const r=Si[t];if(r)return r;let n=Xt(t);if(n!=="filter"&&n in e)return Si[t]=n;n=Ws(n);for(let s=0;s<ka.length;s++){const i=ka[s]+n;if(i in e)return Si[t]=i}return t}const Ta="http://www.w3.org/1999/xlink";function Fd(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Ta,t.slice(6,t.length)):e.setAttributeNS(Ta,t,r);else{const i=Nf(t);r==null||i&&!cl(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function jd(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=cl(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(t)}function su(e,t,r,n){e.addEventListener(t,r,n)}function $d(e,t,r,n){e.removeEventListener(t,r,n)}function Ud(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,c]=Dd(t);if(n){const l=i[t]=Hd(n,s);su(e,a,l,c)}else o&&($d(e,a,o,c),i[t]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function Dd(e){let t;if(Na.test(e)){t={};let n;for(;n=e.match(Na);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lr(e.slice(2)),t]}let Oi=0;const Bd=Promise.resolve(),qd=()=>Oi||(Bd.then(()=>Oi=0),Oi=Date.now());function Hd(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;It(Wd(n,r.value),t,5,[n])};return r.value=e,r.attached=qd(),r}function Wd(e,t){if(pe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Ra=/^on[a-z]/,Vd=(e,t,r,n,s=!1,i,o,a,c)=>{t==="class"?Rd(e,n,s):t==="style"?Md(e,r,n):Bs(t)?Eo(t)||Ud(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zd(e,t,n,s))?jd(e,t,n,i,o,a,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Fd(e,t,n,s))};function zd(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Ra.test(t)&&ve(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ra.test(t)&&Ye(r)?!1:t in e}const Kd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Uh.props;const Ma=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?r=>bs(t,r):t},sy={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const s=qs(t);su(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Ao(Is(o)):Is(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Ma(n)},mounted(e,{value:t}){La(e,t)},beforeUpdate(e,t,r){e._assign=Ma(r)},updated(e,{value:t}){La(e,t)}};function La(e,t){const r=e.multiple;if(!(r&&!pe(t)&&!qs(t))){for(let n=0,s=e.options.length;n<s;n++){const i=e.options[n],o=Is(i);if(r)pe(t)?i.selected=Mf(t,o)>-1:i.selected=t.has(o);else if(Ds(Is(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Is(e){return"_value"in e?e._value:e.value}const Gd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},iy=(e,t)=>r=>{if(!("key"in r))return;const n=Lr(r.key);if(t.some(s=>s===n||Gd[s]===n))return e(r)},oy={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):pn(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),pn(e,!0),n.enter(e)):n.leave(e,()=>{pn(e,!1)}):pn(e,t))},beforeUnmount(e,{value:t}){pn(e,t)}};function pn(e,t){e.style.display=t?e._vod:"none"}const Yd=st({patchProp:Vd},Nd);let Fa;function Jd(){return Fa||(Fa=fd(Yd))}const Xd=(...e)=>{const t=Jd().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=Qd(n);if(!s)return;const i=t._component;!ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Qd(e){return Ye(e)?document.querySelector(e):e}/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Xi=typeof window<"u",Zd=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",yr=e=>Zd?Symbol(e):e,em=(e,t,r)=>tm({l:e,k:t,s:r}),tm=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Qe=e=>typeof e=="number"&&isFinite(e),rm=e=>Ho(e)==="[object Date]",ks=e=>Ho(e)==="[object RegExp]",ti=e=>Ie(e)&&Object.keys(e).length===0;function nm(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const lt=Object.assign;let ja;const Bo=()=>ja||(ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $a(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const sm=Object.prototype.hasOwnProperty;function qo(e,t){return sm.call(e,t)}const Ke=Array.isArray,tt=e=>typeof e=="function",ae=e=>typeof e=="string",We=e=>typeof e=="boolean",Le=e=>e!==null&&typeof e=="object",iu=Object.prototype.toString,Ho=e=>iu.call(e),Ie=e=>Ho(e)==="[object Object]",im=e=>e==null?"":Ke(e)||Ie(e)&&e.toString===iu?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ou={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function au(e,t,r={}){const{domain:n,messages:s,args:i}=r,o=e,a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=n,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const cu={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const wr=[];wr[0]={w:[0],i:[3,0],["["]:[4],o:[7]};wr[1]={w:[1],["."]:[2],["["]:[4],o:[7]};wr[2]={w:[2],i:[3,0],[0]:[3,0]};wr[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};wr[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};wr[5]={["'"]:[4,0],o:8,l:[5,0]};wr[6]={['"']:[4,0],o:8,l:[6,0]};const om=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function am(e){return om.test(e)}function cm(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function lm(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function um(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:am(t)?cm(t):"*"+t}function fm(e){const t=[];let r=-1,n=0,s=0,i,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,n=4,d[0]();else{if(s=0,o===void 0||(o=um(o),o===!1))return!1;d[1]()}};function _(){const E=e[r+1];if(n===5&&E==="'"||n===6&&E==='"')return r++,a="\\"+E,d[0](),!0}for(;n!==null;)if(r++,i=e[r],!(i==="\\"&&_())){if(c=lm(i),f=wr[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=i,u()===!1))))return;if(n===7)return t}}const Ua=new Map;function hm(e,t){return Le(e)?e[t]:null}function dm(e,t){if(!Le(e))return null;let r=Ua.get(t);if(r||(r=fm(t),r&&Ua.set(t,r)),!r)return null;const n=r.length;let s=e,i=0;for(;i<n;){const o=s[r[i]];if(o===void 0)return null;s=o,i++}return s}const mm=e=>e,pm=e=>"",gm="text",_m=e=>e.length===0?"":e.join(""),bm=im;function Da(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ym(e){const t=Qe(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Qe(e.named.count)||Qe(e.named.n))?Qe(e.named.count)?e.named.count:Qe(e.named.n)?e.named.n:t:t}function wm(e,t){t.count||(t.count=e),t.n||(t.n=e)}function xm(e={}){const t=e.locale,r=ym(e),n=Le(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?e.pluralRules[t]:Da,s=Le(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?Da:void 0,i=T=>T[n(r,T.length,s)],o=e.list||[],a=T=>o[T],c=e.named||{};Qe(e.pluralIndex)&&wm(r,c);const l=T=>c[T];function u(T){const L=tt(e.messages)?e.messages(T):Le(e.messages)?e.messages[T]:!1;return L||(e.parent?e.parent.message(T):pm)}const f=T=>e.modifiers?e.modifiers[T]:mm,d=Ie(e.processor)&&tt(e.processor.normalize)?e.processor.normalize:_m,_=Ie(e.processor)&&tt(e.processor.interpolate)?e.processor.interpolate:bm,E=Ie(e.processor)&&ae(e.processor.type)?e.processor.type:gm,H={list:a,named:l,plural:i,linked:(T,...L)=>{const[q,z]=L;let D="text",ue="";L.length===1?Le(q)?(ue=q.modifier||ue,D=q.type||D):ae(q)&&(ue=q||ue):L.length===2&&(ae(q)&&(ue=q||ue),ae(z)&&(D=z||D));let re=u(T)(H);return D==="vnode"&&Ke(re)&&ue&&(re=re[0]),ue?f(ue)(re,D):re},message:u,type:E,interpolate:_,normalize:d};return H}let Dn=null;function vm(e){Dn=e}function Em(e,t,r){Dn&&Dn.emit(cu.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Sm=Om(cu.FunctionTranslate);function Om(e){return t=>Dn&&Dn.emit(e,t)}const Am={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};function Pm(e,t,r){return[...new Set([r,...Ke(t)?t:Le(t)?Object.keys(t):ae(t)?[t]:[r]])]}function lu(e,t,r){const n=ae(r)?r:Wo,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(n);if(!i){i=[];let o=[r];for(;Ke(o);)o=Ba(i,o,t);const a=Ke(t)||!Ie(t)?t:t.default?t.default:null;o=ae(a)?[a]:a,Ke(o)&&Ba(i,o,!1),s.__localeChainCache.set(n,i)}return i}function Ba(e,t,r){let n=!0;for(let s=0;s<t.length&&We(n);s++){const i=t[s];ae(i)&&(n=Cm(e,t[s],r))}return n}function Cm(e,t,r){let n;const s=t.split("-");do{const i=s.join("-");n=Im(e,i,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function Im(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Ke(r)||Ie(r))&&r[s]&&(n=r[s])}return n}const km="9.2.2",ri=-1,Wo="en-US",qa="",Ha=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Tm(){return{upper:(e,t)=>t==="text"&&ae(e)?e.toUpperCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ae(e)?e.toLowerCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ae(e)?Ha(e):t==="vnode"&&Le(e)&&"__v_isVNode"in e?Ha(e.children):e}}let Nm,uu;function Rm(e){uu=e}let fu;function Mm(e){fu=e}let hu=null;const Wa=e=>{hu=e},Lm=()=>hu;let du=null;const Va=e=>{du=e},Fm=()=>du;let za=0;function jm(e={}){const t=ae(e.version)?e.version:km,r=ae(e.locale)?e.locale:Wo,n=Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,s=Ie(e.messages)?e.messages:{[r]:{}},i=Ie(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},o=Ie(e.numberFormats)?e.numberFormats:{[r]:{}},a=lt({},e.modifiers||{},Tm()),c=e.pluralRules||{},l=tt(e.missing)?e.missing:null,u=We(e.missingWarn)||ks(e.missingWarn)?e.missingWarn:!0,f=We(e.fallbackWarn)||ks(e.fallbackWarn)?e.fallbackWarn:!0,d=!!e.fallbackFormat,_=!!e.unresolving,E=tt(e.postTranslation)?e.postTranslation:null,A=Ie(e.processor)?e.processor:null,H=We(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,L=tt(e.messageCompiler)?e.messageCompiler:Nm,q=tt(e.messageResolver)?e.messageResolver:uu||hm,z=tt(e.localeFallbacker)?e.localeFallbacker:fu||Pm,D=Le(e.fallbackContext)?e.fallbackContext:void 0,ue=tt(e.onWarn)?e.onWarn:nm,re=e,ne=Le(re.__datetimeFormatters)?re.__datetimeFormatters:new Map,ge=Le(re.__numberFormatters)?re.__numberFormatters:new Map,we=Le(re.__meta)?re.__meta:{};za++;const Oe={version:t,cid:za,locale:r,fallbackLocale:n,messages:s,modifiers:a,pluralRules:c,missing:l,missingWarn:u,fallbackWarn:f,fallbackFormat:d,unresolving:_,postTranslation:E,processor:A,warnHtmlMessage:H,escapeParameter:T,messageCompiler:L,messageResolver:q,localeFallbacker:z,fallbackContext:D,onWarn:ue,__meta:we};return Oe.datetimeFormats=i,Oe.numberFormats=o,Oe.__datetimeFormatters=ne,Oe.__numberFormatters=ge,__INTLIFY_PROD_DEVTOOLS__&&Em(Oe,t,we),Oe}function Vo(e,t,r,n,s){const{missing:i,onWarn:o}=e;if(i!==null){const a=i(e,r,t,s);return ae(a)?a:t}else return t}function gn(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}let mu=ou.__EXTEND_POINT__;const Ai=()=>++mu,Vr={INVALID_ARGUMENT:mu,INVALID_DATE_ARGUMENT:Ai(),INVALID_ISO_DATE_ARGUMENT:Ai(),__EXTEND_POINT__:Ai()};function zr(e){return au(e,null,void 0)}const Ka=()=>"",Vt=e=>tt(e);function Ga(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=e,[c,l]=Qi(...t),u=We(l.missingWarn)?l.missingWarn:e.missingWarn,f=We(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=We(l.escapeParameter)?l.escapeParameter:e.escapeParameter,_=!!l.resolvedMessage,E=ae(l.default)||We(l.default)?We(l.default)?i?c:()=>c:l.default:r?i?c:()=>c:"",A=r||E!=="",H=ae(l.locale)?l.locale:e.locale;d&&$m(l);let[T,L,q]=_?[c,H,a[H]||{}]:pu(e,c,H,o,f,u),z=T,D=c;if(!_&&!(ae(z)||Vt(z))&&A&&(z=E,D=z),!_&&(!(ae(z)||Vt(z))||!ae(L)))return s?ri:c;let ue=!1;const re=()=>{ue=!0},ne=Vt(z)?z:gu(e,c,L,z,D,re);if(ue)return z;const ge=Bm(e,L,q,l),we=xm(ge),Oe=Um(e,ne,we),Me=n?n(Oe,c):Oe;if(__INTLIFY_PROD_DEVTOOLS__){const Be={timestamp:Date.now(),key:ae(c)?c:Vt(z)?z.key:"",locale:L||(Vt(z)?z.locale:""),format:ae(z)?z:Vt(z)?z.source:"",message:Me};Be.meta=lt({},e.__meta,Lm()||{}),Sm(Be)}return Me}function $m(e){Ke(e.list)?e.list=e.list.map(t=>ae(t)?$a(t):t):Le(e.named)&&Object.keys(e.named).forEach(t=>{ae(e.named[t])&&(e.named[t]=$a(e.named[t]))})}function pu(e,t,r,n,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=e,u=l(e,n,r);let f={},d,_=null;const E="translate";for(let A=0;A<u.length&&(d=u[A],f=o[d]||{},(_=c(f,t))===null&&(_=f[t]),!(ae(_)||tt(_)));A++){const H=Vo(e,t,d,i,E);H!==t&&(_=H)}return[_,d,f]}function gu(e,t,r,n,s,i){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Vt(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||t,l}if(o==null){const l=()=>n;return l.locale=r,l.key=t,l}const c=o(n,Dm(e,r,s,n,a,i));return c.locale=r,c.key=t,c.source=n,c}function Um(e,t,r){return t(r)}function Qi(...e){const[t,r,n]=e,s={};if(!ae(t)&&!Qe(t)&&!Vt(t))throw zr(Vr.INVALID_ARGUMENT);const i=Qe(t)?String(t):(Vt(t),t);return Qe(r)?s.plural=r:ae(r)?s.default=r:Ie(r)&&!ti(r)?s.named=r:Ke(r)&&(s.list=r),Qe(n)?s.plural=n:ae(n)?s.default=n:Ie(n)&&lt(s,n),[i,s]}function Dm(e,t,r,n,s,i){return{warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>em(t,r,o)}}function Bm(e,t,r,n){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=e,d={locale:t,modifiers:s,pluralRules:i,messages:_=>{let E=o(r,_);if(E==null&&u){const[,,A]=pu(u,_,t,a,c,l);E=o(A,_)}if(ae(E)){let A=!1;const T=gu(e,_,t,E,_,()=>{A=!0});return A?Ka:T}else return Vt(E)?E:Ka}};return e.processor&&(d.processor=e.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),Qe(n.plural)&&(d.pluralIndex=n.plural),d}function Ya(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[c,l,u,f]=Zi(...t),d=We(u.missingWarn)?u.missingWarn:e.missingWarn;We(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const _=!!u.part,E=ae(u.locale)?u.locale:e.locale,A=o(e,s,E);if(!ae(c)||c==="")return new Intl.DateTimeFormat(E,f).format(l);let H={},T,L=null;const q="datetime format";for(let ue=0;ue<A.length&&(T=A[ue],H=r[T]||{},L=H[c],!Ie(L));ue++)Vo(e,c,T,d,q);if(!Ie(L)||!ae(T))return n?ri:c;let z=`${T}__${c}`;ti(f)||(z=`${z}__${JSON.stringify(f)}`);let D=a.get(z);return D||(D=new Intl.DateTimeFormat(T,lt({},L,f)),a.set(z,D)),_?D.formatToParts(l):D.format(l)}const _u=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Zi(...e){const[t,r,n,s]=e,i={};let o={},a;if(ae(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw zr(Vr.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw zr(Vr.INVALID_ISO_DATE_ARGUMENT)}}else if(rm(t)){if(isNaN(t.getTime()))throw zr(Vr.INVALID_DATE_ARGUMENT);a=t}else if(Qe(t))a=t;else throw zr(Vr.INVALID_ARGUMENT);return ae(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{_u.includes(c)?o[c]=r[c]:i[c]=r[c]}),ae(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function Ja(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function Xa(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:a}=e,[c,l,u,f]=eo(...t),d=We(u.missingWarn)?u.missingWarn:e.missingWarn;We(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const _=!!u.part,E=ae(u.locale)?u.locale:e.locale,A=o(e,s,E);if(!ae(c)||c==="")return new Intl.NumberFormat(E,f).format(l);let H={},T,L=null;const q="number format";for(let ue=0;ue<A.length&&(T=A[ue],H=r[T]||{},L=H[c],!Ie(L));ue++)Vo(e,c,T,d,q);if(!Ie(L)||!ae(T))return n?ri:c;let z=`${T}__${c}`;ti(f)||(z=`${z}__${JSON.stringify(f)}`);let D=a.get(z);return D||(D=new Intl.NumberFormat(T,lt({},L,f)),a.set(z,D)),_?D.formatToParts(l):D.format(l)}const bu=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function eo(...e){const[t,r,n,s]=e,i={};let o={};if(!Qe(t))throw zr(Vr.INVALID_ARGUMENT);const a=t;return ae(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{bu.includes(c)?o[c]=r[c]:i[c]=r[c]}),ae(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function Qa(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bo().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const qm="9.2.2";function Hm(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bo().__INTLIFY_PROD_DEVTOOLS__=!1)}Am.__EXTEND_POINT__;let yu=ou.__EXTEND_POINT__;const ft=()=>++yu,St={UNEXPECTED_RETURN_TYPE:yu,INVALID_ARGUMENT:ft(),MUST_BE_CALL_SETUP_TOP:ft(),NOT_INSLALLED:ft(),NOT_AVAILABLE_IN_LEGACY_MODE:ft(),REQUIRED_VALUE:ft(),INVALID_VALUE:ft(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ft(),NOT_INSLALLED_WITH_PROVIDE:ft(),UNEXPECTED_ERROR:ft(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ft(),BRIDGE_SUPPORT_VUE_2_ONLY:ft(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ft(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ft(),__EXTEND_POINT__:ft()};function Nt(e,...t){return au(e,null,void 0)}const to=yr("__transrateVNode"),ro=yr("__datetimeParts"),no=yr("__numberParts"),Wm=yr("__setPluralRules");yr("__intlifyMeta");const Vm=yr("__injectWithOption");function so(e){if(!Le(e))return e;for(const t in e)if(qo(e,t))if(!t.includes("."))Le(e[t])&&so(e[t]);else{const r=t.split("."),n=r.length-1;let s=e;for(let i=0;i<n;i++)r[i]in s||(s[r[i]]={}),s=s[r[i]];s[r[n]]=e[t],delete e[t],Le(s[r[n]])&&so(s[r[n]])}return e}function wu(e,t){const{messages:r,__i18n:n,messageResolver:s,flatJson:i}=t,o=Ie(r)?r:Ke(n)?{}:{[e]:{}};if(Ke(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},Sn(l,o[c])):Sn(l,o)}else ae(a)&&Sn(JSON.parse(a),o)}),s==null&&i)for(const a in o)qo(o,a)&&so(o[a]);return o}const fs=e=>!Le(e)||Ke(e);function Sn(e,t){if(fs(e)||fs(t))throw Nt(St.INVALID_VALUE);for(const r in e)qo(e,r)&&(fs(e[r])||fs(t[r])?t[r]=e[r]:Sn(e[r],t[r]))}function xu(e){return e.type}function zm(e,t,r){let n=Le(t.messages)?t.messages:{};"__i18nGlobal"in r&&(n=wu(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(i=>{e.mergeLocaleMessage(i,n[i])});{if(Le(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(Le(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function Za(e){return Re(Jn,null,e,0)}const ec="__INTLIFY_META__";let tc=0;function rc(e){return(t,r,n,s)=>e(r,n,Xn()||void 0,s)}const Km=()=>{const e=Xn();let t=null;return e&&(t=xu(e)[ec])?{[ec]:t}:null};function vu(e={},t){const{__root:r}=e,n=r===void 0;let s=We(e.inheritLocale)?e.inheritLocale:!0;const i=ze(r&&s?r.locale.value:ae(e.locale)?e.locale:Wo),o=ze(r&&s?r.fallbackLocale.value:ae(e.fallbackLocale)||Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),a=ze(wu(i.value,e)),c=ze(Ie(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),l=ze(Ie(e.numberFormats)?e.numberFormats:{[i.value]:{}});let u=r?r.missingWarn:We(e.missingWarn)||ks(e.missingWarn)?e.missingWarn:!0,f=r?r.fallbackWarn:We(e.fallbackWarn)||ks(e.fallbackWarn)?e.fallbackWarn:!0,d=r?r.fallbackRoot:We(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,E=tt(e.missing)?e.missing:null,A=tt(e.missing)?rc(e.missing):null,H=tt(e.postTranslation)?e.postTranslation:null,T=r?r.warnHtmlMessage:We(e.warnHtmlMessage)?e.warnHtmlMessage:!0,L=!!e.escapeParameter;const q=r?r.modifiers:Ie(e.modifiers)?e.modifiers:{};let z=e.pluralRules||r&&r.pluralRules,D;D=(()=>{n&&Va(null);const S={version:qm,locale:i.value,fallbackLocale:o.value,messages:a.value,modifiers:q,pluralRules:z,missing:A===null?void 0:A,missingWarn:u,fallbackWarn:f,fallbackFormat:_,unresolving:!0,postTranslation:H===null?void 0:H,warnHtmlMessage:T,escapeParameter:L,messageResolver:e.messageResolver,__meta:{framework:"vue"}};S.datetimeFormats=c.value,S.numberFormats=l.value,S.__datetimeFormatters=Ie(D)?D.__datetimeFormatters:void 0,S.__numberFormatters=Ie(D)?D.__numberFormatters:void 0;const O=jm(S);return n&&Va(O),O})(),gn(D,i.value,o.value);function re(){return[i.value,o.value,a.value,c.value,l.value]}const ne=He({get:()=>i.value,set:S=>{i.value=S,D.locale=i.value}}),ge=He({get:()=>o.value,set:S=>{o.value=S,D.fallbackLocale=o.value,gn(D,i.value,S)}}),we=He(()=>a.value),Oe=He(()=>c.value),Me=He(()=>l.value);function Be(){return tt(H)?H:null}function k(S){H=S,D.postTranslation=S}function C(){return E}function fe(S){S!==null&&(A=rc(S)),E=S,D.missing=A}const se=(S,O,Y,ie,xe,Pe)=>{re();let Ee;if(__INTLIFY_PROD_DEVTOOLS__)try{Wa(Km()),n||(D.fallbackContext=r?Fm():void 0),Ee=S(D)}finally{Wa(null),n||(D.fallbackContext=void 0)}else Ee=S(D);if(Qe(Ee)&&Ee===ri){const[Ue,ut]=O();return r&&d?ie(r):xe(Ue)}else{if(Pe(Ee))return Ee;throw Nt(St.UNEXPECTED_RETURN_TYPE)}};function ce(...S){return se(O=>Reflect.apply(Ga,null,[O,...S]),()=>Qi(...S),"translate",O=>Reflect.apply(O.t,O,[...S]),O=>O,O=>ae(O))}function be(...S){const[O,Y,ie]=S;if(ie&&!Le(ie))throw Nt(St.INVALID_ARGUMENT);return ce(O,Y,lt({resolvedMessage:!0},ie||{}))}function he(...S){return se(O=>Reflect.apply(Ya,null,[O,...S]),()=>Zi(...S),"datetime format",O=>Reflect.apply(O.d,O,[...S]),()=>qa,O=>ae(O))}function de(...S){return se(O=>Reflect.apply(Xa,null,[O,...S]),()=>eo(...S),"number format",O=>Reflect.apply(O.n,O,[...S]),()=>qa,O=>ae(O))}function _e(S){return S.map(O=>ae(O)||Qe(O)||We(O)?Za(String(O)):O)}const Ae={normalize:_e,interpolate:S=>S,type:"vnode"};function N(...S){return se(O=>{let Y;const ie=O;try{ie.processor=Ae,Y=Reflect.apply(Ga,null,[ie,...S])}finally{ie.processor=null}return Y},()=>Qi(...S),"translate",O=>O[to](...S),O=>[Za(O)],O=>Ke(O))}function K(...S){return se(O=>Reflect.apply(Xa,null,[O,...S]),()=>eo(...S),"number format",O=>O[no](...S),()=>[],O=>ae(O)||Ke(O))}function $(...S){return se(O=>Reflect.apply(Ya,null,[O,...S]),()=>Zi(...S),"datetime format",O=>O[ro](...S),()=>[],O=>ae(O)||Ke(O))}function te(S){z=S,D.pluralRules=z}function ee(S,O){const Y=ae(O)?O:i.value,ie=g(Y);return D.messageResolver(ie,S)!==null}function ye(S){let O=null;const Y=lu(D,o.value,i.value);for(let ie=0;ie<Y.length;ie++){const xe=a.value[Y[ie]]||{},Pe=D.messageResolver(xe,S);if(Pe!=null){O=Pe;break}}return O}function me(S){const O=ye(S);return O??(r?r.tm(S)||{}:{})}function g(S){return a.value[S]||{}}function w(S,O){a.value[S]=O,D.messages=a.value}function I(S,O){a.value[S]=a.value[S]||{},Sn(O,a.value[S]),D.messages=a.value}function R(S){return c.value[S]||{}}function U(S,O){c.value[S]=O,D.datetimeFormats=c.value,Ja(D,S,O)}function V(S,O){c.value[S]=lt(c.value[S]||{},O),D.datetimeFormats=c.value,Ja(D,S,O)}function J(S){return l.value[S]||{}}function W(S,O){l.value[S]=O,D.numberFormats=l.value,Qa(D,S,O)}function G(S,O){l.value[S]=lt(l.value[S]||{},O),D.numberFormats=l.value,Qa(D,S,O)}tc++,r&&Xi&&(wt(r.locale,S=>{s&&(i.value=S,D.locale=S,gn(D,i.value,o.value))}),wt(r.fallbackLocale,S=>{s&&(o.value=S,D.fallbackLocale=S,gn(D,i.value,o.value))}));const M={id:tc,locale:ne,fallbackLocale:ge,get inheritLocale(){return s},set inheritLocale(S){s=S,S&&r&&(i.value=r.locale.value,o.value=r.fallbackLocale.value,gn(D,i.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:we,get modifiers(){return q},get pluralRules(){return z||{}},get isGlobal(){return n},get missingWarn(){return u},set missingWarn(S){u=S,D.missingWarn=u},get fallbackWarn(){return f},set fallbackWarn(S){f=S,D.fallbackWarn=f},get fallbackRoot(){return d},set fallbackRoot(S){d=S},get fallbackFormat(){return _},set fallbackFormat(S){_=S,D.fallbackFormat=_},get warnHtmlMessage(){return T},set warnHtmlMessage(S){T=S,D.warnHtmlMessage=S},get escapeParameter(){return L},set escapeParameter(S){L=S,D.escapeParameter=S},t:ce,getLocaleMessage:g,setLocaleMessage:w,mergeLocaleMessage:I,getPostTranslationHandler:Be,setPostTranslationHandler:k,getMissingHandler:C,setMissingHandler:fe,[Wm]:te};return M.datetimeFormats=Oe,M.numberFormats=Me,M.rt=be,M.te=ee,M.tm=me,M.d=he,M.n=de,M.getDateTimeFormat=R,M.setDateTimeFormat=U,M.mergeDateTimeFormat=V,M.getNumberFormat=J,M.setNumberFormat=W,M.mergeNumberFormat=G,M[Vm]=e.__injectWithOption,M[to]=N,M[ro]=$,M[no]=K,M}const zo={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Gm({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,s)=>n=[...n,...Ke(s.children)?s.children:[s]],[]):t.reduce((r,n)=>{const s=e[n];return s&&(r[n]=s()),r},{})}function Eu(e){return _t}const nc={name:"i18n-t",props:lt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Qe(e)||!isNaN(e)}},zo),setup(e,t){const{slots:r,attrs:n}=t,s=e.i18n||jr({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter(f=>f!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=ae(e.plural)?+e.plural:e.plural);const a=Gm(t,i),c=s[to](e.keypath,a,o),l=lt({},n),u=ae(e.tag)||Le(e.tag)?e.tag:Eu();return ei(u,l,c)}}};function Ym(e){return Ke(e)&&!ae(e[0])}function Su(e,t,r,n){const{slots:s,attrs:i}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),ae(e.format)?o.key=e.format:Le(e.format)&&(ae(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((d,_)=>r.includes(_)?lt({},d,{[_]:e.format[_]}):d,{}));const c=n(e.value,o,a);let l=[o.key];Ke(c)?l=c.map((d,_)=>{const E=s[d.type],A=E?E({[d.type]:d.value,index:_,parts:c}):[d.value];return Ym(A)&&(A[0].key=`${d.type}-${_}`),A}):ae(c)&&(l=[c]);const u=lt({},i),f=ae(e.tag)||Le(e.tag)?e.tag:Eu();return ei(f,u,l)}}const sc={name:"i18n-n",props:lt({value:{type:Number,required:!0},format:{type:[String,Object]}},zo),setup(e,t){const r=e.i18n||jr({useScope:"parent",__useComponent:!0});return Su(e,t,bu,(...n)=>r[no](...n))}},ic={name:"i18n-d",props:lt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},zo),setup(e,t){const r=e.i18n||jr({useScope:"parent",__useComponent:!0});return Su(e,t,_u,(...n)=>r[ro](...n))}};function Jm(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function Xm(e){const t=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Nt(St.UNEXPECTED_ERROR);const u=Jm(e,a.$),f=oc(l);return[Reflect.apply(u.t,u,[...ac(f)]),u]};return{created:(o,a)=>{const[c,l]=t(a);Xi&&e.global===l&&(o.__i18nWatcher=wt(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{Xi&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=oc(a);o.textContent=Reflect.apply(c.t,c,[...ac(l)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function oc(e){if(ae(e))return{path:e};if(Ie(e)){if(!("path"in e))throw Nt(St.REQUIRED_VALUE,"path");return e}else throw Nt(St.INVALID_VALUE)}function ac(e){const{path:t,locale:r,args:n,choice:s,plural:i}=e,o={},a=n||{};return ae(r)&&(o.locale=r),Qe(s)&&(o.plural=s),Qe(i)&&(o.plural=i),[t,a,o]}function Qm(e,t,...r){const n=Ie(r[0])?r[0]:{},s=!!n.useI18nComponentName;(We(n.globalInstall)?n.globalInstall:!0)&&(e.component(s?"i18n":nc.name,nc),e.component(sc.name,sc),e.component(ic.name,ic)),e.directive("t",Xm(t))}const Zm=yr("global-vue-i18n");function ep(e={},t){const r=We(e.globalInjection)?e.globalInjection:!0,n=!0,s=new Map,[i,o]=tp(e),a=yr("");function c(f){return s.get(f)||null}function l(f,d){s.set(f,d)}function u(f){s.delete(f)}{const f={get mode(){return"composition"},get allowComposition(){return n},async install(d,..._){d.__VUE_I18N_SYMBOL__=a,d.provide(d.__VUE_I18N_SYMBOL__,f),r&&lp(d,f.global),Qm(d,f,..._);const E=d.unmount;d.unmount=()=>{f.dispose(),E()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return f}}function jr(e={}){const t=Xn();if(t==null)throw Nt(St.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Nt(St.NOT_INSLALLED);const r=rp(t),n=sp(r),s=xu(t),i=np(e,s);if(i==="global")return zm(n,e,s),n;if(i==="parent"){let c=ip(r,t,e.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(t);if(a==null){const c=lt({},e);"__i18n"in s&&(c.__i18n=s.__i18n),n&&(c.__root=n),a=vu(c),op(o,t),o.__setInstance(t,a)}return a}function tp(e,t,r){const n=qf();{const s=n.run(()=>vu(e));if(s==null)throw Nt(St.UNEXPECTED_ERROR);return[n,s]}}function rp(e){{const t=kt(e.isCE?Zm:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Nt(e.isCE?St.NOT_INSLALLED_WITH_PROVIDE:St.UNEXPECTED_ERROR);return t}}function np(e,t){return ti(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function sp(e){return e.mode==="composition"?e.global:e.global.__composer}function ip(e,t,r=!1){let n=null;const s=t.root;let i=t.parent;for(;i!=null;){const o=e;if(e.mode==="composition"&&(n=o.__getInstance(i)),n!=null||s===i)break;i=i.parent}return n}function op(e,t,r){Yn(()=>{},t),jo(()=>{e.__deleteInstance(t)},t)}const ap=["locale","fallbackLocale","availableLocales"],cp=["t","rt","d","n","tm"];function lp(e,t){const r=Object.create(null);ap.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw Nt(St.UNEXPECTED_ERROR);const i=Ze(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,i)}),e.config.globalProperties.$i18n=r,cp.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw Nt(St.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)})}Rm(dm);Mm(lu);Hm();if(__INTLIFY_PROD_DEVTOOLS__){const e=Bo();e.__INTLIFY__=!0,vm(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const up={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fp=De("path",{fill:"currentColor",d:"M19.14 12.94c.04-.3.06-.61.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6s-1.62 3.6-3.6 3.6z"},null,-1),hp=[fp];function dp(e,t){return ct(),Qt("svg",up,hp)}const mp={name:"ic-baseline-settings",render:dp},pp={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},gp=De("path",{fill:"currentColor",d:"m234 115.5l-45.2 37.6l14.3 58.1a16.5 16.5 0 0 1-15.8 20.8a16.1 16.1 0 0 1-8.7-2.6l-50.5-31.9h-.2L81 227.2a18 18 0 0 1-20.1-.6a18.5 18.5 0 0 1-7-19.6l13.5-53.1L22 115.5a16.8 16.8 0 0 1-5.2-18.1A16.5 16.5 0 0 1 31.4 86l59-3.8l22.4-55.8A16.4 16.4 0 0 1 128 16a16.4 16.4 0 0 1 15.2 10.4l22 55.5l59.4 4.1a16.4 16.4 0 0 1 14.6 11.4a16.8 16.8 0 0 1-5.2 18.1Z"},null,-1),_p=[gp];function bp(e,t){return ct(),Qt("svg",pp,_p)}const yp={name:"ph-star-fill",render:bp},wp={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},xp=De("path",{fill:"currentColor",d:"m16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13Zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4Z"},null,-1),vp=De("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),Ep=De("path",{fill:"currentColor",d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2Z"},null,-1),Sp=[xp,vp,Ep];function Op(e,t){return ct(),Qt("svg",wp,Sp)}const Ap={name:"carbon-map",render:Op},Pp={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Cp=De("path",{fill:"currentColor",d:"m232.5 215.5l-40.7-40.7A94.9 94.9 0 0 0 212 116a96 96 0 1 0-96 96a94.9 94.9 0 0 0 58.8-20.2l40.7 40.7a12.1 12.1 0 0 0 17 0a12 12 0 0 0 0-17ZM44 116a72 72 0 1 1 72 72a72.1 72.1 0 0 1-72-72Z"},null,-1),Ip=[Cp];function kp(e,t){return ct(),Qt("svg",Pp,Ip)}const Tp={name:"ph-magnifying-glass-bold",render:kp};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Wr=typeof window<"u";function Np(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Pi(e,t){const r={};for(const n in t){const s=t[n];r[n]=Bt(s)?s.map(e):e(s)}return r}const On=()=>{},Bt=Array.isArray,Rp=/\/$/,Mp=e=>e.replace(Rp,"");function Ci(e,t,r="/"){let n,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=$p(n??t,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:o}}function Lp(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function cc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fp(e,t,r){const n=t.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&nn(t.matched[n],r.matched[s])&&Ou(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function nn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ou(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!jp(e[r],t[r]))return!1;return!0}function jp(e,t){return Bt(e)?lc(e,t):Bt(t)?lc(t,e):e===t}function lc(e,t){return Bt(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function $p(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let s=r.length-1,i,o;for(i=0;i<n.length;i++)if(o=n[i],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var Bn;(function(e){e.pop="pop",e.push="push"})(Bn||(Bn={}));var An;(function(e){e.back="back",e.forward="forward",e.unknown=""})(An||(An={}));function Up(e){if(!e)if(Wr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Mp(e)}const Dp=/^[^#]+#/;function Bp(e,t){return e.replace(Dp,"#")+t}function qp(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const ni=()=>({left:window.pageXOffset,top:window.pageYOffset});function Hp(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=qp(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function uc(e,t){return(history.state?history.state.position-t:-1)+e}const io=new Map;function Wp(e,t){io.set(e,t)}function Vp(e){const t=io.get(e);return io.delete(e),t}let zp=()=>location.protocol+"//"+location.host;function Au(e,t){const{pathname:r,search:n,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),cc(c,"")}return cc(r,e)+n+s}function Kp(e,t,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const _=Au(e,location),E=r.value,A=t.value;let H=0;if(d){if(r.value=_,t.value=d,o&&o===E){o=null;return}H=A?d.position-A.position:0}else n(_);s.forEach(T=>{T(r.value,E,{delta:H,type:Bn.pop,direction:H?H>0?An.forward:An.back:An.unknown})})};function c(){o=r.value}function l(d){s.push(d);const _=()=>{const E=s.indexOf(d);E>-1&&s.splice(E,1)};return i.push(_),_}function u(){const{history:d}=window;d.state&&d.replaceState(Ne({},d.state,{scroll:ni()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:f}}function fc(e,t,r,n=!1,s=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:s?ni():null}}function Gp(e){const{history:t,location:r}=window,n={value:Au(e,r)},s={value:t.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+c:zp()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(_){console.error(_),r[u?"replace":"assign"](d)}}function o(c,l){const u=Ne({},t.state,fc(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),n.value=c}function a(c,l){const u=Ne({},s.value,t.state,{forward:c,scroll:ni()});i(u.current,u,!0);const f=Ne({},fc(n.value,c,null),{position:u.position+1},l);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function Yp(e){e=Up(e);const t=Gp(e),r=Kp(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=Ne({location:"",base:e,go:n,createHref:Bp.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Jp(e){return typeof e=="string"||e&&typeof e=="object"}function Pu(e){return typeof e=="string"||typeof e=="symbol"}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cu=Symbol("");var hc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(hc||(hc={}));function sn(e,t){return Ne(new Error,{type:e,[Cu]:!0},t)}function tr(e,t){return e instanceof Error&&Cu in e&&(t==null||!!(e.type&t))}const dc="[^/]+?",Xp={sensitive:!1,strict:!1,start:!0,end:!0},Qp=/[.+*?^${}()[\]/\\]/g;function Zp(e,t){const r=Ne({},Xp,t),n=[];let s=r.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];r.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let _=40+(r.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(Qp,"\\$&"),_+=40;else if(d.type===1){const{value:E,repeatable:A,optional:H,regexp:T}=d;i.push({name:E,repeatable:A,optional:H});const L=T||dc;if(L!==dc){_+=10;try{new RegExp(`(${L})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${E}" (${L}): `+z.message)}}let q=A?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||(q=H&&l.length<2?`(?:/${q})`:"/"+q),H&&(q+="?"),s+=q,_+=20,H&&(_+=-8),A&&(_+=-20),L===".*"&&(_+=-50)}u.push(_)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const _=u[d]||"",E=i[d-1];f[E.name]=_&&E.repeatable?_.split("/"):_}return f}function c(l){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const _ of d)if(_.type===0)u+=_.value;else if(_.type===1){const{value:E,repeatable:A,optional:H}=_,T=E in l?l[E]:"";if(Bt(T)&&!A)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const L=Bt(T)?T.join("/"):T;if(!L)if(H)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);u+=L}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function eg(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function tg(e,t){let r=0;const n=e.score,s=t.score;for(;r<n.length&&r<s.length;){const i=eg(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(mc(n))return 1;if(mc(s))return-1}return s.length-n.length}function mc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rg={type:0,value:""},ng=/[a-zA-Z0-9_]/;function sg(e){if(!e)return[[]];if(e==="/")return[[rg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${r})/"${l}": ${_}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:ng.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function ig(e,t,r){const n=Zp(sg(e.path),r),s=Ne(n,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function og(e,t){const r=[],n=new Map;t=_c({strict:!1,end:!0,sensitive:!1},t);function s(u){return n.get(u)}function i(u,f,d){const _=!d,E=ag(u);E.aliasOf=d&&d.record;const A=_c(t,u),H=[E];if("alias"in u){const q=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of q)H.push(Ne({},E,{components:d?d.record.components:E.components,path:z,aliasOf:d?d.record:E}))}let T,L;for(const q of H){const{path:z}=q;if(f&&z[0]!=="/"){const D=f.record.path,ue=D[D.length-1]==="/"?"":"/";q.path=f.record.path+(z&&ue+z)}if(T=ig(q,f,A),d?d.alias.push(T):(L=L||T,L!==T&&L.alias.push(T),_&&u.name&&!gc(T)&&o(u.name)),E.children){const D=E.children;for(let ue=0;ue<D.length;ue++)i(D[ue],T,d&&d.children[ue])}d=d||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&c(T)}return L?()=>{o(L)}:On}function o(u){if(Pu(u)){const f=n.get(u);f&&(n.delete(u),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(u);f>-1&&(r.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return r}function c(u){let f=0;for(;f<r.length&&tg(u,r[f])>=0&&(u.record.path!==r[f].record.path||!Iu(u,r[f]));)f++;r.splice(f,0,u),u.record.name&&!gc(u)&&n.set(u.record.name,u)}function l(u,f){let d,_={},E,A;if("name"in u&&u.name){if(d=n.get(u.name),!d)throw sn(1,{location:u});A=d.record.name,_=Ne(pc(f.params,d.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&pc(u.params,d.keys.map(L=>L.name))),E=d.stringify(_)}else if("path"in u)E=u.path,d=r.find(L=>L.re.test(E)),d&&(_=d.parse(E),A=d.record.name);else{if(d=f.name?n.get(f.name):r.find(L=>L.re.test(f.path)),!d)throw sn(1,{location:u,currentLocation:f});A=d.record.name,_=Ne({},f.params,u.params),E=d.stringify(_)}const H=[];let T=d;for(;T;)H.unshift(T.record),T=T.parent;return{name:A,path:E,params:_,matched:H,meta:lg(H)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function pc(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function ag(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:cg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function cg(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function gc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function lg(e){return e.reduce((t,r)=>Ne(t,r.meta),{})}function _c(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function Iu(e,t){return t.children.some(r=>r===e||Iu(e,r))}const ku=/#/g,ug=/&/g,fg=/\//g,hg=/=/g,dg=/\?/g,Tu=/\+/g,mg=/%5B/g,pg=/%5D/g,Nu=/%5E/g,gg=/%60/g,Ru=/%7B/g,_g=/%7C/g,Mu=/%7D/g,bg=/%20/g;function Ko(e){return encodeURI(""+e).replace(_g,"|").replace(mg,"[").replace(pg,"]")}function yg(e){return Ko(e).replace(Ru,"{").replace(Mu,"}").replace(Nu,"^")}function oo(e){return Ko(e).replace(Tu,"%2B").replace(bg,"+").replace(ku,"%23").replace(ug,"%26").replace(gg,"`").replace(Ru,"{").replace(Mu,"}").replace(Nu,"^")}function wg(e){return oo(e).replace(hg,"%3D")}function xg(e){return Ko(e).replace(ku,"%23").replace(dg,"%3F")}function vg(e){return e==null?"":xg(e).replace(fg,"%2F")}function Ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Eg(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Tu," "),o=i.indexOf("="),a=Ts(o<0?i:i.slice(0,o)),c=o<0?null:Ts(i.slice(o+1));if(a in t){let l=t[a];Bt(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function bc(e){let t="";for(let r in e){const n=e[r];if(r=wg(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Bt(n)?n.map(i=>i&&oo(i)):[n&&oo(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function Sg(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Bt(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return t}const Og=Symbol(""),yc=Symbol(""),si=Symbol(""),Go=Symbol(""),ao=Symbol("");function _n(){let e=[];function t(n){return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function dr(e,t,r,n,s){const i=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(sn(4,{from:r,to:t})):f instanceof Error?a(f):Jp(f)?a(sn(2,{from:t,to:f})):(i&&n.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),o())},l=e.call(n&&n.instances[s],t,r,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(f=>a(f))})}function Ii(e,t,r,n){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Ag(a)){const l=(a.__vccOpts||a)[t];l&&s.push(dr(l,r,n,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Np(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&dr(d,r,n,i,o)()}))}}return s}function Ag(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function wc(e){const t=kt(si),r=kt(Go),n=He(()=>t.resolve(ke(e.to))),s=He(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(nn.bind(null,u));if(d>-1)return d;const _=xc(c[l-2]);return l>1&&xc(u)===_&&f[f.length-1].path!==_?f.findIndex(nn.bind(null,c[l-2])):d}),i=He(()=>s.value>-1&&kg(r.params,n.value.params)),o=He(()=>s.value>-1&&s.value===r.matched.length-1&&Ou(r.params,n.value.params));function a(c={}){return Ig(c)?t[ke(e.replace)?"replace":"push"](ke(e.to)).catch(On):Promise.resolve()}return{route:n,href:He(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const Pg=Fr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wc,setup(e,{slots:t}){const r=Kn(wc(e)),{options:n}=kt(si),s=He(()=>({[vc(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[vc(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:ei("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),Cg=Pg;function Ig(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function kg(e,t){for(const r in t){const n=t[r],s=e[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Bt(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function xc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vc=(e,t,r)=>e??t??r,Tg=Fr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=kt(ao),s=He(()=>e.route||n.value),i=kt(yc,0),o=He(()=>{let l=ke(i);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=He(()=>s.value.matched[o.value]);ys(yc,He(()=>o.value+1)),ys(Og,a),ys(ao,s);const c=ze();return wt(()=>[c.value,a.value,e.name],([l,u,f],[d,_,E])=>{u&&(u.instances[f]=l,_&&_!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=_.leaveGuards),u.updateGuards.size||(u.updateGuards=_.updateGuards))),l&&u&&(!_||!nn(u,_)||!d)&&(u.enterCallbacks[f]||[]).forEach(A=>A(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Ec(r.default,{Component:d,route:l});const _=f.props[u],E=_?_===!0?l.params:typeof _=="function"?_(l):_:null,H=ei(d,Ne({},E,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Ec(r.default,{Component:H,route:l})||H}}});function Ec(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Ng=Tg;function Rg(e){const t=og(e.routes,e),r=e.parseQuery||Eg,n=e.stringifyQuery||bc,s=e.history,i=_n(),o=_n(),a=_n(),c=Il(fr);let l=fr;Wr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Pi.bind(null,N=>""+N),f=Pi.bind(null,vg),d=Pi.bind(null,Ts);function _(N,K){let $,te;return Pu(N)?($=t.getRecordMatcher(N),te=K):te=N,t.addRoute(te,$)}function E(N){const K=t.getRecordMatcher(N);K&&t.removeRoute(K)}function A(){return t.getRoutes().map(N=>N.record)}function H(N){return!!t.getRecordMatcher(N)}function T(N,K){if(K=Ne({},K||c.value),typeof N=="string"){const g=Ci(r,N,K.path),w=t.resolve({path:g.path},K),I=s.createHref(g.fullPath);return Ne(g,w,{params:d(w.params),hash:Ts(g.hash),redirectedFrom:void 0,href:I})}let $;if("path"in N)$=Ne({},N,{path:Ci(r,N.path,K.path).path});else{const g=Ne({},N.params);for(const w in g)g[w]==null&&delete g[w];$=Ne({},N,{params:f(N.params)}),K.params=f(K.params)}const te=t.resolve($,K),ee=N.hash||"";te.params=u(d(te.params));const ye=Lp(n,Ne({},N,{hash:yg(ee),path:te.path})),me=s.createHref(ye);return Ne({fullPath:ye,hash:ee,query:n===bc?Sg(N.query):N.query||{}},te,{redirectedFrom:void 0,href:me})}function L(N){return typeof N=="string"?Ci(r,N,c.value.path):Ne({},N)}function q(N,K){if(l!==N)return sn(8,{from:K,to:N})}function z(N){return re(N)}function D(N){return z(Ne(L(N),{replace:!0}))}function ue(N){const K=N.matched[N.matched.length-1];if(K&&K.redirect){const{redirect:$}=K;let te=typeof $=="function"?$(N):$;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=L(te):{path:te},te.params={}),Ne({query:N.query,hash:N.hash,params:"path"in te?{}:N.params},te)}}function re(N,K){const $=l=T(N),te=c.value,ee=N.state,ye=N.force,me=N.replace===!0,g=ue($);if(g)return re(Ne(L(g),{state:typeof g=="object"?Ne({},ee,g.state):ee,force:ye,replace:me}),K||$);const w=$;w.redirectedFrom=K;let I;return!ye&&Fp(n,te,$)&&(I=sn(16,{to:w,from:te}),he(te,te,!0,!1)),(I?Promise.resolve(I):ge(w,te)).catch(R=>tr(R)?tr(R,2)?R:be(R):se(R,w,te)).then(R=>{if(R){if(tr(R,2))return re(Ne({replace:me},L(R.to),{state:typeof R.to=="object"?Ne({},ee,R.to.state):ee,force:ye}),K||w)}else R=Oe(w,te,!0,me,ee);return we(w,te,R),R})}function ne(N,K){const $=q(N,K);return $?Promise.reject($):Promise.resolve()}function ge(N,K){let $;const[te,ee,ye]=Mg(N,K);$=Ii(te.reverse(),"beforeRouteLeave",N,K);for(const g of te)g.leaveGuards.forEach(w=>{$.push(dr(w,N,K))});const me=ne.bind(null,N,K);return $.push(me),qr($).then(()=>{$=[];for(const g of i.list())$.push(dr(g,N,K));return $.push(me),qr($)}).then(()=>{$=Ii(ee,"beforeRouteUpdate",N,K);for(const g of ee)g.updateGuards.forEach(w=>{$.push(dr(w,N,K))});return $.push(me),qr($)}).then(()=>{$=[];for(const g of N.matched)if(g.beforeEnter&&!K.matched.includes(g))if(Bt(g.beforeEnter))for(const w of g.beforeEnter)$.push(dr(w,N,K));else $.push(dr(g.beforeEnter,N,K));return $.push(me),qr($)}).then(()=>(N.matched.forEach(g=>g.enterCallbacks={}),$=Ii(ye,"beforeRouteEnter",N,K),$.push(me),qr($))).then(()=>{$=[];for(const g of o.list())$.push(dr(g,N,K));return $.push(me),qr($)}).catch(g=>tr(g,8)?g:Promise.reject(g))}function we(N,K,$){for(const te of a.list())te(N,K,$)}function Oe(N,K,$,te,ee){const ye=q(N,K);if(ye)return ye;const me=K===fr,g=Wr?history.state:{};$&&(te||me?s.replace(N.fullPath,Ne({scroll:me&&g&&g.scroll},ee)):s.push(N.fullPath,ee)),c.value=N,he(N,K,$,me),be()}let Me;function Be(){Me||(Me=s.listen((N,K,$)=>{if(!Ae.listening)return;const te=T(N),ee=ue(te);if(ee){re(Ne(ee,{replace:!0}),te).catch(On);return}l=te;const ye=c.value;Wr&&Wp(uc(ye.fullPath,$.delta),ni()),ge(te,ye).catch(me=>tr(me,12)?me:tr(me,2)?(re(me.to,te).then(g=>{tr(g,20)&&!$.delta&&$.type===Bn.pop&&s.go(-1,!1)}).catch(On),Promise.reject()):($.delta&&s.go(-$.delta,!1),se(me,te,ye))).then(me=>{me=me||Oe(te,ye,!1),me&&($.delta&&!tr(me,8)?s.go(-$.delta,!1):$.type===Bn.pop&&tr(me,20)&&s.go(-1,!1)),we(te,ye,me)}).catch(On)}))}let k=_n(),C=_n(),fe;function se(N,K,$){be(N);const te=C.list();return te.length?te.forEach(ee=>ee(N,K,$)):console.error(N),Promise.reject(N)}function ce(){return fe&&c.value!==fr?Promise.resolve():new Promise((N,K)=>{k.add([N,K])})}function be(N){return fe||(fe=!N,Be(),k.list().forEach(([K,$])=>N?$(N):K()),k.reset()),N}function he(N,K,$,te){const{scrollBehavior:ee}=e;if(!Wr||!ee)return Promise.resolve();const ye=!$&&Vp(uc(N.fullPath,0))||(te||!$)&&history.state&&history.state.scroll||null;return Gn().then(()=>ee(N,K,ye)).then(me=>me&&Hp(me)).catch(me=>se(me,N,K))}const de=N=>s.go(N);let _e;const $e=new Set,Ae={currentRoute:c,listening:!0,addRoute:_,removeRoute:E,hasRoute:H,getRoutes:A,resolve:T,options:e,push:z,replace:D,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:C.add,isReady:ce,install(N){const K=this;N.component("RouterLink",Cg),N.component("RouterView",Ng),N.config.globalProperties.$router=K,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>ke(c)}),Wr&&!_e&&c.value===fr&&(_e=!0,z(s.location).catch(ee=>{}));const $={};for(const ee in fr)$[ee]=He(()=>c.value[ee]);N.provide(si,K),N.provide(Go,Kn($)),N.provide(ao,c);const te=N.unmount;$e.add(N),N.unmount=function(){$e.delete(N),$e.size<1&&(l=fr,Me&&Me(),Me=null,c.value=fr,_e=!1,fe=!1),te()}}};return Ae}function qr(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function Mg(e,t){const r=[],n=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>nn(l,a))?n.push(a):r.push(a));const c=e.matched[o];c&&(t.matched.find(l=>nn(l,c))||s.push(c))}return[r,n,s]}function ay(){return kt(si)}function Lg(){return kt(Go)}var Sc;const Qn=typeof window<"u",Fg=e=>typeof e=="function",jg=e=>typeof e=="string",$g=()=>{};Qn&&((Sc=window==null?void 0:window.navigator)!=null&&Sc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Lu(e){return typeof e=="function"?e():ke(e)}function Ug(e,t){function r(...n){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(i)})}return r}const Fu=e=>e();function Dg(e=Fu){const t=ze(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...i)=>{t.value&&e(...i)}}}function Bg(e){return e}function ju(e){return Wf()?(Vf(e),!0):!1}function qg(e){return typeof e=="function"?He(e):ze(e)}function $u(e,t=!0){Xn()?Yn(e):t?e():Gn(e)}var Oc=Object.getOwnPropertySymbols,Hg=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable,Vg=(e,t)=>{var r={};for(var n in e)Hg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Oc)for(var n of Oc(e))t.indexOf(n)<0&&Wg.call(e,n)&&(r[n]=e[n]);return r};function zg(e,t,r={}){const n=r,{eventFilter:s=Fu}=n,i=Vg(n,["eventFilter"]);return wt(e,Ug(s,t),i)}var Kg=Object.defineProperty,Gg=Object.defineProperties,Yg=Object.getOwnPropertyDescriptors,Ns=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Du=Object.prototype.propertyIsEnumerable,Ac=(e,t,r)=>t in e?Kg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jg=(e,t)=>{for(var r in t||(t={}))Uu.call(t,r)&&Ac(e,r,t[r]);if(Ns)for(var r of Ns(t))Du.call(t,r)&&Ac(e,r,t[r]);return e},Xg=(e,t)=>Gg(e,Yg(t)),Qg=(e,t)=>{var r={};for(var n in e)Uu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ns)for(var n of Ns(e))t.indexOf(n)<0&&Du.call(e,n)&&(r[n]=e[n]);return r};function Zg(e,t,r={}){const n=r,{eventFilter:s}=n,i=Qg(n,["eventFilter"]),{eventFilter:o,pause:a,resume:c,isActive:l}=Dg(s);return{stop:zg(e,t,Xg(Jg({},i),{eventFilter:o})),pause:a,resume:c,isActive:l}}function e0(e){var t;const r=Lu(e);return(t=r==null?void 0:r.$el)!=null?t:r}const qn=Qn?window:void 0;Qn&&window.document;Qn&&window.navigator;Qn&&window.location;function t0(...e){let t,r,n,s;if(jg(e[0])||Array.isArray(e[0])?([r,n,s]=e,t=qn):[t,r,n,s]=e,!t)return $g;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,f,d)=>(u.addEventListener(f,d,s),()=>u.removeEventListener(f,d,s)),c=wt(()=>e0(t),u=>{o(),u&&i.push(...r.flatMap(f=>n.map(d=>a(u,f,d))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return ju(l),l}function r0(e,t=!1){const r=ze(),n=()=>r.value=Boolean(e());return n(),$u(n,t),r}function n0(e,t={}){const{window:r=qn}=t,n=r0(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let s;const i=ze(!1),o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},a=()=>{n.value&&(o(),s=r.matchMedia(qg(e).value),i.value=s.matches,"addEventListener"in s?s.addEventListener("change",a):s.addListener(a))};return Lh(a),ju(()=>o()),i}const co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lo="__vueuse_ssr_handlers__";co[lo]=co[lo]||{};const s0=co[lo];function Bu(e,t){return s0[e]||t}function i0(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var o0=Object.defineProperty,Pc=Object.getOwnPropertySymbols,a0=Object.prototype.hasOwnProperty,c0=Object.prototype.propertyIsEnumerable,Cc=(e,t,r)=>t in e?o0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ic=(e,t)=>{for(var r in t||(t={}))a0.call(t,r)&&Cc(e,r,t[r]);if(Pc)for(var r of Pc(t))c0.call(t,r)&&Cc(e,r,t[r]);return e};const l0={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function qu(e,t,r,n={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:f=qn,eventFilter:d,onError:_=re=>{console.error(re)}}=n,E=(u?Il:ze)(t);if(!r)try{r=Bu("getDefaultStorage",()=>{var re;return(re=qn)==null?void 0:re.localStorage})()}catch(re){_(re)}if(!r)return E;const A=Lu(t),H=i0(A),T=(s=n.serializer)!=null?s:l0[H],{pause:L,resume:q}=Zg(E,()=>z(E.value),{flush:i,deep:o,eventFilter:d});return f&&a&&t0(f,"storage",ue),ue(),E;function z(re){try{if(re==null)r.removeItem(e);else{const ne=T.write(re),ge=r.getItem(e);ge!==ne&&(r.setItem(e,ne),f&&(f==null||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:ge,newValue:ne,storageArea:r}))))}}catch(ne){_(ne)}}function D(re){const ne=re?re.newValue:r.getItem(e);if(ne==null)return c&&A!==null&&r.setItem(e,T.write(A)),A;if(!re&&l){const ge=T.read(ne);return Fg(l)?l(ge,A):H==="object"&&!Array.isArray(ge)?Ic(Ic({},A),ge):ge}else return typeof ne!="string"?ne:T.read(ne)}function ue(re){if(!(re&&re.storageArea!==r)){if(re&&re.key==null){E.value=A;return}if(!(re&&re.key!==e)){L();try{E.value=D(re)}catch(ne){_(ne)}finally{re?Gn(q):q()}}}}}function u0(e){return n0("(prefers-color-scheme: dark)",e)}var f0=Object.defineProperty,kc=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable,Tc=(e,t,r)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m0=(e,t)=>{for(var r in t||(t={}))h0.call(t,r)&&Tc(e,r,t[r]);if(kc)for(var r of kc(t))d0.call(t,r)&&Tc(e,r,t[r]);return e};function p0(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:s=qn,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l}=e,u=m0({auto:"",light:"light",dark:"dark"},e.modes||{}),f=u0({window:s}),d=He(()=>f.value?"dark":"light"),_=c||(o==null?ze(n):qu(o,n,i,{window:s,listenToStorageChanges:a})),E=He({get(){return _.value==="auto"&&!l?d.value:_.value},set(L){_.value=L}}),A=Bu("updateHTMLAttrs",(L,q,z)=>{const D=s==null?void 0:s.document.querySelector(L);if(D)if(q==="class"){const ue=z.split(/\s/g);Object.values(u).flatMap(re=>(re||"").split(/\s/g)).filter(Boolean).forEach(re=>{ue.includes(re)?D.classList.add(re):D.classList.remove(re)})}else D.setAttribute(q,z)});function H(L){var q;const z=L==="auto"?d.value:L;A(t,r,(q=u[z])!=null?q:z)}function T(L){e.onChanged?e.onChanged(L,H):H(L)}return wt(E,T,{flush:"post",immediate:!0}),l&&wt(d,()=>T(E.value),{flush:"post"}),$u(()=>T(E.value)),E}var Nc;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Nc||(Nc={}));var g0=Object.defineProperty,Rc=Object.getOwnPropertySymbols,_0=Object.prototype.hasOwnProperty,b0=Object.prototype.propertyIsEnumerable,Mc=(e,t,r)=>t in e?g0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y0=(e,t)=>{for(var r in t||(t={}))_0.call(t,r)&&Mc(e,r,t[r]);if(Rc)for(var r of Rc(t))b0.call(t,r)&&Mc(e,r,t[r]);return e};const w0={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};y0({linear:Bg},w0);const Hu="kiel_live",x0={liteMode:qu(`${Hu}.lite`,!1)};function Wu(){return x0}const v0={class:"flex w-full justify-center border-t-1 border-gray-200 dark:border-gray-800 dark:bg-dark-400 dark:text-gray-300 shadow-top"},E0={class:"flex w-full justify-around max-w-96"},S0={class:"mt-auto text-xs"},O0={class:"mt-auto text-xs"},A0={class:"mt-auto text-xs"},P0={class:"mt-auto text-xs"},C0=Fr({__name:"AppBarBottom",setup(e){const{t}=jr(),{liteMode:r}=Wu(),n=Lg(),s=He(()=>n.name==="favorites"?"favorites":n.meta.settings?"settings":"map");return(i,o)=>{const a=Tp,c=Xs("router-link"),l=Ap,u=yp,f=mp;return ct(),Qt("nav",v0,[De("div",E0,[ke(r)?(ct(),$n(c,{key:0,to:{name:"search"},class:Gt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":ke(s)==="map"}]),"aria-label":ke(t)("search")},{default:jt(()=>[Re(a,{class:"w-6 h-6 mb-1"}),De("span",S0,Ct(ke(t)("search")),1)]),_:1},8,["class","aria-label"])):(ct(),$n(c,{key:1,to:{name:"home"},class:Gt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":ke(s)==="map"}]),"aria-label":ke(t)("map")},{default:jt(()=>[Re(l,{class:"w-6 h-6 mb-1"}),De("span",O0,Ct(ke(t)("map")),1)]),_:1},8,["class","aria-label"])),Re(c,{to:{name:"favorites"},class:Gt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":ke(s)==="favorites"}]),"aria-label":ke(t)("favorites")},{default:jt(()=>[Re(u,{class:"w-6 h-6 mb-1"}),De("span",A0,Ct(ke(t)("favorites")),1)]),_:1},8,["class","aria-label"]),Re(c,{to:{name:"settings-about"},class:Gt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":ke(s)==="settings"}]),"aria-label":ke(t)("settings")},{default:jt(()=>[Re(f,{class:"w-6 h-6 mb-1"}),De("span",P0,Ct(ke(t)("settings")),1)]),_:1},8,["class","aria-label"])])])}}}),I0="modulepreload",k0=function(e){return"/"+e},Lc={},Mt=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=k0(i),i in Lc)return;Lc[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":I0,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};function T0(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,c,l;const u=async(d=!0)=>{await c,await(l==null?void 0:l())};async function f(){if("serviceWorker"in navigator){const{Workbox:d}=await Mt(()=>import("./workbox-window.prod.es5-295a6886.js"),[]);a=new d("/sw.js",{scope:"/",type:"classic"}),l=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let _=!1;const E=()=>{_=!0,a==null||a.addEventListener("controlling",A=>{A.isUpdate&&window.location.reload()}),r==null||r()};a.addEventListener("installed",A=>{typeof A.isUpdate>"u"?typeof A.isExternal<"u"?A.isExternal?E():!_&&(n==null||n()):A.isExternal?window.location.reload():!_&&(n==null||n()):A.isUpdate||n==null||n()}),a.addEventListener("waiting",E),a.addEventListener("externalwaiting",E)}a.register({immediate:t}).then(_=>{i?i("/sw.js",_):s==null||s(_)}).catch(_=>{o==null||o(_)})}}return c=f(),u}function N0(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e,a=ze(!1),c=ze(!1);return{updateServiceWorker:T0({immediate:t,onNeedRefresh(){a.value=!0,r==null||r()},onOfflineReady(){c.value=!0,n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o}),offlineReady:c,needRefresh:a}}const R0=["href"],uo=Fr({__name:"Button",props:{to:null,href:null},setup(e){const t="border-1 hover:border-gray-300 dark:border-gray-400 dark:hover:border-gray-500 rounded p-2 flex items-center justify-center cursor-pointer";return(r,n)=>{const s=Xs("router-link");return e.to?(ct(),$n(s,{key:0,class:Gt(t),to:e.to},{default:jt(()=>[xi(r.$slots,"default")]),_:3},8,["to"])):e.href?(ct(),Qt("a",{key:1,href:e.href,target:"_blank",rel:"noopener noreferrer",class:Gt(t)},[xi(r.$slots,"default")],8,R0)):(ct(),Qt("button",{key:2,type:"button",class:Gt(t)},[xi(r.$slots,"default")]))}}}),M0={key:0,class:"fixed left-0 right-0 bottom-0 mx-2 mb-2 flex flex-col rounded-md p-4 items-center justify-center bg-white border-1 border-gray-200 shadow-xl z-20 md:transform md:-translate-x-1/2 md:right-auto md:left-1/2 md:w-96 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800",role:"alert"},L0={class:"mb-2 text-xl"},F0={class:"flex flex-row w-full gap-x-4 justify-center"},j0=Fr({__name:"ReloadPrompt",setup(e){const{needRefresh:t,updateServiceWorker:r}=N0(),{t:n}=jr(),s=async()=>{t.value=!1};return(i,o)=>ke(t)?(ct(),Qt("div",M0,[De("div",L0,[De("span",null,Ct(ke(n)("new_version")),1)]),De("div",F0,[Re(uo,{onClick:o[0]||(o[0]=a=>ke(r)(!0))},{default:jt(()=>[Cs(Ct(ke(n)("install")),1)]),_:1}),Re(uo,{onClick:s},{default:jt(()=>[Cs(Ct(ke(n)("cancel")),1)]),_:1})])])):tu("",!0)}});var Yo={};(function e(t,r,n,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function a(k){var C=r.exports.Promise,fe=C!==void 0?C:t.Promise;return typeof fe=="function"?new fe(k):(k(o,o),null)}var c=function(){var k=Math.floor(16.666666666666668),C,fe,se={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(C=function(be){var he=Math.random();return se[he]=requestAnimationFrame(function de(_e){ce===_e||ce+k-1<_e?(ce=_e,delete se[he],be()):se[he]=requestAnimationFrame(de)}),he},fe=function(be){se[be]&&cancelAnimationFrame(se[be])}):(C=function(be){return setTimeout(be,k)},fe=function(be){return clearTimeout(be)}),{frame:C,cancel:fe}}(),l=function(){var k,C,fe={};function se(ce){function be(he,de){ce.postMessage({options:he||{},callback:de})}ce.init=function(de){var _e=de.transferControlToOffscreen();ce.postMessage({canvas:_e},[_e])},ce.fire=function(de,_e,$e){if(C)return be(de,null),C;var Ae=Math.random().toString(36).slice(2);return C=a(function(N){function K($){$.data.callback===Ae&&(delete fe[Ae],ce.removeEventListener("message",K),C=null,$e(),N())}ce.addEventListener("message",K),be(de,Ae),fe[Ae]=K.bind(null,{data:{callback:Ae}})}),C},ce.reset=function(){ce.postMessage({reset:!0});for(var de in fe)fe[de](),delete fe[de]}}return function(){if(k)return k;if(!n&&i){var ce=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([ce])))}catch(be){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",be),null}se(k)}return k}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(k,C){return C?C(k):k}function d(k){return k!=null}function _(k,C,fe){return f(k&&d(k[C])?k[C]:u[C],fe)}function E(k){return k<0?0:Math.floor(k)}function A(k,C){return Math.floor(Math.random()*(C-k))+k}function H(k){return parseInt(k,16)}function T(k){return k.map(L)}function L(k){var C=String(k).replace(/[^0-9a-f]/gi,"");return C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:H(C.substring(0,2)),g:H(C.substring(2,4)),b:H(C.substring(4,6))}}function q(k){var C=_(k,"origin",Object);return C.x=_(C,"x",Number),C.y=_(C,"y",Number),C}function z(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function D(k){var C=k.getBoundingClientRect();k.width=C.width,k.height=C.height}function ue(k){var C=document.createElement("canvas");return C.style.position="fixed",C.style.top="0px",C.style.left="0px",C.style.pointerEvents="none",C.style.zIndex=k,C}function re(k,C,fe,se,ce,be,he,de,_e){k.save(),k.translate(C,fe),k.rotate(be),k.scale(se,ce),k.arc(0,0,1,he,de,_e),k.restore()}function ne(k){var C=k.angle*(Math.PI/180),fe=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-C+(.5*fe-Math.random()*fe),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar}}function ge(k,C){C.x+=Math.cos(C.angle2D)*C.velocity+C.drift,C.y+=Math.sin(C.angle2D)*C.velocity+C.gravity,C.wobble+=C.wobbleSpeed,C.velocity*=C.decay,C.tiltAngle+=.1,C.tiltSin=Math.sin(C.tiltAngle),C.tiltCos=Math.cos(C.tiltAngle),C.random=Math.random()+2,C.wobbleX=C.x+10*C.scalar*Math.cos(C.wobble),C.wobbleY=C.y+10*C.scalar*Math.sin(C.wobble);var fe=C.tick++/C.totalTicks,se=C.x+C.random*C.tiltCos,ce=C.y+C.random*C.tiltSin,be=C.wobbleX+C.random*C.tiltCos,he=C.wobbleY+C.random*C.tiltSin;if(k.fillStyle="rgba("+C.color.r+", "+C.color.g+", "+C.color.b+", "+(1-fe)+")",k.beginPath(),C.shape==="circle")k.ellipse?k.ellipse(C.x,C.y,Math.abs(be-se)*C.ovalScalar,Math.abs(he-ce)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI):re(k,C.x,C.y,Math.abs(be-se)*C.ovalScalar,Math.abs(he-ce)*C.ovalScalar,Math.PI/10*C.wobble,0,2*Math.PI);else if(C.shape==="star")for(var de=Math.PI/2*3,_e=4*C.scalar,$e=8*C.scalar,Ae=C.x,N=C.y,K=5,$=Math.PI/K;K--;)Ae=C.x+Math.cos(de)*$e,N=C.y+Math.sin(de)*$e,k.lineTo(Ae,N),de+=$,Ae=C.x+Math.cos(de)*_e,N=C.y+Math.sin(de)*_e,k.lineTo(Ae,N),de+=$;else k.moveTo(Math.floor(C.x),Math.floor(C.y)),k.lineTo(Math.floor(C.wobbleX),Math.floor(ce)),k.lineTo(Math.floor(be),Math.floor(he)),k.lineTo(Math.floor(se),Math.floor(C.wobbleY));return k.closePath(),k.fill(),C.tick<C.totalTicks}function we(k,C,fe,se,ce){var be=C.slice(),he=k.getContext("2d"),de,_e,$e=a(function(Ae){function N(){de=_e=null,he.clearRect(0,0,se.width,se.height),ce(),Ae()}function K(){n&&!(se.width===s.width&&se.height===s.height)&&(se.width=k.width=s.width,se.height=k.height=s.height),!se.width&&!se.height&&(fe(k),se.width=k.width,se.height=k.height),he.clearRect(0,0,se.width,se.height),be=be.filter(function($){return ge(he,$)}),be.length?de=c.frame(K):N()}de=c.frame(K),_e=N});return{addFettis:function(Ae){return be=be.concat(Ae),$e},canvas:k,promise:$e,reset:function(){de&&c.cancel(de),_e&&_e()}}}function Oe(k,C){var fe=!k,se=!!_(C||{},"resize"),ce=_(C,"disableForReducedMotion",Boolean),be=i&&!!_(C||{},"useWorker"),he=be?l():null,de=fe?z:D,_e=k&&he?!!k.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function N($,te,ee){for(var ye=_($,"particleCount",E),me=_($,"angle",Number),g=_($,"spread",Number),w=_($,"startVelocity",Number),I=_($,"decay",Number),R=_($,"gravity",Number),U=_($,"drift",Number),V=_($,"colors",T),J=_($,"ticks",Number),W=_($,"shapes"),G=_($,"scalar"),M=q($),S=ye,O=[],Y=k.width*M.x,ie=k.height*M.y;S--;)O.push(ne({x:Y,y:ie,angle:me,spread:g,startVelocity:w,color:V[S%V.length],shape:W[A(0,W.length)],ticks:J,decay:I,gravity:R,drift:U,scalar:G}));return Ae?Ae.addFettis(O):(Ae=we(k,O,de,te,ee),Ae.promise)}function K($){var te=ce||_($,"disableForReducedMotion",Boolean),ee=_($,"zIndex",Number);if(te&&$e)return a(function(w){w()});fe&&Ae?k=Ae.canvas:fe&&!k&&(k=ue(ee),document.body.appendChild(k)),se&&!_e&&de(k);var ye={width:k.width,height:k.height};he&&!_e&&he.init(k),_e=!0,he&&(k.__confetti_initialized=!0);function me(){if(he){var w={getBoundingClientRect:function(){if(!fe)return k.getBoundingClientRect()}};de(w),he.postMessage({resize:{width:w.width,height:w.height}});return}ye.width=ye.height=null}function g(){Ae=null,se&&t.removeEventListener("resize",me),fe&&k&&(document.body.removeChild(k),k=null,_e=!1)}return se&&t.addEventListener("resize",me,!1),he?he.fire($,ye,g):N($,ye,g)}return K.reset=function(){he&&he.reset(),Ae&&Ae.reset()},K}var Me;function Be(){return Me||(Me=Oe(null,{useWorker:!0,resize:!0})),Me}r.exports=function(){return Be().apply(this,arguments)},r.exports.reset=function(){Be().reset()},r.exports.create=Oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Yo,!1);const $0=Yo.exports;Yo.exports.create;const Fc=atob("YW5kcm9pZEBqdTYwLmRl"),cy="05.01.2023 16:45:30",ly="https://boomerang.ju60.de/share/z8KAHmGY/Kiel%20Live",Vu="https://tiles.ju60.de",uy=`${Vu}/styles/gray-matter/style.json`,fy=`${Vu}/styles/bright-matter/style.json`,U0="wss://api.kiel-live.ju60.de/",D0={class:"m-2 flex flex-col rounded-md p-4 bg-white border-1 border-gray-200 shadow-xl z-20 md:w-104 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800"},B0={class:"flex flex-col text-center gap-4"},q0={class:"text-xl mb-2"},H0=["href"],W0={href:"https://www.instagram.com/kiel.live/",target:"_blank",class:"underline"},V0={class:"flex flex-row w-full justify-center mt-8"},z0=Fr({__name:"UpdateNotice",setup(e){const t="kiel-live-version-v1",r="2.0.0",n=ze(localStorage.getItem(t)),s=He(()=>n.value!==null&&n.value!==r),{t:i}=jr();Yn(async()=>{const a=localStorage.getItem("version");a!==null&&(n.value=a,localStorage.removeItem("version"))}),wt(s,()=>{if(!s.value)return;const a=3*1e3,c=Date.now()+a,l=setInterval(()=>{if(c-Date.now()<=0){clearInterval(l);return}$0({particleCount:100,spread:70,origin:{y:1.1},startVelocity:90,zIndex:2e3})},250)},{immediate:!0});function o(){localStorage.setItem(t,r),n.value=r}return(a,c)=>{const l=Xs("i18n-t");return ke(s)?(ct(),Qt("div",{key:0,class:"flex fixed top-0 left-0 right-0 bottom-0 bg-gray-900 bg-opacity-80 z-1000 justify-center items-center",onClick:o},[De("div",D0,[De("div",B0,[De("span",q0,Ct(ke(i)("update_title")),1),De("span",null,Ct(ke(i)("update_msg")),1),Re(l,{keypath:"feedback",tag:"span"},{email:jt(()=>[De("a",{href:`mailto:${ke(Fc)}`,class:"underline"},Ct(ke(Fc)),9,H0)]),instagram:jt(()=>[De("a",W0,Ct(ke(i)("instagram")),1)]),_:1})]),De("div",V0,[Re(uo,{onClick:o},{default:jt(()=>[Cs(Ct(ke(i)("nice")),1)]),_:1})])])])):tu("",!0)}}}),K0=e=>p0({storageKey:`${Hu}.theme`,...e}),G0={class:"app flex flex-col m-auto w-full h-full bg-white text-black dark:bg-dark-400 dark:text-gray-300"},Y0={class:"flex flex-grow min-h-0"},J0=Fr({__name:"App",setup(e){K0();const{locale:t}=jr();return wt(t,()=>{document.documentElement.setAttribute("lang",t.value)},{immediate:!0}),(r,n)=>{const s=Xs("router-view");return ct(),Qt("div",G0,[De("main",Y0,[Re(s)]),Re(C0,{class:"mt-auto flex-shrink-0"}),Re(j0),Re(z0)])}}});const X0=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},Q0=X0(J0,[["__scopeId","data-v-ce88a210"]]),Z0=(e,t)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};function e_(){return navigator.language.split("-")[0]}const zu=e_(),Ku=ep({legacy:!1,locale:zu}),t_=async e=>{const{default:t}=await Z0(Object.assign({"./locales/de.json":()=>Mt(()=>import("./de-d6cb2025.js"),[]),"./locales/en.json":()=>Mt(()=>import("./en-a52e49c8.js"),[])}),`./locales/${e}.json`);return Ku.global.setLocaleMessage(e,t),Gn()};t_(zu);let ki=!0;const r_=[{path:"/",name:"home",component:()=>Mt(()=>import("./Home-593b7bc1.js"),["assets/Home-593b7bc1.js","assets/logo-553d861a.js","assets/Home-22d8e707.css"])},{path:"/map/:markerType/:markerId",name:"map-marker",component:()=>Mt(()=>import("./Home-593b7bc1.js"),["assets/Home-593b7bc1.js","assets/logo-553d861a.js","assets/Home-22d8e707.css"]),props:!0},{path:"/search",name:"search",component:()=>Mt(()=>import("./Home-593b7bc1.js"),["assets/Home-593b7bc1.js","assets/logo-553d861a.js","assets/Home-22d8e707.css"])},{path:"/favorites",name:"favorites",component:()=>Mt(()=>import("./Home-593b7bc1.js"),["assets/Home-593b7bc1.js","assets/logo-553d861a.js","assets/Home-22d8e707.css"])},{path:"/settings/about",name:"settings-about",component:()=>Mt(()=>import("./About-cc979adb.js"),["assets/About-cc979adb.js","assets/logo-553d861a.js","assets/SettingsContainer-2b3261c3.js"]),meta:{settings:!0}},{path:"/settings/changelog",name:"settings-changelog",component:()=>Mt(()=>import("./Changelog-76ee7fd2.js"),["assets/Changelog-76ee7fd2.js","assets/SettingsContainer-2b3261c3.js"]),meta:{settings:!0}},{path:"/settings/settings",name:"settings-settings",component:()=>Mt(()=>import("./Settings-ed2bc11c.js"),["assets/Settings-ed2bc11c.js","assets/SettingsContainer-2b3261c3.js"]),meta:{settings:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>Mt(()=>import("./NotFound-63aa87a3.js"),[])}],Gu=Rg({history:Yp(),routes:r_}),{liteMode:n_}=Wu();Gu.beforeEach((e,t,r)=>{if(e.name==="home"&&(ki||n_.value)){ki=!1,r({name:"favorites"});return}ki=!1,r()});var Z;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(Z||(Z={}));class Yu{constructor(){b(this,"messages");this.messages=new Map,this.messages.set(Z.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(Z.BadJson,"Bad JSON"),this.messages.set(Z.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return s_.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const s_=new Yu;function i_(e){return typeof e.code=="string"}class le extends Error{constructor(r,n,s){super(r);b(this,"name");b(this,"message");b(this,"code");b(this,"permissionContext");b(this,"chainedError");b(this,"api_error");this.name="NatsError",this.message=r,this.code=n,this.chainedError=s}static errorForCode(r,n){const s=Yu.getMessage(r);return new le(s,r,n)}isAuthError(){return this.code===Z.AuthenticationExpired||this.code===Z.AuthorizationViolation}isPermissionError(){return this.code===Z.PermissionsViolation}isProtocolError(){return this.code===Z.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const at=new Uint8Array(0);var nr;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(nr||(nr={}));var Hn;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(Hn||(Hn={}));const fo="127.0.0.1",Ju=2*1e3,Xu=2*60*1e3,o_=2;var Yt;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(Yt||(Yt={}));var jc;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(jc||(jc={}));var ho;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(ho||(ho={}));var Wn;(function(e){e.Old="old",e.New="new"})(Wn||(Wn={}));var mo;(function(e){e.File="file",e.Memory="memory"})(mo||(mo={}));var bt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(bt||(bt={}));var et;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(et||(et={}));var on;(function(e){e.Instant="instant",e.Original="original"})(on||(on={}));var Ut;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(Ut||(Ut={}));var Kr;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(Kr||(Kr={}));var $c;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})($c||($c={}));const ln=new TextEncoder,Zt=new TextDecoder;function a_(...e){let t=0;for(let s=0;s<e.length;s++)t+=e[s].length;const r=new Uint8Array(t);let n=0;for(let s=0;s<e.length;s++)r.set(e[s],n),n+=e[s].length;return r}function Pn(...e){const t=[];for(let r=0;r<e.length;r++)t.push(ln.encode(e[r]));return t.length===0?at:t.length===1?t[0]:a_(...t)}function Uc(e){return!e||e.length===0?"":Zt.decode(e)}class Zn{constructor(){b(this,"buffers");b(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let r=0;for(let i=0;i<t.length;i++)r+=t[i].length;const n=new Uint8Array(r);let s=0;for(let i=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}static fromAscii(t){return t||(t=""),ln.encode(t)}static toAscii(t){return Zt.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let r=0;for(let n=0;n<this.buffers.length;n++)t.set(this.buffers[n],r),r+=this.buffers[n].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const r=this.buffers.pop();if(r){const n=this.byteLength;(t===void 0||t>n)&&(t=n);const s=r.subarray(0,t);return n>t&&this.buffers.push(r.subarray(t)),this.byteLength=n-t,s}}return new Uint8Array(0)}fill(t,...r){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let n=0;n<r.length;n++)r[n]&&r[n].length&&(this.buffers.push(r[n]),this.byteLength+=r[n].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const Ar=`\r
`,Rs=Zn.fromAscii(Ar),c_=new Uint8Array(Rs)[0],l_=new Uint8Array(Rs)[1];function u_(e){return e instanceof Uint8Array}function f_(e){for(let t=0;t<e.length;t++){const r=t+1;if(e.byteLength>r&&e[t]===c_&&e[r]===l_)return r+1}return 0}function h_(e){const t=f_(e);if(t>0){const n=new Uint8Array(e).slice(0,t);return Zt.decode(n)}return""}function ii(e,...t){for(let r=0;r<t.length;r++){const n=t[r];Object.keys(n).forEach(function(s){e[s]=n[s]})}return e}function hs(e){const t="",r="";return Zt.decode(e).replace(/\n/g,r).replace(/\r/g,t)}function oi(e){const t=le.errorForCode(Z.Timeout);let r,n;const s=new Promise((i,o)=>{r={cancel:()=>{n&&clearTimeout(n)}},n=setTimeout(()=>{o(t)},e)});return Object.assign(s,r)}function Jo(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function Ve(){let e={};const t=new Promise((r,n)=>{e={resolve:r,reject:n}});return Object.assign(t,e)}function Qu(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}class xt{constructor(){b(this,"inflight");b(this,"processed");b(this,"received");b(this,"noIterator");b(this,"iterClosed");b(this,"done");b(this,"signal");b(this,"yields");b(this,"filtered");b(this,"pendingFiltered");b(this,"ingestionFilterFn");b(this,"protocolFilterFn");b(this,"dispatchedFn");b(this,"ctx");b(this,"_data");b(this,"err");b(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=Ve(),this.yields=[],this.iterClosed=Ve(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:r,protocol:n}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};r&&(n&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new le("unsupported iterator",Z.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let r=0;r<t.length;r++){if(typeof t[r]=="function"){const s=t[r];try{s()}catch(i){throw i}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[r]):!0){this.processed++;const s=Date.now();yield t[r],this.time=Date.now()-s,this.dispatchedFn&&t[r]&&this.dispatchedFn(t[r])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=Ve())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Dc(e){let n=!0;const s=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new le(`'${e[i]}' is not a valid character for a header key`,Z.BadHeader);n&&97<=o&&o<=122?o-=32:!n&&65<=o&&o<=90&&(o+=32),s[i]=o,n=o==45}return String.fromCharCode(...s)}function ar(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new gr(e,t)}const Ti="NATS/1.0";var At;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(At||(At={}));class gr{constructor(t=0,r=""){b(this,"_code");b(this,"headers");b(this,"_description");this._code=t,this._description=r,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[r,n]of this.headers){const s=t.values(r);if(n.length!==s.length)return!1;const i=[...n].sort(),o=[...s].sort();for(let a=0;a<i.length;a++)if(i[a]!==o[a])return!1}return!0}return!1}static decode(t){const r=new gr,s=Zt.decode(t).split(`\r
`),i=s[0];if(i!==Ti){let o=i.replace(Ti,"");r._code=parseInt(o,10);const a=r._code.toString();o=o.replace(a,""),r._description=o.trim()}return s.length>=1&&s.slice(1).map(o=>{if(o){const a=o.indexOf(":");if(a>-1){const c=o.slice(0,a),l=o.slice(a+1).trim();r.append(c,l)}}}),r}toString(){if(this.headers.size===0&&this._code===0)return"";let t=Ti;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[r,n]of this.headers)for(let s=0;s<n.length;s++)t=`${t}\r
${r}: ${n[s]}`;return`${t}\r
\r
`}encode(){return ln.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new le("invalid header value - \\r and \\n are not allowed.",Z.BadHeader);return t.trim()}keys(){const t=[];for(const r of this.headers.keys())t.push(r);return t}findKeys(t,r=At.Exact){const n=this.keys();switch(r){case At.Exact:return n.filter(s=>s===t);case At.CanonicalMIME:return t=Dc(t),n.filter(s=>s===t);default:{const s=t.toLowerCase();return n.filter(i=>s===i.toLowerCase())}}}get(t,r=At.Exact){const n=this.findKeys(t,r);if(n.length){const s=this.headers.get(n[0]);if(s)return Array.isArray(s)?s[0]:s}return""}has(t,r=At.Exact){return this.findKeys(t,r).length>0}set(t,r,n=At.Exact){this.delete(t,n),this.append(t,r,n)}append(t,r,n=At.Exact){const s=Dc(t);n===At.CanonicalMIME&&(t=s);const i=this.findKeys(t,n);t=i.length>0?i[0]:t;const o=gr.validHeaderValue(r);let a=this.headers.get(t);a||(a=[],this.headers.set(t,a)),a.push(o)}values(t,r=At.Exact){const n=[];return this.findKeys(t,r).forEach(i=>{const o=this.headers.get(i);o&&n.push(...o)}),n}delete(t,r=At.Exact){this.findKeys(t,r).forEach(s=>{this.headers.delete(s)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(r=>{t[r]=this.values(r)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const r=new gr;for(const n in t)r.headers.set(n,t[n]);return r}}function Zu(){return{encode(e){return ln.encode(e)},decode(e){return Zt.decode(e)}}}function Kt(e){return{encode(t){try{return t===void 0&&(t=null),ln.encode(JSON.stringify(t))}catch(r){throw le.errorForCode(Z.BadJson,r)}},decode(t){try{return JSON.parse(Zt.decode(t),e)}catch(r){throw le.errorForCode(Z.BadJson,r)}}}}const Bc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",qc=36,d_=0xcfd41b9100000,Hc=33,m_=333,Wc=12+10;function p_(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function g_(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):p_(e)}class __{constructor(){b(this,"buf");b(this,"seq");b(this,"inc");this.buf=new Uint8Array(Wc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*d_),this.inc=Math.floor(Math.random()*(m_-Hc)+Hc)}setPre(){const t=new Uint8Array(12);g_(t);for(let r=0;r<12;r++){const n=t[r]%36;this.buf[r]=Bc.charCodeAt(n)}}fillSeq(){let t=this.seq;for(let r=Wc-1;r>=12;r--)this.buf[r]=Bc.charCodeAt(t%qc),t=Math.floor(t/qc)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const ai=new __;function ef(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?le.errorForCode(Z.NoResponders):null}class tf{constructor(t,r,n){b(this,"_headers");b(this,"_msg");b(this,"_rdata");b(this,"_reply");b(this,"_subject");b(this,"publisher");this._msg=t,this._rdata=r,this.publisher=n}get subject(){return this._subject?this._subject:(this._subject=Zt.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=Zt.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=gr.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=at,r){return this.reply?(this.publisher.publish(this.reply,t,r),!0):!1}size(){var s;const t=this._msg.subject.length,r=((s=this._msg.reply)==null?void 0:s.length)||0,n=this._msg.size===-1?0:this._msg.size;return t+r+n}}function Qr(e){return rf("durable",e)}function dt(e){return rf("stream",e)}function rf(e,t=""){if(t==="")throw Error(`${e} name required`);const r=Cn(t);if(r.length)throw new Error(`invalid ${e} name - ${e} name ${r}`)}function Cn(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const n of e.split(""))if(n.match(t)===null)return`cannot contain '${n}'`}return""}function b_(e,t={}){return Object.assign({name:e,deliver_policy:bt.All,ack_policy:et.Explicit,ack_wait:Ge(30*1e3),replay_policy:on.Instant},t)}function Ge(e){return e*1e6}function Xo(e){return Math.floor(e/1e6)}function po(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function Vc(e){var t;return po(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function y_(e,t,r){const n=ar(e,t),s={hdr:1,sid:0,size:0},i=new tf(s,at,{});return i._headers=n,i._subject=r,i}function Zr(e){if(e.data.length!==0)return null;const t=e.headers;return t?nf(t.code,t.description):null}var Lt;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="`idle heartbeats missed`"})(Lt||(Lt={}));function w_(e){return e.code!==Z.JetStream409?!1:[Lt.MaxBatchExceeded,Lt.MaxExpiresExceeded,Lt.MaxBytesExceeded,Lt.MaxMessageSizeExceeded,Lt.PushConsumer,Lt.IdleHeartbeatMissed].find(r=>e.message.indexOf(r)!==-1)!==void 0}function nf(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new le(t,Z.JetStream404NoMessages);case 408:return new le(t,Z.JetStream408RequestTimeout);case 409:{const r=t.startsWith(Lt.IdleHeartbeatMissed)?Z.JetStreamIdleHeartBeat:Z.JetStream409;return new le(t,r)}case 503:return le.errorForCode(Z.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=Z.Unknown),new le(t,`${e}`)}}function Mr(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function go(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var yt;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct"})(yt||(yt={}));class x_{constructor(t){b(this,"server");b(this,"features");b(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=Mr(t)),this.server=t,this.set(yt.JS_KV,"2.6.2"),this.set(yt.JS_OBJECTSTORE,"2.6.3"),this.set(yt.JS_PULL_MAX_BYTES,"2.8.3"),this.set(yt.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(yt.JS_ALLOW_DIRECT,"2.9.0"),this.disabled.forEach(r=>{this.features.delete(r)})}set(t,r){this.features.set(t,{min:r,ok:go(this.server,Mr(r))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var r;return((r=this.get(t))==null?void 0:r.ok)||!1}require(t){return typeof t=="string"&&(t=Mr(t)),go(this.server,t)>=0}}const v_="$SRV",Ms="Nats-Service-Error",Ls="Nats-Service-Error-Code";var Jt;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO",e.SCHEMA="SCHEMA"})(Jt||(Jt={}));class zc{constructor(t){b(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}respond(t,r){return this.msg.respond(t,r)}respondError(t,r,n,s){var i,o;return s=s||{},s.headers=s.headers||ar(),(i=s.headers)==null||i.set(Ls,`${t}`),(o=s.headers)==null||o.set(Ms,r),this.msg.respond(n,s)}}class Fs extends Error{constructor(r,n){super(n);b(this,"code");this.code=r}static isServiceError(r){return Fs.toServiceError(r)!==null}static toServiceError(r){var s,i;const n=((s=r==null?void 0:r.headers)==null?void 0:s.get(Ls))||"";if(n!==""){const o=parseInt(n)||400,a=((i=r==null?void 0:r.headers)==null?void 0:i.get(Ms))||"";return new Fs(o,a.length?a:n)}return null}}class ci extends xt{constructor(r,n){var i;super();b(this,"nc");b(this,"_id");b(this,"config");b(this,"handler");b(this,"internal");b(this,"_stopped");b(this,"_done");b(this,"_stats");b(this,"_lastException");b(this,"_schema");this.nc=r,n.name=(n==null?void 0:n.name)||"",this.config=n;const s=Cn(this.name);if(s!=="")throw new Error(`name ${s}`);Mr(this.config.version),this.noIterator=typeof((i=n==null?void 0:n.endpoint)==null?void 0:i.handler)=="function",this.noIterator||(this.config.endpoint.handler=(o,a)=>{o?this.stop(o).catch():this.push(new zc(a))}),this.reset(),this._id=ai.next(),this.handler=n.endpoint,this.internal=[],this._done=Ve(),this._stopped=!1,this.nc.closed().then(()=>{this.close().catch()}).catch(o=>{this.close(o).catch()}),this.noIterator||this.iterClosed.then(()=>{this.close().catch()})}static controlSubject(r,n="",s="",i){const o=i??v_;return n===""&&s===""?`${o}.${r}`:(Cn(n),s!==""?(Cn(s),`${o}.${r}.${n}.${s}`):`${o}.${r}.${n}`)}get subject(){const{subject:r}=this.config.endpoint;return r!==""?r:""}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}errorToHeader(r){const n=ar();if(r instanceof Fs){const s=r;n.set(Ms,s.message),n.set(Ls,`${s.code}`)}else n.set(Ms,r.message),n.set(Ls,"500");return n}countError(r){this._lastException=r,this._stats.num_errors++,this._stats.last_error=r.message}setupNATS(r,n=!1){const s=n?"":"q",{subject:i,handler:o}=r,a=r;a.internal=n,n&&this.internal.push(a);const c=u=>{n||(this._stats.num_requests++,this._stats.processing_time=Ge(Date.now()-u),this._stats.average_processing_time=Math.round(this._stats.processing_time/this._stats.num_requests))},l=o?(u,f)=>{if(u){this.close(u);return}const d=Date.now();try{o(u,new zc(f))}catch(_){this.countError(_),f==null||f.respond(at,{headers:this.errorToHeader(_)})}finally{c(d)}}:void 0;a.sub=this.nc.subscribe(i,{callback:l,queue:s}),a.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${r.subject} stopped`)).catch()}).catch(u=>{if(!this._stopped){const f=new Error(`required subscription ${r.subject} errored: ${u.message}`);f.stack=u.stack,this.close(f).catch()}})}info(){return{name:this.name,id:this.id,version:this.version,description:this.description,subject:this.config.endpoint.subject}}async stats(){if(typeof this.config.statsHandler=="function")try{this._stats.data=await this.config.statsHandler(this.handler)}catch(r){this.countError(r)}return this.noIterator||(this._stats.processing_time=this.time,this._stats.num_requests=this.processed,this._stats.average_processing_time=this.time>0&&this.processed>0?this.time/this.processed:0),Object.assign({name:this.name,id:this.id,version:this.version},this._stats)}addInternalHandler(r,n){const s=`${r}`.toUpperCase();this._doAddInternalHandler(`${s}-all`,r,n),this._doAddInternalHandler(`${s}-kind`,r,n,this.name),this._doAddInternalHandler(`${s}`,r,n,this.name,this.id)}_doAddInternalHandler(r,n,s,i="",o=""){const a={};a.name=r,a.subject=ci.controlSubject(n,i,o),a.handler=s,this.setupNATS(a,!0)}start(){const r=Kt(),n=(l,u)=>l?(this.close(l),Promise.reject(l)):this.stats().then(f=>(u==null||u.respond(r.encode(f)),Promise.resolve())),s=(l,u)=>l?(this.close(l),Promise.reject(l)):(u==null||u.respond(r.encode(this.info())),Promise.resolve()),i=r.encode({name:this.name,id:this.id,version:this.version}),o=(l,u)=>l?(this.close(l).then().catch(),Promise.reject(l)):(u.respond(i),Promise.resolve()),a=(l,u)=>l?(this.close(l),Promise.reject(l)):(u==null||u.respond(this.schema),Promise.resolve());return this.addInternalHandler(Jt.PING,o),this.addInternalHandler(Jt.STATS,n),this.addInternalHandler(Jt.INFO,s),this.addInternalHandler(Jt.SCHEMA,a),[this.handler].forEach(l=>{const{subject:u}=l;typeof u=="string"&&this.setupNATS(l)}),Promise.resolve(this)}close(r){if(this._stopped)return this._done;this._stopped=!0;const n=[];return this.nc.isClosed()||(n.push(this.handler.sub.drain()),this.internal.forEach(s=>{n.push(s.sub.drain())})),Promise.allSettled(n).then(()=>{this._done.resolve(r||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(r){return this.close(r)}get schema(){const r=Kt();return this._schema||(this._schema=r.encode({name:this.name,id:this.id,version:this.version,schema:this.config.schema})),this._schema}reset(){this._lastException=void 0,this._stats={name:this.name,num_requests:0,num_errors:0,processing_time:0,average_processing_time:0,started:new Date().toISOString()},this.noIterator||(this.processed=0,this.time=0)}}const E_="$JS.API";function S_(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),ii({apiPrefix:E_,timeout:5e3},e)}class es{constructor(t,r){b(this,"nc");b(this,"opts");b(this,"prefix");b(this,"timeout");b(this,"jc");this.nc=t,this.opts=S_(r),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=Kt()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,r=null,n){n=n||{},n.timeout=this.timeout;let s=at;r&&(s=this.jc.encode(r));const i=await this.nc.request(t,s,n);return this.parseJsResponse(i)}async findStream(t){const r={subject:t},s=await this._request(`${this.prefix}.STREAM.NAMES`,r);if(!s.streams||s.streams.length!==1)throw new Error("no stream matches subject");return s.streams[0]}parseJsResponse(t){const r=this.jc.decode(t.data),n=r;if(n.error){const s=nf(n.error.code,n.error.description);if(s!==null)throw s.api_error=n.error,s}return r}}class wn{constructor(t,r,n,s){b(this,"err");b(this,"offset");b(this,"pageInfo");b(this,"subject");b(this,"jsm");b(this,"filter");b(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=n,this.offset=0,this.pageInfo={},this.filter=r,this.payload=s||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const r=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=r;const n=this.filter(r);return this.offset+=n.length,n}catch(r){throw this.err=r,r}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const r of t)yield r;t=await this.next()}}}class sf extends es{constructor(t,r){super(t,r)}async add(t,r){if(dt(t),r.deliver_group&&r.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(r.deliver_group&&r.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const n={};n.config=r,n.stream_name=t,n.config.durable_name&&Qr(n.config.durable_name);const s=this.nc,{min:i,ok:o}=s.features.get(yt.JS_NEW_CONSUMER_CREATE_API),a=r.name===""?void 0:r.name;if(a&&!o)throw new Error(`consumer 'name' requires server ${i}`);if(a){const f=Cn(a);if(f.length)throw new Error(`consumer 'name' ${f}`)}let c,l="";if(o&&(l=r.name??r.durable_name??""),l!==""){let f=r.filter_subject??void 0;f===">"&&(f=void 0),c=f!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${l}.${f}`:`${this.prefix}.CONSUMER.CREATE.${t}.${l}`}else c=r.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${r.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(c,n)}async update(t,r,n){const s=await this.info(t,r),i=n;return this.add(t,Object.assign(s.config,i))}async info(t,r){return dt(t),Qr(r),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${r}`)}async delete(t,r){return dt(t),Qr(r),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${r}`)).success}list(t){dt(t);const r=s=>s.consumers,n=`${this.prefix}.CONSUMER.LIST.${t}`;return new wn(n,r,this)}}class of{constructor(t,r){b(this,"token");b(this,"received");b(this,"ctx");b(this,"requestSubject");b(this,"mux");this.mux=t,this.requestSubject=r,this.received=0,this.token=ai.next(),this.ctx=new Error}}class O_ extends of{constructor(r,n,s={maxWait:1e3}){super(r,n);b(this,"callback");b(this,"done");b(this,"timer");b(this,"max");b(this,"opts");if(this.opts=s,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof s.maxMessages=="number"&&s.maxMessages>0?s.maxMessages:-1,this.done=Ve(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},s.maxWait)}cancel(r){r&&this.callback(r,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(r,n){r?(r.stack+=`

${this.ctx.stack}`,this.cancel(r)):(this.callback(null,n),this.opts.strategy===Yt.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===Yt.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===Yt.SentinelMsg&&n&&n.data.length===0&&this.cancel())}}class af extends of{constructor(r,n,s={timeout:1e3}){super(r,n);b(this,"deferred");b(this,"timer");this.deferred=Ve(),this.timer=oi(s.timeout)}resolver(r,n){this.timer&&this.timer.cancel(),r?(r.stack+=`

${this.ctx.stack}`,this.deferred.reject(r)):this.deferred.resolve(n),this.cancel()}cancel(r){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(r||le.errorForCode(Z.Cancelled))}}const Kc=Uint8Array.of(43,65,67,75),A_=Uint8Array.of(45,78,65,75),bn=Uint8Array.of(43,87,80,73),P_=Uint8Array.of(43,78,88,84),C_=Uint8Array.of(43,84,69,82,77),I_=Uint8Array.of(32);function js(e){return new T_(e)}function k_(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const r={};return r.domain=t[2]==="_"?"":t[2],r.account_hash=t[3],r.stream=t[4],r.consumer=t[5],r.redeliveryCount=parseInt(t[6],10),r.redelivered=r.redeliveryCount>1,r.streamSequence=parseInt(t[7],10),r.deliverySequence=parseInt(t[8],10),r.timestampNanos=parseInt(t[9],10),r.pending=parseInt(t[10],10),r}class T_{constructor(t){b(this,"msg");b(this,"di");b(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=k_(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===bn[0]&&t[1]===bn[1]&&t[2]===bn[2]&&t[3]===bn[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const r=this.msg.publisher,n=new af(r.muxSubscriptions,this.msg.reply);r.request(n);try{r.publish(this.msg.reply,Kc,{reply:`${r.muxSubscriptions.baseInbox}${n.token}`})}catch(s){n.cancel(s)}try{return await Promise.race([n.timer,n.deferred]),!0}catch(s){n.cancel(s)}}return!1}ack(){this.doAck(Kc)}nak(t){let r=A_;t&&(r=Zu().encode(`-NAK ${JSON.stringify({delay:Ge(t)})}`)),this.doAck(r)}working(){this.doAck(bn)}next(t,r={batch:1}){const n={};n.batch=r.batch||1,n.no_wait=r.no_wait||!1,r.expires&&r.expires>0&&(n.expires=Ge(r.expires));const s=Kt().encode(n),i=Zn.concat(P_,I_,s),o=t?{reply:t}:void 0;this.msg.respond(i,o)}term(){this.doAck(C_)}}function Hr(e,t,r=!1){if(r===!0&&!e)throw le.errorForCode(Z.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw le.errorForCode(Z.ApiError,new Error(`${t} is not a function`))}class N_ extends xt{constructor(r,n,s){super();b(this,"sub");b(this,"adapter");b(this,"subIterDone");Hr(s.adapter,"adapter",!0),this.adapter=s.adapter,s.callback&&Hr(s.callback,"callback"),this.noIterator=typeof s.callback=="function",s.ingestionFilterFn&&(Hr(s.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=s.ingestionFilterFn),s.protocolFilterFn&&(Hr(s.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=s.protocolFilterFn),s.dispatchedFn&&(Hr(s.dispatchedFn,"dispatchedFn"),this.dispatchedFn=s.dispatchedFn),s.cleanupFn&&Hr(s.cleanupFn,"cleanupFn");let i=(u,f)=>{this.callback(u,f)};if(s.callback){const u=s.callback;i=(f,d)=>{const[_,E]=this.adapter(f,d);if(_){u(_,null);return}const{ingest:A}=this.ingestionFilterFn?this.ingestionFilterFn(E,this):{ingest:!0};A&&(!this.protocolFilterFn||this.protocolFilterFn(E))&&(u(_,E),this.dispatchedFn&&E&&this.dispatchedFn(E))}}const{max:o,queue:a,timeout:c}=s,l={queue:a,timeout:c,callback:i};o&&o>0&&(l.max=o),this.sub=r.subscribe(n,l),s.cleanupFn&&(this.sub.cleanupFn=s.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=Ve(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async u=>{await u.closed,this.stop()})(this.sub).then().catch()}unsubscribe(r){this.sub.unsubscribe(r)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(r,n){this.sub.cancelTimeout();const[s,i]=this.adapter(r,n);s&&this.stop(s),i&&this.push(i)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let vt;function R_(e){vt=e}function cf(){return vt!==void 0&&vt.defaultPort!==void 0?vt.defaultPort:4222}function Ni(){return vt!==void 0&&vt.urlParseFn?vt.urlParseFn:void 0}function M_(){if(!vt||typeof vt.factory!="function")throw new Error("transport fn is not set");return vt.factory()}function lf(){return vt!==void 0&&vt.dnsResolveFn?vt.dnsResolveFn:void 0}const L_=4,uf=48,F_=65,j_=97;function $_(e,t,r,n){const s=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,a)=>{s[a]=o}),s[12]=e,s[13]=t,s[14]=r,s[15]=n,s}function _o(e){return U_(e)!==void 0}function U_(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return ff(e);case":":return D_(e)}}function ff(e){const t=new Uint8Array(4);for(let r=0;r<4;r++){if(e.length===0)return;if(r>0){if(e[0]!==".")return;e=e.substring(1)}const{n,c:s,ok:i}=B_(e);if(!i||n>255)return;e=e.substring(s),t[r]=n}return $_(t[0],t[1],t[2],t[3])}function D_(e){const t=new Uint8Array(16);let r=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(r=0,e=e.substring(2),e.length===0))return t;let n=0;for(;n<16;){const{n:s,c:i,ok:o}=q_(e);if(!o||s>65535)return;if(i<e.length&&e[i]==="."){if(r<0&&n!=16-4||n+4>16)return;const a=ff(e);if(a===void 0)return;t[n]=a[12],t[n+1]=a[13],t[n+2]=a[14],t[n+3]=a[15],e="",n+=L_;break}if(t[n]=s>>8,t[n+1]=s,n+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(r>=0)return;if(r=n,e=e.substring(1),e.length===0)break}}if(e.length===0){if(n<16){if(r<0)return;const s=16-n;for(let i=n-1;i>=r;i--)t[i+s]=t[i];for(let i=r+s-1;i>=r;i--)t[i]=0}else if(r>=0)return;return t}}function B_(e){let t=0,r=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(r=r*10+(e.charCodeAt(t)-uf),r>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n:r,c:t,ok:!0}}function q_(e){let t=0,r=0;for(r=0;r<e.length;r++){if(48<=e.charCodeAt(r)&&e.charCodeAt(r)<=57)t*=16,t+=e.charCodeAt(r)-uf;else if(97<=e.charCodeAt(r)&&e.charCodeAt(r)<=102)t*=16,t+=e.charCodeAt(r)-j_+10;else if(65<=e.charCodeAt(r)&&e.charCodeAt(r)<=70)t*=16,t+=e.charCodeAt(r)-F_+10;else break;if(t>=16777215)return{n:0,c:r,ok:!1}}return r===0?{n:0,c:r,ok:!1}:{n:t,c:r,ok:!0}}function H_(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function bo(e){return!H_(e)}function W_(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),bo(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=bo(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),r=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,n=r===80?"https":"http",s=new URL(`${n}://${e}`);s.port=`${r}`;let i=s.hostname;return i.charAt(0)==="["&&(i=i.substring(1,i.length-1)),{listen:s.host,hostname:i,port:r}}class In{constructor(t,r=!1){b(this,"src");b(this,"listen");b(this,"hostname");b(this,"port");b(this,"didConnect");b(this,"reconnects");b(this,"lastConnect");b(this,"gossiped");b(this,"tlsName");b(this,"resolves");this.src=t,this.tlsName="";const n=W_(t);this.listen=n.listen,this.hostname=n.hostname,this.port=n.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=r}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const r=[];if(_o(this.hostname))return[this];{const n=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${n.join(",")}`);for(const s of n){const i=this.port===80?"https":"http",o=new URL(`${i}://${bo(s)?"["+s+"]":s}`);o.port=`${this.port}`;const a=new In(o.host,!1);a.tlsName=this.hostname,r.push(a)}}return t.randomize&&Qu(r),this.resolves=r,r}}class V_{constructor(t=[],r={}){b(this,"firstSelect");b(this,"servers");b(this,"currentServer");b(this,"tlsName");b(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=r.randomize||!1;const n=Ni();t&&(t.forEach(s=>{s=n?n(s):s,this.servers.push(new In(s))}),this.randomize&&(this.servers=Qu(this.servers))),this.servers.length===0&&this.addServer(`${fo}:${cf()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();_o(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(r=>{r.gossiped&&(r.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,r=!1){const n=Ni();t=n?n(t):t;const s=new In(t,r);_o(s.hostname)&&(s.tlsName=this.tlsName),this.servers.push(s)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const r=this.servers.indexOf(t);this.servers.splice(r,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const r=[];let n=[];const s=Ni(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(a=>{a=s?s(a):a;const c=new In(a,!0);i.set(a,c)});const o=[];return this.servers.forEach((a,c)=>{const l=a.listen;a.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(c),i.delete(l)}),o.reverse(),o.forEach(a=>{const c=this.servers.splice(a,1);n=n.concat(c[0].listen)}),i.forEach((a,c)=>{this.servers.push(a),r.push(c)}),{added:r,deleted:n}}}class hf extends xt{constructor(r,n,s={}){super();b(this,"sid");b(this,"queue");b(this,"draining");b(this,"max");b(this,"subject");b(this,"drained");b(this,"protocol");b(this,"timer");b(this,"info");b(this,"cleanupFn");b(this,"closed");b(this,"requestSubject");ii(this,s),this.protocol=r,this.subject=n,this.draining=!1,this.noIterator=typeof s.callback=="function",this.closed=Ve(),s.timeout&&(this.timer=oi(s.timeout),this.timer.then(()=>{this.timer=void 0}).catch(i=>{this.stop(i),this.noIterator&&this.callback(i,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(r){if(this.noIterator){const n=this.callback,s=r.ingestionFilterFn?r.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),i=r.protocolFilterFn?r.protocolFilterFn:()=>!0,o=r.dispatchedFn?r.dispatchedFn:()=>{};this.callback=(a,c)=>{const{ingest:l}=s(c);l&&i(c)&&(n(a,c),o(c))}}else this.protocolFilterFn=r.protocolFilterFn,this.dispatchedFn=r.dispatchedFn}callback(r,n){this.cancelTimeout(),r?this.stop(r):this.push(n)}close(){if(!this.isClosed()){this.cancelTimeout();const r=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?r():this.push(r)}}unsubscribe(r){this.protocol.unsubscribe(this,r)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.isClosed()?Promise.reject(le.errorForCode(Z.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(Ve()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class z_{constructor(){b(this,"mux");b(this,"subs");b(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const r=t.permissionContext,n=this.all();let s;if(r.operation==="subscription"&&(s=n.find(i=>i.subject===r.subject)),r.operation==="publish"&&(s=n.find(i=>i.requestSubject===r.subject)),s)return s.callback(t,{}),s.close(),this.subs.delete(s.sid),s!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class K_{constructor(t,r,n){b(this,"ph");b(this,"interval");b(this,"maxOut");b(this,"timer");b(this,"pendings");this.ph=t,this.interval=r,this.maxOut=n,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:Hn.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=Ve();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class G_ extends Error{constructor(t){super(t),this.name="AssertionError"}}function Y_(e,t="Assertion failed."){if(!e)throw new G_(t)}const Gc=32*1024,Ri=2**32-2;function ds(e,t,r=0){const n=t.byteLength-r;return e.byteLength>n&&(e=e.subarray(0,n)),t.set(e,r),e.byteLength}class Mi{constructor(t){b(this,"_buf");b(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const r=this._buf.byteLength;return t<=this.capacity-r?(this._reslice(r+t),r):-1}_reslice(t){Y_(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const r=ds(this._buf.subarray(this._off),t);return this._off+=r,r}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(ln.encode(t))}write(t){const r=this._grow(t.byteLength);return ds(t,this._buf,r)}_grow(t){const r=this.length;r===0&&this._off!==0&&this.reset();const n=this._tryGrowByReslice(t);if(n>=0)return n;const s=this.capacity;if(t<=Math.floor(s/2)-r)ds(this._buf.subarray(this._off),this._buf);else{if(s+t>Ri)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*s+t,Ri));ds(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(r+t,Ri)),r}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const r=this._grow(t);this._reslice(r)}readFrom(t){let r=0;const n=new Uint8Array(Gc);for(;;){const s=this.capacity-this.length<Gc,i=s?n:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return r;s?this.write(i.subarray(0,o)):this._reslice(this.length+o),r+=o}}}var ot;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(ot||(ot={}));function Yc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const J_=48;class Jc{constructor(t){b(this,"dispatcher");b(this,"state");b(this,"as");b(this,"drop");b(this,"hdr");b(this,"ma");b(this,"argBuf");b(this,"msgBuf");this.dispatcher=t,this.state=X.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let r;for(r=0;r<t.length;r++){const n=t[r];switch(this.state){case X.OP_START:switch(n){case Q.M:case Q.m:this.state=X.OP_M,this.hdr=-1,this.ma=Yc();break;case Q.H:case Q.h:this.state=X.OP_H,this.hdr=0,this.ma=Yc();break;case Q.P:case Q.p:this.state=X.OP_P;break;case Q.PLUS:this.state=X.OP_PLUS;break;case Q.MINUS:this.state=X.OP_MINUS;break;case Q.I:case Q.i:this.state=X.OP_I;break;default:throw this.fail(t.subarray(r))}break;case X.OP_H:switch(n){case Q.M:case Q.m:this.state=X.OP_M;break;default:throw this.fail(t.subarray(r))}break;case X.OP_M:switch(n){case Q.S:case Q.s:this.state=X.OP_MS;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MS:switch(n){case Q.G:case Q.g:this.state=X.OP_MSG;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MSG:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_MSG_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MSG_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.MSG_ARG,this.as=r}break;case X.MSG_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{const s=this.argBuf?this.argBuf.bytes():t.subarray(this.as,r-this.drop);this.processMsgArgs(s),this.drop=0,this.as=r+1,this.state=X.MSG_PAYLOAD,r=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;case X.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const s=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:s}),this.argBuf=void 0,this.msgBuf=void 0,this.state=X.MSG_END}else{let s=this.ma.size-this.msgBuf.length;const i=t.length-r;i<s&&(s=i),s>0?(this.msgBuf.write(t.subarray(r,r+s)),r=r+s-1):this.msgBuf.writeByte(n)}else r-this.as>=this.ma.size&&(this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:t.subarray(this.as,r)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=X.MSG_END);break;case X.MSG_END:switch(n){case Q.NL:this.drop=0,this.as=r+1,this.state=X.OP_START;break;default:continue}break;case X.OP_PLUS:switch(n){case Q.O:case Q.o:this.state=X.OP_PLUS_O;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PLUS_O:switch(n){case Q.K:case Q.k:this.state=X.OP_PLUS_OK;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PLUS_OK:switch(n){case Q.NL:this.dispatcher.push({kind:ot.OK}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_MINUS:switch(n){case Q.E:case Q.e:this.state=X.OP_MINUS_E;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_E:switch(n){case Q.R:case Q.r:this.state=X.OP_MINUS_ER;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ER:switch(n){case Q.R:case Q.r:this.state=X.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ERR:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ERR_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.MINUS_ERR_ARG,this.as=r}break;case X.MINUS_ERR_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.ERR,data:s}),this.drop=0,this.as=r+1,this.state=X.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(n))}break;case X.OP_P:switch(n){case Q.I:case Q.i:this.state=X.OP_PI;break;case Q.O:case Q.o:this.state=X.OP_PO;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PO:switch(n){case Q.N:case Q.n:this.state=X.OP_PON;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PON:switch(n){case Q.G:case Q.g:this.state=X.OP_PONG;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PONG:switch(n){case Q.NL:this.dispatcher.push({kind:ot.PONG}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_PI:switch(n){case Q.N:case Q.n:this.state=X.OP_PIN;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PIN:switch(n){case Q.G:case Q.g:this.state=X.OP_PING;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PING:switch(n){case Q.NL:this.dispatcher.push({kind:ot.PING}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_I:switch(n){case Q.N:case Q.n:this.state=X.OP_IN;break;default:throw this.fail(t.subarray(r))}break;case X.OP_IN:switch(n){case Q.F:case Q.f:this.state=X.OP_INF;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INF:switch(n){case Q.O:case Q.o:this.state=X.OP_INFO;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INFO:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_INFO_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INFO_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.INFO_ARG,this.as=r}break;case X.INFO_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.INFO,data:s}),this.drop=0,this.as=r+1,this.state=X.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;default:throw this.fail(t.subarray(r))}}(this.state===X.MSG_ARG||this.state===X.MINUS_ERR_ARG||this.state===X.INFO_ARG)&&!this.argBuf&&(this.argBuf=new Mi(t.subarray(this.as,r-this.drop))),this.state===X.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new Mi(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,r=this.ma.reply?this.ma.reply.length:0,n=new Uint8Array(t+r);n.set(this.ma.subject),this.ma.reply&&n.set(this.ma.reply,t),this.argBuf=new Mi(n),this.ma.subject=n.subarray(0,t),this.ma.reply&&(this.ma.reply=n.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case Q.SPACE:case Q.TAB:case Q.CR:case Q.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 3:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(r[2]);break;case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.size=this.protoParseInt(r[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,r=""){return r?r=`${r} [${this.state}]`:r=`parse error [${this.state}]`,new Error(`${r}: ${Zt.decode(t)}`)}processHeaderMsgArgs(t){const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case Q.SPACE:case Q.TAB:case Q.CR:case Q.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(r[2]),this.ma.size=this.protoParseInt(r[3]);break;case 5:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.hdr=this.protoParseInt(r[3]),this.ma.size=this.protoParseInt(r[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let r=0;for(let n=0;n<t.length;n++){if(t[n]<48||t[n]>57)return-1;r=r*10+(t[n]-J_)}return r}}var X;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(X||(X={}));var Q;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(Q||(Q={}));const X_=1024*32,Q_=/^INFO\s+([^\r\n]+)\r\n/i;function sr(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${ai.next()}`}class Z_{constructor(){b(this,"baseInbox");b(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${sr(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const r=t.subject||"";return r.indexOf(this.baseInbox)===0?r.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,r){if(r&&r.permissionContext){if(t)return this.all().forEach(s=>{s.resolver(r,{})}),!0;const n=r.permissionContext;if(n.operation==="publish"){const s=this.all().find(i=>i.requestSubject===n.subject);if(s)return s.resolver(r,{}),!0}}return!1}dispatcher(){return(t,r)=>{const n=this.getToken(r);if(n){const s=this.get(n);s&&(t===null&&r.headers&&(t=ef(r)),s.resolver(t,r))}}}close(){const t=le.errorForCode(Z.Timeout);this.reqs.forEach(r=>{r.resolver(t,{})})}}const eb=Pn(`PONG\r
`),Xc=Pn(`PING\r
`);class tb{constructor(t,r,n){b(this,"echo");b(this,"no_responders");b(this,"protocol");b(this,"verbose");b(this,"pedantic");b(this,"jwt");b(this,"nkey");b(this,"sig");b(this,"user");b(this,"pass");b(this,"auth_token");b(this,"tls_required");b(this,"name");b(this,"lang");b(this,"version");b(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=r.noEcho?!1:void 0,this.verbose=r.verbose,this.pedantic=r.pedantic,this.tls_required=r.tls?!0:void 0,this.name=r.name;const s=(r&&r.authenticator?r.authenticator(n):{})||{};ii(this,s)}}class $s{constructor(t,r){b(this,"connected");b(this,"connectedOnce");b(this,"infoReceived");b(this,"info");b(this,"muxSubscriptions");b(this,"options");b(this,"outbound");b(this,"pongs");b(this,"subscriptions");b(this,"transport");b(this,"noMorePublishing");b(this,"connectError");b(this,"publisher");b(this,"_closed");b(this,"closed");b(this,"listeners");b(this,"heartbeats");b(this,"parser");b(this,"outMsgs");b(this,"inMsgs");b(this,"outBytes");b(this,"inBytes");b(this,"pendingLimit");b(this,"lastError");b(this,"abortReconnect");b(this,"servers");b(this,"server");b(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=X_,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=r,this.subscriptions=new z_,this.muxSubscriptions=new Z_,this.outbound=new Zn,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new x_({major:0,minor:0,micro:0});const n=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new V_(n,{randomize:!t.noRandomize}),this.closed=Ve(),this.parser=new Jc(this),this.heartbeats=new K_(this,this.options.pingInterval||Xu,this.options.maxPingOut||o_)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const r=le.errorForCode(Z.Disconnect);r.stack="",t.forEach(n=>{n.reject(r)}),this.parser=new Jc(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(r=>{r.push(t)})}status(){const t=new xt;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=Ve();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=r=>{t.reject(r)},this.transport=M_(),this.transport.closed().then(async r=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:Hn.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:nr.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{this.dispatchStatus({type:nr.Reconnect,data:this.servers.getCurrentServer().toString()})}).catch(r=>{this._close(r)}):await this._close(t)}async dial(t){const r=this.prepare();let n;try{n=oi(this.options.timeout||2e4);const s=this.transport.connect(t,this.options);await Promise.race([s,n]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(s){r.reject(s)}try{await Promise.race([n,r]),n&&n.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(s){throw n&&n.cancel(),await this.transport.close(s),s}}async _doDial(t){const r=await t.resolve({fn:lf(),debug:this.options.debug,randomize:!this.options.noRandomize});let n=null;for(const s of r)try{n=null,this.dispatchStatus({type:Hn.Reconnecting,data:s.toString()}),await this.dial(s);return}catch(i){n=i}throw n}async dialLoop(){let t;for(;;){this._closed&&this.servers.clear();const r=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():Ju;let n=r;const s=this.selectServer();if(!s||this.abortReconnect)throw t||(this.lastError?this.lastError:le.errorForCode(Z.ConnectionRefused));const i=Date.now();if(s.lastConnect===0||s.lastConnect+r<=i){s.lastConnect=Date.now();try{await this._doDial(s);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}s.reconnects++;const a=this.options.maxReconnectAttempts||0;a!==-1&&s.reconnects>=a&&this.servers.removeCurrentServer()}}else n=Math.min(n,s.lastConnect+r-i),await Jo(n)}}static async connect(t,r){const n=new $s(t,r);return await n.dialLoop(),n}static toError(t){const r=t?t.toLowerCase():"";if(r.indexOf("permissions violation")!==-1){const n=new le(t,Z.PermissionsViolation),s=t.match(/(Publish|Subscription) to "(\S+)"/);return s&&(n.permissionContext={operation:s[1].toLowerCase(),subject:s[2]}),n}else return r.indexOf("authorization violation")!==-1?new le(t,Z.AuthorizationViolation):r.indexOf("user authentication expired")!==-1?new le(t,Z.AuthenticationExpired):new le(t,Z.ProtocolError)}processMsg(t,r){if(this.inMsgs++,this.inBytes+=r.length,!this.subscriptions.sidCounter)return;const n=this.subscriptions.get(t.sid);n&&(n.received+=1,n.callback&&n.callback(null,new tf(t,r,this)),n.max!==void 0&&n.received>=n.max&&n.unsubscribe())}processError(t){const r=Uc(t),n=$s.toError(r),s={type:nr.Error,data:n.code};if(n.isPermissionError()){let i=!1;if(n.permissionContext){s.permissionContext=n.permissionContext;const o=this.subscriptions.getMux();i=(o==null?void 0:o.subject)===n.permissionContext.subject}this.subscriptions.handleError(n),this.muxSubscriptions.handleError(i,n),i&&this.subscriptions.setMux(null)}this.dispatchStatus(s),this.handleError(n)}handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(eb)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const r=JSON.parse(Uc(t));this.info=r;const n=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(r);if(!this.infoReceived){this.features.update(Mr(r.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const a=new tb({version:i,lang:o},this.options,r.nonce);r.headers&&(a.headers=!0,a.no_responders=!0);const c=JSON.stringify(a);this.transport.send(Pn(`CONNECT ${c}${Ar}`)),this.transport.send(Xc)}catch(a){this._close(a)}}n&&this.dispatchStatus({type:nr.Update,data:n}),(r.ldm!==void 0?r.ldm:!1)&&this.dispatchStatus({type:nr.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case ot.MSG:{const{msg:r,data:n}=t;this.processMsg(r,n);break}case ot.OK:break;case ot.ERR:this.processError(t.data);break;case ot.PING:this.processPing();break;case ot.PONG:this.processPong();break;case ot.INFO:this.processInfo(t.data);break}}sendCommand(t,...r){const n=this.outbound.length();let s;typeof t=="string"?s=Pn(t):s=t,this.outbound.fill(s,...r),n===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,r,n){let s=r.length;n=n||{},n.reply=n.reply||"";let i=at,o=0;if(n.headers){if(this.info&&!this.info.headers)throw new le("headers",Z.ServerOptionNotAvailable);i=n.headers.encode(),o=i.length,s=r.length+o}if(this.info&&s>this.info.max_payload)throw le.errorForCode(Z.MaxPayloadExceeded);this.outBytes+=s,this.outMsgs++;let a;n.headers?(n.reply?a=`HPUB ${t} ${n.reply} ${o} ${s}${Ar}`:a=`HPUB ${t} ${o} ${s}\r
`,this.sendCommand(a,i,r,Rs)):(n.reply?a=`PUB ${t} ${n.reply} ${s}\r
`:a=`PUB ${t} ${s}\r
`,this.sendCommand(a,r,Rs))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,r){this.unsub(t,r),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,r){!t||this.isClosed()||(r?this.sendCommand(`UNSUB ${t.sid} ${r}${Ar}`):this.sendCommand(`UNSUB ${t.sid}${Ar}`),t.max=r)}resub(t,r){!t||this.isClosed()||(t.subject=r,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=Ve()),this.pongs.push(t),this.sendCommand(Xc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(r=>{const n=r;n.queue?t.push(`SUB ${n.subject} ${n.queue} ${n.sid}${Ar}`):t.push(`SUB ${n.subject} ${n.sid}${Ar}`)}),t.length&&this.transport.send(Pn(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(r=>{r.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),r=[];return t.forEach(n=>{r.push(n.drain())}),Promise.all(r).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const r=this.muxSubscriptions.init(this.options.inboxPrefix),n=new hf(this,`${r}*`);n.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(n),this.subscribe(n)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function ir(e){return new rb(e)}class rb{constructor(t){b(this,"config");b(this,"ordered");b(this,"mack");b(this,"stream");b(this,"callbackFn");b(this,"max");b(this,"qname");b(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=b_("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?et.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Qr(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=bt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=bt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=bt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=bt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=bt.Last,this}deliverNew(){return this.config.deliver_policy=bt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=et.None,this}ackAll(){return this.config.ack_policy=et.All,this}ackExplicit(){return this.config.ack_policy=et.Explicit,this}ackWait(t){return this.config.ack_wait=Ge(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=on.Instant,this}replayOriginal(){return this.config.replay_policy=on.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=Ge(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,r){return this.stream=t,this.config.durable_name=r,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=Ge(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=Ge(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function Qc(e){return typeof e.getOpts=="function"}class df{constructor(t,r,n={maxOut:2}){b(this,"interval");b(this,"maxOut");b(this,"cancelAfter");b(this,"timer");b(this,"autoCancelTimer");b(this,"last");b(this,"missed");b(this,"count");b(this,"callback");this.interval=t,this.maxOut=(n==null?void 0:n.maxOut)||2,this.cancelAfter=(n==null?void 0:n.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=r,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,r=0,n=2){this.interval=t,this.maxOut=n,this.cancelAfter=r,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.interval>this.last&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}class Zc{static encode(t){if(typeof t=="string")return btoa(t);const r=Array.from(t);return btoa(String.fromCharCode(...r))}static decode(t,r=!1){const n=atob(t);return r?Uint8Array.from(n,s=>s.charCodeAt(0)):n}}class Us{static encode(t){return Us.toB64URLEncoding(Zc.encode(t))}static decode(t,r=!1){return Zc.decode(Us.fromB64URLEncoding(t),r)}static toB64URLEncoding(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}function el(e){const t=e.length;let r=e.indexOf("=");r===-1&&(r=t);const n=r===t?0:4-r%4;return[r,n]}function nb(e,t,r=!1){function n(o,a){return Math.floor((o+a)*3/4-a)}function s(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function i(o,a,c){const l=new Array((c-a)/3);for(let u=a,f=0;u<c;u+=3)l[f++]=s((o[u]<<16)+(o[u+1]<<8)+o[u+2]);return l.join("")}return{byteLength(o){return n.apply(null,el(o))},toUint8Array(o){const[a,c]=el(o),l=new Uint8Array(n(a,c)),u=c?a-4:a;let f,d=0,_;for(_=0;_<u;_+=4)f=t[o.charCodeAt(_)]<<18|t[o.charCodeAt(_+1)]<<12|t[o.charCodeAt(_+2)]<<6|t[o.charCodeAt(_+3)],l[d++]=f>>16&255,l[d++]=f>>8&255,l[d++]=f&255;return c===2?(f=t[o.charCodeAt(_)]<<2|t[o.charCodeAt(_+1)]>>4,l[d++]=f&255):c===1&&(f=t[o.charCodeAt(_)]<<10|t[o.charCodeAt(_+1)]<<4|t[o.charCodeAt(_+2)]>>2,l[d++]=f>>8&255,l[d++]=f&255),l},fromUint8Array(o){const c=o.length,l=c%3,u=c-l,f=new Array(Math.ceil(u/16383)+(l?1:0));let d=0,_;for(let A=0;A<u;A+=16383)_=A+16383,f[d++]=i(o,A,_>u?u:_);let E;return l===1?(E=o[u],f[d]=e[E>>2]+e[E<<4&63],r||(f[d]+="==")):l===2&&(E=o[u]<<8|o[u+1]&255,f[d]=e[E>>10]+e[E>>4&63]+e[E<<2&63],r||(f[d]+="=")),f.join("")}}}const mf=[],pf=[],Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=Li.length;e<t;++e)mf[e]=Li[e],pf[Li.charCodeAt(e)]=e;const{byteLength:hy,toUint8Array:sb,fromUint8Array:ib}=nb(mf,pf,!0),ob=new TextDecoder,ab=new TextEncoder;function cb(e){return e.reduce((t,r)=>`${t}${r<16?"0":""}${r.toString(16)}`,"")}function lb(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const r=new Uint8Array(Math.floor(t/2)),n=t/2;for(let s=0;s<n;++s)r[s]=parseInt(e.substr(s*2,2),16);return r}function ub(e,t="utf8"){if(/^utf-?8$/i.test(t))return ob.decode(e);if(/^base64$/i.test(t))return ib(e);if(/^hex(?:adecimal)?$/i.test(t))return cb(e);throw new TypeError("Unsupported string encoding.")}function fb(e,t="utf8"){if(/^utf-?8$/i.test(t))return ab.encode(e);if(/^base64$/i.test(t))return sb(e);if(/^hex(?:adecimal)?$/i.test(t))return lb(e);throw new TypeError("Unsupported string encoding.")}class tl{constructor(){b(this,"hashSize",32);b(this,"_buf");b(this,"_bufIdx");b(this,"_count");b(this,"_K");b(this,"_H");b(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,r){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=fb(t,r));for(let s=0,i=t.length;s<i;s++)this._buf[this._bufIdx++]=t[s],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const n=this._count;return(n[0]+=t.length<<3)<t.length<<3&&n[1]++,n[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const r=this._buf;let n=this._bufIdx;for(r[n++]=128;n!==56;)n===64&&(this._transform(),n=0),r[n++]=0;const s=this._count;r[56]=s[1]>>>24&255,r[57]=s[1]>>>16&255,r[58]=s[1]>>>8&255,r[59]=s[1]>>>0&255,r[60]=s[0]>>>24&255,r[61]=s[0]>>>16&255,r[62]=s[0]>>>8&255,r[63]=s[0]>>>0&255,this._transform();const i=new Uint8Array(32);for(let o=0;o<8;o++)i[(o<<2)+0]=this._H[o]>>>24&255,i[(o<<2)+1]=this._H[o]>>>16&255,i[(o<<2)+2]=this._H[o]>>>8&255,i[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?ub(i,t):i}_transform(){const t=this._H;let r=t[0],n=t[1],s=t[2],i=t[3],o=t[4],a=t[5],c=t[6],l=t[7];const u=new Uint32Array(16);let f;for(f=0;f<16;f++)u[f]=this._buf[(f<<2)+3]|this._buf[(f<<2)+2]<<8|this._buf[(f<<2)+1]<<16|this._buf[f<<2]<<24;for(f=0;f<64;f++){let d;if(f<16)d=u[f];else{let _=u[f+1&15],E=u[f+14&15];d=u[f&15]=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+u[f&15]+u[f+9&15]|0}d=d+l+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(a^c))+this._K[f]|0,l=c,c=a,a=o,o=i+d,i=s,s=n,n=r,r=d+(n&s^i&(n^s))+(n>>>2^n>>>13^n>>>22^n<<30^n<<19^n<<10)|0}t[0]=t[0]+r|0,t[1]=t[1]+n|0,t[2]=t[2]+s|0,t[3]=t[3]+i|0,t[4]=t[4]+o|0,t[5]=t[5]+a|0,t[6]=t[6]+c|0,t[7]=t[7]+l|0}}class hb extends es{constructor(t,r){super(t,r)}async getMessage(t,r){dt(t);let n=r;const{last_by_subj:s}=n;s&&(n=null);const i=n?this.jc.encode(n):at,o=this.opts.apiPrefix||"$JS.API",a=s?`${o}.DIRECT.GET.${t}.${s}`:`${o}.DIRECT.GET.${t}`,c=await this.nc.request(a,i),l=Zr(c);if(l)return Promise.reject(l);const u=new db(c);return Promise.resolve(u)}}class db{constructor(t){b(this,"data");b(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(Kr.Subject)}get seq(){const t=this.header.get(Kr.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(Kr.TimeStamp)))}get stream(){return this.header.get(Kr.Stream)}}(function(e){var t=function(h,p){this.hi=h|0,this.lo=p|0},r=function(h){var p,m=new Float64Array(16);if(h)for(p=0;p<h.length;p++)m[p]=h[p];return m},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=r(),a=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(h,p){return h<<p|h>>>32-p}function A(h,p){var m=h[p+3]&255;return m=m<<8|h[p+2]&255,m=m<<8|h[p+1]&255,m<<8|h[p+0]&255}function H(h,p){var m=h[p]<<24|h[p+1]<<16|h[p+2]<<8|h[p+3],y=h[p+4]<<24|h[p+5]<<16|h[p+6]<<8|h[p+7];return new t(m,y)}function T(h,p,m){var y;for(y=0;y<4;y++)h[p+y]=m&255,m>>>=8}function L(h,p,m){h[p]=m.hi>>24&255,h[p+1]=m.hi>>16&255,h[p+2]=m.hi>>8&255,h[p+3]=m.hi&255,h[p+4]=m.lo>>24&255,h[p+5]=m.lo>>16&255,h[p+6]=m.lo>>8&255,h[p+7]=m.lo&255}function q(h,p,m,y,x){var v,j=0;for(v=0;v<x;v++)j|=h[p+v]^m[y+v];return(1&j-1>>>8)-1}function z(h,p,m,y){return q(h,p,m,y,16)}function D(h,p,m,y){return q(h,p,m,y,32)}function ue(h,p,m,y,x){var v=new Uint32Array(16),j=new Uint32Array(16),B=new Uint32Array(16),P=new Uint32Array(4),F,oe,Se;for(F=0;F<4;F++)j[5*F]=A(y,4*F),j[1+F]=A(m,4*F),j[6+F]=A(p,4*F),j[11+F]=A(m,16+4*F);for(F=0;F<16;F++)B[F]=j[F];for(F=0;F<20;F++){for(oe=0;oe<4;oe++){for(Se=0;Se<4;Se++)P[Se]=j[(5*oe+4*Se)%16];for(P[1]^=E(P[0]+P[3]|0,7),P[2]^=E(P[1]+P[0]|0,9),P[3]^=E(P[2]+P[1]|0,13),P[0]^=E(P[3]+P[2]|0,18),Se=0;Se<4;Se++)v[4*oe+(oe+Se)%4]=P[Se]}for(Se=0;Se<16;Se++)j[Se]=v[Se]}if(x){for(F=0;F<16;F++)j[F]=j[F]+B[F]|0;for(F=0;F<4;F++)j[5*F]=j[5*F]-A(y,4*F)|0,j[6+F]=j[6+F]-A(p,4*F)|0;for(F=0;F<4;F++)T(h,4*F,j[5*F]),T(h,16+4*F,j[6+F])}else for(F=0;F<16;F++)T(h,4*F,j[F]+B[F]|0)}function re(h,p,m,y){return ue(h,p,m,y,!1),0}function ne(h,p,m,y){return ue(h,p,m,y,!0),0}var ge=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function we(h,p,m,y,x,v,j){var B=new Uint8Array(16),P=new Uint8Array(64),F,oe;if(!x)return 0;for(oe=0;oe<16;oe++)B[oe]=0;for(oe=0;oe<8;oe++)B[oe]=v[oe];for(;x>=64;){for(re(P,B,j,ge),oe=0;oe<64;oe++)h[p+oe]=(m?m[y+oe]:0)^P[oe];for(F=1,oe=8;oe<16;oe++)F=F+(B[oe]&255)|0,B[oe]=F&255,F>>>=8;x-=64,p+=64,m&&(y+=64)}if(x>0)for(re(P,B,j,ge),oe=0;oe<x;oe++)h[p+oe]=(m?m[y+oe]:0)^P[oe];return 0}function Oe(h,p,m,y,x){return we(h,p,null,0,m,y,x)}function Me(h,p,m,y,x){var v=new Uint8Array(32);return ne(v,y,x,ge),Oe(h,p,m,y.subarray(16),v)}function Be(h,p,m,y,x,v,j){var B=new Uint8Array(32);return ne(B,v,j,ge),we(h,p,m,y,x,v.subarray(16),B)}function k(h,p){var m,y=0;for(m=0;m<17;m++)y=y+(h[m]+p[m]|0)|0,h[m]=y&255,y>>>=8}var C=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function fe(h,p,m,y,x,v){var j,B,P,F,oe=new Uint32Array(17),Se=new Uint32Array(17),qe=new Uint32Array(17),Rt=new Uint32Array(17),Br=new Uint32Array(17);for(P=0;P<17;P++)Se[P]=qe[P]=0;for(P=0;P<16;P++)Se[P]=v[P];for(Se[3]&=15,Se[4]&=252,Se[7]&=15,Se[8]&=252,Se[11]&=15,Se[12]&=252,Se[15]&=15;x>0;){for(P=0;P<17;P++)Rt[P]=0;for(P=0;P<16&&P<x;++P)Rt[P]=m[y+P];for(Rt[P]=1,y+=P,x-=P,k(qe,Rt),B=0;B<17;B++)for(oe[B]=0,P=0;P<17;P++)oe[B]=oe[B]+qe[P]*(P<=B?Se[B-P]:320*Se[B+17-P]|0)|0|0;for(B=0;B<17;B++)qe[B]=oe[B];for(F=0,P=0;P<16;P++)F=F+qe[P]|0,qe[P]=F&255,F>>>=8;for(F=F+qe[16]|0,qe[16]=F&3,F=5*(F>>>2)|0,P=0;P<16;P++)F=F+qe[P]|0,qe[P]=F&255,F>>>=8;F=F+qe[16]|0,qe[16]=F}for(P=0;P<17;P++)Br[P]=qe[P];for(k(qe,C),j=-(qe[16]>>>7)|0,P=0;P<17;P++)qe[P]^=j&(Br[P]^qe[P]);for(P=0;P<16;P++)Rt[P]=v[P+16];for(Rt[16]=0,k(qe,Rt),P=0;P<16;P++)h[p+P]=qe[P];return 0}function se(h,p,m,y,x,v){var j=new Uint8Array(16);return fe(j,0,m,y,x,v),z(h,p,j,0)}function ce(h,p,m,y,x){var v;if(m<32)return-1;for(Be(h,0,p,0,m,y,x),fe(h,16,h,32,m-32,h),v=0;v<16;v++)h[v]=0;return 0}function be(h,p,m,y,x){var v,j=new Uint8Array(32);if(m<32||(Me(j,0,32,y,x),se(p,16,p,32,m-32,j)!==0))return-1;for(Be(h,0,p,0,m,y,x),v=0;v<32;v++)h[v]=0;return 0}function he(h,p){var m;for(m=0;m<16;m++)h[m]=p[m]|0}function de(h){var p,m;for(m=0;m<16;m++)h[m]+=65536,p=Math.floor(h[m]/65536),h[(m+1)*(m<15?1:0)]+=p-1+37*(p-1)*(m===15?1:0),h[m]-=p*65536}function _e(h,p,m){for(var y,x=~(m-1),v=0;v<16;v++)y=x&(h[v]^p[v]),h[v]^=y,p[v]^=y}function $e(h,p){var m,y,x,v=r(),j=r();for(m=0;m<16;m++)j[m]=p[m];for(de(j),de(j),de(j),y=0;y<2;y++){for(v[0]=j[0]-65517,m=1;m<15;m++)v[m]=j[m]-65535-(v[m-1]>>16&1),v[m-1]&=65535;v[15]=j[15]-32767-(v[14]>>16&1),x=v[15]>>16&1,v[14]&=65535,_e(j,v,1-x)}for(m=0;m<16;m++)h[2*m]=j[m]&255,h[2*m+1]=j[m]>>8}function Ae(h,p){var m=new Uint8Array(32),y=new Uint8Array(32);return $e(m,h),$e(y,p),D(m,0,y,0)}function N(h){var p=new Uint8Array(32);return $e(p,h),p[0]&1}function K(h,p){var m;for(m=0;m<16;m++)h[m]=p[2*m]+(p[2*m+1]<<8);h[15]&=32767}function $(h,p,m){var y;for(y=0;y<16;y++)h[y]=p[y]+m[y]|0}function te(h,p,m){var y;for(y=0;y<16;y++)h[y]=p[y]-m[y]|0}function ee(h,p,m){var y,x,v=new Float64Array(31);for(y=0;y<31;y++)v[y]=0;for(y=0;y<16;y++)for(x=0;x<16;x++)v[y+x]+=p[y]*m[x];for(y=0;y<15;y++)v[y]+=38*v[y+16];for(y=0;y<16;y++)h[y]=v[y];de(h),de(h)}function ye(h,p){ee(h,p,p)}function me(h,p){var m=r(),y;for(y=0;y<16;y++)m[y]=p[y];for(y=253;y>=0;y--)ye(m,m),y!==2&&y!==4&&ee(m,m,p);for(y=0;y<16;y++)h[y]=m[y]}function g(h,p){var m=r(),y;for(y=0;y<16;y++)m[y]=p[y];for(y=250;y>=0;y--)ye(m,m),y!==1&&ee(m,m,p);for(y=0;y<16;y++)h[y]=m[y]}function w(h,p,m){var y=new Uint8Array(32),x=new Float64Array(80),v,j,B=r(),P=r(),F=r(),oe=r(),Se=r(),qe=r();for(j=0;j<31;j++)y[j]=p[j];for(y[31]=p[31]&127|64,y[0]&=248,K(x,m),j=0;j<16;j++)P[j]=x[j],oe[j]=B[j]=F[j]=0;for(B[0]=oe[0]=1,j=254;j>=0;--j)v=y[j>>>3]>>>(j&7)&1,_e(B,P,v),_e(F,oe,v),$(Se,B,F),te(B,B,F),$(F,P,oe),te(P,P,oe),ye(oe,Se),ye(qe,B),ee(B,F,B),ee(F,P,Se),$(Se,B,F),te(B,B,F),ye(P,B),te(F,oe,qe),ee(B,F,c),$(B,B,oe),ee(F,F,B),ee(B,oe,qe),ee(oe,P,x),ye(P,Se),_e(B,P,v),_e(F,oe,v);for(j=0;j<16;j++)x[j+16]=B[j],x[j+32]=F[j],x[j+48]=P[j],x[j+64]=oe[j];var Rt=x.subarray(32),Br=x.subarray(16);return me(Rt,Rt),ee(Br,Br,Rt),$e(h,Br),0}function I(h,p){return w(h,p,i)}function R(h,p){return n(p,32),I(h,p)}function U(h,p,m){var y=new Uint8Array(32);return w(y,m,p),ne(h,s,y,ge)}var V=ce,J=be;function W(h,p,m,y,x,v){var j=new Uint8Array(32);return U(j,x,v),V(h,p,m,y,j)}function G(h,p,m,y,x,v){var j=new Uint8Array(32);return U(j,x,v),J(h,p,m,y,j)}function M(){var h=0,p=0,m=0,y=0,x=65535,v,j,B;for(B=0;B<arguments.length;B++)v=arguments[B].lo,j=arguments[B].hi,h+=v&x,p+=v>>>16,m+=j&x,y+=j>>>16;return p+=h>>>16,m+=p>>>16,y+=m>>>16,new t(m&x|y<<16,h&x|p<<16)}function S(h,p){return new t(h.hi>>>p,h.lo>>>p|h.hi<<32-p)}function O(){var h=0,p=0,m;for(m=0;m<arguments.length;m++)h^=arguments[m].lo,p^=arguments[m].hi;return new t(p,h)}function Y(h,p){var m,y,x=32-p;return p<32?(m=h.hi>>>p|h.lo<<x,y=h.lo>>>p|h.hi<<x):p<64&&(m=h.lo>>>p|h.hi<<x,y=h.hi>>>p|h.lo<<x),new t(m,y)}function ie(h,p,m){var y=h.hi&p.hi^~h.hi&m.hi,x=h.lo&p.lo^~h.lo&m.lo;return new t(y,x)}function xe(h,p,m){var y=h.hi&p.hi^h.hi&m.hi^p.hi&m.hi,x=h.lo&p.lo^h.lo&m.lo^p.lo&m.lo;return new t(y,x)}function Pe(h){return O(Y(h,28),Y(h,34),Y(h,39))}function Ee(h){return O(Y(h,14),Y(h,18),Y(h,41))}function Ue(h){return O(Y(h,1),Y(h,8),S(h,7))}function ut(h){return O(Y(h,19),Y(h,61),S(h,6))}var lr=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function un(h,p,m){var y=[],x=[],v=[],j=[],B,P,F;for(P=0;P<8;P++)y[P]=v[P]=H(h,8*P);for(var oe=0;m>=128;){for(P=0;P<16;P++)j[P]=H(p,8*P+oe);for(P=0;P<80;P++){for(F=0;F<8;F++)x[F]=v[F];for(B=M(v[7],Ee(v[4]),ie(v[4],v[5],v[6]),lr[P],j[P%16]),x[7]=M(B,Pe(v[0]),xe(v[0],v[1],v[2])),x[3]=M(x[3],B),F=0;F<8;F++)v[(F+1)%8]=x[F];if(P%16===15)for(F=0;F<16;F++)j[F]=M(j[F],j[(F+9)%16],Ue(j[(F+1)%16]),ut(j[(F+14)%16]))}for(P=0;P<8;P++)v[P]=M(v[P],y[P]),y[P]=v[P];oe+=128,m-=128}for(P=0;P<8;P++)L(h,8*P,y[P]);return m}var xr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function qt(h,p,m){var y=new Uint8Array(64),x=new Uint8Array(256),v,j=m;for(v=0;v<64;v++)y[v]=xr[v];for(un(y,p,m),m%=128,v=0;v<256;v++)x[v]=0;for(v=0;v<m;v++)x[v]=p[j-m+v];for(x[m]=128,m=256-128*(m<112?1:0),x[m-9]=0,L(x,m-8,new t(j/536870912|0,j<<3)),un(y,x,m),v=0;v<64;v++)h[v]=y[v];return 0}function Je(h,p){var m=r(),y=r(),x=r(),v=r(),j=r(),B=r(),P=r(),F=r(),oe=r();te(m,h[1],h[0]),te(oe,p[1],p[0]),ee(m,m,oe),$(y,h[0],h[1]),$(oe,p[0],p[1]),ee(y,y,oe),ee(x,h[3],p[3]),ee(x,x,u),ee(v,h[2],p[2]),$(v,v,v),te(j,y,m),te(B,v,x),$(P,v,x),$(F,y,m),ee(h[0],j,B),ee(h[1],F,P),ee(h[2],P,B),ee(h[3],j,F)}function mt(h,p,m){var y;for(y=0;y<4;y++)_e(h[y],p[y],m)}function $r(h,p){var m=r(),y=r(),x=r();me(x,p[2]),ee(m,p[0],x),ee(y,p[1],x),$e(h,y),h[31]^=N(m)<<7}function li(h,p,m){var y,x;for(he(h[0],o),he(h[1],a),he(h[2],a),he(h[3],o),x=255;x>=0;--x)y=m[x/8|0]>>(x&7)&1,mt(h,p,y),Je(p,h),Je(h,h),mt(h,p,y)}function ts(h,p){var m=[r(),r(),r(),r()];he(m[0],f),he(m[1],d),he(m[2],a),ee(m[3],f,d),li(h,m,p)}function ui(h,p,m){var y=new Uint8Array(64),x=[r(),r(),r(),r()],v;for(m||n(p,32),qt(y,p,32),y[0]&=248,y[31]&=127,y[31]|=64,ts(x,y),$r(h,x),v=0;v<32;v++)p[v+32]=h[v];return 0}var rs=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fi(h,p){var m,y,x,v;for(y=63;y>=32;--y){for(m=0,x=y-32,v=y-12;x<v;++x)p[x]+=m-16*p[y]*rs[x-(y-32)],m=Math.floor((p[x]+128)/256),p[x]-=m*256;p[x]+=m,p[y]=0}for(m=0,x=0;x<32;x++)p[x]+=m-(p[31]>>4)*rs[x],m=p[x]>>8,p[x]&=255;for(x=0;x<32;x++)p[x]-=m*rs[x];for(y=0;y<32;y++)p[y+1]+=p[y]>>8,h[y]=p[y]&255}function hi(h){var p=new Float64Array(64),m;for(m=0;m<64;m++)p[m]=h[m];for(m=0;m<64;m++)h[m]=0;fi(h,p)}function ra(h,p,m,y){var x=new Uint8Array(64),v=new Uint8Array(64),j=new Uint8Array(64),B,P,F=new Float64Array(64),oe=[r(),r(),r(),r()];qt(x,y,32),x[0]&=248,x[31]&=127,x[31]|=64;var Se=m+64;for(B=0;B<m;B++)h[64+B]=p[B];for(B=0;B<32;B++)h[32+B]=x[32+B];for(qt(j,h.subarray(32),m+32),hi(j),ts(oe,j),$r(h,oe),B=32;B<64;B++)h[B]=y[B];for(qt(v,h,m+64),hi(v),B=0;B<64;B++)F[B]=0;for(B=0;B<32;B++)F[B]=j[B];for(B=0;B<32;B++)for(P=0;P<32;P++)F[B+P]+=v[B]*x[P];return fi(h.subarray(32),F),Se}function xf(h,p){var m=r(),y=r(),x=r(),v=r(),j=r(),B=r(),P=r();return he(h[2],a),K(h[1],p),ye(x,h[1]),ee(v,x,l),te(x,x,h[2]),$(v,h[2],v),ye(j,v),ye(B,j),ee(P,B,j),ee(m,P,x),ee(m,m,v),g(m,m),ee(m,m,x),ee(m,m,v),ee(m,m,v),ee(h[0],m,v),ye(y,h[0]),ee(y,y,v),Ae(y,x)&&ee(h[0],h[0],_),ye(y,h[0]),ee(y,y,v),Ae(y,x)?-1:(N(h[0])===p[31]>>7&&te(h[0],o,h[0]),ee(h[3],h[0],h[1]),0)}function di(h,p,m,y){var x,v=new Uint8Array(32),j=new Uint8Array(64),B=[r(),r(),r(),r()],P=[r(),r(),r(),r()];if(m<64||xf(P,y))return-1;for(x=0;x<m;x++)h[x]=p[x];for(x=0;x<32;x++)h[x+32]=y[x];if(qt(j,h,m),hi(j),li(B,P,j),ts(P,p.subarray(32)),Je(B,P),$r(v,B),m-=64,D(p,0,v,0)){for(x=0;x<m;x++)h[x]=0;return-1}for(x=0;x<m;x++)h[x]=p[x+64];return m}var mi=32,ns=24,fn=32,Ur=16,hn=32,ss=32,dn=32,mn=32,pi=32,na=ns,vf=fn,Ef=Ur,er=64,vr=32,Dr=64,gi=32,_i=64;e.lowlevel={crypto_core_hsalsa20:ne,crypto_stream_xor:Be,crypto_stream:Me,crypto_stream_salsa20_xor:we,crypto_stream_salsa20:Oe,crypto_onetimeauth:fe,crypto_onetimeauth_verify:se,crypto_verify_16:z,crypto_verify_32:D,crypto_secretbox:ce,crypto_secretbox_open:be,crypto_scalarmult:w,crypto_scalarmult_base:I,crypto_box_beforenm:U,crypto_box_afternm:V,crypto_box:W,crypto_box_open:G,crypto_box_keypair:R,crypto_hash:qt,crypto_sign:ra,crypto_sign_keypair:ui,crypto_sign_open:di,crypto_secretbox_KEYBYTES:mi,crypto_secretbox_NONCEBYTES:ns,crypto_secretbox_ZEROBYTES:fn,crypto_secretbox_BOXZEROBYTES:Ur,crypto_scalarmult_BYTES:hn,crypto_scalarmult_SCALARBYTES:ss,crypto_box_PUBLICKEYBYTES:dn,crypto_box_SECRETKEYBYTES:mn,crypto_box_BEFORENMBYTES:pi,crypto_box_NONCEBYTES:na,crypto_box_ZEROBYTES:vf,crypto_box_BOXZEROBYTES:Ef,crypto_sign_BYTES:er,crypto_sign_PUBLICKEYBYTES:vr,crypto_sign_SECRETKEYBYTES:Dr,crypto_sign_SEEDBYTES:gi,crypto_hash_BYTES:_i,gf:r,D:l,L:rs,pack25519:$e,unpack25519:K,M:ee,A:$,S:ye,Z:te,pow2523:g,add:Je,set25519:he,modL:fi,scalarmult:li,scalarbase:ts};function sa(h,p){if(h.length!==mi)throw new Error("bad key size");if(p.length!==ns)throw new Error("bad nonce size")}function Sf(h,p){if(h.length!==dn)throw new Error("bad public key size");if(p.length!==mn)throw new Error("bad secret key size")}function pt(){for(var h=0;h<arguments.length;h++)if(!(arguments[h]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ia(h){for(var p=0;p<h.length;p++)h[p]=0}e.randomBytes=function(h){var p=new Uint8Array(h);return n(p,h),p},e.secretbox=function(h,p,m){pt(h,p,m),sa(m,p);for(var y=new Uint8Array(fn+h.length),x=new Uint8Array(y.length),v=0;v<h.length;v++)y[v+fn]=h[v];return ce(x,y,y.length,p,m),x.subarray(Ur)},e.secretbox.open=function(h,p,m){pt(h,p,m),sa(m,p);for(var y=new Uint8Array(Ur+h.length),x=new Uint8Array(y.length),v=0;v<h.length;v++)y[v+Ur]=h[v];return y.length<32||be(x,y,y.length,p,m)!==0?null:x.subarray(fn)},e.secretbox.keyLength=mi,e.secretbox.nonceLength=ns,e.secretbox.overheadLength=Ur,e.scalarMult=function(h,p){if(pt(h,p),h.length!==ss)throw new Error("bad n size");if(p.length!==hn)throw new Error("bad p size");var m=new Uint8Array(hn);return w(m,h,p),m},e.scalarMult.base=function(h){if(pt(h),h.length!==ss)throw new Error("bad n size");var p=new Uint8Array(hn);return I(p,h),p},e.scalarMult.scalarLength=ss,e.scalarMult.groupElementLength=hn,e.box=function(h,p,m,y){var x=e.box.before(m,y);return e.secretbox(h,p,x)},e.box.before=function(h,p){pt(h,p),Sf(h,p);var m=new Uint8Array(pi);return U(m,h,p),m},e.box.after=e.secretbox,e.box.open=function(h,p,m,y){var x=e.box.before(m,y);return e.secretbox.open(h,p,x)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var h=new Uint8Array(dn),p=new Uint8Array(mn);return R(h,p),{publicKey:h,secretKey:p}},e.box.keyPair.fromSecretKey=function(h){if(pt(h),h.length!==mn)throw new Error("bad secret key size");var p=new Uint8Array(dn);return I(p,h),{publicKey:p,secretKey:new Uint8Array(h)}},e.box.publicKeyLength=dn,e.box.secretKeyLength=mn,e.box.sharedKeyLength=pi,e.box.nonceLength=na,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(h,p){if(pt(h,p),p.length!==Dr)throw new Error("bad secret key size");var m=new Uint8Array(er+h.length);return ra(m,h,h.length,p),m},e.sign.open=function(h,p){if(pt(h,p),p.length!==vr)throw new Error("bad public key size");var m=new Uint8Array(h.length),y=di(m,h,h.length,p);if(y<0)return null;for(var x=new Uint8Array(y),v=0;v<x.length;v++)x[v]=m[v];return x},e.sign.detached=function(h,p){for(var m=e.sign(h,p),y=new Uint8Array(er),x=0;x<y.length;x++)y[x]=m[x];return y},e.sign.detached.verify=function(h,p,m){if(pt(h,p,m),p.length!==er)throw new Error("bad signature size");if(m.length!==vr)throw new Error("bad public key size");var y=new Uint8Array(er+h.length),x=new Uint8Array(er+h.length),v;for(v=0;v<er;v++)y[v]=p[v];for(v=0;v<h.length;v++)y[v+er]=h[v];return di(x,y,y.length,m)>=0},e.sign.keyPair=function(){var h=new Uint8Array(vr),p=new Uint8Array(Dr);return ui(h,p),{publicKey:h,secretKey:p}},e.sign.keyPair.fromSecretKey=function(h){if(pt(h),h.length!==Dr)throw new Error("bad secret key size");for(var p=new Uint8Array(vr),m=0;m<p.length;m++)p[m]=h[32+m];return{publicKey:p,secretKey:new Uint8Array(h)}},e.sign.keyPair.fromSeed=function(h){if(pt(h),h.length!==gi)throw new Error("bad seed size");for(var p=new Uint8Array(vr),m=new Uint8Array(Dr),y=0;y<32;y++)m[y]=h[y];return ui(p,m,!0),{publicKey:p,secretKey:m}},e.sign.publicKeyLength=vr,e.sign.secretKeyLength=Dr,e.sign.seedLength=gi,e.sign.signatureLength=er,e.hash=function(h){pt(h);var p=new Uint8Array(_i);return qt(p,h,h.length),p},e.hash.hashLength=_i,e.verify=function(h,p){return pt(h,p),h.length===0||p.length===0||h.length!==p.length?!1:q(h,0,p,0,h.length)===0},e.setPRNG=function(h){n=h},function(){var h=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(h&&h.getRandomValues){var p=65536;e.setPRNG(function(m,y){var x,v=new Uint8Array(y);for(x=0;x<y;x+=p)h.getRandomValues(v.subarray(x,x+Math.min(y-x,p)));for(x=0;x<y;x++)m[x]=v[x];ia(v)})}else typeof require<"u"&&(h=require("crypto"),h&&h.randomBytes&&e.setPRNG(function(m,y){var x,v=h.randomBytes(y);for(x=0;x<y;x++)m[x]=v[x];ia(v)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const ms=typeof module<"u"&&module.exports?module.exports:globalThis.nacl;ms.sign.keyPair.fromSeed,ms.sign.detached,ms.sign.detached.verify,ms.randomBytes;var rl;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(rl||(rl={}));var nl;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(nl||(nl={}));function mb(e){return e.authenticator?e.authenticator:e.token?_b(e.token):e.user?gb(e.user,e.pass):pb()}function pb(){return()=>{}}function gb(e,t){return()=>{const r=typeof e=="function"?e():e,n=typeof t=="function"?t():t;return{user:r,pass:n}}}function _b(e){return()=>({auth_token:typeof e=="function"?e():e})}function bb(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:Xu,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:Ju,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function yb(e){const t=`${fo}:${cf()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new le("port and servers options are mutually exclusive",Z.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${fo}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const r=ii(bb(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw le.errorForCode(Z.BadAuthentication);if(r.authenticator=mb(r),["reconnectDelayHandler","authenticator"].forEach(n=>{if(r[n]&&typeof r[n]!="function")throw new le(`${n} option should be a function`,Z.NotFunction)}),r.reconnectDelayHandler||(r.reconnectDelayHandler=()=>{let n=r.tls?r.reconnectJitterTLS:r.reconnectJitter;return n&&(n++,n=Math.floor(Math.random()*n)),r.reconnectTimeWait+n}),r.inboxPrefix)try{sr(r.inboxPrefix)}catch(n){throw new le(n.message,Z.ApiError)}if(r.resolve&&typeof lf()!="function")throw new le("'resolve' is not supported on this client",Z.InvalidOption);return r}function gf(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function wb(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:gf(),storage:mo.File}}const ps="KV-Operation",Pt="KV_",sl="$KV",xb=/^[-/=.\w]+$/,vb=/^[-/=.>*\w]+$/,Eb=/^[-\w]+$/;function _f(e){if(e.startsWith(".")||e.endsWith(".")||!xb.test(e))throw new Error(`invalid key: ${e}`)}function Sb(e){if(e.startsWith(".")||e.endsWith(".")||!vb.test(e))throw new Error(`invalid key: ${e}`)}function Ob(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let r=!1;for(let n=0;n<t.length;n++)switch(t[n]){case"*":r=!0;break;case">":if(n!==t.length-1)throw new Error(`invalid key: ${e}`);r=!0;break}return r}function xs(e){if(!Eb.test(e))throw new Error(`invalid bucket name: ${e}`)}class Vn{constructor(t,r,n){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"bucket");b(this,"direct");b(this,"codec");b(this,"prefix");b(this,"editPrefix");b(this,"useJsPrefix");b(this,"_prefixLen");b(this,"validateKey",_f);b(this,"validateSearchKey",Sb);b(this,"hasWildcards",Ob);xs(t),this.jsm=r,this.js=n,this.bucket=t,this.prefix=sl,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,r,n={}){const s=t,{ok:i,min:o}=s.nc.features.get(yt.JS_KV);if(!i)return Promise.reject(new Error(`kv is only supported on servers ${o} or better`));xs(r);const a=n.timeout||2e3;let c=s.opts||{};c=Object.assign(c,{timeout:a});const l=await s.nc.jetstreamManager(c),u=new Vn(r,l,t);return await u.init(n),u}static async bind(t,r,n={}){const i=await t.nc.jetstreamManager(),o=await i.streams.info(`${Pt}${r}`);xs(o.config.name);const a=new Vn(r,i,t);return Object.assign(a,o),a.codec=n.codec||gf(),a.direct=o.config.allow_direct??!1,a.initializePrefixes(o),a}async init(t={}){const r=Object.assign(wb(),t);this.codec=r.codec;const n={};this.stream=n.name=t.streamName??this.bucketName(),n.retention=ho.Limits,n.max_msgs_per_subject=r.history,r.maxBucketSize&&(r.max_bytes=r.maxBucketSize),r.max_bytes&&(n.max_bytes=r.max_bytes),n.max_msg_size=r.maxValueSize,n.storage=r.storage;const s=t.placementCluster??"";if(s&&(t.placement={},t.placement.cluster=s,t.placement.tags=[]),t.placement&&(n.placement=t.placement),t.republish&&(n.republish=t.republish),t.description&&(n.description=t.description),t.mirror){const f=Object.assign({},t.mirror);f.name.startsWith(Pt)||(f.name=`${Pt}${f.name}`),n.mirror=f,n.mirror_direct=!0}else if(t.sources){const f=t.sources.map(d=>{const _=Object.assign({},d);_.name.startsWith(Pt)||(_.name=`${Pt}${_.name}`)});n.sources=f}else n.subjects=[this.subjectForBucket()];const i=this.js.nc,o=i.getServerVersion(),a=o?go(o,Mr("2.7.2"))>=0:!1;n.discard=a?Wn.New:Wn.Old;const{ok:c,min:l}=i.features.get(yt.JS_ALLOW_DIRECT);if(!c&&t.allow_direct===!0){const f=o?`${o.major}.${o.minor}.${o.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${f} - requires ${l}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:c,n.allow_direct=t.allow_direct,this.direct=n.allow_direct,n.num_replicas=r.replicas,r.ttl&&(n.max_age=Ge(r.ttl)),n.allow_rollup_hdrs=!0;let u;try{u=await this.jsm.streams.info(n.name),!u.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(f){if(f.message==="stream not found")u=await this.jsm.streams.add(n);else throw f}this.initializePrefixes(u)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.opts.apiPrefix!=="$JS.API";const{mirror:r}=t.config;if(r){let n=r.name;if(n.startsWith(Pt)&&(n=n.substring(Pt.length)),r.external&&r.external.api!==""){const s=r.name.substring(Pt.length);this.useJsPrefix=!1,this.prefix=`$KV.${s}`,this.editPrefix=`${r.external.api}.$KV.${n}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${Pt}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,r=!1){const n=[];return r?(this.useJsPrefix&&n.push(this.js.apiPrefix),this.editPrefix!==""?n.push(this.editPrefix):n.push(this.prefix)):this.prefix&&n.push(this.prefix),n.push(t),n.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${sl}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.encode(n));break}return r.join(".")}decodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.decode(n));break}return r.join(".")}close(){return Promise.resolve()}dataLen(t,r){const n=r&&r.get(Ut.MessageSizeHdr)||"";return n!==""?parseInt(n,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(ps)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var n;const r=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:r,value:t.data,created:new Date(Xo(t.info.timestampNanos)),revision:t.seq,operation:((n=t.headers)==null?void 0:n.get(ps))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,r){return this.put(t,r,{previousSeq:0})}update(t,r,n){if(n<=0)throw new Error("version must be greater than 0");return this.put(t,r,{previousSeq:n})}async put(t,r,n={}){var o,a;const s=this.encodeKey(t);this.validateKey(s);const i={};if(n.previousSeq!==void 0){const c=ar();i.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${n.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(s,!0),r,i)).seq}catch(c){const l=c;return l.isJetStreamError()?(l.message=(o=l.api_error)==null?void 0:o.description,l.code=`${(a=l.api_error)==null?void 0:a.code}`,Promise.reject(l)):Promise.reject(c)}}async get(t,r){const n=this.encodeKey(t);this.validateKey(n);let s={last_by_subj:this.subjectForKey(n)};r&&r.revision>0&&(s={seq:r.revision});let i;try{this.direct?i=await this.jsm.direct.getMessage(this.bucketName(),s):i=await this.jsm.streams.getMessage(this.bucketName(),s);const o=this.smToEntry(i);return o.key!==n?null:o}catch(o){if(o.code===Z.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const r=Ve(),n=[],s=await this.watch({key:">",initializedFn:()=>{r.resolve()}});(async()=>{for await(const c of s)(c.operation==="DEL"||c.operation==="PURGE")&&n.push(c)})().then(),await r,s.stop();const i=Date.now()-t,o=n.map(c=>{const l=this.subjectForKey(c.key);return c.created.getTime()>=i?this.jsm.streams.purge(this.stream,{filter:l,keep:1}):this.jsm.streams.purge(this.stream,{filter:l,keep:0})}),a=await Promise.all(o);return a.unshift({success:!0,purged:0}),a.reduce((c,l)=>(c.purged+=l.purged,c))}async _deleteOrPurge(t,r){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,r);const n=await this.keys(t),s=[];for await(const i of n)s.push(this._doDeleteOrPurge(i,r)),s.length===100&&(await Promise.all(s),s.length=0);s.length>0&&await Promise.all(s)}async _doDeleteOrPurge(t,r){const n=this.encodeKey(t);this.validateKey(n);const s=ar();s.set(ps,r),r==="PURGE"&&s.set(Ut.RollupHdr,Ut.RollupValueSubject),await this.js.publish(this.subjectForKey(n,!0),at,{headers:s})}_buildCC(t,r=!1,n={}){const s=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:r?bt.All:bt.LastPerSubject,ack_policy:et.None,filter_subject:this.fullKeyName(s),flow_control:!0,idle_heartbeat:Ge(5*1e3)},n)}remove(t){return this.purge(t)}async history(t={}){const r=t.key??">",n=new xt,s={};s.headers_only=t.headers_only||!1;let i;i=()=>{n.stop()};let o=0;const a=this._buildCC(r,!0,s),c=a.filter_subject,l=ir(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const _=this.jmToEntry(d);n.push(_),n.received++,(i&&o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(_){n.stop(_)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async watch(t={}){const r=t.key??">",n=new xt,s={};s.headers_only=t.headers_only||!1;let i=t.initializedFn,o=0;const a=this._buildCC(r,!1,s),c=a.filter_subject,l=ir(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const _=this.jmToEntry(d);n.push(_),n.received++,i&&(o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(_){n.stop(_)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async keys(t=">"){const r=new xt,n=this._buildCC(t,!1,{headers_only:!0}),s=n.filter_subject,i=ir(n);i.bindStream(this.stream),i.orderedConsumer();const o=await this.js.subscribe(s,i);return(async()=>{var c;for await(const l of o){const u=(c=l.headers)==null?void 0:c.get(ps);if(u!=="DEL"&&u!=="PURGE"){const f=this.decodeKey(l.subject.substring(this.prefixLen));r.push(f)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{r.stop()}).catch(c=>{r.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),r}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var i;const r=((i=this.js.nc.info)==null?void 0:i.cluster)??"",n=this.bucketName(),s=await this.jsm.streams.info(n);return new bf(s,r)}}class bf{constructor(t,r=""){b(this,"si");b(this,"cluster");this.si=t,this.cluster=r}get bucket(){return this.si.config.name.startsWith(Pt)?this.si.config.name.substring(Pt.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return Xo(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}}const Qo="OBJ_",il="SHA-256=";function Ab(e){return xs(e),`${Qo}${e}`}function Pb(e){return e.startsWith(Qo)?e.substring(4):e}class yo{constructor(t){b(this,"si");b(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return Pb(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}function gs(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const r=Object.assign({},e);if(delete r.domain,t==="")return r;if(r.external)throw new Error("domain and external are both set");return r.external={api:`$JS.${t}.API`},r}class Cb extends es{constructor(t,r){super(t,r)}async add(t={}){var s;dt(t.name),t.mirror=gs(t.mirror),t.sources=(s=t.sources)==null?void 0:s.map(gs);const n=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(n),n}async delete(t){return dt(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,r={}){var a;if(typeof t=="object"){const c=t;t=c.name,r=c,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}dt(t);const n=await this.info(t),s=Object.assign(n.config,r);s.mirror=gs(s.mirror),s.sources=(a=s.sources)==null?void 0:a.map(gs);const o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,s);return this._fixInfo(o),o}async info(t,r){dt(t);const n=`${this.prefix}.STREAM.INFO.${t}`;let i=await this._request(n,r),{total:o,limit:a}=i,c=i.state.subjects?Object.getOwnPropertyNames(i.state.subjects).length:1;if(o&&o>c){const l=[i],u=r||{};let f=0;for(;o>c;){f++,u.offset=a*f;const _=await this._request(n,u);o=_.total,l.push(_);const E=Object.getOwnPropertyNames(_.state.subjects).length;if(c+=E,E<a)break}let d={};for(let _=0;_<l.length;_++)i=l[_],i.state.subjects&&(d=Object.assign(d,i.state.subjects));i.offset=0,i.total=0,i.limit=0,i.state.subjects=d}return this._fixInfo(i),i}list(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>{const o=i;return o.streams.forEach(a=>{this._fixInfo(a)}),o.streams},s=`${this.prefix}.STREAM.LIST`;return new wn(s,n,this,r)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,r){if(r){const{keep:s,seq:i}=r;if(typeof s=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return dt(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,r)}async deleteMessage(t,r,n=!0){dt(t);const s={seq:r};return n||(s.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,s)).success}async getMessage(t,r){dt(t);const s=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,r);return new Fb(s)}find(t){return this.findStream(t)}listKvs(){const t=n=>{var c;const i=n.streams.filter(l=>l.config.name.startsWith(Pt));i.forEach(l=>{this._fixInfo(l)});let o="";return i.length&&(o=((c=this.nc.info)==null?void 0:c.cluster)??""),i.map(l=>new bf(l,o))},r=`${this.prefix}.STREAM.LIST`;return new wn(r,t,this)}listObjectStores(){const t=n=>{const i=n.streams.filter(a=>a.config.name.startsWith(Qo));return i.forEach(a=>{this._fixInfo(a)}),i.map(a=>new yo(a))},r=`${this.prefix}.STREAM.LIST`;return new wn(r,t,this)}names(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>i.streams,s=`${this.prefix}.STREAM.NAMES`;return new wn(s,n,this,r)}}class Ib extends es{constructor(r,n){super(r,n);b(this,"streams");b(this,"consumers");b(this,"direct");this.streams=new Cb(r,n),this.consumers=new sf(r,n),this.direct=new hb(r,n)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const r=new xt;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(n,s)=>{if(n)throw n;try{const i=this.parseJsResponse(s),o=i.type.split("."),a=o[o.length-1];r.push({kind:a,data:i})}catch(i){r.stop(i)}}}),r}}var kr;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(kr||(kr={}));class Fi{constructor(t){b(this,"info");b(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=gr.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function ol(e){const t={name:e.name,description:e.description??"",options:e.options};if(e.headers){const r=e.headers;t.headers=r.toRecord()}return t}function kb(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function Tb(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class kn{constructor(t,r,n){b(this,"jsm");b(this,"js");b(this,"stream");b(this,"name");this.name=t,this.jsm=r,this.js=n}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[. ]/g,"_");let r;try{_f(t)}catch(n){r=n}return{name:t,error:r}}async info(t){const r=await this.rawInfo(t);return r?new Fi(r):null}async list(){const t=[],r=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const n of r){if(n===null)break;t.push(n)}return Promise.resolve(t)}async rawInfo(t){const{name:r,error:n}=this._sanitizeName(t);if(n)return Promise.reject(n);const s=this._metaSubject(r);try{const i=await this.jsm.streams.getMessage(this.stream,{last_by_subj:s});return Kt().decode(i.data)}catch(i){return i.code==="404"?null:Promise.reject(i)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(r){return r.code==="404"?null:Promise.reject(r)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new yo(t)))}async status(t){const r=await this._si(t);return r===null?Promise.reject(new Error("object store not found")):Promise.resolve(new yo(r))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,r){var H,T;const s=((H=this.js.nc.info)==null?void 0:H.max_payload)||1024;t=t||{},t.options=t.options||{};let i=((T=t.options)==null?void 0:T.max_chunk_size)||128*1024;i=i>s?s:i,t.options.max_chunk_size=i;const o=await this.info(t.name),{name:a,error:c}=this._sanitizeName(t.name);if(c)return Promise.reject(c);const l=ai.next(),u=this._chunkSubject(l),f=this._metaSubject(a),d=Object.assign({bucket:this.name,nuid:l,size:0,chunks:0},ol(t)),_=Ve(),E=[],A=new Zn;try{const L=r?r.getReader():null,q=new tl;for(;;){const{done:z,value:D}=L?await L.read():{done:!0,value:void 0};if(z){if(A.size()>0){const we=A.drain();q.update(we),d.chunks++,d.size+=we.length,E.push(this.js.publish(u,we))}d.mtime=new Date().toISOString();const ue=q.digest("base64"),re=ue.length%3,ne=re>0?"=".repeat(re):"";d.digest=`${il}${ue}${ne}`,d.deleted=!1;const ge=ar();ge.set(Ut.RollupHdr,Ut.RollupValueSubject),E.push(this.js.publish(f,Kt().encode(d),{headers:ge})),o&&E.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${o.nuid}`})),await Promise.all(E),_.resolve(new Fi(d));break}if(D)for(A.fill(D);A.size()>i;){d.chunks++,d.size+=i;const ue=A.drain(t.options.max_chunk_size);q.update(ue),E.push(this.js.publish(u,ue))}}}catch(L){await this.jsm.streams.purge(this.stream,{filter:u}),_.reject(L)}return _}put(t,r){var n;return(n=t==null?void 0:t.options)!=null&&n.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,r)}async get(t){const r=await this.rawInfo(t);if(r===null||r.deleted)return Promise.resolve(null);if(r.options&&r.options.link){const u=r.options.link.name||"";if(u==="")throw new Error("link is a bucket");return(await kn.create(this.js,r.options.link.bucket)).get(u)}const n=Ve(),s={info:new Fi(r),error:n};if(r.size===0)return s.data=Tb(),n.resolve(null),Promise.resolve(s);let i;const o=ir();o.orderedConsumer();const a=new tl,c=`$O.${this.name}.C.${r.nuid}`,l=await this.js.subscribe(c,o);return(async()=>{for await(const u of l)if(u.data.length>0&&(a.update(u.data),i.enqueue(u.data)),u.info.pending===0){const f=a.digest("base64"),d=f.length%3,_=d>0?"=".repeat(d):"",E=`${il}${f}${_}`;E!==r.digest?i.error(new Error(`received a corrupt object, digests do not match received: ${r.digest} calculated ${E}`)):i.close(),l.unsubscribe()}})().then(()=>{n.resolve()}).catch(u=>{i.error(u),n.reject(u)}),s.data=new ReadableStream({start(u){i=u},cancel(){l.unsubscribe()}}),s}linkStore(t,r){if(!(r instanceof kn))return Promise.reject("bucket required");const n=r,{name:s,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const o={name:s,options:{link:{bucket:n.name}}};return this._put(o,null)}async link(t,r){if(r.deleted)return Promise.reject(new Error("object is deleted"));const{name:n,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);if(this.name===r.bucket){const a=Object.assign({},kb(r));a.name=n;try{return await this.update(r.name,a),await this.info(n)}catch(c){return Promise.reject(c)}}const i={bucket:r.bucket,name:r.name},o={name:n,options:{link:i}};return this._put(o,null)}async delete(t){const r=await this.rawInfo(t);if(r===null)return Promise.resolve({purged:0,success:!1});r.deleted=!0,r.size=0,r.chunks=0,r.digest="";const n=Kt(),s=ar();return s.set(Ut.RollupHdr,Ut.RollupValueSubject),await this.js.publish(this._metaSubject(r.name),n.encode(r),{headers:s}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(r.nuid)})}async update(t,r={}){const n=await this.rawInfo(t);if(n===null)return Promise.reject(new Error("object not found"));if(n.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));r.name=r.name??n.name;const{name:s,error:i}=this._sanitizeName(r.name);if(i)return Promise.reject(i);if(t!==r.name){const c=await this.info(r.name);if(c&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"))}r.name=s;const o=Object.assign({},n,ol(r)),a=Kt();return this.js.publish(this._metaSubject(o.name),a.encode(o))}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let r=!1;const n=new xt,s=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:s})}catch(c){c.code==="404"?(n.push(null),r=!0):n.stop(c)}const i=Kt(),o=ir();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(r=!0,o.deliverNew()),o.callback((c,l)=>{var u;if(c){n.stop(c);return}if(l!==null){const f=i.decode(l.data);f.deleted&&t.ignoreDeletes===!0||n.push(f),((u=l.info)==null?void 0:u.pending)===0&&!r&&(r=!0,n.push(null))}});const a=await this.js.subscribe(s,o);return n._data=a,n.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{n.stop()}).catch(c=>{n.stop(c)}),n}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${Us.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=Ab(this.name)}catch(n){return Promise.reject(n)}const r=Object.assign({},t);r.name=this.stream,r.allow_rollup_hdrs=!0,r.discard=Wn.New,r.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(r.placement=t.placement);try{await this.jsm.streams.info(r.name)}catch(n){n.message==="stream not found"&&await this.jsm.streams.add(r)}}static async create(t,r,n={}){var f;if(typeof((f=crypto==null?void 0:crypto.subtle)==null?void 0:f.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const s=t,{ok:i,min:o}=s.nc.features.get(yt.JS_OBJECTSTORE);if(!i)return Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`));let a=s.opts||{};const c=a.timeout||2e3;a=Object.assign(a,{timeout:c});const l=await s.nc.jetstreamManager(a),u=new kn(r,l,t);return await u.init(n),Promise.resolve(u)}}class Nb{constructor(t){b(this,"js");this.js=t}kv(t,r={}){return r.bindOnly?Vn.bind(this.js,t):Vn.create(this.js,t,r)}os(t,r={}){return qb(this.js.nc),kn.create(this.js,t,r)}}class Zo extends es{constructor(r,n){super(r,n);b(this,"api");this.api=new sf(r,n)}get apiPrefix(){return this.prefix}get views(){return new Nb(this)}async publish(r,n=at,s){s=s||{},s.expect=s.expect||{};const i=(s==null?void 0:s.headers)||ar();s&&(s.msgID&&i.set(kr.MsgIdHdr,s.msgID),s.expect.lastMsgID&&i.set(kr.ExpectedLastMsgIdHdr,s.expect.lastMsgID),s.expect.streamName&&i.set(kr.ExpectedStreamHdr,s.expect.streamName),typeof s.expect.lastSequence=="number"&&i.set(kr.ExpectedLastSeqHdr,`${s.expect.lastSequence}`),typeof s.expect.lastSubjectSequence=="number"&&i.set(kr.ExpectedLastSubjectSequenceHdr,`${s.expect.lastSubjectSequence}`));const o=s.timeout||this.timeout,a={};o&&(a.timeout=o),s&&(a.headers=i);let{retries:c,retry_delay:l}=s;c=c||1,l=l||250;let u;for(let d=0;d<c;d++)try{u=await this.nc.request(r,n,a);break}catch(_){if(_.code==="503"&&d+1<c)await Jo(l);else throw _}const f=this.parseJsResponse(u);if(f.stream==="")throw le.errorForCode(Z.JetStreamInvalidAck);return f.duplicate=f.duplicate?f.duplicate:!1,f}async pull(r,n,s=0){dt(r),Qr(n);let i=this.timeout;s>i&&(i=s),s=s<0?0:Ge(s);const o={batch:1,no_wait:s===0,expires:s},a=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(o),{noMux:!0,timeout:i}),c=Zr(a);if(c)throw c;return js(a)}fetch(r,n,s={}){dt(r),Qr(n);let i=null;const o=(s.max_bytes??0)>0;let a=0;const c=o?s.max_bytes:0;let l=null;const u={};if(u.batch=s.batch||1,c){const L=this.nc.features.get(yt.JS_PULL_MAX_BYTES);if(!L.ok)throw new Error(`max_bytes is only supported on servers ${L.min} or better`);u.max_bytes=c}u.no_wait=s.no_wait||!1,u.no_wait&&u.expires&&(u.expires=0);const f=s.expires||0;if(f&&(u.expires=Ge(f)),f===0&&u.no_wait===!1)throw new Error("expires or no_wait is required");const d=s.idle_heartbeat||0;d&&(u.idle_heartbeat=Ge(d),s.delay_heartbeat===!0&&(u.idle_heartbeat=Ge(d*4)));const _=new xt,E=u.batch;let A=0;_.protocolFilterFn=(L,q=!1)=>Vc(L.msg)?(l==null||l.work(),!1):!0,_.dispatchedFn=L=>{if(L){if(o&&(a+=L.data.length),A++,i&&L.info.pending===0)return;(_.getPending()===1&&L.info.pending===0||E===A||c>0&&a>=c)&&_.stop()}};const H=sr(this.nc.options.inboxPrefix),T=this.nc.subscribe(H,{max:s.batch,callback:(L,q)=>{L===null&&(L=Zr(q)),L!==null?(i&&(i.cancel(),i=null),i_(L)?_.stop(wf(L)===null?void 0:L):_.stop(L)):(l==null||l.work(),_.received++,_.push(js(q)))}});return f&&(i=oi(f),i.catch(()=>{T.isClosed()||(T.drain().catch(()=>{}),i=null),l&&l.cancel()})),(async()=>{try{d&&(l=new df(d,L=>(_.push(()=>{_.err=new le(`${Lt.IdleHeartbeatMissed}: ${L}`,Z.JetStreamIdleHeartBeat)}),!0)))}catch{}await T.closed,i!==null&&(i.cancel(),i=null),l&&l.cancel(),_.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(u),{reply:H}),_}async pullSubscribe(r,n=ir()){const s=await this._processOptions(r,n);if(s.ordered)throw new Error("pull subscribers cannot be be ordered");if(s.attached||(s.config.filter_subject=r),s.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const i=s.config.ack_policy;if(i===et.None||i===et.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(s),a=new jb(this,s.deliver,o);a.info=s;try{await this._maybeCreateConsumer(s)}catch(c){throw a.unsubscribe(),c}return a}async subscribe(r,n=ir()){const s=await this._processOptions(r,n);if(!s.isBind&&!s.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const i=this._buildTypedSubscriptionOpts(s),o=new yf(this,s.deliver,i);o.info=s;try{await this._maybeCreateConsumer(s)}catch(a){throw o.unsubscribe(),a}return o._maybeSetupHbMonitoring(),o}async _processOptions(r,n=ir()){const s=Qc(n)?n.getOpts():n;if(s.isBind=Qc(n)?n.isBind:!1,s.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},s.ordered){if(s.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},s.config.ack_policy!==et.NotSet&&s.config.ack_policy!==et.None)throw new le("ordered consumer: ack_policy can only be set to 'none'",Z.ApiError);if(s.config.durable_name&&s.config.durable_name.length>0)throw new le("ordered consumer: durable_name cannot be set",Z.ApiError);if(s.config.deliver_subject&&s.config.deliver_subject.length>0)throw new le("ordered consumer: deliver_subject cannot be set",Z.ApiError);if(s.config.max_deliver!==void 0&&s.config.max_deliver>1)throw new le("ordered consumer: max_deliver cannot be set",Z.ApiError);if(s.config.deliver_group&&s.config.deliver_group.length>0)throw new le("ordered consumer: deliver_group cannot be set",Z.ApiError);s.config.deliver_subject=sr(this.nc.options.inboxPrefix),s.config.ack_policy=et.None,s.config.max_deliver=1,s.config.flow_control=!0,s.config.idle_heartbeat=s.config.idle_heartbeat||Ge(5e3),s.config.ack_wait=Ge(22*60*60*1e3),s.config.mem_storage=!0,s.config.num_replicas=1}if(s.config.ack_policy===et.NotSet&&(s.config.ack_policy=et.All),s.api=this,s.config=s.config||{},s.stream=s.stream?s.stream:await this.findStream(r),s.attached=!1,s.config.durable_name)try{const i=await this.api.info(s.stream,s.config.durable_name);if(i){if(i.config.filter_subject&&i.config.filter_subject!==r)throw new Error("subject does not match consumer");const o=s.config.deliver_group??"";if(o===""&&i.push_bound===!0)throw new Error("duplicate subscription");const a=i.config.deliver_group??"";if(o!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);s.last=i,s.config=i.config,s.attached=!0,s.config.durable_name||(s.name=i.name)}}catch(i){if(i.code!=="404")throw i}return s.attached||(s.config.filter_subject=r),s.deliver=s.config.deliver_subject||sr(this.nc.options.inboxPrefix),s}_buildTypedSubscriptionOpts(r){const n={};return n.adapter=$b(r.callbackFn===void 0),n.ingestionFilterFn=Zo.ingestionFn(r.ordered),n.protocolFilterFn=(s,i=!1)=>{const o=s;return po(o.msg)?(i||o.msg.respond(),!1):!0},!r.mack&&r.config.ack_policy!==et.None&&(n.dispatchedFn=Bb),r.callbackFn&&(n.callback=r.callbackFn),n.max=r.max||0,n.queue=r.queue,n}async _maybeCreateConsumer(r){if(r.attached)return;if(r.isBind)throw new Error(`unable to bind - durable consumer ${r.config.durable_name} doesn't exist in ${r.stream}`);r.config=Object.assign({deliver_policy:bt.All,ack_policy:et.Explicit,ack_wait:Ge(30*1e3),replay_policy:on.Instant},r.config);const n=await this.api.add(r.stream,r.config);r.name=n.name,r.config=n.config,r.last=n}static ingestionFn(r){return(n,s)=>{var c;const i=s;if(!n)return{ingest:!1,protocol:!1};const o=n;if(Zr(o.msg)||(c=i.monitor)==null||c.work(),Vc(o.msg)){const l=r?i._checkHbOrderConsumer(o.msg):!0;return r||i.info.flow_control.heartbeat_count++,{ingest:l,protocol:!0}}else if(po(o.msg))return i.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:r?i._checkOrderedConsumer(n):!0,protocol:!1}}}}class ea{constructor(t){b(this,"options");b(this,"protocol");b(this,"draining");b(this,"listeners");b(this,"_services");this.draining=!1,this.options=yb(t),this.listeners=[]}static connect(t={}){return new Promise((r,n)=>{const s=new ea(t);$s.connect(s.options,s).then(i=>{s.protocol=i,async function(){for await(const o of i.status())s.listeners.forEach(a=>{a.push(o)})}(),r(s)}).catch(i=>{n(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,r,n){if(this.isClosed())throw le.errorForCode(Z.ConnectionClosed);if(r&&this.isDraining()||n&&this.protocol.noMorePublishing)throw le.errorForCode(Z.ConnectionDraining);if(t=t||"",t.length===0)throw le.errorForCode(Z.BadSubject)}publish(t,r=at,n){if(this._check(t,!1,!0),r&&!u_(r))throw le.errorForCode(Z.BadPayload);this.protocol.publish(t,r,n)}subscribe(t,r={}){this._check(t,!0,!1);const n=new hf(this.protocol,t,r);return this.protocol.subscribe(n),n}_resub(t,r,n){this._check(r,!0,!1);const s=t;s.max=n,n&&(s.max=n+s.received),this.protocol.resub(s,r)}requestMany(t,r=at,n={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(a){return Promise.reject(a)}if(n.strategy=n.strategy||Yt.Timer,n.maxWait=n.maxWait||1e3,n.maxWait<1)return Promise.reject(new le("timeout",Z.InvalidOption));const s=new xt;function i(a){s.push(()=>{s.stop(a)})}function o(a,c){a||c===null?i(a===null?void 0:a):s.push(c)}if(n.noMux){const a=new Error().stack;let c=typeof n.maxMessages=="number"&&n.maxMessages>0?n.maxMessages:-1;const l=this.subscribe(sr(this.options.inboxPrefix),{callback:(_,E)=>{var A,H;if(((A=E==null?void 0:E.data)==null?void 0:A.length)===0&&((H=E==null?void 0:E.headers)==null?void 0:H.status)===Z.NoResponders&&(_=le.errorForCode(Z.NoResponders)),_){_.stack+=`

${a}`,u(_);return}o(null,E),n.strategy===Yt.Count&&(c--,c===0&&u()),n.strategy===Yt.JitterTimer&&(d(),f=setTimeout(()=>{u()},300)),n.strategy===Yt.SentinelMsg&&E&&E.data.length===0&&u()}});l.closed.then(()=>{i()}).catch(_=>{s.stop(_)});const u=_=>{_&&s.push(()=>{throw _}),d(),l.drain().then(()=>{i()}).catch(E=>{i()})};s.iterClosed.then(()=>{d(),l==null||l.unsubscribe()}).catch(_=>{d(),l==null||l.unsubscribe()});try{this.publish(t,at,{reply:l.getSubject()})}catch(_){u(_)}let f=setTimeout(()=>{u()},n.maxWait);const d=()=>{f&&clearTimeout(f)}}else{const a=n;a.callback=o,s.iterClosed.then(()=>{c.cancel()}).catch(l=>{c.cancel(l)});const c=new O_(this.protocol.muxSubscriptions,t,a);this.protocol.request(c);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:n.headers})}catch(l){c.cancel(l)}}return Promise.resolve(s)}request(t,r=at,n={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(s){return Promise.reject(s)}if(n.timeout=n.timeout||1e3,n.timeout<1)return Promise.reject(new le("timeout",Z.InvalidOption));if(!n.noMux&&n.reply)return Promise.reject(new le("reply can only be used with noMux",Z.InvalidOption));if(n.noMux){const s=n.reply?n.reply:sr(this.options.inboxPrefix),i=Ve(),o=new Error,a=this.subscribe(s,{max:1,timeout:n.timeout,callback:(c,l)=>{c?(c.code!==Z.Timeout&&(c.stack+=`

${o.stack}`),i.reject(c)):(c=ef(l),c?(c.stack+=`

${o.stack}`,i.reject(c)):i.resolve(l))}});return a.requestSubject=t,this.protocol.publish(t,r,{reply:s,headers:n.headers}),i}else{const s=new af(this.protocol.muxSubscriptions,t,n);this.protocol.request(s);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${s.token}`,headers:n.headers})}catch(o){s.cancel(o)}const i=Promise.race([s.timer,s.deferred]);return i.catch(()=>{s.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.isDraining()?Promise.reject(le.errorForCode(Z.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new xt;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const r=new Ib(this,t);try{await r.getAccountInfo()}catch(n){const s=n;throw s.code===Z.NoResponders&&(s.code=Z.JetStreamNotEnabled),s}return r}jetstream(t={}){return new Zo(this,t)}getServerVersion(){const t=this.info;return t?Mr(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw le.errorForCode(Z.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new Lb(this)),this._services}}class Rb{constructor(t,r={strategy:Yt.JitterTimer,maxWait:2e3},n){b(this,"nc");b(this,"prefix");b(this,"opts");this.nc=t,this.prefix=n,this.opts=r}ping(t="",r=""){return this.q(Jt.PING,t,r)}stats(t="",r=""){return this.q(Jt.STATS,t,r)}schema(t="",r=""){return this.q(Jt.SCHEMA,t,r)}info(t="",r=""){return this.q(Jt.INFO,t,r)}async q(t,r="",n=""){const s=new xt,i=Kt(),o=ci.controlSubject(t,r,n,this.prefix),a=await this.nc.requestMany(o,at,this.opts);return(async()=>{for await(const c of a)try{const l=i.decode(c.data);s.push(l)}catch(l){s.push(()=>{s.stop(l)})}s.push(()=>{s.stop()})})().catch(c=>{s.stop(c)}),s}}function Mb(e,t){const{proto:r,tls_required:n,tls_available:s}=e;if((r===void 0||r<1)&&t.noEcho)throw new le("noEcho",Z.ServerOptionNotAvailable);const i=n||s||!1;if(t.tls&&!i)throw new le("tls",Z.ServerOptionNotAvailable)}class Lb{constructor(t){b(this,"nc");this.nc=t,console.log("\x1B[33m >> service framework is beta functionality \x1B[0m")}add(t){try{return new ci(this.nc,t).start()}catch(r){return Promise.reject(r)}}client(t,r){return new Rb(this.nc,t,r)}}class Fb{constructor(t){b(this,"subject");b(this,"seq");b(this,"data");b(this,"time");b(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):at,t.message.hdrs){const r=this._parse(t.message.hdrs);this.header=gr.decode(r)}else this.header=ar()}_parse(t){const r=atob(t),n=r.length,s=new Uint8Array(n);for(let i=0;i<n;i++)s[i]=r.charCodeAt(i);return s}}class yf extends N_{constructor(r,n,s){super(r.nc,n,s);b(this,"js");b(this,"monitor");this.js=r,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(r){this.sub.info=r}get info(){return this.sub.info}_resetOrderedConsumer(r){if(this.info===null||this.sub.isClosed())return;const n=sr(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,n);const i=this.info;i.ordered_consumer_sequence.delivery_seq=0,i.flow_control.heartbeat_count=0,i.flow_control.fc_count=0,i.flow_control.consumer_restarts++,i.deliver=n,i.config.deliver_subject=n,i.config.deliver_policy=bt.StartSequence,i.config.opt_start_seq=r;const o={};o.stream_name=this.info.stream,o.config=i.config;const a=`${i.api.prefix}.CONSUMER.CREATE.${i.stream}`;this.js._request(a,o).then(c=>{const l=c;this.info.config=l.config,this.info.name=l.name}).catch(c=>{const l=new le(`unable to recreate ordered consumer ${i.stream} at seq ${r}`,Z.RequestError,c);this.sub.callback(l,{})})}_maybeSetupHbMonitoring(){var n,s;const r=((s=(n=this.info)==null?void 0:n.config)==null?void 0:s.idle_heartbeat)||0;r&&this._setupHbMonitoring(Xo(r))}_setupHbMonitoring(r,n=0){const s={cancelAfter:0,maxOut:2};n&&(s.cancelAfter=n);const i=this.sub,o=a=>{var u,f,d;const c=y_(409,`${Lt.IdleHeartbeatMissed}: ${a}`,this.sub.subject);if(!((u=this.info)==null?void 0:u.ordered))this.sub.callback(null,c);else{if(!this.js.nc.protocol.connected)return!1;const _=((d=(f=this.info)==null?void 0:f.ordered_consumer_sequence)==null?void 0:d.stream_seq)||0;return this._resetOrderedConsumer(_+1),!1}return!i.noIterator};this.monitor=new df(r,o,s)}_checkHbOrderConsumer(r){const n=r.headers.get(Ut.ConsumerStalledHdr);n!==""&&this.js.nc.publish(n);const s=parseInt(r.headers.get(Ut.LastConsumerSeqHdr),10),i=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,s!==i.delivery_seq&&this._resetOrderedConsumer(i.stream_seq+1),!1}_checkOrderedConsumer(r){const n=this.info.ordered_consumer_sequence,s=r.info.streamSequence,i=r.info.deliverySequence;return i!=n.delivery_seq+1?(this._resetOrderedConsumer(n.stream_seq+1),!1):(n.delivery_seq=i,n.stream_seq=s,!0)}async destroy(){this.isClosed()||await this.drain();const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.DELETE.${r.stream}.${n}`;await r.api._request(s)}async consumerInfo(){const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.INFO.${r.stream}.${n}`,i=await r.api._request(s);return r.last=i,i}}class jb extends yf{constructor(t,r,n){super(t,r,n)}pull(t={batch:1}){const{stream:r,config:n,name:s}=this.sub.info,i=n.durable_name??s,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const l=this.js.nc.features.get(yt.JS_PULL_MAX_BYTES);if(!l.ok)throw new Error(`max_bytes is only supported on servers ${l.min} or better`);o.max_bytes=t.max_bytes}let a=0;t.expires&&t.expires>0&&(a=t.expires,o.expires=Ge(a));let c=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(c=t.idle_heartbeat,o.idle_heartbeat=Ge(c)),c&&a===0)throw new Error("idle_heartbeat requires expires");if(c>a)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),a&&c&&(this.monitor?this.monitor._change(c,a):this._setupHbMonitoring(c,a));const l=this.info.api,u=`${l.prefix}.CONSUMER.MSG.NEXT.${r}.${i}`,f=this.sub.subject;l.nc.publish(u,l.jc.encode(o),{reply:f})}}}function $b(e){return e?Db:Ub}function Ub(e,t){return e?[e,null]:(e=Zr(t),e?[e,null]:[null,js(t)])}function Db(e,t){if(e)return[e,null];const r=Zr(t);return r!==null?[wf(r),null]:[null,js(t)]}function wf(e){if(e!==null)switch(e.code){case Z.JetStream404NoMessages:case Z.JetStream408RequestTimeout:return null;case Z.JetStream409:return w_(e)?e:null;default:return e}return null}function Bb(e){e&&e.ack()}const qb=(()=>{let e=!1;return t=>{var r;if(!e){e=!0;const{lang:n}=(r=t==null?void 0:t.protocol)==null?void 0:r.transport;console.log(n?`\x1B[33m >> jetstream's materialized views object store functionality in ${n} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),Hb="1.11.2",Wb="nats.ws";class Vb{constructor(){b(this,"version");b(this,"lang");b(this,"closeError");b(this,"connected");b(this,"done");b(this,"socket");b(this,"options");b(this,"socketClosed");b(this,"encrypted");b(this,"peeked");b(this,"yields");b(this,"signal");b(this,"closedNotification");this.version=Hb,this.lang=Wb,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=Ve(),this.closedNotification=Ve()}async connect(t,r){const n=Ve();if(r.tls)return n.reject(new le("tls",Z.InvalidOption)),n;this.options=r;const s=t.src;if(r.wsFactory){const{socket:i,encrypted:o}=await r.wsFactory(t.src,r);this.socket=i,this.encrypted=o}else this.encrypted=s.indexOf("wss://")===0,this.socket=new WebSocket(s);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=Zn.concat(...this.yields),a=h_(o);if(a!==""){const c=Q_.exec(a);if(!c){r.debug&&console.error("!!!",hs(o)),n.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(c[1]);Mb(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),n.resolve()}catch(l){n.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,a=new le(o.message,Z.Unknown,new Error(o.error));n.reject(a)},n}disconnect(){this._closed(void 0,!0)}async _closed(t,r=!0){if(this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await Jo(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}r&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let r=0;r<t.length;r++)this.options.debug&&console.info(`> ${hs(t[r])}`),yield t[r];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=Ve())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${hs(t)}`);return}catch(r){this.options.debug&&console.error(`!!! ${hs(t)}: ${r}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function zb(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let r=new URL(e);const n=r.protocol.toLowerCase();n!=="https:"&&n!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),r=new URL(`http://${e}`));let s,i;const o=r.hostname,a=r.pathname,c=r.search||"";switch(n){case"http:":case"ws:":case"nats:":i=r.port||"80",s="ws:";break;default:i=r.port||"443",s="wss:";break}return`${s}//${o}:${i}${a}${c}`}function Kb(e={}){return R_({defaultPort:443,urlParseFn:zb,factory:()=>new Vb}),ea.connect(e)}const Gb=Zu(),Yb="---",dy=ze({}),my=ze({}),py=ze({}),vs=ze(!1),Tn=ze({}),en={};let ji,wo;const Jb=async(e,t)=>{if(Tn.value[e])return;if(!vs.value||!wo){en[e]=t;return}const r=ir();r.deliverTo(sr()),r.deliverAll(),r.ackNone(),r.replayInstantly();const n=await wo.subscribe(e,r);Tn.value[e]=n,(async()=>{for await(const s of n){const i=Gb.decode(s.data);if(i!==Yb){const o=JSON.parse(i);t.value=Object.freeze({...t.value,[o.id]:Object.freeze(o)})}}})()},gy=async e=>{Tn.value[e]&&(Tn.value[e].unsubscribe(),delete Tn.value[e]),en[e]&&delete en[e]},al=async()=>{await Promise.all(Object.keys(en).map(async e=>{await Jb(e,en[e]),delete en[e]}))},Xb=async()=>{ji=await Kb({servers:[U0],waitOnFirstConnect:!0,maxReconnectAttempts:-1}),vs.value=!0,wo=ji.jetstream(),await al(),(async()=>{for await(const e of ji.status())e.type===nr.Disconnect&&(vs.value=!1),e.type===nr.Reconnect&&(vs.value=!0,await al())})()},ta=Xd(Q0);ta.use(Gu);ta.use(Ku);ta.mount("#app");Xb();export{uy as A,fy as B,wt as C,dy as D,my as E,py as F,_t as G,ny as H,$n as I,yp as J,uo as K,jo as L,Cs as M,gy as N,ey as O,ty as P,Tp as Q,Wu as R,Fc as S,ly as T,cy as U,sy as V,Ze as W,X0 as _,Qt as a,De as b,He as c,Fr as d,tu as e,xi as f,vo as g,Lg as h,ay as i,Re as j,jt as k,ke as l,iy as m,Gt as n,ct as o,Ct as p,Xs as q,ze as r,vs as s,Zb as t,jr as u,oy as v,ry as w,K0 as x,Yn as y,Jb as z};
//# sourceMappingURL=index-7bce52b4.js.map
