var Oc=Object.defineProperty;var Cc=(e,t,s)=>t in e?Oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var d=(e,t,s)=>(Cc(e,typeof t!="symbol"?t+"":t,s),s);function vr(e,t){const s=Object.create(null),r=e.split(",");for(let n=0;n<r.length;n++)s[r[n]]=!0;return t?n=>!!s[n.toLowerCase()]:n=>!!s[n]}const Ac="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kc=vr(Ac);function Fn(e){return!!e||e===""}function xr(e){if(J(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=be(r)?Mc(r):xr(r);if(n)for(const i in n)t[i]=n[i]}return t}else{if(be(e))return e;if(me(e))return e}}const Ic=/;(?![^(]*\))/g,Rc=/:(.+)/;function Mc(e){const t={};return e.split(Ic).forEach(s=>{if(s){const r=s.split(Rc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Er(e){let t="";if(be(e))t=e;else if(J(e))for(let s=0;s<e.length;s++){const r=Er(e[s]);r&&(t+=r+" ")}else if(me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const jh=e=>be(e)?e:e==null?"":J(e)||me(e)&&(e.toString===Ln||!X(e.toString))?JSON.stringify(e,Tn,2):String(e),Tn=(e,t)=>t&&t.__v_isRef?Tn(e,t.value):$t(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n])=>(s[`${r} =>`]=n,s),{})}:jn(t)?{[`Set(${t.size})`]:[...t.values()]}:me(t)&&!J(t)&&!Un(t)?String(t):t,fe={},jt=[],He=()=>{},Nc=()=>!1,Fc=/^on[^a-z]/,Is=e=>Fc.test(e),Pr=e=>e.startsWith("onUpdate:"),Pe=Object.assign,Sr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Tc=Object.prototype.hasOwnProperty,ee=(e,t)=>Tc.call(e,t),J=Array.isArray,$t=e=>Rs(e)==="[object Map]",jn=e=>Rs(e)==="[object Set]",X=e=>typeof e=="function",be=e=>typeof e=="string",Or=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",$n=e=>me(e)&&X(e.then)&&X(e.catch),Ln=Object.prototype.toString,Rs=e=>Ln.call(e),jc=e=>Rs(e).slice(8,-1),Un=e=>Rs(e)==="[object Object]",Cr=e=>be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ms=vr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ns=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},$c=/-(\w)/g,Ye=Ns(e=>e.replace($c,(t,s)=>s?s.toUpperCase():"")),Lc=/\B([A-Z])/g,wt=Ns(e=>e.replace(Lc,"-$1").toLowerCase()),Fs=Ns(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ar=Ns(e=>e?`on${Fs(e)}`:""),rs=(e,t)=>!Object.is(e,t),kr=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Ts=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Uc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qn;const qc=()=>qn||(qn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Xe;class Bc{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Xe&&(this.parent=Xe,this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Xe;try{return Xe=this,t()}finally{Xe=s}}}on(){Xe=this}off(){Xe=this.parent}stop(t){if(this.active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function Dc(e,t=Xe){t&&t.active&&t.effects.push(e)}const Ir=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Bn=e=>(e.w&ut)>0,Dn=e=>(e.n&ut)>0,Hc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ut},Kc=e=>{const{deps:t}=e;if(t.length){let s=0;for(let r=0;r<t.length;r++){const n=t[r];Bn(n)&&!Dn(n)?n.delete(e):t[s++]=n,n.w&=~ut,n.n&=~ut}t.length=s}},Rr=new WeakMap;let ns=0,ut=1;const Mr=30;let Ke;const vt=Symbol(""),Nr=Symbol("");class Fr{constructor(t,s=null,r){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Dc(this,r)}run(){if(!this.active)return this.fn();let t=Ke,s=ft;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ke,Ke=this,ft=!0,ut=1<<++ns,ns<=Mr?Hc(this):Hn(this),this.fn()}finally{ns<=Mr&&Kc(this),ut=1<<--ns,Ke=this.parent,ft=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ke===this?this.deferStop=!0:this.active&&(Hn(this),this.onStop&&this.onStop(),this.active=!1)}}function Hn(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let ft=!0;const Kn=[];function Lt(){Kn.push(ft),ft=!1}function Ut(){const e=Kn.pop();ft=e===void 0?!0:e}function Ne(e,t,s){if(ft&&Ke){let r=Rr.get(e);r||Rr.set(e,r=new Map);let n=r.get(s);n||r.set(s,n=Ir()),zn(n)}}function zn(e,t){let s=!1;ns<=Mr?Dn(e)||(e.n|=ut,s=!Bn(e)):s=!e.has(Ke),s&&(e.add(Ke),Ke.deps.push(e))}function nt(e,t,s,r,n,i){const o=Rr.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(s==="length"&&J(e))o.forEach((a,l)=>{(l==="length"||l>=r)&&c.push(a)});else switch(s!==void 0&&c.push(o.get(s)),t){case"add":J(e)?Cr(s)&&c.push(o.get("length")):(c.push(o.get(vt)),$t(e)&&c.push(o.get(Nr)));break;case"delete":J(e)||(c.push(o.get(vt)),$t(e)&&c.push(o.get(Nr)));break;case"set":$t(e)&&c.push(o.get(vt));break}if(c.length===1)c[0]&&Tr(c[0]);else{const a=[];for(const l of c)l&&a.push(...l);Tr(Ir(a))}}function Tr(e,t){const s=J(e)?e:[...e];for(const r of s)r.computed&&Gn(r);for(const r of s)r.computed||Gn(r)}function Gn(e,t){(e!==Ke||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const zc=vr("__proto__,__v_isRef,__isVue"),Wn=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Or)),Gc=jr(),Wc=jr(!1,!0),Vc=jr(!0),Vn=Jc();function Jc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const r=ce(this);for(let i=0,o=this.length;i<o;i++)Ne(r,"get",i+"");const n=r[t](...s);return n===-1||n===!1?r[t](...s.map(ce)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Lt();const r=ce(this)[t].apply(this,s);return Ut(),r}}),e}function jr(e=!1,t=!1){return function(r,n,i){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&i===(e?t?fa:ri:t?si:ti).get(r))return r;const o=J(r);if(!e&&o&&ee(Vn,n))return Reflect.get(Vn,n,i);const c=Reflect.get(r,n,i);return(Or(n)?Wn.has(n):zc(n))||(e||Ne(r,"get",n),t)?c:_e(c)?o&&Cr(n)?c:c.value:me(c)?e?ni(c):is(c):c}}const Yc=Jn(),Xc=Jn(!0);function Jn(e=!1){return function(s,r,n,i){let o=s[r];if(os(o)&&_e(o)&&!_e(n))return!1;if(!e&&!os(n)&&(qr(n)||(n=ce(n),o=ce(o)),!J(s)&&_e(o)&&!_e(n)))return o.value=n,!0;const c=J(s)&&Cr(r)?Number(r)<s.length:ee(s,r),a=Reflect.set(s,r,n,i);return s===ce(i)&&(c?rs(n,o)&&nt(s,"set",r,n):nt(s,"add",r,n)),a}}function Qc(e,t){const s=ee(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&s&&nt(e,"delete",t,void 0),r}function Zc(e,t){const s=Reflect.has(e,t);return(!Or(t)||!Wn.has(t))&&Ne(e,"has",t),s}function ea(e){return Ne(e,"iterate",J(e)?"length":vt),Reflect.ownKeys(e)}const Yn={get:Gc,set:Yc,deleteProperty:Qc,has:Zc,ownKeys:ea},ta={get:Vc,set(e,t){return!0},deleteProperty(e,t){return!0}},sa=Pe({},Yn,{get:Wc,set:Xc}),$r=e=>e,js=e=>Reflect.getPrototypeOf(e);function $s(e,t,s=!1,r=!1){e=e.__v_raw;const n=ce(e),i=ce(t);s||(t!==i&&Ne(n,"get",t),Ne(n,"get",i));const{has:o}=js(n),c=r?$r:s?Br:cs;if(o.call(n,t))return c(e.get(t));if(o.call(n,i))return c(e.get(i));e!==n&&e.get(t)}function Ls(e,t=!1){const s=this.__v_raw,r=ce(s),n=ce(e);return t||(e!==n&&Ne(r,"has",e),Ne(r,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function Us(e,t=!1){return e=e.__v_raw,!t&&Ne(ce(e),"iterate",vt),Reflect.get(e,"size",e)}function Xn(e){e=ce(e);const t=ce(this);return js(t).has.call(t,e)||(t.add(e),nt(t,"add",e,e)),this}function Qn(e,t){t=ce(t);const s=ce(this),{has:r,get:n}=js(s);let i=r.call(s,e);i||(e=ce(e),i=r.call(s,e));const o=n.call(s,e);return s.set(e,t),i?rs(t,o)&&nt(s,"set",e,t):nt(s,"add",e,t),this}function Zn(e){const t=ce(this),{has:s,get:r}=js(t);let n=s.call(t,e);n||(e=ce(e),n=s.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return n&&nt(t,"delete",e,void 0),i}function ei(){const e=ce(this),t=e.size!==0,s=e.clear();return t&&nt(e,"clear",void 0,void 0),s}function qs(e,t){return function(r,n){const i=this,o=i.__v_raw,c=ce(o),a=t?$r:e?Br:cs;return!e&&Ne(c,"iterate",vt),o.forEach((l,f)=>r.call(n,a(l),a(f),i))}}function Bs(e,t,s){return function(...r){const n=this.__v_raw,i=ce(n),o=$t(i),c=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,l=n[e](...r),f=s?$r:t?Br:cs;return!t&&Ne(i,"iterate",a?Nr:vt),{next(){const{value:g,done:h}=l.next();return h?{value:g,done:h}:{value:c?[f(g[0]),f(g[1])]:f(g),done:h}},[Symbol.iterator](){return this}}}}function ht(e){return function(...t){return e==="delete"?!1:this}}function ra(){const e={get(i){return $s(this,i)},get size(){return Us(this)},has:Ls,add:Xn,set:Qn,delete:Zn,clear:ei,forEach:qs(!1,!1)},t={get(i){return $s(this,i,!1,!0)},get size(){return Us(this)},has:Ls,add:Xn,set:Qn,delete:Zn,clear:ei,forEach:qs(!1,!0)},s={get(i){return $s(this,i,!0)},get size(){return Us(this,!0)},has(i){return Ls.call(this,i,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:qs(!0,!1)},r={get(i){return $s(this,i,!0,!0)},get size(){return Us(this,!0)},has(i){return Ls.call(this,i,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Bs(i,!1,!1),s[i]=Bs(i,!0,!1),t[i]=Bs(i,!1,!0),r[i]=Bs(i,!0,!0)}),[e,s,t,r]}const[na,ia,oa,ca]=ra();function Lr(e,t){const s=t?e?ca:oa:e?ia:na;return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(ee(s,n)&&n in r?s:r,n,i)}const aa={get:Lr(!1,!1)},la={get:Lr(!1,!0)},ua={get:Lr(!0,!1)},ti=new WeakMap,si=new WeakMap,ri=new WeakMap,fa=new WeakMap;function ha(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function da(e){return e.__v_skip||!Object.isExtensible(e)?0:ha(jc(e))}function is(e){return os(e)?e:Ur(e,!1,Yn,aa,ti)}function pa(e){return Ur(e,!1,sa,la,si)}function ni(e){return Ur(e,!0,ta,ua,ri)}function Ur(e,t,s,r,n){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=da(e);if(o===0)return e;const c=new Proxy(e,o===2?r:s);return n.set(e,c),c}function qt(e){return os(e)?qt(e.__v_raw):!!(e&&e.__v_isReactive)}function os(e){return!!(e&&e.__v_isReadonly)}function qr(e){return!!(e&&e.__v_isShallow)}function ii(e){return qt(e)||os(e)}function ce(e){const t=e&&e.__v_raw;return t?ce(t):e}function oi(e){return Ts(e,"__v_skip",!0),e}const cs=e=>me(e)?is(e):e,Br=e=>me(e)?ni(e):e;function ci(e){ft&&Ke&&(e=ce(e),zn(e.dep||(e.dep=Ir())))}function ai(e,t){e=ce(e),e.dep&&Tr(e.dep)}function _e(e){return!!(e&&e.__v_isRef===!0)}function ga(e){return li(e,!1)}function ma(e){return li(e,!0)}function li(e,t){return _e(e)?e:new ba(e,t)}class ba{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ce(t),this._value=s?t:cs(t)}get value(){return ci(this),this._value}set value(t){t=this.__v_isShallow?t:ce(t),rs(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:cs(t),ai(this))}}function as(e){return _e(e)?e.value:e}const _a={get:(e,t,s)=>as(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return _e(n)&&!_e(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function ui(e){return qt(e)?e:new Proxy(e,_a)}class ya{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function $h(e,t,s){const r=e[t];return _e(r)?r:new ya(e,t,s)}class wa{constructor(t,s,r,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Fr(t,()=>{this._dirty||(this._dirty=!0,ai(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const t=ce(this);return ci(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function va(e,t,s=!1){let r,n;const i=X(e);return i?(r=e,n=He):(r=e.get,n=e.set),new wa(r,n,i||!n,s)}function dt(e,t,s,r){let n;try{n=r?e(...r):e()}catch(i){Ds(i,t,s)}return n}function ze(e,t,s,r){if(X(e)){const i=dt(e,t,s,r);return i&&$n(i)&&i.catch(o=>{Ds(o,t,s)}),i}const n=[];for(let i=0;i<e.length;i++)n.push(ze(e[i],t,s,r));return n}function Ds(e,t,s,r=!0){const n=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,c=s;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,o,c)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){dt(a,null,10,[e,o,c]);return}}xa(e,s,n,r)}function xa(e,t,s,r=!0){console.error(e)}let Hs=!1,Dr=!1;const Fe=[];let it=0;const ls=[];let us=null,Bt=0;const fs=[];let pt=null,Dt=0;const fi=Promise.resolve();let Hr=null,Kr=null;function hi(e){const t=Hr||fi;return e?t.then(this?e.bind(this):e):t}function Ea(e){let t=it+1,s=Fe.length;for(;t<s;){const r=t+s>>>1;hs(Fe[r])<e?t=r+1:s=r}return t}function di(e){(!Fe.length||!Fe.includes(e,Hs&&e.allowRecurse?it+1:it))&&e!==Kr&&(e.id==null?Fe.push(e):Fe.splice(Ea(e.id),0,e),pi())}function pi(){!Hs&&!Dr&&(Dr=!0,Hr=fi.then(bi))}function Pa(e){const t=Fe.indexOf(e);t>it&&Fe.splice(t,1)}function gi(e,t,s,r){J(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&s.push(e),pi()}function Sa(e){gi(e,us,ls,Bt)}function Oa(e){gi(e,pt,fs,Dt)}function Ks(e,t=null){if(ls.length){for(Kr=t,us=[...new Set(ls)],ls.length=0,Bt=0;Bt<us.length;Bt++)us[Bt]();us=null,Bt=0,Kr=null,Ks(e,t)}}function mi(e){if(Ks(),fs.length){const t=[...new Set(fs)];if(fs.length=0,pt){pt.push(...t);return}for(pt=t,pt.sort((s,r)=>hs(s)-hs(r)),Dt=0;Dt<pt.length;Dt++)pt[Dt]();pt=null,Dt=0}}const hs=e=>e.id==null?1/0:e.id;function bi(e){Dr=!1,Hs=!0,Ks(e),Fe.sort((s,r)=>hs(s)-hs(r));const t=He;try{for(it=0;it<Fe.length;it++){const s=Fe[it];s&&s.active!==!1&&dt(s,null,14)}}finally{it=0,Fe.length=0,mi(),Hs=!1,Hr=null,(Fe.length||ls.length||fs.length)&&bi(e)}}function Ca(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||fe;let n=s;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:g,trim:h}=r[f]||fe;h&&(n=s.map(m=>m.trim())),g&&(n=s.map(Uc))}let c,a=r[c=Ar(t)]||r[c=Ar(Ye(t))];!a&&i&&(a=r[c=Ar(wt(t))]),a&&ze(a,e,6,n);const l=r[c+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ze(l,e,6,n)}}function _i(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},c=!1;if(!X(e)){const a=l=>{const f=_i(l,t,!0);f&&(c=!0,Pe(o,f))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!c?(r.set(e,null),null):(J(i)?i.forEach(a=>o[a]=null):Pe(o,i),r.set(e,o),o)}function zs(e,t){return!e||!Is(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,wt(t))||ee(e,t))}let Se=null,Gs=null;function Ws(e){const t=Se;return Se=e,Gs=e&&e.type.__scopeId||null,t}function Lh(e){Gs=e}function Uh(){Gs=null}function Aa(e,t=Se,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Gi(-1);const i=Ws(t),o=e(...n);return Ws(i),r._d&&Gi(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function zr(e){const{type:t,vnode:s,proxy:r,withProxy:n,props:i,propsOptions:[o],slots:c,attrs:a,emit:l,render:f,renderCache:g,data:h,setupState:m,ctx:k,inheritAttrs:z}=e;let T,$;const Y=Ws(e);try{if(s.shapeFlag&4){const ae=n||r;T=Ze(f.call(ae,ae,g,i,m,h,k)),$=a}else{const ae=t;T=Ze(ae.length>1?ae(i,{attrs:a,slots:c,emit:l}):ae(i,null)),$=t.props?a:ka(a)}}catch(ae){ps.length=0,Ds(ae,e,1),T=Ie(gt)}let ne=T;if($&&z!==!1){const ae=Object.keys($),{shapeFlag:xe}=ne;ae.length&&xe&(1|6)&&(o&&ae.some(Pr)&&($=Ia($,o)),ne=Ht(ne,$))}return s.dirs&&(ne=Ht(ne),ne.dirs=ne.dirs?ne.dirs.concat(s.dirs):s.dirs),s.transition&&(ne.transition=s.transition),T=ne,Ws(Y),T}const ka=e=>{let t;for(const s in e)(s==="class"||s==="style"||Is(s))&&((t||(t={}))[s]=e[s]);return t},Ia=(e,t)=>{const s={};for(const r in e)(!Pr(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function Ra(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:c,patchFlag:a}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return r?yi(r,o,l):!!o;if(a&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const h=f[g];if(o[h]!==r[h]&&!zs(l,h))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?yi(r,o,l):!0:!!o;return!1}function yi(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!zs(s,i))return!0}return!1}function Ma({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Na=e=>e.__isSuspense;function Fa(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):Oa(e)}function Vs(e,t){if(ye){let s=ye.provides;const r=ye.parent&&ye.parent.provides;r===s&&(s=ye.provides=Object.create(r)),s[e]=t}}function Qe(e,t,s=!1){const r=ye||Se;if(r){const n=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&X(t)?t.call(r.proxy):t}}const wi={};function Js(e,t,s){return vi(e,t,s)}function vi(e,t,{immediate:s,deep:r,flush:n,onTrack:i,onTrigger:o}=fe){const c=ye;let a,l=!1,f=!1;if(_e(e)?(a=()=>e.value,l=qr(e)):qt(e)?(a=()=>e,r=!0):J(e)?(f=!0,l=e.some($=>qt($)||qr($)),a=()=>e.map($=>{if(_e($))return $.value;if(qt($))return xt($);if(X($))return dt($,c,2)})):X(e)?t?a=()=>dt(e,c,2):a=()=>{if(!(c&&c.isUnmounted))return g&&g(),ze(e,c,3,[h])}:a=He,t&&r){const $=a;a=()=>xt($())}let g,h=$=>{g=T.onStop=()=>{dt($,c,4)}};if(bs)return h=He,t?s&&ze(t,c,3,[a(),f?[]:void 0,h]):a(),He;let m=f?[]:wi;const k=()=>{if(!!T.active)if(t){const $=T.run();(r||l||(f?$.some((Y,ne)=>rs(Y,m[ne])):rs($,m)))&&(g&&g(),ze(t,c,3,[$,m===wi?void 0:m,h]),m=$)}else T.run()};k.allowRecurse=!!t;let z;n==="sync"?z=k:n==="post"?z=()=>ke(k,c&&c.suspense):z=()=>Sa(k);const T=new Fr(a,z);return t?s?k():m=T.run():n==="post"?ke(T.run.bind(T),c&&c.suspense):T.run(),()=>{T.stop(),c&&c.scope&&Sr(c.scope.effects,T)}}function Ta(e,t,s){const r=this.proxy,n=be(e)?e.includes(".")?xi(r,e):()=>r[e]:e.bind(r,r);let i;X(t)?i=t:(i=t.handler,s=t);const o=ye;Kt(this);const c=vi(n,i.bind(r),s);return o?Kt(o):Ot(),c}function xi(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function xt(e,t){if(!me(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_e(e))xt(e.value,t);else if(J(e))for(let s=0;s<e.length;s++)xt(e[s],t);else if(jn(e)||$t(e))e.forEach(s=>{xt(s,t)});else if(Un(e))for(const s in e)xt(e[s],t);return e}function Ei(e){return X(e)?{setup:e,name:e.name}:e}const ds=e=>!!e.type.__asyncLoader,Pi=e=>e.type.__isKeepAlive;function ja(e,t){Si(e,"a",t)}function $a(e,t){Si(e,"da",t)}function Si(e,t,s=ye){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ys(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Pi(n.parent.vnode)&&La(r,t,s,n),n=n.parent}}function La(e,t,s,r){const n=Ys(t,e,r,!0);Oi(()=>{Sr(r[t],n)},s)}function Ys(e,t,s=ye,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;Lt(),Kt(s);const c=ze(t,s,e,o);return Ot(),Ut(),c});return r?n.unshift(i):n.push(i),i}}const ot=e=>(t,s=ye)=>(!bs||e==="sp")&&Ys(e,t,s),Ua=ot("bm"),qa=ot("m"),Ba=ot("bu"),Da=ot("u"),Ha=ot("bum"),Oi=ot("um"),Ka=ot("sp"),za=ot("rtg"),Ga=ot("rtc");function Wa(e,t=ye){Ys("ec",e,t)}function qh(e,t){const s=Se;if(s===null)return e;const r=sr(s)||s.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,c,a,l=fe]=t[i];X(o)&&(o={mounted:o,updated:o}),o.deep&&xt(c),n.push({dir:o,instance:r,value:c,oldValue:void 0,arg:a,modifiers:l})}return e}function Et(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const c=n[o];i&&(c.oldValue=i[o].value);let a=c.dir[r];a&&(Lt(),ze(a,s,8,[e.el,c,e,t]),Ut())}}const Ci="components";function Bh(e,t){return Ja(Ci,e,!0,t)||e}const Va=Symbol();function Ja(e,t,s=!0,r=!1){const n=Se||ye;if(n){const i=n.type;if(e===Ci){const c=Sl(i);if(c&&(c===t||c===Ye(t)||c===Fs(Ye(t))))return i}const o=Ai(n[e]||i[e],t)||Ai(n.appContext[e],t);return!o&&r?i:o}}function Ai(e,t){return e&&(e[t]||e[Ye(t)]||e[Fs(Ye(t))])}function Dh(e,t,s,r){let n;const i=s&&s[r];if(J(e)||be(e)){n=new Array(e.length);for(let o=0,c=e.length;o<c;o++)n[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,i&&i[o])}else if(me(e))if(e[Symbol.iterator])n=Array.from(e,(o,c)=>t(o,c,void 0,i&&i[c]));else{const o=Object.keys(e);n=new Array(o.length);for(let c=0,a=o.length;c<a;c++){const l=o[c];n[c]=t(e[l],l,c,i&&i[c])}}else n=[];return s&&(s[r]=n),n}function Hh(e,t,s={},r,n){if(Se.isCE||Se.parent&&ds(Se.parent)&&Se.parent.isCE)return Ie("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),zi();const o=i&&ki(i(s)),c=Vi(Ge,{key:s.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function ki(e){return e.some(t=>Zs(t)?!(t.type===gt||t.type===Ge&&!ki(t.children)):!0)?e:null}const Gr=e=>e?Xi(e)?sr(e)||e.proxy:Gr(e.parent):null,Xs=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$emit:e=>e.emit,$options:e=>Mi(e),$forceUpdate:e=>e.f||(e.f=()=>di(e.update)),$nextTick:e=>e.n||(e.n=hi.bind(e.proxy)),$watch:e=>Ta.bind(e)}),Ya={get({_:e},t){const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:c,appContext:a}=e;let l;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(r!==fe&&ee(r,t))return o[t]=1,r[t];if(n!==fe&&ee(n,t))return o[t]=2,n[t];if((l=e.propsOptions[0])&&ee(l,t))return o[t]=3,i[t];if(s!==fe&&ee(s,t))return o[t]=4,s[t];Wr&&(o[t]=0)}}const f=Xs[t];let g,h;if(f)return t==="$attrs"&&Ne(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(s!==fe&&ee(s,t))return o[t]=4,s[t];if(h=a.config.globalProperties,ee(h,t))return h[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return n!==fe&&ee(n,t)?(n[t]=s,!0):r!==fe&&ee(r,t)?(r[t]=s,!0):ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let c;return!!s[o]||e!==fe&&ee(e,o)||t!==fe&&ee(t,o)||(c=i[0])&&ee(c,o)||ee(r,o)||ee(Xs,o)||ee(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ee(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let Wr=!0;function Xa(e){const t=Mi(e),s=e.proxy,r=e.ctx;Wr=!1,t.beforeCreate&&Ii(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:c,provide:a,inject:l,created:f,beforeMount:g,mounted:h,beforeUpdate:m,updated:k,activated:z,deactivated:T,beforeDestroy:$,beforeUnmount:Y,destroyed:ne,unmounted:ae,render:xe,renderTracked:Ee,renderTriggered:Be,errorCaptured:lt,serverPrefetch:Le,expose:Ve,inheritAttrs:Ue,components:Re,directives:rt,filters:w}=t;if(l&&Qa(l,r,null,e.appContext.config.unwrapInjectedRef),o)for(const U in o){const H=o[U];X(H)&&(r[U]=H.bind(s))}if(n){const U=n.call(s,s);me(U)&&(e.data=is(U))}if(Wr=!0,i)for(const U in i){const H=i[U],Q=X(H)?H.bind(s,s):X(H.get)?H.get.bind(s,s):He,Z=!X(H)&&X(H.set)?H.set.bind(s):He,te=tt({get:Q,set:Z});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>te.value,set:oe=>te.value=oe})}if(c)for(const U in c)Ri(c[U],r,s,U);if(a){const U=X(a)?a.call(s):a;Reflect.ownKeys(U).forEach(H=>{Vs(H,U[H])})}f&&Ii(f,e,"c");function K(U,H){J(H)?H.forEach(Q=>U(Q.bind(s))):H&&U(H.bind(s))}if(K(Ua,g),K(qa,h),K(Ba,m),K(Da,k),K(ja,z),K($a,T),K(Wa,lt),K(Ga,Ee),K(za,Be),K(Ha,Y),K(Oi,ae),K(Ka,Le),J(Ve))if(Ve.length){const U=e.exposed||(e.exposed={});Ve.forEach(H=>{Object.defineProperty(U,H,{get:()=>s[H],set:Q=>s[H]=Q})})}else e.exposed||(e.exposed={});xe&&e.render===He&&(e.render=xe),Ue!=null&&(e.inheritAttrs=Ue),Re&&(e.components=Re),rt&&(e.directives=rt)}function Qa(e,t,s=He,r=!1){J(e)&&(e=Vr(e));for(const n in e){const i=e[n];let o;me(i)?"default"in i?o=Qe(i.from||n,i.default,!0):o=Qe(i.from||n):o=Qe(i),_e(o)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[n]=o}}function Ii(e,t,s){ze(J(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ri(e,t,s,r){const n=r.includes(".")?xi(s,r):()=>s[r];if(be(e)){const i=t[e];X(i)&&Js(n,i)}else if(X(e))Js(n,e.bind(s));else if(me(e))if(J(e))e.forEach(i=>Ri(i,t,s,r));else{const i=X(e.handler)?e.handler.bind(s):t[e.handler];X(i)&&Js(n,i,e)}}function Mi(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,c=i.get(t);let a;return c?a=c:!n.length&&!s&&!r?a=t:(a={},n.length&&n.forEach(l=>Qs(a,l,o,!0)),Qs(a,t,o)),i.set(t,a),a}function Qs(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&Qs(e,i,s,!0),n&&n.forEach(o=>Qs(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const c=Za[o]||s&&s[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const Za={data:Ni,props:Pt,emits:Pt,methods:Pt,computed:Pt,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Pt,directives:Pt,watch:tl,provide:Ni,inject:el};function Ni(e,t){return t?e?function(){return Pe(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function el(e,t){return Pt(Vr(e),Vr(t))}function Vr(e){if(J(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Pt(e,t){return e?Pe(Pe(Object.create(null),e),t):t}function tl(e,t){if(!e)return t;if(!t)return e;const s=Pe(Object.create(null),e);for(const r in t)s[r]=Oe(e[r],t[r]);return s}function sl(e,t,s,r=!1){const n={},i={};Ts(i,er,1),e.propsDefaults=Object.create(null),Fi(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:pa(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function rl(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,c=ce(n),[a]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let g=0;g<f.length;g++){let h=f[g];if(zs(e.emitsOptions,h))continue;const m=t[h];if(a)if(ee(i,h))m!==i[h]&&(i[h]=m,l=!0);else{const k=Ye(h);n[k]=Jr(a,c,k,m,e,!1)}else m!==i[h]&&(i[h]=m,l=!0)}}}else{Fi(e,t,n,i)&&(l=!0);let f;for(const g in c)(!t||!ee(t,g)&&((f=wt(g))===g||!ee(t,f)))&&(a?s&&(s[g]!==void 0||s[f]!==void 0)&&(n[g]=Jr(a,c,g,void 0,e,!0)):delete n[g]);if(i!==c)for(const g in i)(!t||!ee(t,g)&&!0)&&(delete i[g],l=!0)}l&&nt(e,"set","$attrs")}function Fi(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,c;if(t)for(let a in t){if(Ms(a))continue;const l=t[a];let f;n&&ee(n,f=Ye(a))?!i||!i.includes(f)?s[f]=l:(c||(c={}))[f]=l:zs(e.emitsOptions,a)||(!(a in r)||l!==r[a])&&(r[a]=l,o=!0)}if(i){const a=ce(s),l=c||fe;for(let f=0;f<i.length;f++){const g=i[f];s[g]=Jr(n,a,g,l[g],e,!ee(l,g))}}return o}function Jr(e,t,s,r,n,i){const o=e[s];if(o!=null){const c=ee(o,"default");if(c&&r===void 0){const a=o.default;if(o.type!==Function&&X(a)){const{propsDefaults:l}=n;s in l?r=l[s]:(Kt(n),r=l[s]=a.call(null,t),Ot())}else r=a}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===wt(s))&&(r=!0))}return r}function Ti(e,t,s=!1){const r=t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},c=[];let a=!1;if(!X(e)){const f=g=>{a=!0;const[h,m]=Ti(g,t,!0);Pe(o,h),m&&c.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!a)return r.set(e,jt),jt;if(J(i))for(let f=0;f<i.length;f++){const g=Ye(i[f]);ji(g)&&(o[g]=fe)}else if(i)for(const f in i){const g=Ye(f);if(ji(g)){const h=i[f],m=o[g]=J(h)||X(h)?{type:h}:h;if(m){const k=Ui(Boolean,m.type),z=Ui(String,m.type);m[0]=k>-1,m[1]=z<0||k<z,(k>-1||ee(m,"default"))&&c.push(g)}}}const l=[o,c];return r.set(e,l),l}function ji(e){return e[0]!=="$"}function $i(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Li(e,t){return $i(e)===$i(t)}function Ui(e,t){return J(t)?t.findIndex(s=>Li(s,e)):X(t)&&Li(t,e)?0:-1}const qi=e=>e[0]==="_"||e==="$stable",Yr=e=>J(e)?e.map(Ze):[Ze(e)],nl=(e,t,s)=>{if(t._n)return t;const r=Aa((...n)=>Yr(t(...n)),s);return r._c=!1,r},Bi=(e,t,s)=>{const r=e._ctx;for(const n in e){if(qi(n))continue;const i=e[n];if(X(i))t[n]=nl(n,i,r);else if(i!=null){const o=Yr(i);t[n]=()=>o}}},Di=(e,t)=>{const s=Yr(t);e.slots.default=()=>s},il=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=ce(t),Ts(t,"_",s)):Bi(t,e.slots={})}else e.slots={},t&&Di(e,t);Ts(e.slots,er,1)},ol=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=fe;if(r.shapeFlag&32){const c=t._;c?s&&c===1?i=!1:(Pe(n,t),!s&&c===1&&delete n._):(i=!t.$stable,Bi(t,n)),o=t}else t&&(Di(e,t),o={default:1});if(i)for(const c in n)!qi(c)&&!(c in o)&&delete n[c]};function Hi(){return{app:null,config:{isNativeTag:Nc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cl=0;function al(e,t){return function(r,n=null){X(r)||(r=Object.assign({},r)),n!=null&&!me(n)&&(n=null);const i=Hi(),o=new Set;let c=!1;const a=i.app={_uid:cl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Cl,get config(){return i.config},set config(l){},use(l,...f){return o.has(l)||(l&&X(l.install)?(o.add(l),l.install(a,...f)):X(l)&&(o.add(l),l(a,...f))),a},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),a},component(l,f){return f?(i.components[l]=f,a):i.components[l]},directive(l,f){return f?(i.directives[l]=f,a):i.directives[l]},mount(l,f,g){if(!c){const h=Ie(r,n);return h.appContext=i,f&&t?t(h,l):e(h,l,g),c=!0,a._container=l,l.__vue_app__=a,sr(h.component)||h.component.proxy}},unmount(){c&&(e(null,a._container),delete a._container.__vue_app__)},provide(l,f){return i.provides[l]=f,a}};return a}}function Xr(e,t,s,r,n=!1){if(J(e)){e.forEach((h,m)=>Xr(h,t&&(J(t)?t[m]:t),s,r,n));return}if(ds(r)&&!n)return;const i=r.shapeFlag&4?sr(r.component)||r.component.proxy:r.el,o=n?null:i,{i:c,r:a}=e,l=t&&t.r,f=c.refs===fe?c.refs={}:c.refs,g=c.setupState;if(l!=null&&l!==a&&(be(l)?(f[l]=null,ee(g,l)&&(g[l]=null)):_e(l)&&(l.value=null)),X(a))dt(a,c,12,[o,f]);else{const h=be(a),m=_e(a);if(h||m){const k=()=>{if(e.f){const z=h?f[a]:a.value;n?J(z)&&Sr(z,i):J(z)?z.includes(i)||z.push(i):h?(f[a]=[i],ee(g,a)&&(g[a]=f[a])):(a.value=[i],e.k&&(f[e.k]=a.value))}else h?(f[a]=o,ee(g,a)&&(g[a]=o)):_e(a)&&(a.value=o,e.k&&(f[e.k]=o))};o?(k.id=-1,ke(k,s)):k()}}}const ke=Fa;function ll(e){return ul(e)}function ul(e,t){const s=qc();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:c,createComment:a,setText:l,setElementText:f,parentNode:g,nextSibling:h,setScopeId:m=He,cloneNode:k,insertStaticContent:z}=e,T=(u,p,b,E=null,x=null,C=null,M=!1,O=null,A=!!p.dynamicChildren)=>{if(u===p)return;u&&!ms(u,p)&&(E=L(u),ge(u,x,C,!0),u=null),p.patchFlag===-2&&(A=!1,p.dynamicChildren=null);const{type:S,ref:q,shapeFlag:j}=p;switch(S){case Qr:$(u,p,b,E);break;case gt:Y(u,p,b,E);break;case Zr:u==null&&ne(p,b,E,M);break;case Ge:rt(u,p,b,E,x,C,M,O,A);break;default:j&1?Ee(u,p,b,E,x,C,M,O,A):j&6?w(u,p,b,E,x,C,M,O,A):(j&64||j&128)&&S.process(u,p,b,E,x,C,M,O,A,se)}q!=null&&x&&Xr(q,u&&u.ref,C,p||u,!p)},$=(u,p,b,E)=>{if(u==null)r(p.el=c(p.children),b,E);else{const x=p.el=u.el;p.children!==u.children&&l(x,p.children)}},Y=(u,p,b,E)=>{u==null?r(p.el=a(p.children||""),b,E):p.el=u.el},ne=(u,p,b,E)=>{[u.el,u.anchor]=z(u.children,p,b,E,u.el,u.anchor)},ae=({el:u,anchor:p},b,E)=>{let x;for(;u&&u!==p;)x=h(u),r(u,b,E),u=x;r(p,b,E)},xe=({el:u,anchor:p})=>{let b;for(;u&&u!==p;)b=h(u),n(u),u=b;n(p)},Ee=(u,p,b,E,x,C,M,O,A)=>{M=M||p.type==="svg",u==null?Be(p,b,E,x,C,M,O,A):Ve(u,p,x,C,M,O,A)},Be=(u,p,b,E,x,C,M,O)=>{let A,S;const{type:q,props:j,shapeFlag:D,transition:W,patchFlag:re,dirs:le}=u;if(u.el&&k!==void 0&&re===-1)A=u.el=k(u.el);else{if(A=u.el=o(u.type,C,j&&j.is,j),D&8?f(A,u.children):D&16&&Le(u.children,A,null,E,x,C&&q!=="foreignObject",M,O),le&&Et(u,null,E,"created"),j){for(const de in j)de!=="value"&&!Ms(de)&&i(A,de,null,j[de],C,u.children,E,x,P);"value"in j&&i(A,"value",null,j.value),(S=j.onVnodeBeforeMount)&&et(S,E,u)}lt(A,u,u.scopeId,M,E)}le&&Et(u,null,E,"beforeMount");const ue=(!x||x&&!x.pendingBranch)&&W&&!W.persisted;ue&&W.beforeEnter(A),r(A,p,b),((S=j&&j.onVnodeMounted)||ue||le)&&ke(()=>{S&&et(S,E,u),ue&&W.enter(A),le&&Et(u,null,E,"mounted")},x)},lt=(u,p,b,E,x)=>{if(b&&m(u,b),E)for(let C=0;C<E.length;C++)m(u,E[C]);if(x){let C=x.subTree;if(p===C){const M=x.vnode;lt(u,M,M.scopeId,M.slotScopeIds,x.parent)}}},Le=(u,p,b,E,x,C,M,O,A=0)=>{for(let S=A;S<u.length;S++){const q=u[S]=O?mt(u[S]):Ze(u[S]);T(null,q,p,b,E,x,C,M,O)}},Ve=(u,p,b,E,x,C,M)=>{const O=p.el=u.el;let{patchFlag:A,dynamicChildren:S,dirs:q}=p;A|=u.patchFlag&16;const j=u.props||fe,D=p.props||fe;let W;b&&St(b,!1),(W=D.onVnodeBeforeUpdate)&&et(W,b,p,u),q&&Et(p,u,b,"beforeUpdate"),b&&St(b,!0);const re=x&&p.type!=="foreignObject";if(S?Ue(u.dynamicChildren,S,O,b,E,re,C):M||Q(u,p,O,null,b,E,re,C,!1),A>0){if(A&16)Re(O,p,j,D,b,E,x);else if(A&2&&j.class!==D.class&&i(O,"class",null,D.class,x),A&4&&i(O,"style",j.style,D.style,x),A&8){const le=p.dynamicProps;for(let ue=0;ue<le.length;ue++){const de=le[ue],De=j[de],Tt=D[de];(Tt!==De||de==="value")&&i(O,de,De,Tt,x,u.children,b,E,P)}}A&1&&u.children!==p.children&&f(O,p.children)}else!M&&S==null&&Re(O,p,j,D,b,E,x);((W=D.onVnodeUpdated)||q)&&ke(()=>{W&&et(W,b,p,u),q&&Et(p,u,b,"updated")},E)},Ue=(u,p,b,E,x,C,M)=>{for(let O=0;O<p.length;O++){const A=u[O],S=p[O],q=A.el&&(A.type===Ge||!ms(A,S)||A.shapeFlag&(6|64))?g(A.el):b;T(A,S,q,null,E,x,C,M,!0)}},Re=(u,p,b,E,x,C,M)=>{if(b!==E){for(const O in E){if(Ms(O))continue;const A=E[O],S=b[O];A!==S&&O!=="value"&&i(u,O,S,A,M,p.children,x,C,P)}if(b!==fe)for(const O in b)!Ms(O)&&!(O in E)&&i(u,O,b[O],null,M,p.children,x,C,P);"value"in E&&i(u,"value",b.value,E.value)}},rt=(u,p,b,E,x,C,M,O,A)=>{const S=p.el=u?u.el:c(""),q=p.anchor=u?u.anchor:c("");let{patchFlag:j,dynamicChildren:D,slotScopeIds:W}=p;W&&(O=O?O.concat(W):W),u==null?(r(S,b,E),r(q,b,E),Le(p.children,b,q,x,C,M,O,A)):j>0&&j&64&&D&&u.dynamicChildren?(Ue(u.dynamicChildren,D,b,x,C,M,O),(p.key!=null||x&&p===x.subTree)&&Ki(u,p,!0)):Q(u,p,b,q,x,C,M,O,A)},w=(u,p,b,E,x,C,M,O,A)=>{p.slotScopeIds=O,u==null?p.shapeFlag&512?x.ctx.activate(p,b,E,M,A):y(p,b,E,x,C,M,A):K(u,p,A)},y=(u,p,b,E,x,C,M)=>{const O=u.component=wl(u,E,x);if(Pi(u)&&(O.ctx.renderer=se),vl(O),O.asyncDep){if(x&&x.registerDep(O,U),!u.el){const A=O.subTree=Ie(gt);Y(null,A,p,b)}return}U(O,u,p,b,x,C,M)},K=(u,p,b)=>{const E=p.component=u.component;if(Ra(u,p,b))if(E.asyncDep&&!E.asyncResolved){H(E,p,b);return}else E.next=p,Pa(E.update),E.update();else p.el=u.el,E.vnode=p},U=(u,p,b,E,x,C,M)=>{const O=()=>{if(u.isMounted){let{next:q,bu:j,u:D,parent:W,vnode:re}=u,le=q,ue;St(u,!1),q?(q.el=re.el,H(u,q,M)):q=re,j&&kr(j),(ue=q.props&&q.props.onVnodeBeforeUpdate)&&et(ue,W,q,re),St(u,!0);const de=zr(u),De=u.subTree;u.subTree=de,T(De,de,g(De.el),L(De),u,x,C),q.el=de.el,le===null&&Ma(u,de.el),D&&ke(D,x),(ue=q.props&&q.props.onVnodeUpdated)&&ke(()=>et(ue,W,q,re),x)}else{let q;const{el:j,props:D}=p,{bm:W,m:re,parent:le}=u,ue=ds(p);if(St(u,!1),W&&kr(W),!ue&&(q=D&&D.onVnodeBeforeMount)&&et(q,le,p),St(u,!0),j&&G){const de=()=>{u.subTree=zr(u),G(j,u.subTree,u,x,null)};ue?p.type.__asyncLoader().then(()=>!u.isUnmounted&&de()):de()}else{const de=u.subTree=zr(u);T(null,de,b,E,u,x,C),p.el=de.el}if(re&&ke(re,x),!ue&&(q=D&&D.onVnodeMounted)){const de=p;ke(()=>et(q,le,de),x)}(p.shapeFlag&256||le&&ds(le.vnode)&&le.vnode.shapeFlag&256)&&u.a&&ke(u.a,x),u.isMounted=!0,p=b=E=null}},A=u.effect=new Fr(O,()=>di(S),u.scope),S=u.update=()=>A.run();S.id=u.uid,St(u,!0),S()},H=(u,p,b)=>{p.component=u;const E=u.vnode.props;u.vnode=p,u.next=null,rl(u,p.props,E,b),ol(u,p.children,b),Lt(),Ks(void 0,u.update),Ut()},Q=(u,p,b,E,x,C,M,O,A=!1)=>{const S=u&&u.children,q=u?u.shapeFlag:0,j=p.children,{patchFlag:D,shapeFlag:W}=p;if(D>0){if(D&128){te(S,j,b,E,x,C,M,O,A);return}else if(D&256){Z(S,j,b,E,x,C,M,O,A);return}}W&8?(q&16&&P(S,x,C),j!==S&&f(b,j)):q&16?W&16?te(S,j,b,E,x,C,M,O,A):P(S,x,C,!0):(q&8&&f(b,""),W&16&&Le(j,b,E,x,C,M,O,A))},Z=(u,p,b,E,x,C,M,O,A)=>{u=u||jt,p=p||jt;const S=u.length,q=p.length,j=Math.min(S,q);let D;for(D=0;D<j;D++){const W=p[D]=A?mt(p[D]):Ze(p[D]);T(u[D],W,b,null,x,C,M,O,A)}S>q?P(u,x,C,!0,!1,j):Le(p,b,E,x,C,M,O,A,j)},te=(u,p,b,E,x,C,M,O,A)=>{let S=0;const q=p.length;let j=u.length-1,D=q-1;for(;S<=j&&S<=D;){const W=u[S],re=p[S]=A?mt(p[S]):Ze(p[S]);if(ms(W,re))T(W,re,b,null,x,C,M,O,A);else break;S++}for(;S<=j&&S<=D;){const W=u[j],re=p[D]=A?mt(p[D]):Ze(p[D]);if(ms(W,re))T(W,re,b,null,x,C,M,O,A);else break;j--,D--}if(S>j){if(S<=D){const W=D+1,re=W<q?p[W].el:E;for(;S<=D;)T(null,p[S]=A?mt(p[S]):Ze(p[S]),b,re,x,C,M,O,A),S++}}else if(S>D)for(;S<=j;)ge(u[S],x,C,!0),S++;else{const W=S,re=S,le=new Map;for(S=re;S<=D;S++){const Me=p[S]=A?mt(p[S]):Ze(p[S]);Me.key!=null&&le.set(Me.key,S)}let ue,de=0;const De=D-re+1;let Tt=!1,Rn=0;const ss=new Array(De);for(S=0;S<De;S++)ss[S]=0;for(S=W;S<=j;S++){const Me=u[S];if(de>=De){ge(Me,x,C,!0);continue}let Je;if(Me.key!=null)Je=le.get(Me.key);else for(ue=re;ue<=D;ue++)if(ss[ue-re]===0&&ms(Me,p[ue])){Je=ue;break}Je===void 0?ge(Me,x,C,!0):(ss[Je-re]=S+1,Je>=Rn?Rn=Je:Tt=!0,T(Me,p[Je],b,null,x,C,M,O,A),de++)}const Mn=Tt?fl(ss):jt;for(ue=Mn.length-1,S=De-1;S>=0;S--){const Me=re+S,Je=p[Me],Nn=Me+1<q?p[Me+1].el:E;ss[S]===0?T(null,Je,b,Nn,x,C,M,O,A):Tt&&(ue<0||S!==Mn[ue]?oe(Je,b,Nn,2):ue--)}}},oe=(u,p,b,E,x=null)=>{const{el:C,type:M,transition:O,children:A,shapeFlag:S}=u;if(S&6){oe(u.component.subTree,p,b,E);return}if(S&128){u.suspense.move(p,b,E);return}if(S&64){M.move(u,p,b,se);return}if(M===Ge){r(C,p,b);for(let j=0;j<A.length;j++)oe(A[j],p,b,E);r(u.anchor,p,b);return}if(M===Zr){ae(u,p,b);return}if(E!==2&&S&1&&O)if(E===0)O.beforeEnter(C),r(C,p,b),ke(()=>O.enter(C),x);else{const{leave:j,delayLeave:D,afterLeave:W}=O,re=()=>r(C,p,b),le=()=>{j(C,()=>{re(),W&&W()})};D?D(C,re,le):le()}else r(C,p,b)},ge=(u,p,b,E=!1,x=!1)=>{const{type:C,props:M,ref:O,children:A,dynamicChildren:S,shapeFlag:q,patchFlag:j,dirs:D}=u;if(O!=null&&Xr(O,null,b,u,!0),q&256){p.ctx.deactivate(u);return}const W=q&1&&D,re=!ds(u);let le;if(re&&(le=M&&M.onVnodeBeforeUnmount)&&et(le,p,u),q&6)F(u.component,b,E);else{if(q&128){u.suspense.unmount(b,E);return}W&&Et(u,null,p,"beforeUnmount"),q&64?u.type.remove(u,p,b,x,se,E):S&&(C!==Ge||j>0&&j&64)?P(S,p,b,!1,!0):(C===Ge&&j&(128|256)||!x&&q&16)&&P(A,p,b),E&&pe(u)}(re&&(le=M&&M.onVnodeUnmounted)||W)&&ke(()=>{le&&et(le,p,u),W&&Et(u,null,p,"unmounted")},b)},pe=u=>{const{type:p,el:b,anchor:E,transition:x}=u;if(p===Ge){v(b,E);return}if(p===Zr){xe(u);return}const C=()=>{n(b),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(u.shapeFlag&1&&x&&!x.persisted){const{leave:M,delayLeave:O}=x,A=()=>M(b,C);O?O(u.el,C,A):A()}else C()},v=(u,p)=>{let b;for(;u!==p;)b=h(u),n(u),u=b;n(p)},F=(u,p,b)=>{const{bum:E,scope:x,update:C,subTree:M,um:O}=u;E&&kr(E),x.stop(),C&&(C.active=!1,ge(M,u,p,b)),O&&ke(O,p),ke(()=>{u.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},P=(u,p,b,E=!1,x=!1,C=0)=>{for(let M=C;M<u.length;M++)ge(u[M],p,b,E,x)},L=u=>u.shapeFlag&6?L(u.component.subTree):u.shapeFlag&128?u.suspense.next():h(u.anchor||u.el),ie=(u,p,b)=>{u==null?p._vnode&&ge(p._vnode,null,null,!0):T(p._vnode||null,u,p,null,null,null,b),mi(),p._vnode=u},se={p:T,um:ge,m:oe,r:pe,mt:y,mc:Le,pc:Q,pbc:Ue,n:L,o:e};let V,G;return t&&([V,G]=t(se)),{render:ie,hydrate:V,createApp:al(ie,V)}}function St({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Ki(e,t,s=!1){const r=e.children,n=t.children;if(J(r)&&J(n))for(let i=0;i<r.length;i++){const o=r[i];let c=n[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[i]=mt(n[i]),c.el=o.el),s||Ki(o,c))}}function fl(e){const t=e.slice(),s=[0];let r,n,i,o,c;const a=e.length;for(r=0;r<a;r++){const l=e[r];if(l!==0){if(n=s[s.length-1],e[n]<l){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)c=i+o>>1,e[s[c]]<l?i=c+1:o=c;l<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}const hl=e=>e.__isTeleport,Ge=Symbol(void 0),Qr=Symbol(void 0),gt=Symbol(void 0),Zr=Symbol(void 0),ps=[];let We=null;function zi(e=!1){ps.push(We=e?null:[])}function dl(){ps.pop(),We=ps[ps.length-1]||null}let gs=1;function Gi(e){gs+=e}function Wi(e){return e.dynamicChildren=gs>0?We||jt:null,dl(),gs>0&&We&&We.push(e),e}function Kh(e,t,s,r,n,i){return Wi(Yi(e,t,s,r,n,i,!0))}function Vi(e,t,s,r,n){return Wi(Ie(e,t,s,r,n,!0))}function Zs(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const er="__vInternal",Ji=({key:e})=>e!=null?e:null,tr=({ref:e,ref_key:t,ref_for:s})=>e!=null?be(e)||_e(e)||X(e)?{i:Se,r:e,k:t,f:!!s}:e:null;function Yi(e,t=null,s=null,r=0,n=null,i=e===Ge?0:1,o=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ji(t),ref:t&&tr(t),scopeId:Gs,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null};return c?(en(a,s),i&128&&e.normalize(a)):s&&(a.shapeFlag|=be(s)?8:16),gs>0&&!o&&We&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&We.push(a),a}const Ie=pl;function pl(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Va)&&(e=gt),Zs(e)){const c=Ht(e,t,!0);return s&&en(c,s),gs>0&&!i&&We&&(c.shapeFlag&6?We[We.indexOf(e)]=c:We.push(c)),c.patchFlag|=-2,c}if(Ol(e)&&(e=e.__vccOpts),t){t=gl(t);let{class:c,style:a}=t;c&&!be(c)&&(t.class=Er(c)),me(a)&&(ii(a)&&!J(a)&&(a=Pe({},a)),t.style=xr(a))}const o=be(e)?1:Na(e)?128:hl(e)?64:me(e)?4:X(e)?2:0;return Yi(e,t,s,r,n,o,i,!0)}function gl(e){return e?ii(e)||er in e?Pe({},e):e:null}function Ht(e,t,s=!1){const{props:r,ref:n,patchFlag:i,children:o}=e,c=t?bl(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ji(c),ref:t&&t.ref?s&&n?J(n)?n.concat(tr(t)):[n,tr(t)]:tr(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),el:e.el,anchor:e.anchor}}function ml(e=" ",t=0){return Ie(Qr,null,e,t)}function zh(e="",t=!1){return t?(zi(),Vi(gt,null,e)):Ie(gt,null,e)}function Ze(e){return e==null||typeof e=="boolean"?Ie(gt):J(e)?Ie(Ge,null,e.slice()):typeof e=="object"?mt(e):Ie(Qr,null,String(e))}function mt(e){return e.el===null||e.memo?e:Ht(e)}function en(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(J(t))s=16;else if(typeof t=="object")if(r&(1|64)){const n=t.default;n&&(n._c&&(n._d=!1),en(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!(er in t)?t._ctx=Se:n===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Se},s=32):(t=String(t),r&64?(s=16,t=[ml(t)]):s=8);e.children=t,e.shapeFlag|=s}function bl(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=Er([t.class,r.class]));else if(n==="style")t.style=xr([t.style,r.style]);else if(Is(n)){const i=t[n],o=r[n];o&&i!==o&&!(J(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function et(e,t,s,r=null){ze(e,t,7,[s,r])}const _l=Hi();let yl=0;function wl(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||_l,i={uid:yl++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ti(r,n),emitsOptions:_i(r,n),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:r.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ca.bind(null,i),e.ce&&e.ce(i),i}let ye=null;const Kt=e=>{ye=e,e.scope.on()},Ot=()=>{ye&&ye.scope.off(),ye=null};function Xi(e){return e.vnode.shapeFlag&4}let bs=!1;function vl(e,t=!1){bs=t;const{props:s,children:r}=e.vnode,n=Xi(e);sl(e,s,n,t),il(e,r);const i=n?xl(e,t):void 0;return bs=!1,i}function xl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=oi(new Proxy(e.ctx,Ya));const{setup:r}=s;if(r){const n=e.setupContext=r.length>1?Pl(e):null;Kt(e),Lt();const i=dt(r,e,0,[e.props,n]);if(Ut(),Ot(),$n(i)){if(i.then(Ot,Ot),t)return i.then(o=>{Qi(e,o,t)}).catch(o=>{Ds(o,e,0)});e.asyncDep=i}else Qi(e,i,t)}else eo(e,t)}function Qi(e,t,s){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=ui(t)),eo(e,s)}let Zi;function eo(e,t,s){const r=e.type;if(!e.render){if(!t&&Zi&&!r.render){const n=r.template;if(n){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:a}=r,l=Pe(Pe({isCustomElement:i,delimiters:c},o),a);r.render=Zi(n,l)}}e.render=r.render||He}Kt(e),Lt(),Xa(e),Ut(),Ot()}function El(e){return new Proxy(e.attrs,{get(t,s){return Ne(e,"get","$attrs"),t[s]}})}function Pl(e){const t=r=>{e.exposed=r||{}};let s;return{get attrs(){return s||(s=El(e))},slots:e.slots,emit:e.emit,expose:t}}function sr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ui(oi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Xs)return Xs[s](e)}}))}function Sl(e){return X(e)&&e.displayName||e.name}function Ol(e){return X(e)&&"__vccOpts"in e}const tt=(e,t)=>va(e,t,bs);function to(e,t,s){const r=arguments.length;return r===2?me(t)&&!J(t)?Zs(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Zs(s)&&(s=[s]),Ie(e,t,s))}const Cl="3.2.36",Al="http://www.w3.org/2000/svg",Ct=typeof document!="undefined"?document:null,so=Ct&&Ct.createElement("template"),kl={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t?Ct.createElementNS(Al,e):Ct.createElement(e,s?{is:s}:void 0);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>Ct.createTextNode(e),createComment:e=>Ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{so.innerHTML=r?`<svg>${e}</svg>`:e;const c=so.content;if(r){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function Il(e,t,s){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function Rl(e,t,s){const r=e.style,n=be(s);if(s&&!n){for(const i in s)tn(r,i,s[i]);if(t&&!be(t))for(const i in t)s[i]==null&&tn(r,i,"")}else{const i=r.display;n?t!==s&&(r.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const ro=/\s*!important$/;function tn(e,t,s){if(J(s))s.forEach(r=>tn(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Ml(e,t);ro.test(s)?e.setProperty(wt(r),s.replace(ro,""),"important"):e[r]=s}}const no=["Webkit","Moz","ms"],sn={};function Ml(e,t){const s=sn[t];if(s)return s;let r=Ye(t);if(r!=="filter"&&r in e)return sn[t]=r;r=Fs(r);for(let n=0;n<no.length;n++){const i=no[n]+r;if(i in e)return sn[t]=i}return t}const io="http://www.w3.org/1999/xlink";function Nl(e,t,s,r,n){if(r&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(io,t.slice(6,t.length)):e.setAttributeNS(io,t,s);else{const i=kc(t);s==null||i&&!Fn(s)?e.removeAttribute(t):e.setAttribute(t,i?"":s)}}function Fl(e,t,s,r,n,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,n,i),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const a=s==null?"":s;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),s==null&&e.removeAttribute(t);return}let c=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Fn(s):s==null&&a==="string"?(s="",c=!0):a==="number"&&(s=0,c=!0)}try{e[t]=s}catch{}c&&e.removeAttribute(t)}const[oo,Tl]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let rn=0;const jl=Promise.resolve(),$l=()=>{rn=0},Ll=()=>rn||(jl.then($l),rn=oo());function Ul(e,t,s,r){e.addEventListener(t,s,r)}function ql(e,t,s,r){e.removeEventListener(t,s,r)}function Bl(e,t,s,r,n=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[c,a]=Dl(t);if(r){const l=i[t]=Hl(r,n);Ul(e,c,l,a)}else o&&(ql(e,c,o,a),i[t]=void 0)}}const co=/(?:Once|Passive|Capture)$/;function Dl(e){let t;if(co.test(e)){t={};let s;for(;s=e.match(co);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[wt(e.slice(2)),t]}function Hl(e,t){const s=r=>{const n=r.timeStamp||oo();(Tl||n>=s.attached-1)&&ze(Kl(r,s.value),t,5,[r])};return s.value=e,s.attached=Ll(),s}function Kl(e,t){if(J(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const ao=/^on[a-z]/,zl=(e,t,s,r,n=!1,i,o,c,a)=>{t==="class"?Il(e,r,n):t==="style"?Rl(e,s,r):Is(t)?Pr(t)||Bl(e,t,s,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gl(e,t,r,n))?Fl(e,t,r,i,o,c,a):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Nl(e,t,r,n))};function Gl(e,t,s,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ao.test(t)&&X(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ao.test(t)&&be(s)?!1:t in e}const Wl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gh=(e,t)=>s=>{if(!("key"in s))return;const r=wt(s.key);if(t.some(n=>n===r||Wl[n]===r))return e(s)},Wh={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):_s(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),_s(e,!0),r.enter(e)):r.leave(e,()=>{_s(e,!1)}):_s(e,t))},beforeUnmount(e,{value:t}){_s(e,t)}};function _s(e,t){e.style.display=t?e._vod:"none"}const Vl=Pe({patchProp:zl},kl);let lo;function Jl(){return lo||(lo=ll(Vl))}const Vh=(...e)=>{const t=Jl().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Yl(r);if(!n)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Yl(e){return be(e)?document.querySelector(e):e}var nn={};(function e(t,s,r,n){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function c(w){var y=s.exports.Promise,K=y!==void 0?y:t.Promise;return typeof K=="function"?new K(w):(w(o,o),null)}var a=function(){var w=Math.floor(1e3/60),y,K,U={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(Q){var Z=Math.random();return U[Z]=requestAnimationFrame(function te(oe){H===oe||H+w-1<oe?(H=oe,delete U[Z],Q()):U[Z]=requestAnimationFrame(te)}),Z},K=function(Q){U[Q]&&cancelAnimationFrame(U[Q])}):(y=function(Q){return setTimeout(Q,w)},K=function(Q){return clearTimeout(Q)}),{frame:y,cancel:K}}(),l=function(){var w,y,K={};function U(H){function Q(Z,te){H.postMessage({options:Z||{},callback:te})}H.init=function(te){var oe=te.transferControlToOffscreen();H.postMessage({canvas:oe},[oe])},H.fire=function(te,oe,ge){if(y)return Q(te,null),y;var pe=Math.random().toString(36).slice(2);return y=c(function(v){function F(P){P.data.callback===pe&&(delete K[pe],H.removeEventListener("message",F),y=null,ge(),v())}H.addEventListener("message",F),Q(te,pe),K[pe]=F.bind(null,{data:{callback:pe}})}),y},H.reset=function(){H.postMessage({reset:!0});for(var te in K)K[te](),delete K[te]}}return function(){if(w)return w;if(!r&&i){var H=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([H])))}catch(Q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",Q),null}U(w)}return w}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(w,y){return y?y(w):w}function h(w){return w!=null}function m(w,y,K){return g(w&&h(w[y])?w[y]:f[y],K)}function k(w){return w<0?0:Math.floor(w)}function z(w,y){return Math.floor(Math.random()*(y-w))+w}function T(w){return parseInt(w,16)}function $(w){return w.map(Y)}function Y(w){var y=String(w).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:T(y.substring(0,2)),g:T(y.substring(2,4)),b:T(y.substring(4,6))}}function ne(w){var y=m(w,"origin",Object);return y.x=m(y,"x",Number),y.y=m(y,"y",Number),y}function ae(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function xe(w){var y=w.getBoundingClientRect();w.width=y.width,w.height=y.height}function Ee(w){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=w,y}function Be(w,y,K,U,H,Q,Z,te,oe){w.save(),w.translate(y,K),w.rotate(Q),w.scale(U,H),w.arc(0,0,1,Z,te,oe),w.restore()}function lt(w){var y=w.angle*(Math.PI/180),K=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-y+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar}}function Le(w,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.wobble+=y.wobbleSpeed,y.velocity*=y.decay,y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble);var K=y.tick++/y.totalTicks,U=y.x+y.random*y.tiltCos,H=y.y+y.random*y.tiltSin,Q=y.wobbleX+y.random*y.tiltCos,Z=y.wobbleY+y.random*y.tiltSin;return w.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-K)+")",w.beginPath(),y.shape==="circle"?w.ellipse?w.ellipse(y.x,y.y,Math.abs(Q-U)*y.ovalScalar,Math.abs(Z-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):Be(w,y.x,y.y,Math.abs(Q-U)*y.ovalScalar,Math.abs(Z-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):(w.moveTo(Math.floor(y.x),Math.floor(y.y)),w.lineTo(Math.floor(y.wobbleX),Math.floor(H)),w.lineTo(Math.floor(Q),Math.floor(Z)),w.lineTo(Math.floor(U),Math.floor(y.wobbleY))),w.closePath(),w.fill(),y.tick<y.totalTicks}function Ve(w,y,K,U,H){var Q=y.slice(),Z=w.getContext("2d"),te,oe,ge=c(function(pe){function v(){te=oe=null,Z.clearRect(0,0,U.width,U.height),H(),pe()}function F(){r&&!(U.width===n.width&&U.height===n.height)&&(U.width=w.width=n.width,U.height=w.height=n.height),!U.width&&!U.height&&(K(w),U.width=w.width,U.height=w.height),Z.clearRect(0,0,U.width,U.height),Q=Q.filter(function(P){return Le(Z,P)}),Q.length?te=a.frame(F):v()}te=a.frame(F),oe=v});return{addFettis:function(pe){return Q=Q.concat(pe),ge},canvas:w,promise:ge,reset:function(){te&&a.cancel(te),oe&&oe()}}}function Ue(w,y){var K=!w,U=!!m(y||{},"resize"),H=m(y,"disableForReducedMotion",Boolean),Q=i&&!!m(y||{},"useWorker"),Z=Q?l():null,te=K?ae:xe,oe=w&&Z?!!w.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,pe;function v(P,L,ie){for(var se=m(P,"particleCount",k),V=m(P,"angle",Number),G=m(P,"spread",Number),u=m(P,"startVelocity",Number),p=m(P,"decay",Number),b=m(P,"gravity",Number),E=m(P,"drift",Number),x=m(P,"colors",$),C=m(P,"ticks",Number),M=m(P,"shapes"),O=m(P,"scalar"),A=ne(P),S=se,q=[],j=w.width*A.x,D=w.height*A.y;S--;)q.push(lt({x:j,y:D,angle:V,spread:G,startVelocity:u,color:x[S%x.length],shape:M[z(0,M.length)],ticks:C,decay:p,gravity:b,drift:E,scalar:O}));return pe?pe.addFettis(q):(pe=Ve(w,q,te,L,ie),pe.promise)}function F(P){var L=H||m(P,"disableForReducedMotion",Boolean),ie=m(P,"zIndex",Number);if(L&&ge)return c(function(u){u()});K&&pe?w=pe.canvas:K&&!w&&(w=Ee(ie),document.body.appendChild(w)),U&&!oe&&te(w);var se={width:w.width,height:w.height};Z&&!oe&&Z.init(w),oe=!0,Z&&(w.__confetti_initialized=!0);function V(){if(Z){var u={getBoundingClientRect:function(){if(!K)return w.getBoundingClientRect()}};te(u),Z.postMessage({resize:{width:u.width,height:u.height}});return}se.width=se.height=null}function G(){pe=null,U&&t.removeEventListener("resize",V),K&&w&&(document.body.removeChild(w),w=null,oe=!1)}return U&&t.addEventListener("resize",V,!1),Z?Z.fire(P,se,G):v(P,se,G)}return F.reset=function(){Z&&Z.reset(),pe&&pe.reset()},F}var Re;function rt(){return Re||(Re=Ue(null,{useWorker:!0,resize:!0})),Re}s.exports=function(){return rt().apply(this,arguments)},s.exports.reset=function(){rt().reset()},s.exports.create=Ue})(function(){return typeof window!="undefined"?window:typeof self!="undefined"?self:this||{}}(),nn,!1);var Jh=nn.exports;nn.exports.create;try{self["workbox:window:6.4.1"]&&_()}catch{}function uo(e,t){return new Promise(function(s){var r=new MessageChannel;r.port1.onmessage=function(n){s(n.data)},e.postMessage(t,[r.port2])})}function Xl(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function Ql(e,t){var s;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(s=function(n,i){if(n){if(typeof n=="string")return fo(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?fo(n,i):void 0}}(e))||t&&e&&typeof e.length=="number"){s&&(e=s);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(s=e[Symbol.iterator]()).next.bind(s)}try{self["workbox:core:6.4.1"]&&_()}catch{}var on=function(){var e=this;this.promise=new Promise(function(t,s){e.resolve=t,e.reject=s})};function cn(e,t){var s=location.href;return new URL(e,s).href===new URL(t,s).href}var ys=function(e,t){this.type=e,Object.assign(this,t)};function rr(e,t,s){return s?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Zl(){}var eu={type:"SKIP_WAITING"};function ho(e,t){if(!t)return e&&e.then?e.then(Zl):Promise.resolve()}var Yh=function(e){var t,s;function r(c,a){var l,f;return a===void 0&&(a={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new on,l.en=new on,l.on=new on,l.un=0,l.an=new Set,l.cn=function(){var g=l.fn,h=g.installing;l.tn>0||!cn(h.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=h,g.removeEventListener("updatefound",l.cn)):(l.hn=h,l.an.add(h),l.rn.resolve(h)),++l.tn,h.addEventListener("statechange",l.ln)},l.ln=function(g){var h=l.fn,m=g.target,k=m.state,z=m===l.vn,T={sw:m,isExternal:z,originalEvent:g};!z&&l.mn&&(T.isUpdate=!0),l.dispatchEvent(new ys(k,T)),k==="installed"?l.wn=self.setTimeout(function(){k==="installed"&&h.waiting===m&&l.dispatchEvent(new ys("waiting",T))},200):k==="activating"&&(clearTimeout(l.wn),z||l.en.resolve(m))},l.dn=function(g){var h=l.hn,m=h!==navigator.serviceWorker.controller;l.dispatchEvent(new ys("controlling",{isExternal:m,originalEvent:g,sw:h,isUpdate:l.mn})),m||l.on.resolve(h)},l.gn=(f=function(g){var h=g.data,m=g.ports,k=g.source;return rr(l.getSW(),function(){l.an.has(k)&&l.dispatchEvent(new ys("message",{data:h,originalEvent:g,ports:m,sw:k}))})},function(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];try{return Promise.resolve(f.apply(this,g))}catch(m){return Promise.reject(m)}}),l.sn=c,l.nn=a,navigator.serviceWorker.addEventListener("message",l.gn),l}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var n,i,o=r.prototype;return o.register=function(c){var a=(c===void 0?{}:c).immediate,l=a!==void 0&&a;try{var f=this;return function(g,h){var m=g();return m&&m.then?m.then(h):h(m)}(function(){if(!l&&document.readyState!=="complete")return ho(new Promise(function(g){return window.addEventListener("load",g)}))},function(){return f.mn=Boolean(navigator.serviceWorker.controller),f.yn=f.pn(),rr(f.bn(),function(g){f.fn=g,f.yn&&(f.hn=f.yn,f.en.resolve(f.yn),f.on.resolve(f.yn),f.yn.addEventListener("statechange",f.ln,{once:!0}));var h=f.fn.waiting;return h&&cn(h.scriptURL,f.sn.toString())&&(f.hn=h,Promise.resolve().then(function(){f.dispatchEvent(new ys("waiting",{sw:h,wasWaitingBeforeRegister:!0}))}).then(function(){})),f.hn&&(f.rn.resolve(f.hn),f.an.add(f.hn)),f.fn.addEventListener("updatefound",f.cn),navigator.serviceWorker.addEventListener("controllerchange",f.dn),f.fn})})}catch(g){return Promise.reject(g)}},o.update=function(){try{return this.fn?ho(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(c){try{return rr(this.getSW(),function(a){return uo(a,c)})}catch(a){return Promise.reject(a)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&uo(this.fn.waiting,eu)},o.pn=function(){var c=navigator.serviceWorker.controller;return c&&cn(c.scriptURL,this.sn.toString())?c:void 0},o.bn=function(){try{var c=this;return function(a,l){try{var f=a()}catch(g){return l(g)}return f&&f.then?f.then(void 0,l):f}(function(){return rr(navigator.serviceWorker.register(c.sn,c.nn),function(a){return c.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},n=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Xl(n.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(s,r){this.Sn(s).add(r)},t.removeEventListener=function(s,r){this.Sn(s).delete(r)},t.dispatchEvent=function(s){s.target=this;for(var r,n=Ql(this.Sn(s.type));!(r=n()).done;)(0,r.value)(s)},t.Sn=function(s){return this.Pn.has(s)||this.Pn.set(s,new Set),this.Pn.get(s)},e}());/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const po=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",zt=e=>po?Symbol(e):"_vr_"+e,tu=zt("rvlm"),go=zt("rvd"),nr=zt("r"),an=zt("rl"),ln=zt("rvl"),Gt=typeof window!="undefined";function su(e){return e.__esModule||po&&e[Symbol.toStringTag]==="Module"}const he=Object.assign;function un(e,t){const s={};for(const r in t){const n=t[r];s[r]=Array.isArray(n)?n.map(e):e(n)}return s}const ws=()=>{},ru=/\/$/,nu=e=>e.replace(ru,"");function fn(e,t,s="/"){let r,n={},i="",o="";const c=t.indexOf("?"),a=t.indexOf("#",c>-1?c:0);return c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=au(r!=null?r:t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:o}}function iu(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function mo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ou(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Wt(t.matched[r],s.matched[n])&&bo(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Wt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!cu(e[s],t[s]))return!1;return!0}function cu(e,t){return Array.isArray(e)?_o(e,t):Array.isArray(t)?_o(t,e):e===t}function _o(e,t){return Array.isArray(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function au(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/");let n=s.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(n===1||o==="."))if(o==="..")n--;else break;return s.slice(0,n).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var vs;(function(e){e.pop="pop",e.push="push"})(vs||(vs={}));var xs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xs||(xs={}));function lu(e){if(!e)if(Gt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nu(e)}const uu=/^[^#]+#/;function fu(e,t){return e.replace(uu,"#")+t}function hu(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const ir=()=>({left:window.pageXOffset,top:window.pageYOffset});function du(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=hu(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function yo(e,t){return(history.state?history.state.position-t:-1)+e}const hn=new Map;function pu(e,t){hn.set(e,t)}function gu(e){const t=hn.get(e);return hn.delete(e),t}let mu=()=>location.protocol+"//"+location.host;function wo(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let c=n.includes(e.slice(i))?e.slice(i).length:1,a=n.slice(c);return a[0]!=="/"&&(a="/"+a),mo(a,"")}return mo(s,e)+r+n}function bu(e,t,s,r){let n=[],i=[],o=null;const c=({state:h})=>{const m=wo(e,location),k=s.value,z=t.value;let T=0;if(h){if(s.value=m,t.value=h,o&&o===k){o=null;return}T=z?h.position-z.position:0}else r(m);n.forEach($=>{$(s.value,k,{delta:T,type:vs.pop,direction:T?T>0?xs.forward:xs.back:xs.unknown})})};function a(){o=s.value}function l(h){n.push(h);const m=()=>{const k=n.indexOf(h);k>-1&&n.splice(k,1)};return i.push(m),m}function f(){const{history:h}=window;!h.state||h.replaceState(he({},h.state,{scroll:ir()}),"")}function g(){for(const h of i)h();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f),{pauseListeners:a,listen:l,destroy:g}}function vo(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?ir():null}}function _u(e){const{history:t,location:s}=window,r={value:wo(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,l,f){const g=e.indexOf("#"),h=g>-1?(s.host&&document.querySelector("base")?e:e.slice(g))+a:mu()+e+a;try{t[f?"replaceState":"pushState"](l,"",h),n.value=l}catch(m){console.error(m),s[f?"replace":"assign"](h)}}function o(a,l){const f=he({},t.state,vo(n.value.back,a,n.value.forward,!0),l,{position:n.value.position});i(a,f,!0),r.value=a}function c(a,l){const f=he({},n.value,t.state,{forward:a,scroll:ir()});i(f.current,f,!0);const g=he({},vo(r.value,a,null),{position:f.position+1},l);i(a,g,!1),r.value=a}return{location:r,state:n,push:c,replace:o}}function Xh(e){e=lu(e);const t=_u(e),s=bu(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=he({location:"",base:e,go:r,createHref:fu.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function yu(e){return typeof e=="string"||e&&typeof e=="object"}function xo(e){return typeof e=="string"||typeof e=="symbol"}const bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Eo=zt("nf");var Po;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Po||(Po={}));function Vt(e,t){return he(new Error,{type:e,[Eo]:!0},t)}function At(e,t){return e instanceof Error&&Eo in e&&(t==null||!!(e.type&t))}const So="[^/]+?",wu={sensitive:!1,strict:!1,start:!0,end:!0},vu=/[.+*?^${}()[\]/\\]/g;function xu(e,t){const s=he({},wu,t),r=[];let n=s.start?"^":"";const i=[];for(const l of e){const f=l.length?[]:[90];s.strict&&!l.length&&(n+="/");for(let g=0;g<l.length;g++){const h=l[g];let m=40+(s.sensitive?.25:0);if(h.type===0)g||(n+="/"),n+=h.value.replace(vu,"\\$&"),m+=40;else if(h.type===1){const{value:k,repeatable:z,optional:T,regexp:$}=h;i.push({name:k,repeatable:z,optional:T});const Y=$||So;if(Y!==So){m+=10;try{new RegExp(`(${Y})`)}catch(ae){throw new Error(`Invalid custom RegExp for param "${k}" (${Y}): `+ae.message)}}let ne=z?`((?:${Y})(?:/(?:${Y}))*)`:`(${Y})`;g||(ne=T&&l.length<2?`(?:/${ne})`:"/"+ne),T&&(ne+="?"),n+=ne,m+=20,T&&(m+=-8),z&&(m+=-20),Y===".*"&&(m+=-50)}f.push(m)}r.push(f)}if(s.strict&&s.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function c(l){const f=l.match(o),g={};if(!f)return null;for(let h=1;h<f.length;h++){const m=f[h]||"",k=i[h-1];g[k.name]=m&&k.repeatable?m.split("/"):m}return g}function a(l){let f="",g=!1;for(const h of e){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const m of h)if(m.type===0)f+=m.value;else if(m.type===1){const{value:k,repeatable:z,optional:T}=m,$=k in l?l[k]:"";if(Array.isArray($)&&!z)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const Y=Array.isArray($)?$.join("/"):$;if(!Y)if(T)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${k}"`);f+=Y}}return f}return{re:o,score:r,keys:i,parse:c,stringify:a}}function Eu(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Pu(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=Eu(r[s],n[s]);if(i)return i;s++}return n.length-r.length}const Su={type:0,value:""},Ou=/[a-zA-Z0-9_]/;function Cu(e){if(!e)return[[]];if(e==="/")return[[Su]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${s})/"${l}": ${m}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let c=0,a,l="",f="";function g(){!l||(s===0?i.push({type:0,value:l}):s===1||s===2||s===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),l="")}function h(){l+=a}for(;c<e.length;){if(a=e[c++],a==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:a==="/"?(l&&g(),o()):a===":"?(g(),s=1):h();break;case 4:h(),s=r;break;case 1:a==="("?s=2:Ou.test(a)?h():(g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:s=3:f+=a;break;case 3:g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,f="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${l}"`),g(),o(),n}function Au(e,t,s){const r=xu(Cu(e.path),s),n=he(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function ku(e,t){const s=[],r=new Map;t=Co({strict:!1,end:!0,sensitive:!1},t);function n(f){return r.get(f)}function i(f,g,h){const m=!h,k=Ru(f);k.aliasOf=h&&h.record;const z=Co(t,f),T=[k];if("alias"in f){const ne=typeof f.alias=="string"?[f.alias]:f.alias;for(const ae of ne)T.push(he({},k,{components:h?h.record.components:k.components,path:ae,aliasOf:h?h.record:k}))}let $,Y;for(const ne of T){const{path:ae}=ne;if(g&&ae[0]!=="/"){const xe=g.record.path,Ee=xe[xe.length-1]==="/"?"":"/";ne.path=g.record.path+(ae&&Ee+ae)}if($=Au(ne,g,z),h?h.alias.push($):(Y=Y||$,Y!==$&&Y.alias.push($),m&&f.name&&!Oo($)&&o(f.name)),"children"in k){const xe=k.children;for(let Ee=0;Ee<xe.length;Ee++)i(xe[Ee],$,h&&h.children[Ee])}h=h||$,a($)}return Y?()=>{o(Y)}:ws}function o(f){if(xo(f)){const g=r.get(f);g&&(r.delete(f),s.splice(s.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=s.indexOf(f);g>-1&&(s.splice(g,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function c(){return s}function a(f){let g=0;for(;g<s.length&&Pu(f,s[g])>=0;)g++;s.splice(g,0,f),f.record.name&&!Oo(f)&&r.set(f.record.name,f)}function l(f,g){let h,m={},k,z;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Vt(1,{location:f});z=h.record.name,m=he(Iu(g.params,h.keys.filter(Y=>!Y.optional).map(Y=>Y.name)),f.params),k=h.stringify(m)}else if("path"in f)k=f.path,h=s.find(Y=>Y.re.test(k)),h&&(m=h.parse(k),z=h.record.name);else{if(h=g.name?r.get(g.name):s.find(Y=>Y.re.test(g.path)),!h)throw Vt(1,{location:f,currentLocation:g});z=h.record.name,m=he({},g.params,f.params),k=h.stringify(m)}const T=[];let $=h;for(;$;)T.unshift($.record),$=$.parent;return{name:z,path:k,params:m,matched:T,meta:Nu(T)}}return e.forEach(f=>i(f)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:c,getRecordMatcher:n}}function Iu(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Ru(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Mu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function Mu(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="boolean"?s:s[r];return t}function Oo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Nu(e){return e.reduce((t,s)=>he(t,s.meta),{})}function Co(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}const Ao=/#/g,Fu=/&/g,Tu=/\//g,ju=/=/g,$u=/\?/g,ko=/\+/g,Lu=/%5B/g,Uu=/%5D/g,Io=/%5E/g,qu=/%60/g,Ro=/%7B/g,Bu=/%7C/g,Mo=/%7D/g,Du=/%20/g;function dn(e){return encodeURI(""+e).replace(Bu,"|").replace(Lu,"[").replace(Uu,"]")}function Hu(e){return dn(e).replace(Ro,"{").replace(Mo,"}").replace(Io,"^")}function pn(e){return dn(e).replace(ko,"%2B").replace(Du,"+").replace(Ao,"%23").replace(Fu,"%26").replace(qu,"`").replace(Ro,"{").replace(Mo,"}").replace(Io,"^")}function Ku(e){return pn(e).replace(ju,"%3D")}function zu(e){return dn(e).replace(Ao,"%23").replace($u,"%3F")}function Gu(e){return e==null?"":zu(e).replace(Tu,"%2F")}function or(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Wu(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(ko," "),o=i.indexOf("="),c=or(o<0?i:i.slice(0,o)),a=o<0?null:or(i.slice(o+1));if(c in t){let l=t[c];Array.isArray(l)||(l=t[c]=[l]),l.push(a)}else t[c]=a}return t}function No(e){let t="";for(let s in e){const r=e[s];if(s=Ku(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Array.isArray(r)?r.map(i=>i&&pn(i)):[r&&pn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Vu(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Array.isArray(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}function Es(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function _t(e,t,s,r,n){const i=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((o,c)=>{const a=g=>{g===!1?c(Vt(4,{from:s,to:t})):g instanceof Error?c(g):yu(g)?c(Vt(2,{from:t,to:g})):(i&&r.enterCallbacks[n]===i&&typeof g=="function"&&i.push(g),o())},l=e.call(r&&r.instances[n],t,s,a);let f=Promise.resolve(l);e.length<3&&(f=f.then(a)),f.catch(g=>c(g))})}function gn(e,t,s,r){const n=[];for(const i of e)for(const o in i.components){let c=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Ju(c)){const l=(c.__vccOpts||c)[t];l&&n.push(_t(l,s,r,i,o))}else{let a=c();n.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const f=su(l)?l.default:l;i.components[o]=f;const h=(f.__vccOpts||f)[t];return h&&_t(h,s,r,i,o)()}))}}return n}function Ju(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fo(e){const t=Qe(nr),s=Qe(an),r=tt(()=>t.resolve(as(e.to))),n=tt(()=>{const{matched:a}=r.value,{length:l}=a,f=a[l-1],g=s.matched;if(!f||!g.length)return-1;const h=g.findIndex(Wt.bind(null,f));if(h>-1)return h;const m=To(a[l-2]);return l>1&&To(f)===m&&g[g.length-1].path!==m?g.findIndex(Wt.bind(null,a[l-2])):h}),i=tt(()=>n.value>-1&&Zu(s.params,r.value.params)),o=tt(()=>n.value>-1&&n.value===s.matched.length-1&&bo(s.params,r.value.params));function c(a={}){return Qu(a)?t[as(e.replace)?"replace":"push"](as(e.to)).catch(ws):Promise.resolve()}return{route:r,href:tt(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}const Yu=Ei({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Fo,setup(e,{slots:t}){const s=is(Fo(e)),{options:r}=Qe(nr),n=tt(()=>({[jo(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[jo(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&t.default(s);return e.custom?i:to("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Xu=Yu;function Qu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Zu(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Array.isArray(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function To(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const jo=(e,t,s)=>e!=null?e:t!=null?t:s,ef=Ei({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:s}){const r=Qe(ln),n=tt(()=>e.route||r.value),i=Qe(go,0),o=tt(()=>n.value.matched[i]);Vs(go,i+1),Vs(tu,o),Vs(ln,n);const c=ga();return Js(()=>[c.value,o.value,e.name],([a,l,f],[g,h,m])=>{l&&(l.instances[f]=a,h&&h!==l&&a&&a===g&&(l.leaveGuards.size||(l.leaveGuards=h.leaveGuards),l.updateGuards.size||(l.updateGuards=h.updateGuards))),a&&l&&(!h||!Wt(l,h)||!g)&&(l.enterCallbacks[f]||[]).forEach(k=>k(a))},{flush:"post"}),()=>{const a=n.value,l=o.value,f=l&&l.components[e.name],g=e.name;if(!f)return $o(s.default,{Component:f,route:a});const h=l.props[e.name],m=h?h===!0?a.params:typeof h=="function"?h(a):h:null,z=to(f,he({},m,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(l.instances[g]=null)},ref:c}));return $o(s.default,{Component:z,route:a})||z}}});function $o(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const tf=ef;function Qh(e){const t=ku(e.routes,e),s=e.parseQuery||Wu,r=e.stringifyQuery||No,n=e.history,i=Es(),o=Es(),c=Es(),a=ma(bt);let l=bt;Gt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=un.bind(null,v=>""+v),g=un.bind(null,Gu),h=un.bind(null,or);function m(v,F){let P,L;return xo(v)?(P=t.getRecordMatcher(v),L=F):L=v,t.addRoute(L,P)}function k(v){const F=t.getRecordMatcher(v);F&&t.removeRoute(F)}function z(){return t.getRoutes().map(v=>v.record)}function T(v){return!!t.getRecordMatcher(v)}function $(v,F){if(F=he({},F||a.value),typeof v=="string"){const G=fn(s,v,F.path),u=t.resolve({path:G.path},F),p=n.createHref(G.fullPath);return he(G,u,{params:h(u.params),hash:or(G.hash),redirectedFrom:void 0,href:p})}let P;if("path"in v)P=he({},v,{path:fn(s,v.path,F.path).path});else{const G=he({},v.params);for(const u in G)G[u]==null&&delete G[u];P=he({},v,{params:g(v.params)}),F.params=g(F.params)}const L=t.resolve(P,F),ie=v.hash||"";L.params=f(h(L.params));const se=iu(r,he({},v,{hash:Hu(ie),path:L.path})),V=n.createHref(se);return he({fullPath:se,hash:ie,query:r===No?Vu(v.query):v.query||{}},L,{redirectedFrom:void 0,href:V})}function Y(v){return typeof v=="string"?fn(s,v,a.value.path):he({},v)}function ne(v,F){if(l!==v)return Vt(8,{from:F,to:v})}function ae(v){return Be(v)}function xe(v){return ae(he(Y(v),{replace:!0}))}function Ee(v){const F=v.matched[v.matched.length-1];if(F&&F.redirect){const{redirect:P}=F;let L=typeof P=="function"?P(v):P;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=Y(L):{path:L},L.params={}),he({query:v.query,hash:v.hash,params:v.params},L)}}function Be(v,F){const P=l=$(v),L=a.value,ie=v.state,se=v.force,V=v.replace===!0,G=Ee(P);if(G)return Be(he(Y(G),{state:ie,force:se,replace:V}),F||P);const u=P;u.redirectedFrom=F;let p;return!se&&ou(r,L,P)&&(p=Vt(16,{to:u,from:L}),Z(L,L,!0,!1)),(p?Promise.resolve(p):Le(u,L)).catch(b=>At(b)?b:U(b,u,L)).then(b=>{if(b){if(At(b,2))return Be(he(Y(b.to),{state:ie,force:se,replace:V}),F||u)}else b=Ue(u,L,!0,V,ie);return Ve(u,L,b),b})}function lt(v,F){const P=ne(v,F);return P?Promise.reject(P):Promise.resolve()}function Le(v,F){let P;const[L,ie,se]=sf(v,F);P=gn(L.reverse(),"beforeRouteLeave",v,F);for(const G of L)G.leaveGuards.forEach(u=>{P.push(_t(u,v,F))});const V=lt.bind(null,v,F);return P.push(V),Jt(P).then(()=>{P=[];for(const G of i.list())P.push(_t(G,v,F));return P.push(V),Jt(P)}).then(()=>{P=gn(ie,"beforeRouteUpdate",v,F);for(const G of ie)G.updateGuards.forEach(u=>{P.push(_t(u,v,F))});return P.push(V),Jt(P)}).then(()=>{P=[];for(const G of v.matched)if(G.beforeEnter&&!F.matched.includes(G))if(Array.isArray(G.beforeEnter))for(const u of G.beforeEnter)P.push(_t(u,v,F));else P.push(_t(G.beforeEnter,v,F));return P.push(V),Jt(P)}).then(()=>(v.matched.forEach(G=>G.enterCallbacks={}),P=gn(se,"beforeRouteEnter",v,F),P.push(V),Jt(P))).then(()=>{P=[];for(const G of o.list())P.push(_t(G,v,F));return P.push(V),Jt(P)}).catch(G=>At(G,8)?G:Promise.reject(G))}function Ve(v,F,P){for(const L of c.list())L(v,F,P)}function Ue(v,F,P,L,ie){const se=ne(v,F);if(se)return se;const V=F===bt,G=Gt?history.state:{};P&&(L||V?n.replace(v.fullPath,he({scroll:V&&G&&G.scroll},ie)):n.push(v.fullPath,ie)),a.value=v,Z(v,F,P,V),Q()}let Re;function rt(){Re=n.listen((v,F,P)=>{const L=$(v),ie=Ee(L);if(ie){Be(he(ie,{replace:!0}),L).catch(ws);return}l=L;const se=a.value;Gt&&pu(yo(se.fullPath,P.delta),ir()),Le(L,se).catch(V=>At(V,4|8)?V:At(V,2)?(Be(V.to,L).then(G=>{At(G,4|16)&&!P.delta&&P.type===vs.pop&&n.go(-1,!1)}).catch(ws),Promise.reject()):(P.delta&&n.go(-P.delta,!1),U(V,L,se))).then(V=>{V=V||Ue(L,se,!1),V&&(P.delta?n.go(-P.delta,!1):P.type===vs.pop&&At(V,4|16)&&n.go(-1,!1)),Ve(L,se,V)}).catch(ws)})}let w=Es(),y=Es(),K;function U(v,F,P){Q(v);const L=y.list();return L.length?L.forEach(ie=>ie(v,F,P)):console.error(v),Promise.reject(v)}function H(){return K&&a.value!==bt?Promise.resolve():new Promise((v,F)=>{w.add([v,F])})}function Q(v){K||(K=!0,rt(),w.list().forEach(([F,P])=>v?P(v):F()),w.reset())}function Z(v,F,P,L){const{scrollBehavior:ie}=e;if(!Gt||!ie)return Promise.resolve();const se=!P&&gu(yo(v.fullPath,0))||(L||!P)&&history.state&&history.state.scroll||null;return hi().then(()=>ie(v,F,se)).then(V=>V&&du(V)).catch(V=>U(V,v,F))}const te=v=>n.go(v);let oe;const ge=new Set;return{currentRoute:a,addRoute:m,removeRoute:k,hasRoute:T,getRoutes:z,resolve:$,options:e,push:ae,replace:xe,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:y.add,isReady:H,install(v){const F=this;v.component("RouterLink",Xu),v.component("RouterView",tf),v.config.globalProperties.$router=F,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>as(a)}),Gt&&!oe&&a.value===bt&&(oe=!0,ae(n.location).catch(ie=>{}));const P={};for(const ie in bt)P[ie]=tt(()=>a.value[ie]);v.provide(nr,F),v.provide(an,is(P)),v.provide(ln,a);const L=v.unmount;ge.add(v),v.unmount=function(){ge.delete(v),ge.size<1&&(l=bt,Re&&Re(),a.value=bt,oe=!1,K=!1),L()}}}}function Jt(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function sf(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const c=t.matched[o];c&&(e.matched.find(l=>Wt(l,c))?r.push(c):s.push(c));const a=e.matched[o];a&&(t.matched.find(l=>Wt(l,a))||n.push(a))}return[s,r,n]}function Zh(){return Qe(nr)}function ed(){return Qe(an)}const ct=new Uint8Array(0);var kt;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(kt||(kt={}));var Ps;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(Ps||(Ps={}));const mn="127.0.0.1",Lo=2*1e3,Uo=2*60*1e3,rf=2;var qo;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(qo||(qo={}));var bn;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(bn||(bn={}));var cr;(function(e){e.Old="old",e.New="new"})(cr||(cr={}));var _n;(function(e){e.File="file",e.Memory="memory"})(_n||(_n={}));var Te;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(Te||(Te={}));var we;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(we||(we={}));var Yt;(function(e){e.Instant="instant",e.Original="original"})(Yt||(Yt={}));var It;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(It||(It={}));var N;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(N||(N={}));class Bo{constructor(){d(this,"messages");this.messages=new Map,this.messages.set(N.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(N.BadJson,"Bad JSON"),this.messages.set(N.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return nf.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const nf=new Bo;function of(e){return typeof e.code=="string"}class B extends Error{constructor(t,s,r){super(t);d(this,"name");d(this,"message");d(this,"code");d(this,"permissionContext");d(this,"chainedError");d(this,"api_error");this.name="NatsError",this.message=t,this.code=s,this.chainedError=r}static errorForCode(t,s){const r=Bo.getMessage(t);return new B(r,t,s)}isAuthError(){return this.code===N.AuthenticationExpired||this.code===N.AuthorizationViolation}isPermissionError(){return this.code===N.PermissionsViolation}isProtocolError(){return this.code===N.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}function Xt(e){return Do("durable",e)}function je(e){return Do("stream",e)}function Do(e,t=""){if(t==="")throw Error(`${e} name required`);[".","*",">"].forEach(r=>{if(t.indexOf(r)!==-1)throw Error(`invalid ${e} name - ${e} name cannot contain '${r}'`)})}function cf(e,t={}){return Object.assign({name:e,deliver_policy:Te.All,ack_policy:we.Explicit,ack_wait:Ce(30*1e3),replay_policy:Yt.Instant},t)}function Ce(e){return e*1e6}function af(e){return Math.floor(e/1e6)}function yn(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function lf(e){var t;return yn(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function ar(e){if(e.data.length!==0)return null;const t=e.headers;return t?Ho(t.code,t.status):null}function Ho(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new B(t,N.JetStream404NoMessages);case 408:return new B(t,N.JetStream408RequestTimeout);case 409:return new B(t,N.JetStream409);case 503:return B.errorForCode(N.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=N.Unknown),new B(t,`${e}`)}}const Qt=new TextEncoder,st=new TextDecoder;function uf(...e){let t=0;for(let n=0;n<e.length;n++)t+=e[n].length;const s=new Uint8Array(t);let r=0;for(let n=0;n<e.length;n++)s.set(e[n],r),r+=e[n].length;return s}function Ss(...e){const t=[];for(let s=0;s<e.length;s++)t.push(Qt.encode(e[s]));return t.length===0?ct:t.length===1?t[0]:uf(...t)}function Ko(e){return!e||e.length===0?"":st.decode(e)}class lr{constructor(){d(this,"buffers");d(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let s=0;for(let i=0;i<t.length;i++)s+=t[i].length;const r=new Uint8Array(s);let n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}static fromAscii(t){return t||(t=""),Qt.encode(t)}static toAscii(t){return st.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let s=0;for(let r=0;r<this.buffers.length;r++)t.set(this.buffers[r],s),s+=this.buffers[r].length;this.buffers.length=0,this.buffers.push(t)}}drain(t){if(this.buffers.length){this.pack();const s=this.buffers.pop();if(s){const r=this.byteLength;(t===void 0||t>r)&&(t=r);const n=s.subarray(0,t);return r>t&&this.buffers.push(s.subarray(t)),this.byteLength=r-t,n}}return new Uint8Array(0)}fill(t,...s){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let r=0;r<s.length;r++)s[r]&&s[r].length&&(this.buffers.push(s[r]),this.byteLength+=s[r].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const Rt=`\r
`,ur=lr.fromAscii(Rt),ff=new Uint8Array(ur)[0],hf=new Uint8Array(ur)[1];function df(e){return e instanceof Uint8Array}function pf(e){for(let t=0;t<e.length;t++){const s=t+1;if(e.byteLength>s&&e[t]===ff&&e[s]===hf)return s+1}return 0}function gf(e){const t=pf(e);if(t>0){const r=new Uint8Array(e).slice(0,t);return st.decode(r)}return""}function Os(e,...t){for(let s=0;s<t.length;s++){const r=t[s];Object.keys(r).forEach(function(n){e[n]=r[n]})}return e}function fr(e){const t="\u240D",s="\u240A";return st.decode(e).replace(/\n/g,s).replace(/\r/g,t)}function hr(e){const t=B.errorForCode(N.Timeout);let s,r;const n=new Promise((i,o)=>{s={cancel:()=>{r&&clearTimeout(r)}},r=setTimeout(()=>{o(t)},e)});return Object.assign(n,s)}function zo(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function ve(){let e={};const t=new Promise((s,r)=>{e={resolve:s,reject:r}});return Object.assign(t,e)}function Go(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}class at{constructor(){d(this,"inflight");d(this,"processed");d(this,"received");d(this,"noIterator");d(this,"iterClosed");d(this,"done");d(this,"signal");d(this,"yields");d(this,"filtered");d(this,"pendingFiltered");d(this,"ingestionFilterFn");d(this,"protocolFilterFn");d(this,"dispatchedFn");d(this,"ctx");d(this,"_data");d(this,"err");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=ve(),this.yields=[],this.iterClosed=ve()}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:s,protocol:r}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};s&&(r&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new B("unsupported iterator",N.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let s=0;s<t.length;s++){if(typeof t[s]=="function"){const n=t[s];try{n()}catch(i){throw i}continue}(this.protocolFilterFn?this.protocolFilterFn(t[s]):!0)?(this.processed++,yield t[s],this.dispatchedFn&&t[s]&&this.dispatchedFn(t[s])):this.pendingFiltered--,this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ve())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Wo(e){const t=45,s=97-65;let r=!0;const n=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new B(`'${e[i]}' is not a valid character for a header key`,N.BadHeader);r&&97<=o&&o<=122?o-=s:!r&&65<=o&&o<=90&&(o+=s),n[i]=o,r=o==t}return String.fromCharCode(...n)}function dr(){return new Zt}const wn="NATS/1.0";var qe;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(qe||(qe={}));class Zt{constructor(){d(this,"code");d(this,"headers");d(this,"description");this.code=0,this.headers=new Map,this.description=""}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this.code===t.code){for(const[s,r]of this.headers){const n=t.values(s);if(r.length!==n.length)return!1;const i=[...r].sort(),o=[...n].sort();for(let c=0;c<i.length;c++)if(i[c]!==o[c])return!1}return!0}return!1}static decode(t){const s=new Zt,n=st.decode(t).split(`\r
`),i=n[0];if(i!==wn){let o=i.replace(wn,"");s.code=parseInt(o,10);const c=s.code.toString();o=o.replace(c,""),s.description=o.trim()}return n.length>=1&&n.slice(1).map(o=>{if(o){const c=o.indexOf(":");if(c>-1){const a=o.slice(0,c),l=o.slice(c+1).trim();s.append(a,l)}}}),s}toString(){if(this.headers.size===0)return"";let t=wn;for(const[s,r]of this.headers)for(let n=0;n<r.length;n++)t=`${t}\r
${s}: ${r[n]}`;return`${t}\r
\r
`}encode(){return Qt.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new B("invalid header value - \\r and \\n are not allowed.",N.BadHeader);return t.trim()}keys(){const t=[];for(const s of this.headers.keys())t.push(s);return t}findKeys(t,s=qe.Exact){const r=this.keys();switch(s){case qe.Exact:return r.filter(n=>n===t);case qe.CanonicalMIME:return t=Wo(t),r.filter(n=>n===t);default:{const n=t.toLowerCase();return r.filter(i=>n===i.toLowerCase())}}}get(t,s=qe.Exact){const r=this.findKeys(t,s);if(r.length){const n=this.headers.get(r[0]);if(n)return Array.isArray(n)?n[0]:n}return""}has(t,s=qe.Exact){return this.findKeys(t,s).length>0}set(t,s,r=qe.Exact){this.delete(t,r),this.append(t,s,r)}append(t,s,r=qe.Exact){const n=Wo(t);r===qe.CanonicalMIME&&(t=n);const i=this.findKeys(t,r);t=i.length>0?i[0]:t;const o=Zt.validHeaderValue(s);let c=this.headers.get(t);c||(c=[],this.headers.set(t,c)),c.push(o)}values(t,s=qe.Exact){const r=[];return this.findKeys(t,s).forEach(i=>{const o=this.headers.get(i);o&&r.push(...o)}),r}delete(t,s=qe.Exact){this.findKeys(t,s).forEach(n=>{this.headers.delete(n)})}get hasError(){return this.code>=300}get status(){return`${this.code} ${this.description}`.trim()}}function Vo(e){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`${e} is not a semver value`)}function mf(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}function bf(){return{encode(e){return Qt.encode(e)},decode(e){return st.decode(e)}}}function Jo(e){return{encode(t){try{return t===void 0&&(t=null),Qt.encode(JSON.stringify(t))}catch(s){throw B.errorForCode(N.BadJson,s)}},decode(t){try{return JSON.parse(st.decode(t),e)}catch(s){throw B.errorForCode(N.BadJson,s)}}}}const _f="$JS.API";function yf(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),Os({apiPrefix:_f,timeout:5e3},e)}class pr{constructor(t,s){d(this,"nc");d(this,"opts");d(this,"prefix");d(this,"timeout");d(this,"jc");this.nc=t,this.opts=yf(s),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=Jo()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,s=null,r){r=r||{},r.timeout=this.timeout;let n=ct;s&&(n=this.jc.encode(s));const i=await this.nc.request(t,n,r);return this.parseJsResponse(i)}async findStream(t){const s={subject:t},n=await this._request(`${this.prefix}.STREAM.NAMES`,s);if(!n.streams||n.streams.length!==1)throw new Error("no stream matches subject");return n.streams[0]}parseJsResponse(t){const s=this.jc.decode(t.data),r=s;if(r.error){const n=Ho(r.error.code,r.error.description);if(n!==null)throw n.api_error=r.error,n}return s}}class Yo{constructor(t,s,r){d(this,"err");d(this,"offset");d(this,"pageInfo");d(this,"subject");d(this,"jsm");d(this,"filter");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=r,this.offset=0,this.pageInfo={},this.filter=s}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};try{const s=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=s;const r=this.filter(s);return this.offset+=r.length,r}catch(s){throw this.err=s,s}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const s of t)yield s;t=await this.next()}}}class Xo extends pr{constructor(t,s){super(t,s)}async add(t,s){if(je(t),s.deliver_group&&s.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(s.deliver_group&&s.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const r={};r.config=s,r.stream_name=t,r.config.durable_name&&Xt(r.config.durable_name);const n=s.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${s.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(n,r)}async update(t,s,r){const n=await this.info(t,s),i=r;return this.add(t,Object.assign(n.config,i))}async info(t,s){return je(t),Xt(s),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${s}`)}async delete(t,s){return je(t),Xt(s),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${s}`)).success}list(t){je(t);const s=n=>n.consumers,r=`${this.prefix}.CONSUMER.LIST.${t}`;return new Yo(r,s,this)}}const Qo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Zo=36,wf=3656158440062976,ec=33,vf=333,tc=12+10,xf=Ef();function Ef(){let e=null;return typeof globalThis!="undefined"&&"crypto"in globalThis&&globalThis.crypto.getRandomValues&&(e=globalThis.crypto),e||(e={getRandomValues:function(t){for(let s=0;s<t.length;s++)t[s]=Math.floor(Math.random()*255)}}),e}class Pf{constructor(){d(this,"buf");d(this,"seq");d(this,"inc");this.buf=new Uint8Array(tc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*wf),this.inc=Math.floor(Math.random()*(vf-ec)+ec)}setPre(){const t=new Uint8Array(12);xf.getRandomValues(t);for(let s=0;s<12;s++){const r=t[s]%36;this.buf[s]=Qo.charCodeAt(r)}}fillSeq(){let t=this.seq;for(let s=tc-1;s>=12;s--)this.buf[s]=Qo.charCodeAt(t%Zo),t=Math.floor(t/Zo)}next(){return this.seq+=this.inc,this.seq>3656158440062976&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const sc=new Pf;class rc{constructor(t,s,r={timeout:1e3}){d(this,"token");d(this,"received");d(this,"deferred");d(this,"timer");d(this,"ctx");d(this,"requestSubject");d(this,"mux");this.mux=t,this.requestSubject=s,this.received=0,this.deferred=ve(),this.token=sc.next(),Os(this,r),this.timer=hr(r.timeout),this.ctx=new Error}resolver(t,s){this.timer&&this.timer.cancel(),t?(t.stack+=`

${this.ctx.stack}`,this.deferred.reject(t)):this.deferred.resolve(s),this.cancel()}cancel(t){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(t||B.errorForCode(N.Cancelled))}}const nc=Uint8Array.of(43,65,67,75),Sf=Uint8Array.of(45,78,65,75),Cs=Uint8Array.of(43,87,80,73),Of=Uint8Array.of(43,78,88,84),Cf=Uint8Array.of(43,84,69,82,77),Af=Uint8Array.of(32);function gr(e){return new If(e)}function kf(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const s={};return s.domain=t[2]==="_"?"":t[2],s.account_hash=t[3],s.stream=t[4],s.consumer=t[5],s.redeliveryCount=parseInt(t[6],10),s.redelivered=s.redeliveryCount>1,s.streamSequence=parseInt(t[7],10),s.deliverySequence=parseInt(t[8],10),s.timestampNanos=parseInt(t[9],10),s.pending=parseInt(t[10],10),s}class If{constructor(t){d(this,"msg");d(this,"di");d(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=kf(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===Cs[0]&&t[1]===Cs[1]&&t[2]===Cs[2]&&t[3]===Cs[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const s=this.msg.publisher,r=new rc(s.muxSubscriptions,this.msg.reply);s.request(r);try{s.publish(this.msg.reply,nc,{reply:`${s.muxSubscriptions.baseInbox}${r.token}`})}catch(n){r.cancel(n)}try{return await Promise.race([r.timer,r.deferred]),!0}catch(n){r.cancel(n)}}return!1}ack(){this.doAck(nc)}nak(t){let s=Sf;t&&(s=bf().encode(`-NAK ${JSON.stringify({delay:Ce(t)})}`)),this.doAck(s)}working(){this.doAck(Cs)}next(t,s={batch:1}){const r={};r.batch=s.batch||1,r.no_wait=s.no_wait||!1,s.expires&&s.expires>0&&(r.expires=Ce(s.expires));const n=Jo().encode(r),i=lr.concat(Of,Af,n),o=t?{reply:t}:void 0;this.msg.respond(i,o)}term(){this.doAck(Cf)}}function es(e,t,s=!1){if(s===!0&&!e)throw B.errorForCode(N.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw B.errorForCode(N.ApiError,new Error(`${t} is not a function`))}class Rf extends at{constructor(t,s,r){super();d(this,"sub");d(this,"adapter");d(this,"subIterDone");es(r.adapter,"adapter",!0),this.adapter=r.adapter,r.callback&&es(r.callback,"callback"),this.noIterator=typeof r.callback=="function",r.ingestionFilterFn&&(es(r.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=r.ingestionFilterFn),r.protocolFilterFn&&(es(r.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=r.protocolFilterFn),r.dispatchedFn&&(es(r.dispatchedFn,"dispatchedFn"),this.dispatchedFn=r.dispatchedFn),r.cleanupFn&&es(r.cleanupFn,"cleanupFn");let n=(l,f)=>{this.callback(l,f)};if(r.callback){const l=r.callback;n=(f,g)=>{const[h,m]=this.adapter(f,g);if(h){l(h,null);return}const{ingest:k}=this.ingestionFilterFn?this.ingestionFilterFn(m,this):{ingest:!0};k&&(this.protocolFilterFn?this.protocolFilterFn(m):!0)&&(l(h,m),this.dispatchedFn&&m&&this.dispatchedFn(m))}}const{max:i,queue:o,timeout:c}=r,a={queue:o,timeout:c,callback:n};i&&i>0&&(a.max=i),this.sub=t.subscribe(s,a),r.cleanupFn&&(this.sub.cleanupFn=r.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=ve(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async l=>{await l.closed,this.stop()})(this.sub).then().catch()}unsubscribe(t){this.sub.unsubscribe(t)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(t,s){this.sub.cancelTimeout();const[r,n]=this.adapter(t,s);r&&this.stop(r),n&&this.push(n)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}function ic(e){if(e&&e.data.length===0&&e.headers){const t=e.headers;if(t.hasError&&t.code===503)return B.errorForCode(N.NoResponders)}return null}class Mf{constructor(t,s,r){d(this,"_headers");d(this,"_msg");d(this,"_rdata");d(this,"_reply");d(this,"_subject");d(this,"publisher");this._msg=t,this._rdata=s,this.publisher=r}get subject(){return this._subject?this._subject:(this._subject=st.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=st.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=Zt.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=ct,s){return this.reply?(this.publisher.publish(this.reply,t,s),!0):!1}}let $e;function Nf(e){$e=e}function oc(){return $e!==void 0&&$e.defaultPort!==void 0?$e.defaultPort:4222}function vn(){return $e!==void 0&&$e.urlParseFn?$e.urlParseFn:void 0}function Ff(){if(!$e||typeof $e.factory!="function")throw new Error("transport fn is not set");return $e.factory()}function cc(){return $e!==void 0&&$e.dnsResolveFn?$e.dnsResolveFn:void 0}const Tf=4,ac=48,jf=65,$f=97;function Lf(e,t,s,r){const n=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,c)=>{n[c]=o}),n[12]=e,n[13]=t,n[14]=s,n[15]=r,n}function xn(e){return Uf(e)!==void 0}function Uf(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return lc(e);case":":return qf(e)}}function lc(e){const t=new Uint8Array(4);for(let s=0;s<4;s++){if(e.length===0)return;if(s>0){if(e[0]!==".")return;e=e.substring(1)}const{n:r,c:n,ok:i}=Bf(e);if(!i||r>255)return;e=e.substring(n),t[s]=r}return Lf(t[0],t[1],t[2],t[3])}function qf(e){const t=new Uint8Array(16);let s=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(s=0,e=e.substring(2),e.length===0))return t;let r=0;for(;r<16;){const{n,c:i,ok:o}=Df(e);if(!o||n>65535)return;if(i<e.length&&e[i]==="."){if(s<0&&r!=16-4||r+4>16)return;const c=lc(e);if(c===void 0)return;t[r]=c[12],t[r+1]=c[13],t[r+2]=c[14],t[r+3]=c[15],e="",r+=Tf;break}if(t[r]=n>>8,t[r+1]=n,r+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(s>=0)return;if(s=r,e=e.substring(1),e.length===0)break}}if(e.length===0){if(r<16){if(s<0)return;const n=16-r;for(let i=r-1;i>=s;i--)t[i+n]=t[i];for(let i=s+n-1;i>=s;i--)t[i]=0}else if(s>=0)return;return t}}function Bf(e){let t=0,s=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(s=s*10+(e.charCodeAt(t)-ac),s>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n:s,c:t,ok:!0}}function Df(e){let t=0,s=0;for(s=0;s<e.length;s++){if(48<=e.charCodeAt(s)&&e.charCodeAt(s)<=57)t*=16,t+=e.charCodeAt(s)-ac;else if(97<=e.charCodeAt(s)&&e.charCodeAt(s)<=102)t*=16,t+=e.charCodeAt(s)-$f+10;else if(65<=e.charCodeAt(s)&&e.charCodeAt(s)<=70)t*=16,t+=e.charCodeAt(s)-jf+10;else break;if(t>=16777215)return{n:0,c:s,ok:!1}}return s===0?{n:0,c:s,ok:!1}:{n:t,c:s,ok:!0}}function Hf(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function En(e){return!Hf(e)}function Kf(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),En(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=En(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),s=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,r=s===80?"https":"http",n=new URL(`${r}://${e}`);n.port=`${s}`;let i=n.hostname;return i.charAt(0)==="["&&(i=i.substring(1,i.length-1)),{listen:n.host,hostname:i,port:s}}class As{constructor(t,s=!1){d(this,"src");d(this,"listen");d(this,"hostname");d(this,"port");d(this,"didConnect");d(this,"reconnects");d(this,"lastConnect");d(this,"gossiped");d(this,"tlsName");d(this,"resolves");this.src=t,this.tlsName="";const r=Kf(t);this.listen=r.listen,this.hostname=r.hostname,this.port=r.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=s}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const s=[];if(xn(this.hostname))return[this];{const r=await t.fn(this.hostname);for(const n of r){const i=this.port===80?"https":"http",o=new URL(`${i}://${En(n)?"["+n+"]":n}`);o.port=`${this.port}`;const c=new As(o.host,!1);c.tlsName=this.hostname,s.push(c)}}return t.randomize&&Go(s),this.resolves=s,s}}class zf{constructor(t=[],s={}){d(this,"firstSelect");d(this,"servers");d(this,"currentServer");d(this,"tlsName");d(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=s.randomize||!1;const r=vn();t&&(t.forEach(n=>{n=r?r(n):n,this.servers.push(new As(n))}),this.randomize&&(this.servers=Go(this.servers))),this.servers.length===0&&this.addServer(`${mn}:${oc()}`,!1),this.currentServer=this.servers[0]}updateTLSName(){const t=this.getCurrentServer();xn(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(s=>{s.gossiped&&(s.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,s=!1){const r=vn();t=r?r(t):t;const n=new As(t,s);xn(n.hostname)&&(n.tlsName=this.tlsName),this.servers.push(n)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const s=this.servers.indexOf(t);this.servers.splice(s,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const s=[];let r=[];const n=vn(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(c=>{c=n?n(c):c;const a=new As(c,!0);i.set(c,a)});const o=[];return this.servers.forEach((c,a)=>{const l=c.listen;c.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(a),i.delete(l)}),o.reverse(),o.forEach(c=>{const a=this.servers.splice(c,1);r=r.concat(a[0].listen)}),i.forEach((c,a)=>{this.servers.push(c),s.push(a)}),{added:s,deleted:r}}}class uc extends at{constructor(t,s,r={}){super();d(this,"sid");d(this,"queue");d(this,"draining");d(this,"max");d(this,"subject");d(this,"drained");d(this,"protocol");d(this,"timer");d(this,"info");d(this,"cleanupFn");d(this,"closed");d(this,"requestSubject");Os(this,r),this.protocol=t,this.subject=s,this.draining=!1,this.noIterator=typeof r.callback=="function",this.closed=ve(),r.timeout&&(this.timer=hr(r.timeout),this.timer.then(()=>{this.timer=void 0}).catch(n=>{this.stop(n),this.noIterator&&this.callback(n,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(t){if(this.noIterator){const s=this.callback,r=t.ingestionFilterFn?t.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),n=t.protocolFilterFn?t.protocolFilterFn:()=>!0,i=t.dispatchedFn?t.dispatchedFn:()=>{};this.callback=(o,c)=>{const{ingest:a}=r(c);!a||n(c)&&(s(o,c),i(c))}}else this.protocolFilterFn=t.protocolFilterFn,this.dispatchedFn=t.dispatchedFn}callback(t,s){this.cancelTimeout(),t?this.stop(t):this.push(s)}close(){if(!this.isClosed()){if(this.cancelTimeout(),this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()}}unsubscribe(t){this.protocol.unsubscribe(this,t)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){if(this.protocol.isClosed())throw B.errorForCode(N.ConnectionClosed);if(this.isClosed())throw B.errorForCode(N.SubClosed);return this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(ve()),this.drained.then(()=>{this.protocol.subscriptions.cancel(this)})),this.drained}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class Gf{constructor(){d(this,"mux");d(this,"subs");d(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const s=t.permissionContext,r=this.all();let n;if(s.operation==="subscription"&&(n=r.find(i=>i.subject===s.subject)),s.operation==="publish"&&(n=r.find(i=>i.requestSubject===s.subject)),n)return n.callback(t,{}),n.close(),n!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class Wf{constructor(t,s,r){d(this,"ph");d(this,"interval");d(this,"maxOut");d(this,"timer");d(this,"pendings");this.ph=t,this.interval=s,this.maxOut=r,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:Ps.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=ve();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class Vf extends Error{constructor(t){super(t);this.name="AssertionError"}}function Jf(e,t="Assertion failed."){if(!e)throw new Vf(t)}const fc=32*1024,Pn=2**32-2;function mr(e,t,s=0){const r=t.byteLength-s;return e.byteLength>r&&(e=e.subarray(0,r)),t.set(e,s),e.byteLength}class Sn{constructor(t){d(this,"_buf");d(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const s=this._buf.byteLength;return t<=this.capacity-s?(this._reslice(s+t),s):-1}_reslice(t){Jf(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const s=mr(this._buf.subarray(this._off),t);return this._off+=s,s}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(Qt.encode(t))}write(t){const s=this._grow(t.byteLength);return mr(t,this._buf,s)}_grow(t){const s=this.length;s===0&&this._off!==0&&this.reset();const r=this._tryGrowByReslice(t);if(r>=0)return r;const n=this.capacity;if(t<=Math.floor(n/2)-s)mr(this._buf.subarray(this._off),this._buf);else{if(n+t>Pn)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*n+t,Pn));mr(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(s+t,Pn)),s}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const s=this._grow(t);this._reslice(s)}readFrom(t){let s=0;const r=new Uint8Array(fc);for(;;){const n=this.capacity-this.length<fc,i=n?r:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return s;n?this.write(i.subarray(0,o)):this._reslice(this.length+o),s+=o}}}var Ae;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(Ae||(Ae={}));function hc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const Yf=48;class dc{constructor(t){d(this,"dispatcher");d(this,"state");d(this,"as");d(this,"drop");d(this,"hdr");d(this,"ma");d(this,"argBuf");d(this,"msgBuf");this.dispatcher=t,this.state=I.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let s;for(s=0;s<t.length;s++){const r=t[s];switch(this.state){case I.OP_START:switch(r){case R.M:case R.m:this.state=I.OP_M,this.hdr=-1,this.ma=hc();break;case R.H:case R.h:this.state=I.OP_H,this.hdr=0,this.ma=hc();break;case R.P:case R.p:this.state=I.OP_P;break;case R.PLUS:this.state=I.OP_PLUS;break;case R.MINUS:this.state=I.OP_MINUS;break;case R.I:case R.i:this.state=I.OP_I;break;default:throw this.fail(t.subarray(s))}break;case I.OP_H:switch(r){case R.M:case R.m:this.state=I.OP_M;break;default:throw this.fail(t.subarray(s))}break;case I.OP_M:switch(r){case R.S:case R.s:this.state=I.OP_MS;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MS:switch(r){case R.G:case R.g:this.state=I.OP_MSG;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MSG:switch(r){case R.SPACE:case R.TAB:this.state=I.OP_MSG_SPC;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MSG_SPC:switch(r){case R.SPACE:case R.TAB:continue;default:this.state=I.MSG_ARG,this.as=s}break;case I.MSG_ARG:switch(r){case R.CR:this.drop=1;break;case R.NL:{const n=this.argBuf?this.argBuf.bytes():t.subarray(this.as,s-this.drop);this.processMsgArgs(n),this.drop=0,this.as=s+1,this.state=I.MSG_PAYLOAD,s=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;case I.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const n=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:Ae.MSG,msg:this.ma,data:n}),this.argBuf=void 0,this.msgBuf=void 0,this.state=I.MSG_END}else{let n=this.ma.size-this.msgBuf.length;const i=t.length-s;i<n&&(n=i),n>0?(this.msgBuf.write(t.subarray(s,s+n)),s=s+n-1):this.msgBuf.writeByte(r)}else s-this.as>=this.ma.size&&(this.dispatcher.push({kind:Ae.MSG,msg:this.ma,data:t.subarray(this.as,s)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=I.MSG_END);break;case I.MSG_END:switch(r){case R.NL:this.drop=0,this.as=s+1,this.state=I.OP_START;break;default:continue}break;case I.OP_PLUS:switch(r){case R.O:case R.o:this.state=I.OP_PLUS_O;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PLUS_O:switch(r){case R.K:case R.k:this.state=I.OP_PLUS_OK;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PLUS_OK:switch(r){case R.NL:this.dispatcher.push({kind:Ae.OK}),this.drop=0,this.state=I.OP_START;break}break;case I.OP_MINUS:switch(r){case R.E:case R.e:this.state=I.OP_MINUS_E;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MINUS_E:switch(r){case R.R:case R.r:this.state=I.OP_MINUS_ER;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MINUS_ER:switch(r){case R.R:case R.r:this.state=I.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MINUS_ERR:switch(r){case R.SPACE:case R.TAB:this.state=I.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(s))}break;case I.OP_MINUS_ERR_SPC:switch(r){case R.SPACE:case R.TAB:continue;default:this.state=I.MINUS_ERR_ARG,this.as=s}break;case I.MINUS_ERR_ARG:switch(r){case R.CR:this.drop=1;break;case R.NL:{let n;this.argBuf?(n=this.argBuf.bytes(),this.argBuf=void 0):n=t.subarray(this.as,s-this.drop),this.dispatcher.push({kind:Ae.ERR,data:n}),this.drop=0,this.as=s+1,this.state=I.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(r))}break;case I.OP_P:switch(r){case R.I:case R.i:this.state=I.OP_PI;break;case R.O:case R.o:this.state=I.OP_PO;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PO:switch(r){case R.N:case R.n:this.state=I.OP_PON;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PON:switch(r){case R.G:case R.g:this.state=I.OP_PONG;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PONG:switch(r){case R.NL:this.dispatcher.push({kind:Ae.PONG}),this.drop=0,this.state=I.OP_START;break}break;case I.OP_PI:switch(r){case R.N:case R.n:this.state=I.OP_PIN;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PIN:switch(r){case R.G:case R.g:this.state=I.OP_PING;break;default:throw this.fail(t.subarray(s))}break;case I.OP_PING:switch(r){case R.NL:this.dispatcher.push({kind:Ae.PING}),this.drop=0,this.state=I.OP_START;break}break;case I.OP_I:switch(r){case R.N:case R.n:this.state=I.OP_IN;break;default:throw this.fail(t.subarray(s))}break;case I.OP_IN:switch(r){case R.F:case R.f:this.state=I.OP_INF;break;default:throw this.fail(t.subarray(s))}break;case I.OP_INF:switch(r){case R.O:case R.o:this.state=I.OP_INFO;break;default:throw this.fail(t.subarray(s))}break;case I.OP_INFO:switch(r){case R.SPACE:case R.TAB:this.state=I.OP_INFO_SPC;break;default:throw this.fail(t.subarray(s))}break;case I.OP_INFO_SPC:switch(r){case R.SPACE:case R.TAB:continue;default:this.state=I.INFO_ARG,this.as=s}break;case I.INFO_ARG:switch(r){case R.CR:this.drop=1;break;case R.NL:{let n;this.argBuf?(n=this.argBuf.bytes(),this.argBuf=void 0):n=t.subarray(this.as,s-this.drop),this.dispatcher.push({kind:Ae.INFO,data:n}),this.drop=0,this.as=s+1,this.state=I.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;default:throw this.fail(t.subarray(s))}}(this.state===I.MSG_ARG||this.state===I.MINUS_ERR_ARG||this.state===I.INFO_ARG)&&!this.argBuf&&(this.argBuf=new Sn(t.subarray(this.as,s-this.drop))),this.state===I.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new Sn(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,s=this.ma.reply?this.ma.reply.length:0,r=new Uint8Array(t+s);r.set(this.ma.subject),this.ma.reply&&r.set(this.ma.reply,t),this.argBuf=new Sn(r),this.ma.subject=r.subarray(0,t),this.ma.reply&&(this.ma.reply=r.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const s=[];let r=-1;for(let n=0;n<t.length;n++)switch(t[n]){case R.SPACE:case R.TAB:case R.CR:case R.NL:r>=0&&(s.push(t.subarray(r,n)),r=-1);break;default:r<0&&(r=n)}switch(r>=0&&s.push(t.subarray(r)),s.length){case 3:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(s[2]);break;case 4:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=s[2],this.ma.size=this.protoParseInt(s[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,s=""){return s?s=`${s} [${this.state}]`:s=`parse error [${this.state}]`,new Error(`${s}: ${st.decode(t)}`)}processHeaderMsgArgs(t){const s=[];let r=-1;for(let n=0;n<t.length;n++)switch(t[n]){case R.SPACE:case R.TAB:case R.CR:case R.NL:r>=0&&(s.push(t.subarray(r,n)),r=-1);break;default:r<0&&(r=n)}switch(r>=0&&s.push(t.subarray(r)),s.length){case 4:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(s[2]),this.ma.size=this.protoParseInt(s[3]);break;case 5:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=s[2],this.ma.hdr=this.protoParseInt(s[3]),this.ma.size=this.protoParseInt(s[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let s=0;for(let r=0;r<t.length;r++){if(t[r]<48||t[r]>57)return-1;s=s*10+(t[r]-Yf)}return s}}var I;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(I||(I={}));var R;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(R||(R={}));const Xf=1024*32,Qf=/^INFO\s+([^\r\n]+)\r\n/i;function Mt(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${sc.next()}`}class Zf{constructor(){d(this,"baseInbox");d(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${Mt(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const s=t.subject||"";return s.indexOf(this.baseInbox)===0?s.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,s){if(s&&s.permissionContext){if(t)return this.all().forEach(n=>{n.resolver(s,{})}),!0;const r=s.permissionContext;if(r.operation==="publish"){const n=this.all().find(i=>i.requestSubject===r.subject);if(n)return n.resolver(s,{}),!0}}return!1}dispatcher(){return(t,s)=>{const r=this.getToken(s);if(r){const n=this.get(r);n&&(t===null&&s.headers&&(t=ic(s)),n.resolver(t,s))}}}close(){const t=B.errorForCode(N.Timeout);this.reqs.forEach(s=>{s.resolver(t,{})})}}const eh=Ss(`PONG\r
`),pc=Ss(`PING\r
`);class th{constructor(t,s,r){d(this,"echo");d(this,"no_responders");d(this,"protocol");d(this,"verbose");d(this,"pedantic");d(this,"jwt");d(this,"nkey");d(this,"sig");d(this,"user");d(this,"pass");d(this,"auth_token");d(this,"tls_required");d(this,"name");d(this,"lang");d(this,"version");d(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=s.noEcho?!1:void 0,this.verbose=s.verbose,this.pedantic=s.pedantic,this.tls_required=s.tls?!0:void 0,this.name=s.name;const n=(s&&s.authenticator?s.authenticator(r):{})||{};Os(this,n)}}class br{constructor(t,s){d(this,"connected");d(this,"connectedOnce");d(this,"infoReceived");d(this,"info");d(this,"muxSubscriptions");d(this,"options");d(this,"outbound");d(this,"pongs");d(this,"subscriptions");d(this,"transport");d(this,"noMorePublishing");d(this,"connectError");d(this,"publisher");d(this,"_closed");d(this,"closed");d(this,"listeners");d(this,"heartbeats");d(this,"parser");d(this,"outMsgs");d(this,"inMsgs");d(this,"outBytes");d(this,"inBytes");d(this,"pendingLimit");d(this,"lastError");d(this,"abortReconnect");d(this,"servers");d(this,"server");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=Xf,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=s,this.subscriptions=new Gf,this.muxSubscriptions=new Zf,this.outbound=new lr,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit;const r=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new zf(r,{randomize:!t.noRandomize}),this.closed=ve(),this.parser=new dc(this),this.heartbeats=new Wf(this,this.options.pingInterval||Uo,this.options.maxPingOut||rf)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[],t.forEach(s=>{s.reject(B.errorForCode(N.Disconnect))}),this.parser=new dc(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(s=>{s.push(t)})}status(){const t=new at;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=ve();return this.pongs.unshift(t),this.connectError=s=>{t.reject(s)},this.transport=Ff(),this.transport.closed().then(async s=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError);return}}),t}disconnect(){this.dispatchStatus({type:Ps.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:kt.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{this.dispatchStatus({type:kt.Reconnect,data:this.servers.getCurrentServer().toString()})}).catch(s=>{this._close(s)}):await this._close()}async dial(t){const s=this.prepare();let r;try{r=hr(this.options.timeout||2e4);const n=this.transport.connect(t,this.options);await Promise.race([n,r]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(n){s.reject(n)}try{await Promise.race([r,s]),r&&r.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(n){throw r&&r.cancel(),await this.transport.close(n),n}}async _doDial(t){const s=await t.resolve({fn:cc(),randomize:!this.options.noRandomize});let r=null;for(const n of s)try{r=null,this.dispatchStatus({type:Ps.Reconnecting,data:n.toString()}),await this.dial(n);return}catch(i){r=i}throw r}async dialLoop(){let t;for(;;){const s=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():Lo;let r=s;const n=this.selectServer();if(!n||this.abortReconnect)throw t||(this.lastError?this.lastError:B.errorForCode(N.ConnectionRefused));const i=Date.now();if(n.lastConnect===0||n.lastConnect+s<=i){n.lastConnect=Date.now();try{await this._doDial(n);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}n.reconnects++;const c=this.options.maxReconnectAttempts||0;c!==-1&&n.reconnects>=c&&this.servers.removeCurrentServer()}}else r=Math.min(r,n.lastConnect+s-i),await zo(r)}}static async connect(t,s){const r=new br(t,s);return await r.dialLoop(),r}static toError(t){const s=t?t.toLowerCase():"";if(s.indexOf("permissions violation")!==-1){const r=new B(t,N.PermissionsViolation),n=t.match(/(Publish|Subscription) to "(\S+)"/);return n&&(r.permissionContext={operation:n[1].toLowerCase(),subject:n[2]}),r}else return s.indexOf("authorization violation")!==-1?new B(t,N.AuthorizationViolation):s.indexOf("user authentication expired")!==-1?new B(t,N.AuthenticationExpired):new B(t,N.ProtocolError)}processMsg(t,s){if(this.inMsgs++,this.inBytes+=s.length,!this.subscriptions.sidCounter)return;const r=this.subscriptions.get(t.sid);!r||(r.received+=1,r.callback&&r.callback(null,new Mf(t,s,this)),r.max!==void 0&&r.received>=r.max&&r.unsubscribe())}async processError(t){const s=Ko(t),r=br.toError(s);let n=!1;const i={type:kt.Error,data:r.code};if(r.permissionContext){i.permissionContext=r.permissionContext;const o=this.subscriptions.getMux();n=(o==null?void 0:o.subject)===r.permissionContext.subject}this.subscriptions.handleError(r),this.muxSubscriptions.handleError(n,r),n&&this.subscriptions.setMux(null),this.dispatchStatus(i),await this.handleError(r)}async handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&await this._close(t),this.lastError=t}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(eh).catch(()=>{})}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const s=JSON.parse(Ko(t));this.info=s;const r=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(s);if(!this.infoReceived){this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const c=new th({version:i,lang:o},this.options,s.nonce);s.headers&&(c.headers=!0,c.no_responders=!0);const a=JSON.stringify(c);this.transport.send(Ss(`CONNECT ${a}${Rt}`)),this.transport.send(pc)}catch(c){this._close(B.errorForCode(N.BadAuthentication,c))}}r&&this.dispatchStatus({type:kt.Update,data:r}),(s.ldm!==void 0?s.ldm:!1)&&this.dispatchStatus({type:kt.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case Ae.MSG:{const{msg:s,data:r}=t;this.processMsg(s,r);break}case Ae.OK:break;case Ae.ERR:this.processError(t.data);break;case Ae.PING:this.processPing();break;case Ae.PONG:this.processPong();break;case Ae.INFO:this.processInfo(t.data);break}}sendCommand(t,...s){const r=this.outbound.length();let n;typeof t=="string"?n=Ss(t):n=t,this.outbound.fill(n,...s),r===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,s,r){let n=s.length;r=r||{},r.reply=r.reply||"";let i=ct,o=0;if(r.headers){if(this.info&&!this.info.headers)throw new B("headers",N.ServerOptionNotAvailable);i=r.headers.encode(),o=i.length,n=s.length+o}if(this.info&&n>this.info.max_payload)throw B.errorForCode(N.MaxPayloadExceeded);this.outBytes+=n,this.outMsgs++;let c;r.headers?(r.reply?c=`HPUB ${t} ${r.reply} ${o} ${n}${Rt}`:c=`HPUB ${t} ${o} ${n}\r
`,this.sendCommand(c,i,s,ur)):(r.reply?c=`PUB ${t} ${r.reply} ${n}\r
`:c=`PUB ${t} ${n}\r
`,this.sendCommand(c,s,ur))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,s){this.unsub(t,s),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,s){!t||this.isClosed()||(s?this.sendCommand(`UNSUB ${t.sid} ${s}${Rt}`):this.sendCommand(`UNSUB ${t.sid}${Rt}`),t.max=s)}resub(t,s){!t||this.isClosed()||(t.subject=s,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=ve()),this.pongs.push(t),this.sendCommand(pc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(s=>{const r=s;r.queue?t.push(`SUB ${r.subject} ${r.queue} ${r.sid}${Rt}`):t.push(`SUB ${r.subject} ${r.sid}${Rt}`)}),t.length&&this.transport.send(Ss(t.join(""))).catch(()=>{})}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(s=>{s.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),s=[];return t.forEach(r=>{s.push(r.drain())}),Promise.all(s).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t).catch(()=>{})}}initMux(){if(!this.subscriptions.getMux()){const s=this.muxSubscriptions.init(this.options.inboxPrefix),r=new uc(this,`${s}*`);r.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(r),this.subscribe(r)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function ts(e){return new sh(e)}class sh{constructor(t){d(this,"config");d(this,"ordered");d(this,"mack");d(this,"stream");d(this,"callbackFn");d(this,"max");d(this,"qname");d(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=cf("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?we.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Xt(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=Te.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=Te.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=Te.All,this}deliverLastPerSubject(){return this.config.deliver_policy=Te.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=Te.Last,this}deliverNew(){return this.config.deliver_policy=Te.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=we.None,this}ackAll(){return this.config.ack_policy=we.All,this}ackExplicit(){return this.config.ack_policy=we.Explicit,this}ackWait(t){return this.config.ack_wait=Ce(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=Yt.Instant,this}replayOriginal(){return this.config.replay_policy=Yt.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=Ce(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,s){return this.stream=t,this.config.durable_name=s,this.isBind=!0,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=Ce(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=Ce(t),this}}function gc(e){return typeof e.getOpts=="function"}function rh(e){return new Uint8Array(e)}function nh(e){return new Float64Array(e)}const ih=[],On=[],Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let e=0,t=Cn.length;e<t;++e)ih[e]=Cn[e],On[Cn.charCodeAt(e)]=e;On["-".charCodeAt(0)]=62;On["_".charCodeAt(0)]=63;new TextEncoder().encode("0123456789abcdef");new TextEncoder;new TextDecoder;function yt(e){const t=nh(16);if(e)for(let s=0;s<e.length;s++)t[s]=e[s];return t}const oh=rh(32);oh[0]=9;yt();yt([1]);yt([56129,1]);yt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]);yt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]);yt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]);yt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);yt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);var _r;(function(e){e[e.Key=32]="Key",e[e.Nonce=24]="Nonce",e[e.Overhead=16]="Overhead",e[e.Zero=32]="Zero"})(_r||(_r={}));var Nt,mc;(function(e){e[e.PublicKey=32]="PublicKey",e[e.SecretKey=32]="SecretKey",e[e.SharedKey=32]="SharedKey",e[e.Nonce=_r.Nonce]="Nonce",e[e.Overhead=_r.Overhead]="Overhead"})(Nt||(Nt={}));(function(e){e[e.Scalar=32]="Scalar",e[e.GroupElement=32]="GroupElement"})(mc||(mc={}));var bc;(function(e){e[e.Hash=64]="Hash"})(bc||(bc={}));var _c;(function(e){e[e.PublicKey=32]="PublicKey",e[e.SecretKey=64]="SecretKey",e[e.Seed=32]="Seed",e[e.Signature=64]="Signature"})(_c||(_c={}));var yc;(function(e){e[e.Auth=32]="Auth",e[e.AuthFull=64]="AuthFull",e[e.Key=32]="Key"})(yc||(yc={}));var wc;(function(e){e[e.PublicKey=Nt.PublicKey]="PublicKey",e[e.SecretKey=Nt.SecretKey]="SecretKey",e[e.Nonce=Nt.Nonce]="Nonce",e[e.Overhead=Nt.PublicKey+Nt.Overhead]="Overhead"})(wc||(wc={}));var vc;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(vc||(vc={}));var xc;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(xc||(xc={}));function ch(e){return e.authenticator?e.authenticator:e.token?uh(e.token):e.user?lh(e.user,e.pass):ah()}function ah(){return()=>{}}function lh(e,t){return()=>({user:e,pass:t})}function uh(e){return()=>({auth_token:e})}class fh extends pr{constructor(t,s){super(t,s)}async add(t={}){je(t.name);const r=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(r),r}async delete(t){return je(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,s={}){if(typeof t=="object"){const o=t;t=o.name,s=o,console.trace("[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  [0m")}je(t);const r=s;r.name=t;const i=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,r);return this._fixInfo(i),i}async info(t,s){je(t);const n=await this._request(`${this.prefix}.STREAM.INFO.${t}`,s);return this._fixInfo(n),n}list(){const t=r=>{const n=r;return n.streams.forEach(i=>{this._fixInfo(i)}),n.streams},s=`${this.prefix}.STREAM.LIST`;return new Yo(s,t,this)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,s){if(s){const{keep:n,seq:i}=s;if(typeof n=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return je(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,s)}async deleteMessage(t,s,r=!0){je(t);const n={seq:s};return r||(n.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,n)).success}async getMessage(t,s){je(t);const n=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,s);return new hh(n)}find(t){return this.findStream(t)}}class hh{constructor(t){d(this,"subject");d(this,"seq");d(this,"data");d(this,"time");d(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(t.message.time),this.data=t.message.data?this._parse(t.message.data):ct,t.message.hdrs){const s=this._parse(t.message.hdrs);this.header=Zt.decode(s)}else this.header=dr()}_parse(t){const s=atob(t),r=s.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=s.charCodeAt(i);return n}}class dh extends pr{constructor(t,s){super(t,s);d(this,"streams");d(this,"consumers");this.streams=new fh(t,s),this.consumers=new Xo(t,s)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const t=new at;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(s,r)=>{if(s)throw s;try{const n=this.parseJsResponse(r),i=n.type.split("."),o=i[i.length-1];t.push({kind:o,data:n})}catch(n){t.stop(n)}}}),t}}function ph(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:Uo,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:Lo,tls:void 0,verbose:!1,waitOnFirstConnect:!1}}function gh(e){const t=`${mn}:${oc()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new B("port and servers options are mutually exclusive",N.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${mn}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const s=Os(ph(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw B.errorForCode(N.BadAuthentication);if(s.authenticator=ch(s),["reconnectDelayHandler","authenticator"].forEach(r=>{if(s[r]&&typeof s[r]!="function")throw new B(`${r} option should be a function`,N.NotFunction)}),s.reconnectDelayHandler||(s.reconnectDelayHandler=()=>{let r=s.tls?s.reconnectJitterTLS:s.reconnectJitter;return r&&(r++,r=Math.floor(Math.random()*r)),s.reconnectTimeWait+r}),s.inboxPrefix)try{Mt(s.inboxPrefix)}catch(r){throw new B(r.message,N.ApiError)}if(s.resolve&&typeof cc()!="function")throw new B("'resolve' is not supported on this client",N.InvalidOption);return s}var Ft;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(Ft||(Ft={}));function Ec(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function mh(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:Ec(),storage:_n.File}}const yr="KV-Operation",Pc="KV_",wr="$KV",bh=/^[-/=.\w]+$/,_h=/^[-/=.>*\w]+$/,yh=/^[-\w]+$/;function wh(e){if(e.startsWith(".")||e.endsWith(".")||!bh.test(e))throw new Error(`invalid key: ${e}`)}function vh(e){if(e.startsWith(".")||e.endsWith(".")||!_h.test(e))throw new Error(`invalid key: ${e}`)}function xh(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let s=!1;for(let r=0;r<t.length;r++)switch(t[r]){case"*":s=!0;break;case">":if(r!==t.length-1)throw new Error(`invalid key: ${e}`);s=!0;break}return s}function An(e){if(!yh.test(e))throw new Error(`invalid bucket name: ${e}`)}class ks{constructor(t,s,r){d(this,"jsm");d(this,"js");d(this,"stream");d(this,"bucket");d(this,"codec");d(this,"_prefixLen");d(this,"subjPrefix");d(this,"validateKey",wh);d(this,"validateSearchKey",vh);d(this,"hasWildcards",xh);An(t),this.jsm=s,this.js=r,this.bucket=t,this._prefixLen=0,this.subjPrefix=wr;const i=r.prefix||"$JS.API";i!=="$JS.API"&&(this.subjPrefix=`${i}.${wr}`)}static async create(t,s,r={}){An(s);const n=r.timeout||2e3,i=t;let o=i.opts||{};o=Object.assign(o,{timeout:n});const c=await i.nc.jetstreamManager(o),a=new ks(s,c,t);return await a.init(r),a}static async bind(t,s,r={}){const i=await t.nc.jetstreamManager(),o=await i.streams.info(`${Pc}${s}`);An(o.config.name);const c=new ks(s,i,t);return Object.assign(c,o),c.codec=r.codec||Ec(),c}async init(t={}){var c;const s=Object.assign(mh(),t);this.codec=s.codec;const r={};this.stream=r.name=(c=t.streamName)!=null?c:this.bucketName(),r.subjects=[this.subjectForBucket()],r.retention=bn.Limits,r.max_msgs_per_subject=s.history,r.max_bytes=s.maxBucketSize,r.max_msg_size=s.maxValueSize,r.storage=s.storage;const i=this.js.nc.getServerVersion(),o=i?mf(i,Vo("2.7.2"))>=0:!1;r.discard=o?cr.New:cr.Old,r.num_replicas=s.replicas,s.ttl&&(r.max_age=Ce(s.ttl)),r.allow_rollup_hdrs=!0;try{await this.jsm.streams.info(r.name)}catch(a){a.message==="stream not found"&&await this.jsm.streams.add(r)}}bucketName(){var t;return(t=this.stream)!=null?t:`${Pc}${this.bucket}`}subjectForBucket(){return`${this.subjPrefix}.${this.bucket}.>`}subjectForKey(t){return`${this.subjPrefix}.${this.bucket}.${t}`}fullKeyName(t){return`${wr}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=`${wr}.${this.bucket}.`.length),this._prefixLen}encodeKey(t){const s=[];for(const r of t.split("."))switch(r){case">":case"*":s.push(r);break;default:s.push(this.codec.key.encode(r));break}return s.join(".")}decodeKey(t){const s=[];for(const r of t.split("."))switch(r){case">":case"*":s.push(r);break;default:s.push(this.codec.key.decode(r));break}return s.join(".")}close(){return Promise.resolve()}dataLen(t,s){const r=s&&s.get(It.MessageSizeHdr)||"";return r!==""?parseInt(r,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(yr)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var r;const s=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:s,value:t.data,created:new Date(af(t.info.timestampNanos)),revision:t.seq,operation:((r=t.headers)==null?void 0:r.get(yr))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,s){return this.put(t,s,{previousSeq:0})}update(t,s,r){if(r<=0)throw new Error("version must be greater than 0");return this.put(t,s,{previousSeq:r})}async put(t,s,r={}){const n=this.encodeKey(t);this.validateKey(n);const i={};if(r.previousSeq!==void 0){const c=dr();i.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${r.previousSeq}`)}return(await this.js.publish(this.subjectForKey(n),s,i)).seq}async get(t,s){const r=this.encodeKey(t);this.validateKey(r);let n={last_by_subj:this.fullKeyName(r)};s&&s.revision>0&&(n={seq:s.revision});try{const i=await this.jsm.streams.getMessage(this.bucketName(),n),o=this.smToEntry(i);return o.key!==r?null:o}catch(i){if(i.message==="no message found")return null;throw i}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const s=ve(),r=[],n=await this.watch({key:">",initializedFn:()=>{s.resolve()}});(async()=>{for await(const a of n)(a.operation==="DEL"||a.operation==="PURGE")&&r.push(a)})().then(),await s,n.stop();const i=Date.now()-t,o=r.map(a=>{const l=this.subjectForKey(a.key);return a.created.getTime()>=i?this.jsm.streams.purge(this.stream,{filter:l,keep:1}):this.jsm.streams.purge(this.stream,{filter:l,keep:0})}),c=await Promise.all(o);return c.unshift({success:!0,purged:0}),c.reduce((a,l)=>(a.purged+=l.purged,a))}async _deleteOrPurge(t,s){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,s);const r=await this.keys(t),n=[];for await(const i of r)n.push(this._doDeleteOrPurge(i,s)),n.length===100&&(await Promise.all(n),n.length=0);n.length>0&&await Promise.all(n)}async _doDeleteOrPurge(t,s){const r=this.encodeKey(t);this.validateKey(r);const n=dr();n.set(yr,s),s==="PURGE"&&n.set(It.RollupHdr,It.RollupValueSubject),await this.js.publish(this.subjectForKey(r),ct,{headers:n})}_buildCC(t,s=!1,r={}){const n=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:s?Te.All:Te.LastPerSubject,ack_policy:we.None,filter_subject:this.fullKeyName(n),flow_control:!0,idle_heartbeat:Ce(5*1e3)},r)}remove(t){return this.purge(t)}async history(t={}){var g;const s=(g=t.key)!=null?g:">",r=new at,n={};n.headers_only=t.headers_only||!1;let i;i=()=>{r.stop()};let o=0;const c=this._buildCC(s,!0,n),a=c.filter_subject,l=ts(c);l.orderedConsumer(),l.callback((h,m)=>{if(h){r.stop(h);return}if(m){const k=this.jmToEntry(m);r.push(k),r.received++,(i&&o>0&&r.received>=o||m.info.pending===0)&&(r.push(i),i=void 0)}});const f=await this.js.subscribe(a,l);if(i){const{info:{last:h}}=f,m=h.num_pending+h.delivered.consumer_seq;if(m===0||r.received>=m)try{i()}catch(k){r.stop(k)}finally{i=void 0}else o=m}return r._data=f,r.iterClosed.then(()=>{f.unsubscribe()}),f.closed.then(()=>{r.stop()}).catch(h=>{r.stop(h)}),r}async watch(t={}){var g;const s=(g=t.key)!=null?g:">",r=new at,n={};n.headers_only=t.headers_only||!1;let i=t.initializedFn,o=0;const c=this._buildCC(s,!1,n),a=c.filter_subject,l=ts(c);l.orderedConsumer(),l.callback((h,m)=>{if(h){r.stop(h);return}if(m){const k=this.jmToEntry(m);r.push(k),r.received++,i&&(o>0&&r.received>=o||m.info.pending===0)&&(r.push(i),i=void 0)}});const f=await this.js.subscribe(a,l);if(i){const{info:{last:h}}=f,m=h.num_pending+h.delivered.consumer_seq;if(m===0||r.received>=m)try{i()}catch(k){r.stop(k)}finally{i=void 0}else o=m}return r._data=f,r.iterClosed.then(()=>{f.unsubscribe()}),f.closed.then(()=>{r.stop()}).catch(h=>{r.stop(h)}),r}async keys(t=">"){const s=new at,r=this._buildCC(t,!1,{headers_only:!0}),n=r.filter_subject,i=ts(r);i.orderedConsumer();const o=await this.js.subscribe(n,i);return(async()=>{var a;for await(const l of o){const f=(a=l.headers)==null?void 0:a.get(yr);if(f!=="DEL"&&f!=="PURGE"){const g=this.decodeKey(l.subject.substring(this.prefixLen));s.push(g)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{s.stop()}).catch(a=>{s.stop(a)}),o.info.last.num_pending===0&&o.unsubscribe(),s}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var n,i;const s=(i=(n=this.js.nc.info)==null?void 0:n.cluster)!=null?i:"",r=await this.jsm.streams.info(this.bucketName());return{bucket:this.bucketName(),values:r.state.messages,history:r.config.max_msgs_per_subject,ttl:r.config.max_age,bucket_location:s,backingStore:r.config.storage}}}class Eh{constructor(t){d(this,"js");this.js=t,Ih(this.js.nc)}kv(t,s={}){return s.bindOnly?ks.bind(this.js,t):ks.create(this.js,t,s)}}class kn extends pr{constructor(t,s){super(t,s);d(this,"api");this.api=new Xo(t,s)}get views(){return new Eh(this)}async publish(t,s=ct,r){r=r||{},r.expect=r.expect||{};const n=(r==null?void 0:r.headers)||dr();r&&(r.msgID&&n.set(Ft.MsgIdHdr,r.msgID),r.expect.lastMsgID&&n.set(Ft.ExpectedLastMsgIdHdr,r.expect.lastMsgID),r.expect.streamName&&n.set(Ft.ExpectedStreamHdr,r.expect.streamName),r.expect.lastSequence&&n.set(Ft.ExpectedLastSeqHdr,`${r.expect.lastSequence}`),r.expect.lastSubjectSequence&&n.set(Ft.ExpectedLastSubjectSequenceHdr,`${r.expect.lastSubjectSequence}`));const i=r.timeout||this.timeout,o={};i&&(o.timeout=i),r&&(o.headers=n);const c=await this.nc.request(t,s,o),a=this.parseJsResponse(c);if(a.stream==="")throw B.errorForCode(N.JetStreamInvalidAck);return a.duplicate=a.duplicate?a.duplicate:!1,a}async pull(t,s,r=0){je(t),Xt(s);let n=this.timeout;r>n&&(n=r),r=r<0?0:Ce(r);const i={batch:1,no_wait:r===0,expires:r},o=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${t}.${s}`,this.jc.encode(i),{noMux:!0,timeout:n}),c=ar(o);if(c)throw c;return gr(o)}fetch(t,s,r={}){je(t),Xt(s);let n=null;const i={};i.batch=r.batch||1,i.no_wait=r.no_wait||!1,i.no_wait&&i.expires&&(i.expires=0);const o=r.expires||0;if(o&&(i.expires=Ce(o)),o===0&&i.no_wait===!1)throw new Error("expires or no_wait is required");const c=new at,a=i.batch;let l=0;c.dispatchedFn=h=>{if(h){if(l++,n&&h.info.pending===0)return;(c.getPending()===1&&h.info.pending===0||a===l)&&c.stop()}};const f=Mt(this.nc.options.inboxPrefix),g=this.nc.subscribe(f,{max:r.batch,callback:(h,m)=>{h===null&&(h=ar(m)),h!==null?(n&&(n.cancel(),n=null),of(h)&&(h.code===N.JetStream404NoMessages||h.code===N.JetStream408RequestTimeout)?c.stop():c.stop(h)):(c.received++,c.push(gr(m)))}});return o&&(n=hr(o),n.catch(()=>{g.isClosed()||(g.drain(),n=null)})),(async()=>{await g.closed,n!==null&&(n.cancel(),n=null),c.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${t}.${s}`,this.jc.encode(i),{reply:f}),c}async pullSubscribe(t,s=ts()){const r=await this._processOptions(t,s);if(r.ordered)throw new Error("pull subscribers cannot be be ordered");if(r.attached||(r.config.filter_subject=t),r.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const n=r.config.ack_policy;if(n===we.None||n===we.All)throw new Error("ack policy for pull consumers must be explicit");const i=this._buildTypedSubscriptionOpts(r),o=new Sh(this,r.deliver,i);o.info=r;try{await this._maybeCreateConsumer(r)}catch(c){throw o.unsubscribe(),c}return o}async subscribe(t,s=ts()){const r=await this._processOptions(t,s);if(!r.isBind&&!r.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const n=this._buildTypedSubscriptionOpts(r),i=new Sc(this,r.deliver,n);i.info=r;try{await this._maybeCreateConsumer(r)}catch(o){throw i.unsubscribe(),o}return i}async _processOptions(t,s=ts()){var n,i;const r=gc(s)?s.getOpts():s;if(r.isBind=gc(s)?s.isBind:!1,r.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},r.ordered){if(r.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},r.config.ack_policy!==we.NotSet&&r.config.ack_policy!==we.None)throw new B("ordered consumer: ack_policy can only be set to 'none'",N.ApiError);if(r.config.durable_name&&r.config.durable_name.length>0)throw new B("ordered consumer: durable_name cannot be set",N.ApiError);if(r.config.deliver_subject&&r.config.deliver_subject.length>0)throw new B("ordered consumer: deliver_subject cannot be set",N.ApiError);if(r.config.max_deliver!==void 0&&r.config.max_deliver>1)throw new B("ordered consumer: max_deliver cannot be set",N.ApiError);if(r.config.deliver_group&&r.config.deliver_group.length>0)throw new B("ordered consumer: deliver_group cannot be set",N.ApiError);r.config.deliver_subject=Mt(this.nc.options.inboxPrefix),r.config.ack_policy=we.None,r.config.max_deliver=1,r.config.flow_control=!0,r.config.idle_heartbeat=r.config.idle_heartbeat||Ce(5e3),r.config.ack_wait=Ce(22*60*60*1e3)}if(r.config.ack_policy===we.NotSet&&(r.config.ack_policy=we.All),r.api=this,r.config=r.config||{},r.stream=r.stream?r.stream:await this.findStream(t),r.attached=!1,r.config.durable_name)try{const o=await this.api.info(r.stream,r.config.durable_name);if(o){if(o.config.filter_subject&&o.config.filter_subject!==t)throw new Error("subject does not match consumer");const c=(n=r.config.deliver_group)!=null?n:"";if(c===""&&o.push_bound===!0)throw new Error("duplicate subscription");const a=(i=o.config.deliver_group)!=null?i:"";if(c!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);r.last=o,r.config=o.config,r.attached=!0}}catch(o){if(o.code!=="404")throw o}return r.attached||(r.config.filter_subject=t),r.deliver=r.config.deliver_subject||Mt(this.nc.options.inboxPrefix),r}_buildTypedSubscriptionOpts(t){const s={};return s.adapter=Oh(t.callbackFn===void 0),s.ingestionFilterFn=kn.ingestionFn(t.ordered),s.protocolFilterFn=(r,n=!1)=>{const i=r;return yn(i.msg)?(n||i.msg.respond(),!1):!0},!t.mack&&t.config.ack_policy!==we.None&&(s.dispatchedFn=kh),t.callbackFn&&(s.callback=t.callbackFn),s.max=t.max||0,s.queue=t.queue,s}async _maybeCreateConsumer(t){if(t.attached)return;if(t.isBind)throw new Error(`unable to bind - durable consumer ${t.config.durable_name} doesn't exist in ${t.stream}`);t.config=Object.assign({deliver_policy:Te.All,ack_policy:we.Explicit,ack_wait:Ce(30*1e3),replay_policy:Yt.Instant},t.config);const s=await this.api.add(t.stream,t.config);t.name=s.name,t.config=s.config,t.last=s}static ingestionFn(t){return(s,r)=>{const n=r;if(!s)return{ingest:!1,protocol:!1};const i=s;if(lf(i.msg)){const c=t?n._checkHbOrderConsumer(i.msg):!0;return t||n.info.flow_control.heartbeat_count++,{ingest:c,protocol:!0}}else if(yn(i.msg))return n.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:t?n._checkOrderedConsumer(s):!0,protocol:!1}}}}class In{constructor(t){d(this,"options");d(this,"protocol");d(this,"draining");d(this,"listeners");this.draining=!1,this.options=gh(t),this.listeners=[]}static connect(t={}){return new Promise((s,r)=>{const n=new In(t);br.connect(n.options,n).then(i=>{n.protocol=i,async function(){for await(const o of i.status())n.listeners.forEach(c=>{c.push(o)})}(),s(n)}).catch(i=>{r(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,s,r){if(this.isClosed())throw B.errorForCode(N.ConnectionClosed);if(s&&this.isDraining()||r&&this.protocol.noMorePublishing)throw B.errorForCode(N.ConnectionDraining);if(t=t||"",t.length===0)throw B.errorForCode(N.BadSubject)}publish(t,s=ct,r){if(this._check(t,!1,!0),s&&!df(s))throw B.errorForCode(N.BadPayload);this.protocol.publish(t,s,r)}subscribe(t,s={}){this._check(t,!0,!1);const r=new uc(this.protocol,t,s);return this.protocol.subscribe(r),r}_resub(t,s,r){this._check(s,!0,!1);const n=t;n.max=r,r&&(n.max=r+n.received),this.protocol.resub(n,s)}request(t,s=ct,r={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(n){return Promise.reject(n)}if(r.timeout=r.timeout||1e3,r.timeout<1)return Promise.reject(new B("timeout",N.InvalidOption));if(!r.noMux&&r.reply)return Promise.reject(new B("reply can only be used with noMux",N.InvalidOption));if(r.noMux){const n=r.reply?r.reply:Mt(this.options.inboxPrefix),i=ve(),o=new Error,c=this.subscribe(n,{max:1,timeout:r.timeout,callback:(a,l)=>{a?(a.code!==N.Timeout&&(a.stack+=`

${o.stack}`),i.reject(a)):(a=ic(l),a?(a.stack+=`

${o.stack}`,i.reject(a)):i.resolve(l))}});return c.requestSubject=t,this.protocol.publish(t,s,{reply:n,headers:r.headers}),i}else{const n=new rc(this.protocol.muxSubscriptions,t,r);this.protocol.request(n);try{this.publish(t,s,{reply:`${this.protocol.muxSubscriptions.baseInbox}${n.token}`,headers:r.headers})}catch(o){n.cancel(o)}const i=Promise.race([n.timer,n.deferred]);return i.catch(()=>{n.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(B.errorForCode(N.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(B.errorForCode(N.ConnectionClosed)):this.isDraining()?Promise.reject(B.errorForCode(N.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new at;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const s=new dh(this,t);try{await s.getAccountInfo()}catch(r){const n=r;throw n.code===N.NoResponders&&(n.code=N.JetStreamNotEnabled),n}return s}jetstream(t={}){return new kn(this,t)}getServerVersion(){const t=this.info;return t?Vo(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw B.errorForCode(N.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}}function Ph(e,t){const{proto:s,tls_required:r}=e;if((s===void 0||s<1)&&t.noEcho)throw new B("noEcho",N.ServerOptionNotAvailable);if(t.tls&&!r)throw new B("tls",N.ServerOptionNotAvailable)}class Sc extends Rf{constructor(t,s,r){super(t.nc,s,r);d(this,"js");this.js=t}set info(t){this.sub.info=t}get info(){return this.sub.info}_resetOrderedConsumer(t){if(this.info===null||this.sub.isClosed())return;const s=Mt(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,s);const n=this.info;n.ordered_consumer_sequence.delivery_seq=0,n.flow_control.heartbeat_count=0,n.flow_control.fc_count=0,n.flow_control.consumer_restarts++,n.deliver=s,n.config.deliver_subject=s,n.config.deliver_policy=Te.StartSequence,n.config.opt_start_seq=t;const i=`${n.api.prefix}.CONSUMER.CREATE.${n.stream}`;this.js._request(i,this.info.config).catch(o=>{const c=new B(`unable to recreate ordered consumer ${n.stream} at seq ${t}`,N.RequestError,o);this.sub.callback(c,{})})}_checkHbOrderConsumer(t){const s=t.headers.get(It.ConsumerStalledHdr);s!==""&&this.js.nc.publish(s);const r=parseInt(t.headers.get(It.LastConsumerSeqHdr),10),n=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,r!==n.delivery_seq&&this._resetOrderedConsumer(n.stream_seq+1),!1}_checkOrderedConsumer(t){const s=this.info.ordered_consumer_sequence,r=t.info.streamSequence,n=t.info.deliverySequence;return n!=s.delivery_seq+1?(this._resetOrderedConsumer(s.stream_seq+1),!1):(s.delivery_seq=n,s.stream_seq=r,!0)}async destroy(){this.isClosed()||await this.drain();const t=this.sub.info,s=t.config.durable_name||t.name,r=`${t.api.prefix}.CONSUMER.DELETE.${t.stream}.${s}`;await t.api._request(r)}async consumerInfo(){const t=this.sub.info,s=t.config.durable_name||t.name,r=`${t.api.prefix}.CONSUMER.INFO.${t.stream}.${s}`,n=await t.api._request(r);return t.last=n,n}}class Sh extends Sc{constructor(t,s,r){super(t,s,r)}pull(t={batch:1}){var c;const{stream:s,config:r,name:n}=this.sub.info,i=(c=r.durable_name)!=null?c:n,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,t.expires&&t.expires>0&&(o.expires=Ce(t.expires)),this.info){const a=this.info.api,l=`${a.prefix}.CONSUMER.MSG.NEXT.${s}.${i}`,f=this.sub.subject;a.nc.publish(l,a.jc.encode(o),{reply:f})}}}function Oh(e){return e?Ah:Ch}function Ch(e,t){return e?[e,null]:(e=ar(t),e?[e,null]:[null,gr(t)])}function Ah(e,t){if(e)return[e,null];const s=ar(t);if(s!==null)switch(s.code){case N.JetStream404NoMessages:case N.JetStream408RequestTimeout:case N.JetStream409:return[null,null];default:return[s,null]}return[null,gr(t)]}function kh(e){e&&e.ack()}const Ih=(()=>{let e=!1;return t=>{var s;if(!e){e=!0;const{lang:r}=(s=t==null?void 0:t.protocol)==null?void 0:s.transport;console.log(r?`[33m >> jetstream's materialized views functionality in ${r} is beta functionality [0m`:"[33m >> jetstream's materialized views functionality is beta functionality [0m")}}})(),Rh="1.8.0",Mh="nats.ws";class Nh{constructor(){d(this,"version");d(this,"lang");d(this,"closeError");d(this,"connected");d(this,"done");d(this,"socket");d(this,"options");d(this,"socketClosed");d(this,"encrypted");d(this,"peeked");d(this,"yields");d(this,"signal");d(this,"closedNotification");this.version=Rh,this.lang=Mh,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=ve(),this.closedNotification=ve()}connect(t,s){const r=ve();if(s.tls)return r.reject(new B("tls",N.InvalidOption)),r;this.options=s;const n=t.src;return this.encrypted=n.indexOf("wss://")===0,this.socket=new WebSocket(n),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=lr.concat(...this.yields),c=gf(o);if(c!==""){const a=Qf.exec(c);if(!a){s.debug&&console.error("!!!",fr(o)),r.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(a[1]);Ph(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),r.resolve()}catch(l){r.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,c=new B(o.message,N.Unknown,new Error(o.error));r.reject(c)},r}disconnect(){this._closed(void 0,!0)}async _closed(t,s=!0){if(!!this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await zo(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}s&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let s=0;s<t.length;s++)this.options.debug&&console.info(`> ${fr(t[s])}`),yield t[s];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ve())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(this.done)return Promise.resolve();try{return this.socket.send(t.buffer),this.options.debug&&console.info(`< ${fr(t)}`),Promise.resolve()}catch(s){return this.options.debug&&console.error(`!!! ${fr(t)}: ${s}`),Promise.reject(s)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function Fh(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let s=new URL(e);const r=s.protocol.toLowerCase();r!=="https:"&&r!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),s=new URL(`http://${e}`));let n,i;const o=s.hostname,c=s.pathname,a=s.search||"";switch(r){case"http:":case"ws:":case"nats:":i=s.port||"80",n="ws:";break;default:i=s.port||"443",n="wss:";break}return`${n}//${o}:${i}${c}${a}`}function td(e={}){return Nf({defaultPort:443,urlParseFn:Fh,factory:()=>new Nh}),In.connect(e)}export{Vh as A,$h as B,Dh as C,qh as D,kt as E,Ge as F,Wh as G,xr as H,Oi as I,Lh as J,Uh as K,ed as L,Zh as M,Gh as N,bf as S,Hh as a,Kh as b,Vi as c,Ei as d,ga as e,tt as f,qa as g,Js as h,Yi as i,Ie as j,zh as k,ml as l,Jh as m,Er as n,zi as o,uo as p,Qh as q,Bh as r,Xh as s,jh as t,as as u,Yh as v,Aa as w,td as x,ts as y,Mt as z};
//# sourceMappingURL=vendor.626a96d0.js.map
