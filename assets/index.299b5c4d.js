var wf=Object.defineProperty;var vf=(e,t,n)=>t in e?wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var w=(e,t,n)=>(vf(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mo(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const xf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ef=mo(xf);function tl(e){return!!e||e===""}function go(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ze(r)?Pf(r):go(r);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ze(e))return e;if(Be(e))return e}}const Sf=/;(?![^(]*\))/g,Of=/:(.+)/;function Pf(e){const t={};return e.split(Sf).forEach(n=>{if(n){const r=n.split(Of);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function zt(e){let t="";if(Ze(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const r=zt(e[n]);r&&(t+=r+" ")}else if(Be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Af(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ls(e[r],t[r]);return n}function Ls(e,t){if(e===t)return!0;let n=Xo(e),r=Xo(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=kr(e),r=kr(t),n||r)return e===t;if(n=_e(e),r=_e(t),n||r)return n&&r?Af(e,t):!1;if(n=Be(e),r=Be(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Ls(e[o],t[o]))return!1}}return String(e)===String(t)}function kf(e,t){return e.findIndex(n=>Ls(n,t))}const At=e=>Ze(e)?e:e==null?"":_e(e)||Be(e)&&(e.toString===sl||!ve(e.toString))?JSON.stringify(e,nl,2):String(e),nl=(e,t)=>t&&t.__v_isRef?nl(e,t.value):Gn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:js(t)?{[`Set(${t.size})`]:[...t.values()]}:Be(t)&&!_e(t)&&!il(t)?String(t):t,Ue={},zn=[],jt=()=>{},Cf=()=>!1,If=/^on[^a-z]/,Fs=e=>If.test(e),_o=e=>e.startsWith("onUpdate:"),it=Object.assign,bo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Tf=Object.prototype.hasOwnProperty,ke=(e,t)=>Tf.call(e,t),_e=Array.isArray,Gn=e=>Hr(e)==="[object Map]",js=e=>Hr(e)==="[object Set]",Xo=e=>Hr(e)==="[object Date]",ve=e=>typeof e=="function",Ze=e=>typeof e=="string",kr=e=>typeof e=="symbol",Be=e=>e!==null&&typeof e=="object",rl=e=>Be(e)&&ve(e.then)&&ve(e.catch),sl=Object.prototype.toString,Hr=e=>sl.call(e),Nf=e=>Hr(e).slice(8,-1),il=e=>Hr(e)==="[object Object]",yo=e=>Ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ps=mo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$s=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Rf=/-(\w)/g,Gt=$s(e=>e.replace(Rf,(t,n)=>n?n.toUpperCase():"")),Mf=/\B([A-Z])/g,Rn=$s(e=>e.replace(Mf,"-$1").toLowerCase()),Us=$s(e=>e.charAt(0).toUpperCase()+e.slice(1)),fi=$s(e=>e?`on${Us(e)}`:""),Cr=(e,t)=>!Object.is(e,t),ms=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ws=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ol=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Qo;const Lf=()=>Qo||(Qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let bt;class al{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&bt&&(this.parent=bt,this.index=(bt.scopes||(bt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=bt;try{return bt=this,t()}finally{bt=n}}}on(){bt=this}off(){bt=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Ff(e){return new al(e)}function jf(e,t=bt){t&&t.active&&t.effects.push(e)}function $f(){return bt}function Uf(e){bt&&bt.cleanups.push(e)}const wo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},cl=e=>(e.w&pn)>0,ll=e=>(e.n&pn)>0,Df=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pn},Bf=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];cl(s)&&!ll(s)?s.delete(e):t[n++]=s,s.w&=~pn,s.n&=~pn}t.length=n}},Ni=new WeakMap;let br=0,pn=1;const Ri=30;let Rt;const Tn=Symbol(""),Mi=Symbol("");class vo{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,jf(this,r)}run(){if(!this.active)return this.fn();let t=Rt,n=fn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,fn=!0,pn=1<<++br,br<=Ri?Df(this):Zo(this),this.fn()}finally{br<=Ri&&Bf(this),pn=1<<--br,Rt=this.parent,fn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Zo(this),this.onStop&&this.onStop(),this.active=!1)}}function Zo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let fn=!0;const ul=[];function ir(){ul.push(fn),fn=!1}function or(){const e=ul.pop();fn=e===void 0?!0:e}function Et(e,t,n){if(fn&&Rt){let r=Ni.get(e);r||Ni.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=wo()),fl(s)}}function fl(e,t){let n=!1;br<=Ri?ll(e)||(e.n|=pn,n=!cl(e)):n=!e.has(Rt),n&&(e.add(Rt),Rt.deps.push(e))}function sn(e,t,n,r,s,i){const o=Ni.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&_e(e))o.forEach((c,l)=>{(l==="length"||l>=r)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":_e(e)?yo(n)&&a.push(o.get("length")):(a.push(o.get(Tn)),Gn(e)&&a.push(o.get(Mi)));break;case"delete":_e(e)||(a.push(o.get(Tn)),Gn(e)&&a.push(o.get(Mi)));break;case"set":Gn(e)&&a.push(o.get(Tn));break}if(a.length===1)a[0]&&Li(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Li(wo(c))}}function Li(e,t){const n=_e(e)?e:[...e];for(const r of n)r.computed&&ea(r);for(const r of n)r.computed||ea(r)}function ea(e,t){(e!==Rt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const qf=mo("__proto__,__v_isRef,__isVue"),hl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kr)),Wf=xo(),Hf=xo(!1,!0),Vf=xo(!0),ta=zf();function zf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ne(this);for(let i=0,o=this.length;i<o;i++)Et(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Ne)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ir();const r=Ne(this)[t].apply(this,n);return or(),r}}),e}function xo(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?ch:_l:t?gl:ml).get(r))return r;const o=_e(r);if(!e&&o&&ke(ta,s))return Reflect.get(ta,s,i);const a=Reflect.get(r,s,i);return(kr(s)?hl.has(s):qf(s))||(e||Et(r,"get",s),t)?a:Qe(a)?o&&yo(s)?a:a.value:Be(a)?e?bl(a):Vr(a):a}}const Gf=dl(),Kf=dl(!0);function dl(e=!1){return function(n,r,s,i){let o=n[r];if(Qn(o)&&Qe(o)&&!Qe(s))return!1;if(!e&&(!vs(s)&&!Qn(s)&&(o=Ne(o),s=Ne(s)),!_e(n)&&Qe(o)&&!Qe(s)))return o.value=s,!0;const a=_e(n)&&yo(r)?Number(r)<n.length:ke(n,r),c=Reflect.set(n,r,s,i);return n===Ne(i)&&(a?Cr(s,o)&&sn(n,"set",r,s):sn(n,"add",r,s)),c}}function Yf(e,t){const n=ke(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&sn(e,"delete",t,void 0),r}function Jf(e,t){const n=Reflect.has(e,t);return(!kr(t)||!hl.has(t))&&Et(e,"has",t),n}function Xf(e){return Et(e,"iterate",_e(e)?"length":Tn),Reflect.ownKeys(e)}const pl={get:Wf,set:Gf,deleteProperty:Yf,has:Jf,ownKeys:Xf},Qf={get:Vf,set(e,t){return!0},deleteProperty(e,t){return!0}},Zf=it({},pl,{get:Hf,set:Kf}),Eo=e=>e,Ds=e=>Reflect.getPrototypeOf(e);function ns(e,t,n=!1,r=!1){e=e.__v_raw;const s=Ne(e),i=Ne(t);n||(t!==i&&Et(s,"get",t),Et(s,"get",i));const{has:o}=Ds(s),a=r?Eo:n?Po:Ir;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function rs(e,t=!1){const n=this.__v_raw,r=Ne(n),s=Ne(e);return t||(e!==s&&Et(r,"has",e),Et(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ss(e,t=!1){return e=e.__v_raw,!t&&Et(Ne(e),"iterate",Tn),Reflect.get(e,"size",e)}function na(e){e=Ne(e);const t=Ne(this);return Ds(t).has.call(t,e)||(t.add(e),sn(t,"add",e,e)),this}function ra(e,t){t=Ne(t);const n=Ne(this),{has:r,get:s}=Ds(n);let i=r.call(n,e);i||(e=Ne(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?Cr(t,o)&&sn(n,"set",e,t):sn(n,"add",e,t),this}function sa(e){const t=Ne(this),{has:n,get:r}=Ds(t);let s=n.call(t,e);s||(e=Ne(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&sn(t,"delete",e,void 0),i}function ia(){const e=Ne(this),t=e.size!==0,n=e.clear();return t&&sn(e,"clear",void 0,void 0),n}function is(e,t){return function(r,s){const i=this,o=i.__v_raw,a=Ne(o),c=t?Eo:e?Po:Ir;return!e&&Et(a,"iterate",Tn),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function os(e,t,n){return function(...r){const s=this.__v_raw,i=Ne(s),o=Gn(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...r),u=n?Eo:t?Po:Ir;return!t&&Et(i,"iterate",c?Mi:Tn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function an(e){return function(...t){return e==="delete"?!1:this}}function eh(){const e={get(i){return ns(this,i)},get size(){return ss(this)},has:rs,add:na,set:ra,delete:sa,clear:ia,forEach:is(!1,!1)},t={get(i){return ns(this,i,!1,!0)},get size(){return ss(this)},has:rs,add:na,set:ra,delete:sa,clear:ia,forEach:is(!1,!0)},n={get(i){return ns(this,i,!0)},get size(){return ss(this,!0)},has(i){return rs.call(this,i,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:is(!0,!1)},r={get(i){return ns(this,i,!0,!0)},get size(){return ss(this,!0)},has(i){return rs.call(this,i,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=os(i,!1,!1),n[i]=os(i,!0,!1),t[i]=os(i,!1,!0),r[i]=os(i,!0,!0)}),[e,n,t,r]}const[th,nh,rh,sh]=eh();function So(e,t){const n=t?e?sh:rh:e?nh:th;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ke(n,s)&&s in r?n:r,s,i)}const ih={get:So(!1,!1)},oh={get:So(!1,!0)},ah={get:So(!0,!1)},ml=new WeakMap,gl=new WeakMap,_l=new WeakMap,ch=new WeakMap;function lh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uh(e){return e.__v_skip||!Object.isExtensible(e)?0:lh(Nf(e))}function Vr(e){return Qn(e)?e:Oo(e,!1,pl,ih,ml)}function fh(e){return Oo(e,!1,Zf,oh,gl)}function bl(e){return Oo(e,!0,Qf,ah,_l)}function Oo(e,t,n,r,s){if(!Be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=uh(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Kn(e){return Qn(e)?Kn(e.__v_raw):!!(e&&e.__v_isReactive)}function Qn(e){return!!(e&&e.__v_isReadonly)}function vs(e){return!!(e&&e.__v_isShallow)}function yl(e){return Kn(e)||Qn(e)}function Ne(e){const t=e&&e.__v_raw;return t?Ne(t):e}function wl(e){return ws(e,"__v_skip",!0),e}const Ir=e=>Be(e)?Vr(e):e,Po=e=>Be(e)?bl(e):e;function vl(e){fn&&Rt&&(e=Ne(e),fl(e.dep||(e.dep=wo())))}function xl(e,t){e=Ne(e),e.dep&&Li(e.dep)}function Qe(e){return!!(e&&e.__v_isRef===!0)}function Ye(e){return Sl(e,!1)}function El(e){return Sl(e,!0)}function Sl(e,t){return Qe(e)?e:new hh(e,t)}class hh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ne(t),this._value=n?t:Ir(t)}get value(){return vl(this),this._value}set value(t){const n=this.__v_isShallow||vs(t)||Qn(t);t=n?t:Ne(t),Cr(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ir(t),xl(this))}}function Ie(e){return Qe(e)?e.value:e}const dh={get:(e,t,n)=>Ie(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Qe(s)&&!Qe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Ol(e){return Kn(e)?e:new Proxy(e,dh)}class ph{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function zb(e,t,n){const r=e[t];return Qe(r)?r:new ph(e,t,n)}var Pl;class mh{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Pl]=!1,this._dirty=!0,this.effect=new vo(t,()=>{this._dirty||(this._dirty=!0,xl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Ne(this);return vl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Pl="__v_isReadonly";function gh(e,t,n=!1){let r,s;const i=ve(e);return i?(r=e,s=jt):(r=e.get,s=e.set),new mh(r,s,i||!s,n)}function hn(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Bs(i,t,n)}return s}function Ct(e,t,n,r){if(ve(e)){const i=hn(e,t,n,r);return i&&rl(i)&&i.catch(o=>{Bs(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Ct(e[i],t,n,r));return s}function Bs(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){hn(c,null,10,[e,o,a]);return}}_h(e,n,s,r)}function _h(e,t,n,r=!0){console.error(e)}let Tr=!1,Fi=!1;const rt=[];let Vt=0;const Yn=[];let Zt=null,Sn=0;const Al=Promise.resolve();let Ao=null;function zr(e){const t=Ao||Al;return e?t.then(this?e.bind(this):e):t}function bh(e){let t=Vt+1,n=rt.length;for(;t<n;){const r=t+n>>>1;Nr(rt[r])<e?t=r+1:n=r}return t}function ko(e){(!rt.length||!rt.includes(e,Tr&&e.allowRecurse?Vt+1:Vt))&&(e.id==null?rt.push(e):rt.splice(bh(e.id),0,e),kl())}function kl(){!Tr&&!Fi&&(Fi=!0,Ao=Al.then(Il))}function yh(e){const t=rt.indexOf(e);t>Vt&&rt.splice(t,1)}function wh(e){_e(e)?Yn.push(...e):(!Zt||!Zt.includes(e,e.allowRecurse?Sn+1:Sn))&&Yn.push(e),kl()}function oa(e,t=Tr?Vt+1:0){for(;t<rt.length;t++){const n=rt[t];n&&n.pre&&(rt.splice(t,1),t--,n())}}function Cl(e){if(Yn.length){const t=[...new Set(Yn)];if(Yn.length=0,Zt){Zt.push(...t);return}for(Zt=t,Zt.sort((n,r)=>Nr(n)-Nr(r)),Sn=0;Sn<Zt.length;Sn++)Zt[Sn]();Zt=null,Sn=0}}const Nr=e=>e.id==null?1/0:e.id,vh=(e,t)=>{const n=Nr(e)-Nr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Il(e){Fi=!1,Tr=!0,rt.sort(vh);const t=jt;try{for(Vt=0;Vt<rt.length;Vt++){const n=rt[Vt];n&&n.active!==!1&&hn(n,null,14)}}finally{Vt=0,rt.length=0,Cl(),Tr=!1,Ao=null,(rt.length||Yn.length)&&Il()}}function xh(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ue;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||Ue;d&&(s=n.map(g=>g.trim())),h&&(s=n.map(ol))}let a,c=r[a=fi(t)]||r[a=fi(Gt(t))];!c&&i&&(c=r[a=fi(Rn(t))]),c&&Ct(c,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ct(l,e,6,s)}}function Tl(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!ve(e)){const c=l=>{const u=Tl(l,t,!0);u&&(a=!0,it(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Be(e)&&r.set(e,null),null):(_e(i)?i.forEach(c=>o[c]=null):it(o,i),Be(e)&&r.set(e,o),o)}function qs(e,t){return!e||!Fs(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Rn(t))||ke(e,t))}let st=null,Ws=null;function xs(e){const t=st;return st=e,Ws=e&&e.type.__scopeId||null,t}function Gb(e){Ws=e}function Kb(){Ws=null}function Mt(e,t=st,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&_a(-1);const i=xs(t),o=e(...s);return xs(i),r._d&&_a(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function hi(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:g,ctx:S,inheritAttrs:T}=e;let j,C;const W=xs(e);try{if(n.shapeFlag&4){const z=s||r;j=Wt(u.call(z,z,h,i,g,d,S)),C=c}else{const z=t;j=Wt(z.length>1?z(i,{attrs:c,slots:a,emit:l}):z(i,null)),C=t.props?c:Eh(c)}}catch(z){wr.length=0,Bs(z,e,1),j=Fe(It)}let te=j;if(C&&T!==!1){const z=Object.keys(C),{shapeFlag:B}=te;z.length&&B&7&&(o&&z.some(_o)&&(C=Sh(C,o)),te=mn(te,C))}return n.dirs&&(te=mn(te),te.dirs=te.dirs?te.dirs.concat(n.dirs):n.dirs),n.transition&&(te.transition=n.transition),j=te,xs(W),j}const Eh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fs(n))&&((t||(t={}))[n]=e[n]);return t},Sh=(e,t)=>{const n={};for(const r in e)(!_o(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Oh(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?aa(r,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!qs(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?aa(r,o,l):!0:!!o;return!1}function aa(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!qs(n,i))return!0}return!1}function Ph({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ah=e=>e.__isSuspense;function kh(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):wh(e)}function gs(e,t){if(Je){let n=Je.provides;const r=Je.parent&&Je.parent.provides;r===n&&(n=Je.provides=Object.create(r)),n[e]=t}}function $t(e,t,n=!1){const r=Je||st;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ve(t)?t.call(r.proxy):t}}const ca={};function vt(e,t,n){return Nl(e,t,n)}function Nl(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Ue){const a=Je;let c,l=!1,u=!1;if(Qe(e)?(c=()=>e.value,l=vs(e)):Kn(e)?(c=()=>e,r=!0):_e(e)?(u=!0,l=e.some(C=>Kn(C)||vs(C)),c=()=>e.map(C=>{if(Qe(C))return C.value;if(Kn(C))return In(C);if(ve(C))return hn(C,a,2)})):ve(e)?t?c=()=>hn(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Ct(e,a,3,[d])}:c=jt,t&&r){const C=c;c=()=>In(C())}let h,d=C=>{h=j.onStop=()=>{hn(C,a,4)}};if(Lr)return d=jt,t?n&&Ct(t,a,3,[c(),u?[]:void 0,d]):c(),jt;let g=u?[]:ca;const S=()=>{if(!!j.active)if(t){const C=j.run();(r||l||(u?C.some((W,te)=>Cr(W,g[te])):Cr(C,g)))&&(h&&h(),Ct(t,a,3,[C,g===ca?void 0:g,d]),g=C)}else j.run()};S.allowRecurse=!!t;let T;s==="sync"?T=S:s==="post"?T=()=>dt(S,a&&a.suspense):(S.pre=!0,a&&(S.id=a.uid),T=()=>ko(S));const j=new vo(c,T);return t?n?S():g=j.run():s==="post"?dt(j.run.bind(j),a&&a.suspense):j.run(),()=>{j.stop(),a&&a.scope&&bo(a.scope.effects,j)}}function Ch(e,t,n){const r=this.proxy,s=Ze(e)?e.includes(".")?Rl(r,e):()=>r[e]:e.bind(r,r);let i;ve(t)?i=t:(i=t.handler,n=t);const o=Je;Zn(this);const a=Nl(s,i.bind(r),n);return o?Zn(o):Nn(),a}function Rl(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function In(e,t){if(!Be(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Qe(e))In(e.value,t);else if(_e(e))for(let n=0;n<e.length;n++)In(e[n],t);else if(js(e)||Gn(e))e.forEach(n=>{In(n,t)});else if(il(e))for(const n in e)In(e[n],t);return e}function Ih(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gr(()=>{e.isMounted=!0}),$l(()=>{e.isUnmounting=!0}),e}const Ot=[Function,Array],Th={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(e,{slots:t}){const n=ar(),r=Ih();let s;return()=>{const i=t.default&&Ll(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const T of i)if(T.type!==It){o=T;break}}const a=Ne(e),{mode:c}=a;if(r.isLeaving)return di(o);const l=la(o);if(!l)return di(o);const u=ji(l,a,r,n);$i(l,u);const h=n.subTree,d=h&&la(h);let g=!1;const{getTransitionKey:S}=l.type;if(S){const T=S();s===void 0?s=T:T!==s&&(s=T,g=!0)}if(d&&d.type!==It&&(!On(l,d)||g)){const T=ji(d,a,r,n);if($i(d,T),c==="out-in")return r.isLeaving=!0,T.afterLeave=()=>{r.isLeaving=!1,n.update()},di(o);c==="in-out"&&l.type!==It&&(T.delayLeave=(j,C,W)=>{const te=Ml(r,d);te[String(d.key)]=d,j._leaveCb=()=>{C(),j._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=W})}return o}}},Nh=Th;function Ml(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ji(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:g,onLeaveCancelled:S,onBeforeAppear:T,onAppear:j,onAfterAppear:C,onAppearCancelled:W}=t,te=String(e.key),z=Ml(n,e),B=(oe,be)=>{oe&&Ct(oe,r,9,be)},ue=(oe,be)=>{const Se=be[1];B(oe,be),_e(oe)?oe.every(Pe=>Pe.length<=1)&&Se():oe.length<=1&&Se()},se={mode:i,persisted:o,beforeEnter(oe){let be=a;if(!n.isMounted)if(s)be=T||a;else return;oe._leaveCb&&oe._leaveCb(!0);const Se=z[te];Se&&On(e,Se)&&Se.el._leaveCb&&Se.el._leaveCb(),B(be,[oe])},enter(oe){let be=c,Se=l,Pe=u;if(!n.isMounted)if(s)be=j||c,Se=C||l,Pe=W||u;else return;let Me=!1;const We=oe._enterCb=N=>{Me||(Me=!0,N?B(Pe,[oe]):B(Se,[oe]),se.delayedLeave&&se.delayedLeave(),oe._enterCb=void 0)};be?ue(be,[oe,We]):We()},leave(oe,be){const Se=String(e.key);if(oe._enterCb&&oe._enterCb(!0),n.isUnmounting)return be();B(h,[oe]);let Pe=!1;const Me=oe._leaveCb=We=>{Pe||(Pe=!0,be(),We?B(S,[oe]):B(g,[oe]),oe._leaveCb=void 0,z[Se]===e&&delete z[Se])};z[Se]=e,d?ue(d,[oe,Me]):Me()},clone(oe){return ji(oe,t,n,r)}};return se}function di(e){if(Hs(e))return e=mn(e),e.children=null,e}function la(e){return Hs(e)?e.children?e.children[0]:void 0:e}function $i(e,t){e.shapeFlag&6&&e.component?$i(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ll(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===yt?(o.patchFlag&128&&s++,r=r.concat(Ll(o.children,t,a))):(t||o.type!==It)&&r.push(a!=null?mn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Mn(e){return ve(e)?{setup:e,name:e.name}:e}const yr=e=>!!e.type.__asyncLoader,Hs=e=>e.type.__isKeepAlive;function Rh(e,t){Fl(e,"a",t)}function Mh(e,t){Fl(e,"da",t)}function Fl(e,t,n=Je){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vs(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Hs(s.parent.vnode)&&Lh(r,t,n,s),s=s.parent}}function Lh(e,t,n,r){const s=Vs(t,e,r,!0);Co(()=>{bo(r[t],s)},n)}function Vs(e,t,n=Je,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ir(),Zn(n);const a=Ct(t,n,e,o);return Nn(),or(),a});return r?s.unshift(i):s.push(i),i}}const on=e=>(t,n=Je)=>(!Lr||e==="sp")&&Vs(e,t,n),jl=on("bm"),Gr=on("m"),Fh=on("bu"),jh=on("u"),$l=on("bum"),Co=on("um"),$h=on("sp"),Uh=on("rtg"),Dh=on("rtc");function Bh(e,t=Je){Vs("ec",e,t)}function Yb(e,t){const n=st;if(n===null)return e;const r=Ys(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=Ue]=t[i];ve(o)&&(o={mounted:o,updated:o}),o.deep&&In(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l})}return e}function wn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(ir(),Ct(c,n,8,[e.el,a,e,t]),or())}}const Ul="components";function zs(e,t){return Wh(Ul,e,!0,t)||e}const qh=Symbol();function Wh(e,t,n=!0,r=!1){const s=st||Je;if(s){const i=s.type;if(e===Ul){const a=bd(i,!1);if(a&&(a===t||a===Gt(t)||a===Us(Gt(t))))return i}const o=ua(s[e]||i[e],t)||ua(s.appContext[e],t);return!o&&r?i:o}}function ua(e,t){return e&&(e[t]||e[Gt(t)]||e[Us(Gt(t))])}function Jb(e,t,n,r){let s;const i=n&&n[r];if(_e(e)||Ze(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Be(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function pi(e,t,n={},r,s){if(st.isCE||st.parent&&yr(st.parent)&&st.parent.isCE)return Fe("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),lt();const o=i&&Dl(i(n)),a=Mr(yt,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Dl(e){return e.some(t=>Os(t)?!(t.type===It||t.type===yt&&!Dl(t.children)):!0)?e:null}const Ui=e=>e?Ql(e)?Ys(e)||e.proxy:Ui(e.parent):null,Es=it(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ui(e.parent),$root:e=>Ui(e.root),$emit:e=>e.emit,$options:e=>Io(e),$forceUpdate:e=>e.f||(e.f=()=>ko(e.update)),$nextTick:e=>e.n||(e.n=zr.bind(e.proxy)),$watch:e=>Ch.bind(e)}),Hh={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==Ue&&ke(r,t))return o[t]=1,r[t];if(s!==Ue&&ke(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&ke(l,t))return o[t]=3,i[t];if(n!==Ue&&ke(n,t))return o[t]=4,n[t];Di&&(o[t]=0)}}const u=Es[t];let h,d;if(u)return t==="$attrs"&&Et(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Ue&&ke(n,t))return o[t]=4,n[t];if(d=c.config.globalProperties,ke(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==Ue&&ke(s,t)?(s[t]=n,!0):r!==Ue&&ke(r,t)?(r[t]=n,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==Ue&&ke(e,o)||t!==Ue&&ke(t,o)||(a=i[0])&&ke(a,o)||ke(r,o)||ke(Es,o)||ke(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Di=!0;function Vh(e){const t=Io(e),n=e.proxy,r=e.ctx;Di=!1,t.beforeCreate&&fa(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:S,activated:T,deactivated:j,beforeDestroy:C,beforeUnmount:W,destroyed:te,unmounted:z,render:B,renderTracked:ue,renderTriggered:se,errorCaptured:oe,serverPrefetch:be,expose:Se,inheritAttrs:Pe,components:Me,directives:We,filters:N}=t;if(l&&zh(l,r,null,e.appContext.config.unwrapInjectedRef),o)for(const re in o){const ce=o[re];ve(ce)&&(r[re]=ce.bind(n))}if(s){const re=s.call(n,n);Be(re)&&(e.data=Vr(re))}if(Di=!0,i)for(const re in i){const ce=i[re],ye=ve(ce)?ce.bind(n,n):ve(ce.get)?ce.get.bind(n,n):jt,pe=!ve(ce)&&ve(ce.set)?ce.set.bind(n):jt,we=ze({get:ye,set:pe});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>we.value,set:Ee=>we.value=Ee})}if(a)for(const re in a)Bl(a[re],r,n,re);if(c){const re=ve(c)?c.call(n):c;Reflect.ownKeys(re).forEach(ce=>{gs(ce,re[ce])})}u&&fa(u,e,"c");function fe(re,ce){_e(ce)?ce.forEach(ye=>re(ye.bind(n))):ce&&re(ce.bind(n))}if(fe(jl,h),fe(Gr,d),fe(Fh,g),fe(jh,S),fe(Rh,T),fe(Mh,j),fe(Bh,oe),fe(Dh,ue),fe(Uh,se),fe($l,W),fe(Co,z),fe($h,be),_e(Se))if(Se.length){const re=e.exposed||(e.exposed={});Se.forEach(ce=>{Object.defineProperty(re,ce,{get:()=>n[ce],set:ye=>n[ce]=ye})})}else e.exposed||(e.exposed={});B&&e.render===jt&&(e.render=B),Pe!=null&&(e.inheritAttrs=Pe),Me&&(e.components=Me),We&&(e.directives=We)}function zh(e,t,n=jt,r=!1){_e(e)&&(e=Bi(e));for(const s in e){const i=e[s];let o;Be(i)?"default"in i?o=$t(i.from||s,i.default,!0):o=$t(i.from||s):o=$t(i),Qe(o)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function fa(e,t,n){Ct(_e(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Bl(e,t,n,r){const s=r.includes(".")?Rl(n,r):()=>n[r];if(Ze(e)){const i=t[e];ve(i)&&vt(s,i)}else if(ve(e))vt(s,e.bind(n));else if(Be(e))if(_e(e))e.forEach(i=>Bl(i,t,n,r));else{const i=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(i)&&vt(s,i,e)}}function Io(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(l=>Ss(c,l,o,!0)),Ss(c,t,o)),Be(t)&&i.set(t,c),c}function Ss(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ss(e,i,n,!0),s&&s.forEach(o=>Ss(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Gh[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Gh={data:ha,props:xn,emits:xn,methods:xn,computed:xn,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:xn,directives:xn,watch:Yh,provide:ha,inject:Kh};function ha(e,t){return t?e?function(){return it(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function Kh(e,t){return xn(Bi(e),Bi(t))}function Bi(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?it(it(Object.create(null),e),t):t}function Yh(e,t){if(!e)return t;if(!t)return e;const n=it(Object.create(null),e);for(const r in t)n[r]=ot(e[r],t[r]);return n}function Jh(e,t,n,r=!1){const s={},i={};ws(i,Ks,1),e.propsDefaults=Object.create(null),ql(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:fh(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Xh(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=Ne(s),[c]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(qs(e.emitsOptions,d))continue;const g=t[d];if(c)if(ke(i,d))g!==i[d]&&(i[d]=g,l=!0);else{const S=Gt(d);s[S]=qi(c,a,S,g,e,!1)}else g!==i[d]&&(i[d]=g,l=!0)}}}else{ql(e,t,s,i)&&(l=!0);let u;for(const h in a)(!t||!ke(t,h)&&((u=Rn(h))===h||!ke(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=qi(c,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!ke(t,h)&&!0)&&(delete i[h],l=!0)}l&&sn(e,"set","$attrs")}function ql(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(ps(c))continue;const l=t[c];let u;s&&ke(s,u=Gt(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:qs(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=Ne(n),l=a||Ue;for(let u=0;u<i.length;u++){const h=i[u];n[h]=qi(s,c,h,l[h],e,!ke(l,h))}}return o}function qi(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=ke(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&ve(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(Zn(s),r=l[n]=c.call(null,t),Nn())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Rn(n))&&(r=!0))}return r}function Wl(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!ve(e)){const u=h=>{c=!0;const[d,g]=Wl(h,t,!0);it(o,d),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return Be(e)&&r.set(e,zn),zn;if(_e(i))for(let u=0;u<i.length;u++){const h=Gt(i[u]);da(h)&&(o[h]=Ue)}else if(i)for(const u in i){const h=Gt(u);if(da(h)){const d=i[u],g=o[h]=_e(d)||ve(d)?{type:d}:d;if(g){const S=ga(Boolean,g.type),T=ga(String,g.type);g[0]=S>-1,g[1]=T<0||S<T,(S>-1||ke(g,"default"))&&a.push(h)}}}const l=[o,a];return Be(e)&&r.set(e,l),l}function da(e){return e[0]!=="$"}function pa(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function ma(e,t){return pa(e)===pa(t)}function ga(e,t){return _e(t)?t.findIndex(n=>ma(n,e)):ve(t)&&ma(t,e)?0:-1}const Hl=e=>e[0]==="_"||e==="$stable",To=e=>_e(e)?e.map(Wt):[Wt(e)],Qh=(e,t,n)=>{if(t._n)return t;const r=Mt((...s)=>To(t(...s)),n);return r._c=!1,r},Vl=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Hl(s))continue;const i=e[s];if(ve(i))t[s]=Qh(s,i,r);else if(i!=null){const o=To(i);t[s]=()=>o}}},zl=(e,t)=>{const n=To(t);e.slots.default=()=>n},Zh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ne(t),ws(t,"_",n)):Vl(t,e.slots={})}else e.slots={},t&&zl(e,t);ws(e.slots,Ks,1)},ed=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Ue;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(it(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Vl(t,s)),o=t}else t&&(zl(e,t),o={default:1});if(i)for(const a in s)!Hl(a)&&!(a in o)&&delete s[a]};function Gl(){return{app:null,config:{isNativeTag:Cf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let td=0;function nd(e,t){return function(r,s=null){ve(r)||(r=Object.assign({},r)),s!=null&&!Be(s)&&(s=null);const i=Gl(),o=new Set;let a=!1;const c=i.app={_uid:td++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:wd,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ve(l.install)?(o.add(l),l.install(c,...u)):ve(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=Fe(r,s);return d.appContext=i,u&&t?t(d,l):e(d,l,h),a=!0,c._container=l,l.__vue_app__=c,Ys(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Wi(e,t,n,r,s=!1){if(_e(e)){e.forEach((d,g)=>Wi(d,t&&(_e(t)?t[g]:t),n,r,s));return}if(yr(r)&&!s)return;const i=r.shapeFlag&4?Ys(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===Ue?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Ze(l)?(u[l]=null,ke(h,l)&&(h[l]=null)):Qe(l)&&(l.value=null)),ve(c))hn(c,a,12,[o,u]);else{const d=Ze(c),g=Qe(c);if(d||g){const S=()=>{if(e.f){const T=d?u[c]:c.value;s?_e(T)&&bo(T,i):_e(T)?T.includes(i)||T.push(i):d?(u[c]=[i],ke(h,c)&&(h[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,ke(h,c)&&(h[c]=o)):g&&(c.value=o,e.k&&(u[e.k]=o))};o?(S.id=-1,dt(S,n)):S()}}}const dt=kh;function rd(e){return sd(e)}function sd(e,t){const n=Lf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=jt,cloneNode:S,insertStaticContent:T}=e,j=(b,x,A,$=null,U=null,V=null,K=!1,H=null,D=!!x.dynamicChildren)=>{if(b===x)return;b&&!On(b,x)&&($=Z(b),$e(b,U,V,!0),b=null),x.patchFlag===-2&&(D=!1,x.dynamicChildren=null);const{type:v,ref:P,shapeFlag:G}=x;switch(v){case Gs:C(b,x,A,$);break;case It:W(b,x,A,$);break;case mi:b==null&&te(x,A,$,K);break;case yt:We(b,x,A,$,U,V,K,H,D);break;default:G&1?ue(b,x,A,$,U,V,K,H,D):G&6?N(b,x,A,$,U,V,K,H,D):(G&64||G&128)&&v.process(b,x,A,$,U,V,K,H,D,me)}P!=null&&U&&Wi(P,b&&b.ref,V,x||b,!x)},C=(b,x,A,$)=>{if(b==null)r(x.el=a(x.children),A,$);else{const U=x.el=b.el;x.children!==b.children&&l(U,x.children)}},W=(b,x,A,$)=>{b==null?r(x.el=c(x.children||""),A,$):x.el=b.el},te=(b,x,A,$)=>{[b.el,b.anchor]=T(b.children,x,A,$,b.el,b.anchor)},z=({el:b,anchor:x},A,$)=>{let U;for(;b&&b!==x;)U=d(b),r(b,A,$),b=U;r(x,A,$)},B=({el:b,anchor:x})=>{let A;for(;b&&b!==x;)A=d(b),s(b),b=A;s(x)},ue=(b,x,A,$,U,V,K,H,D)=>{K=K||x.type==="svg",b==null?se(x,A,$,U,V,K,H,D):Se(b,x,U,V,K,H,D)},se=(b,x,A,$,U,V,K,H)=>{let D,v;const{type:P,props:G,shapeFlag:ee,transition:de,patchFlag:xe,dirs:Oe}=b;if(b.el&&S!==void 0&&xe===-1)D=b.el=S(b.el);else{if(D=b.el=o(b.type,V,G&&G.is,G),ee&8?u(D,b.children):ee&16&&be(b.children,D,null,$,U,V&&P!=="foreignObject",K,H),Oe&&wn(b,null,$,"created"),G){for(const je in G)je!=="value"&&!ps(je)&&i(D,je,null,G[je],V,b.children,$,U,L);"value"in G&&i(D,"value",null,G.value),(v=G.onVnodeBeforeMount)&&Bt(v,$,b)}oe(D,b,b.scopeId,K,$)}Oe&&wn(b,null,$,"beforeMount");const Te=(!U||U&&!U.pendingBranch)&&de&&!de.persisted;Te&&de.beforeEnter(D),r(D,x,A),((v=G&&G.onVnodeMounted)||Te||Oe)&&dt(()=>{v&&Bt(v,$,b),Te&&de.enter(D),Oe&&wn(b,null,$,"mounted")},U)},oe=(b,x,A,$,U)=>{if(A&&g(b,A),$)for(let V=0;V<$.length;V++)g(b,$[V]);if(U){let V=U.subTree;if(x===V){const K=U.vnode;oe(b,K,K.scopeId,K.slotScopeIds,U.parent)}}},be=(b,x,A,$,U,V,K,H,D=0)=>{for(let v=D;v<b.length;v++){const P=b[v]=H?ln(b[v]):Wt(b[v]);j(null,P,x,A,$,U,V,K,H)}},Se=(b,x,A,$,U,V,K)=>{const H=x.el=b.el;let{patchFlag:D,dynamicChildren:v,dirs:P}=x;D|=b.patchFlag&16;const G=b.props||Ue,ee=x.props||Ue;let de;A&&vn(A,!1),(de=ee.onVnodeBeforeUpdate)&&Bt(de,A,x,b),P&&wn(x,b,A,"beforeUpdate"),A&&vn(A,!0);const xe=U&&x.type!=="foreignObject";if(v?Pe(b.dynamicChildren,v,H,A,$,xe,V):K||ye(b,x,H,null,A,$,xe,V,!1),D>0){if(D&16)Me(H,x,G,ee,A,$,U);else if(D&2&&G.class!==ee.class&&i(H,"class",null,ee.class,U),D&4&&i(H,"style",G.style,ee.style,U),D&8){const Oe=x.dynamicProps;for(let Te=0;Te<Oe.length;Te++){const je=Oe[Te],mt=G[je],Jt=ee[je];(Jt!==mt||je==="value")&&i(H,je,mt,Jt,U,b.children,A,$,L)}}D&1&&b.children!==x.children&&u(H,x.children)}else!K&&v==null&&Me(H,x,G,ee,A,$,U);((de=ee.onVnodeUpdated)||P)&&dt(()=>{de&&Bt(de,A,x,b),P&&wn(x,b,A,"updated")},$)},Pe=(b,x,A,$,U,V,K)=>{for(let H=0;H<x.length;H++){const D=b[H],v=x[H],P=D.el&&(D.type===yt||!On(D,v)||D.shapeFlag&70)?h(D.el):A;j(D,v,P,null,$,U,V,K,!0)}},Me=(b,x,A,$,U,V,K)=>{if(A!==$){for(const H in $){if(ps(H))continue;const D=$[H],v=A[H];D!==v&&H!=="value"&&i(b,H,v,D,K,x.children,U,V,L)}if(A!==Ue)for(const H in A)!ps(H)&&!(H in $)&&i(b,H,A[H],null,K,x.children,U,V,L);"value"in $&&i(b,"value",A.value,$.value)}},We=(b,x,A,$,U,V,K,H,D)=>{const v=x.el=b?b.el:a(""),P=x.anchor=b?b.anchor:a("");let{patchFlag:G,dynamicChildren:ee,slotScopeIds:de}=x;de&&(H=H?H.concat(de):de),b==null?(r(v,A,$),r(P,A,$),be(x.children,A,P,U,V,K,H,D)):G>0&&G&64&&ee&&b.dynamicChildren?(Pe(b.dynamicChildren,ee,A,U,V,K,H),(x.key!=null||U&&x===U.subTree)&&Kl(b,x,!0)):ye(b,x,A,P,U,V,K,H,D)},N=(b,x,A,$,U,V,K,H,D)=>{x.slotScopeIds=H,b==null?x.shapeFlag&512?U.ctx.activate(x,A,$,K,D):I(x,A,$,U,V,K,D):fe(b,x,D)},I=(b,x,A,$,U,V,K)=>{const H=b.component=dd(b,$,U);if(Hs(b)&&(H.ctx.renderer=me),pd(H),H.asyncDep){if(U&&U.registerDep(H,re),!b.el){const D=H.subTree=Fe(It);W(null,D,x,A)}return}re(H,b,x,A,U,V,K)},fe=(b,x,A)=>{const $=x.component=b.component;if(Oh(b,x,A))if($.asyncDep&&!$.asyncResolved){ce($,x,A);return}else $.next=x,yh($.update),$.update();else x.el=b.el,$.vnode=x},re=(b,x,A,$,U,V,K)=>{const H=()=>{if(b.isMounted){let{next:P,bu:G,u:ee,parent:de,vnode:xe}=b,Oe=P,Te;vn(b,!1),P?(P.el=xe.el,ce(b,P,K)):P=xe,G&&ms(G),(Te=P.props&&P.props.onVnodeBeforeUpdate)&&Bt(Te,de,P,xe),vn(b,!0);const je=hi(b),mt=b.subTree;b.subTree=je,j(mt,je,h(mt.el),Z(mt),b,U,V),P.el=je.el,Oe===null&&Ph(b,je.el),ee&&dt(ee,U),(Te=P.props&&P.props.onVnodeUpdated)&&dt(()=>Bt(Te,de,P,xe),U)}else{let P;const{el:G,props:ee}=x,{bm:de,m:xe,parent:Oe}=b,Te=yr(x);if(vn(b,!1),de&&ms(de),!Te&&(P=ee&&ee.onVnodeBeforeMount)&&Bt(P,Oe,x),vn(b,!0),G&&he){const je=()=>{b.subTree=hi(b),he(G,b.subTree,b,U,null)};Te?x.type.__asyncLoader().then(()=>!b.isUnmounted&&je()):je()}else{const je=b.subTree=hi(b);j(null,je,A,$,b,U,V),x.el=je.el}if(xe&&dt(xe,U),!Te&&(P=ee&&ee.onVnodeMounted)){const je=x;dt(()=>Bt(P,Oe,je),U)}(x.shapeFlag&256||Oe&&yr(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&b.a&&dt(b.a,U),b.isMounted=!0,x=A=$=null}},D=b.effect=new vo(H,()=>ko(v),b.scope),v=b.update=()=>D.run();v.id=b.uid,vn(b,!0),v()},ce=(b,x,A)=>{x.component=b;const $=b.vnode.props;b.vnode=x,b.next=null,Xh(b,x.props,$,A),ed(b,x.children,A),ir(),oa(),or()},ye=(b,x,A,$,U,V,K,H,D=!1)=>{const v=b&&b.children,P=b?b.shapeFlag:0,G=x.children,{patchFlag:ee,shapeFlag:de}=x;if(ee>0){if(ee&128){we(v,G,A,$,U,V,K,H,D);return}else if(ee&256){pe(v,G,A,$,U,V,K,H,D);return}}de&8?(P&16&&L(v,U,V),G!==v&&u(A,G)):P&16?de&16?we(v,G,A,$,U,V,K,H,D):L(v,U,V,!0):(P&8&&u(A,""),de&16&&be(G,A,$,U,V,K,H,D))},pe=(b,x,A,$,U,V,K,H,D)=>{b=b||zn,x=x||zn;const v=b.length,P=x.length,G=Math.min(v,P);let ee;for(ee=0;ee<G;ee++){const de=x[ee]=D?ln(x[ee]):Wt(x[ee]);j(b[ee],de,A,null,U,V,K,H,D)}v>P?L(b,U,V,!0,!1,G):be(x,A,$,U,V,K,H,D,G)},we=(b,x,A,$,U,V,K,H,D)=>{let v=0;const P=x.length;let G=b.length-1,ee=P-1;for(;v<=G&&v<=ee;){const de=b[v],xe=x[v]=D?ln(x[v]):Wt(x[v]);if(On(de,xe))j(de,xe,A,null,U,V,K,H,D);else break;v++}for(;v<=G&&v<=ee;){const de=b[G],xe=x[ee]=D?ln(x[ee]):Wt(x[ee]);if(On(de,xe))j(de,xe,A,null,U,V,K,H,D);else break;G--,ee--}if(v>G){if(v<=ee){const de=ee+1,xe=de<P?x[de].el:$;for(;v<=ee;)j(null,x[v]=D?ln(x[v]):Wt(x[v]),A,xe,U,V,K,H,D),v++}}else if(v>ee)for(;v<=G;)$e(b[v],U,V,!0),v++;else{const de=v,xe=v,Oe=new Map;for(v=xe;v<=ee;v++){const nt=x[v]=D?ln(x[v]):Wt(x[v]);nt.key!=null&&Oe.set(nt.key,v)}let Te,je=0;const mt=ee-xe+1;let Jt=!1,Xr=0;const gt=new Array(mt);for(v=0;v<mt;v++)gt[v]=0;for(v=de;v<=G;v++){const nt=b[v];if(je>=mt){$e(nt,U,V,!0);continue}let ft;if(nt.key!=null)ft=Oe.get(nt.key);else for(Te=xe;Te<=ee;Te++)if(gt[Te-xe]===0&&On(nt,x[Te])){ft=Te;break}ft===void 0?$e(nt,U,V,!0):(gt[ft-xe]=v+1,ft>=Xr?Xr=ft:Jt=!0,j(nt,x[ft],A,null,U,V,K,H,D),je++)}const bn=Jt?id(gt):zn;for(Te=bn.length-1,v=mt-1;v>=0;v--){const nt=xe+v,ft=x[nt],Fn=nt+1<P?x[nt+1].el:$;gt[v]===0?j(null,ft,A,Fn,U,V,K,H,D):Jt&&(Te<0||v!==bn[Te]?Ee(ft,A,Fn,2):Te--)}}},Ee=(b,x,A,$,U=null)=>{const{el:V,type:K,transition:H,children:D,shapeFlag:v}=b;if(v&6){Ee(b.component.subTree,x,A,$);return}if(v&128){b.suspense.move(x,A,$);return}if(v&64){K.move(b,x,A,me);return}if(K===yt){r(V,x,A);for(let G=0;G<D.length;G++)Ee(D[G],x,A,$);r(b.anchor,x,A);return}if(K===mi){z(b,x,A);return}if($!==2&&v&1&&H)if($===0)H.beforeEnter(V),r(V,x,A),dt(()=>H.enter(V),U);else{const{leave:G,delayLeave:ee,afterLeave:de}=H,xe=()=>r(V,x,A),Oe=()=>{G(V,()=>{xe(),de&&de()})};ee?ee(V,xe,Oe):Oe()}else r(V,x,A)},$e=(b,x,A,$=!1,U=!1)=>{const{type:V,props:K,ref:H,children:D,dynamicChildren:v,shapeFlag:P,patchFlag:G,dirs:ee}=b;if(H!=null&&Wi(H,null,A,b,!0),P&256){x.ctx.deactivate(b);return}const de=P&1&&ee,xe=!yr(b);let Oe;if(xe&&(Oe=K&&K.onVnodeBeforeUnmount)&&Bt(Oe,x,b),P&6)X(b.component,A,$);else{if(P&128){b.suspense.unmount(A,$);return}de&&wn(b,null,x,"beforeUnmount"),P&64?b.type.remove(b,x,A,U,me,$):v&&(V!==yt||G>0&&G&64)?L(v,x,A,!1,!0):(V===yt&&G&384||!U&&P&16)&&L(D,x,A),$&&Re(b)}(xe&&(Oe=K&&K.onVnodeUnmounted)||de)&&dt(()=>{Oe&&Bt(Oe,x,b),de&&wn(b,null,x,"unmounted")},A)},Re=b=>{const{type:x,el:A,anchor:$,transition:U}=b;if(x===yt){R(A,$);return}if(x===mi){B(b);return}const V=()=>{s(A),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(b.shapeFlag&1&&U&&!U.persisted){const{leave:K,delayLeave:H}=U,D=()=>K(A,V);H?H(b.el,V,D):D()}else V()},R=(b,x)=>{let A;for(;b!==x;)A=d(b),s(b),b=A;s(x)},X=(b,x,A)=>{const{bum:$,scope:U,update:V,subTree:K,um:H}=b;$&&ms($),U.stop(),V&&(V.active=!1,$e(K,b,x,A)),H&&dt(H,x),dt(()=>{b.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},L=(b,x,A,$=!1,U=!1,V=0)=>{for(let K=V;K<b.length;K++)$e(b[K],x,A,$,U)},Z=b=>b.shapeFlag&6?Z(b.component.subTree):b.shapeFlag&128?b.suspense.next():d(b.anchor||b.el),ne=(b,x,A)=>{b==null?x._vnode&&$e(x._vnode,null,null,!0):j(x._vnode||null,b,x,null,null,null,A),oa(),Cl(),x._vnode=b},me={p:j,um:$e,m:Ee,r:Re,mt:I,mc:be,pc:ye,pbc:Pe,n:Z,o:e};let ge,he;return t&&([ge,he]=t(me)),{render:ne,hydrate:ge,createApp:nd(ne,ge)}}function vn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Kl(e,t,n=!1){const r=e.children,s=t.children;if(_e(r)&&_e(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ln(s[i]),a.el=o.el),n||Kl(o,a))}}function id(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const od=e=>e.__isTeleport,yt=Symbol(void 0),Gs=Symbol(void 0),It=Symbol(void 0),mi=Symbol(void 0),wr=[];let Lt=null;function lt(e=!1){wr.push(Lt=e?null:[])}function ad(){wr.pop(),Lt=wr[wr.length-1]||null}let Rr=1;function _a(e){Rr+=e}function Yl(e){return e.dynamicChildren=Rr>0?Lt||zn:null,ad(),Rr>0&&Lt&&Lt.push(e),e}function Kt(e,t,n,r,s,i){return Yl(qe(e,t,n,r,s,i,!0))}function Mr(e,t,n,r,s){return Yl(Fe(e,t,n,r,s,!0))}function Os(e){return e?e.__v_isVNode===!0:!1}function On(e,t){return e.type===t.type&&e.key===t.key}const Ks="__vInternal",Jl=({key:e})=>e!=null?e:null,_s=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ze(e)||Qe(e)||ve(e)?{i:st,r:e,k:t,f:!!n}:e:null;function qe(e,t=null,n=null,r=0,s=null,i=e===yt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jl(t),ref:t&&_s(t),scopeId:Ws,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(No(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Ze(n)?8:16),Rr>0&&!o&&Lt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Lt.push(c),c}const Fe=cd;function cd(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===qh)&&(e=It),Os(e)){const a=mn(e,t,!0);return n&&No(a,n),Rr>0&&!i&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(e)]=a:Lt.push(a)),a.patchFlag|=-2,a}if(yd(e)&&(e=e.__vccOpts),t){t=ld(t);let{class:a,style:c}=t;a&&!Ze(a)&&(t.class=zt(a)),Be(c)&&(yl(c)&&!_e(c)&&(c=it({},c)),t.style=go(c))}const o=Ze(e)?1:Ah(e)?128:od(e)?64:Be(e)?4:ve(e)?2:0;return qe(e,t,n,r,s,o,i,!0)}function ld(e){return e?yl(e)||Ks in e?it({},e):e:null}function mn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?ud(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Jl(a),ref:t&&t.ref?n&&s?_e(s)?s.concat(_s(t)):[s,_s(t)]:_s(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mn(e.ssContent),ssFallback:e.ssFallback&&mn(e.ssFallback),el:e.el,anchor:e.anchor}}function Ps(e=" ",t=0){return Fe(Gs,null,e,t)}function Xl(e="",t=!1){return t?(lt(),Mr(It,null,e)):Fe(It,null,e)}function Wt(e){return e==null||typeof e=="boolean"?Fe(It):_e(e)?Fe(yt,null,e.slice()):typeof e=="object"?ln(e):Fe(Gs,null,String(e))}function ln(e){return e.el===null||e.memo?e:mn(e)}function No(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),No(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ks in t)?t._ctx=st:s===3&&st&&(st.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:st},n=32):(t=String(t),r&64?(n=16,t=[Ps(t)]):n=8);e.children=t,e.shapeFlag|=n}function ud(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=zt([t.class,r.class]));else if(s==="style")t.style=go([t.style,r.style]);else if(Fs(s)){const i=t[s],o=r[s];o&&i!==o&&!(_e(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Bt(e,t,n,r=null){Ct(e,t,7,[n,r])}const fd=Gl();let hd=0;function dd(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||fd,i={uid:hd++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new al(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wl(r,s),emitsOptions:Tl(r,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=xh.bind(null,i),e.ce&&e.ce(i),i}let Je=null;const ar=()=>Je||st,Zn=e=>{Je=e,e.scope.on()},Nn=()=>{Je&&Je.scope.off(),Je=null};function Ql(e){return e.vnode.shapeFlag&4}let Lr=!1;function pd(e,t=!1){Lr=t;const{props:n,children:r}=e.vnode,s=Ql(e);Jh(e,n,s,t),Zh(e,r);const i=s?md(e,t):void 0;return Lr=!1,i}function md(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wl(new Proxy(e.ctx,Hh));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?_d(e):null;Zn(e),ir();const i=hn(r,e,0,[e.props,s]);if(or(),Nn(),rl(i)){if(i.then(Nn,Nn),t)return i.then(o=>{ba(e,o,t)}).catch(o=>{Bs(o,e,0)});e.asyncDep=i}else ba(e,i,t)}else Zl(e,t)}function ba(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Be(t)&&(e.setupState=Ol(t)),Zl(e,n)}let ya;function Zl(e,t,n){const r=e.type;if(!e.render){if(!t&&ya&&!r.render){const s=r.template||Io(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,l=it(it({isCustomElement:i,delimiters:a},o),c);r.render=ya(s,l)}}e.render=r.render||jt}Zn(e),ir(),Vh(e),or(),Nn()}function gd(e){return new Proxy(e.attrs,{get(t,n){return Et(e,"get","$attrs"),t[n]}})}function _d(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=gd(e))},slots:e.slots,emit:e.emit,expose:t}}function Ys(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ol(wl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)}}))}function bd(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function yd(e){return ve(e)&&"__vccOpts"in e}const ze=(e,t)=>gh(e,t,Lr);function Js(e,t,n){const r=arguments.length;return r===2?Be(t)&&!_e(t)?Os(t)?Fe(e,null,[t]):Fe(e,t):Fe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Os(n)&&(n=[n]),Fe(e,t,n))}const wd="3.2.39",vd="http://www.w3.org/2000/svg",Pn=typeof document<"u"?document:null,wa=Pn&&Pn.createElement("template"),xd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?Pn.createElementNS(vd,e):Pn.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Pn.createTextNode(e),createComment:e=>Pn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{wa.innerHTML=r?`<svg>${e}</svg>`:e;const a=wa.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ed(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Sd(e,t,n){const r=e.style,s=Ze(n);if(n&&!s){for(const i in n)Hi(r,i,n[i]);if(t&&!Ze(t))for(const i in t)n[i]==null&&Hi(r,i,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const va=/\s*!important$/;function Hi(e,t,n){if(_e(n))n.forEach(r=>Hi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Od(e,t);va.test(n)?e.setProperty(Rn(r),n.replace(va,""),"important"):e[r]=n}}const xa=["Webkit","Moz","ms"],gi={};function Od(e,t){const n=gi[t];if(n)return n;let r=Gt(t);if(r!=="filter"&&r in e)return gi[t]=r;r=Us(r);for(let s=0;s<xa.length;s++){const i=xa[s]+r;if(i in e)return gi[t]=i}return t}const Ea="http://www.w3.org/1999/xlink";function Pd(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ea,t.slice(6,t.length)):e.setAttributeNS(Ea,t,n);else{const i=Ef(t);n==null||i&&!tl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Ad(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=tl(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[eu,kd]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Vi=0;const Cd=Promise.resolve(),Id=()=>{Vi=0},Td=()=>Vi||(Cd.then(Id),Vi=eu());function tu(e,t,n,r){e.addEventListener(t,n,r)}function Nd(e,t,n,r){e.removeEventListener(t,n,r)}function Rd(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=Md(t);if(r){const l=i[t]=Ld(r,s);tu(e,a,l,c)}else o&&(Nd(e,a,o,c),i[t]=void 0)}}const Sa=/(?:Once|Passive|Capture)$/;function Md(e){let t;if(Sa.test(e)){t={};let r;for(;r=e.match(Sa);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rn(e.slice(2)),t]}function Ld(e,t){const n=r=>{const s=r.timeStamp||eu();(kd||s>=n.attached-1)&&Ct(Fd(r,n.value),t,5,[r])};return n.value=e,n.attached=Td(),n}function Fd(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Oa=/^on[a-z]/,jd=(e,t,n,r,s=!1,i,o,a,c)=>{t==="class"?Ed(e,r,s):t==="style"?Sd(e,n,r):Fs(t)?_o(t)||Rd(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$d(e,t,r,s))?Ad(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Pd(e,t,r,s))};function $d(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Oa.test(t)&&ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Oa.test(t)&&Ze(n)?!1:t in e}const Ud={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Nh.props;const Pa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>ms(t,n):t},Xb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=js(t);tu(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ol(As(o)):As(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Pa(r)},mounted(e,{value:t}){Aa(e,t)},beforeUpdate(e,t,n){e._assign=Pa(n)},updated(e,{value:t}){Aa(e,t)}};function Aa(e,t){const n=e.multiple;if(!(n&&!_e(t)&&!js(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],o=As(i);if(n)_e(t)?i.selected=kf(t,o)>-1:i.selected=t.has(o);else if(Ls(As(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function As(e){return"_value"in e?e._value:e.value}const Dd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qb=(e,t)=>n=>{if(!("key"in n))return;const r=Rn(n.key);if(t.some(s=>s===r||Dd[s]===r))return e(n)},Zb={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):dr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),dr(e,!0),r.enter(e)):r.leave(e,()=>{dr(e,!1)}):dr(e,t))},beforeUnmount(e,{value:t}){dr(e,t)}};function dr(e,t){e.style.display=t?e._vod:"none"}const Bd=it({patchProp:jd},xd);let ka;function qd(){return ka||(ka=rd(Bd))}const Wd=(...e)=>{const t=qd().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Hd(r);if(!s)return;const i=t._component;!ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Hd(e){return Ze(e)?document.querySelector(e):e}/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const zi=typeof window<"u",Vd=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",gn=e=>Vd?Symbol(e):e,zd=(e,t,n)=>Gd({l:e,k:t,s:n}),Gd=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Xe=e=>typeof e=="number"&&isFinite(e),Kd=e=>Lo(e)==="[object Date]",ks=e=>Lo(e)==="[object RegExp]",Xs=e=>Ce(e)&&Object.keys(e).length===0;function Yd(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const ut=Object.assign;let Ca;const Ro=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ia(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Jd=Object.prototype.hasOwnProperty;function Mo(e,t){return Jd.call(e,t)}const Ge=Array.isArray,tt=e=>typeof e=="function",ae=e=>typeof e=="string",Ve=e=>typeof e=="boolean",De=e=>e!==null&&typeof e=="object",nu=Object.prototype.toString,Lo=e=>nu.call(e),Ce=e=>Lo(e)==="[object Object]",Xd=e=>e==null?"":Ge(e)||Ce(e)&&e.toString===nu?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const ru={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function su(e,t,n={}){const{domain:r,messages:s,args:i}=n,o=e,a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const iu={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const _n=[];_n[0]={w:[0],i:[3,0],["["]:[4],o:[7]};_n[1]={w:[1],["."]:[2],["["]:[4],o:[7]};_n[2]={w:[2],i:[3,0],[0]:[3,0]};_n[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};_n[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};_n[5]={["'"]:[4,0],o:8,l:[5,0]};_n[6]={['"']:[4,0],o:8,l:[6,0]};const Qd=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Zd(e){return Qd.test(e)}function ep(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function tp(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function np(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Zd(t)?ep(t):"*"+t}function rp(e){const t=[];let n=-1,r=0,s=0,i,o,a,c,l,u,h;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,r=4,d[0]();else{if(s=0,o===void 0||(o=np(o),o===!1))return!1;d[1]()}};function g(){const S=e[n+1];if(r===5&&S==="'"||r===6&&S==='"')return n++,a="\\"+S,d[0](),!0}for(;r!==null;)if(n++,i=e[n],!(i==="\\"&&g())){if(c=tp(i),h=_n[r],l=h[c]||h.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return t}}const Ta=new Map;function sp(e,t){return De(e)?e[t]:null}function ip(e,t){if(!De(e))return null;let n=Ta.get(t);if(n||(n=rp(t),n&&Ta.set(t,n)),!n)return null;const r=n.length;let s=e,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0)return null;s=o,i++}return s}const op=e=>e,ap=e=>"",cp="text",lp=e=>e.length===0?"":e.join(""),up=Xd;function Na(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function fp(e){const t=Xe(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Xe(e.named.count)||Xe(e.named.n))?Xe(e.named.count)?e.named.count:Xe(e.named.n)?e.named.n:t:t}function hp(e,t){t.count||(t.count=e),t.n||(t.n=e)}function dp(e={}){const t=e.locale,n=fp(e),r=De(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?e.pluralRules[t]:Na,s=De(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?Na:void 0,i=C=>C[r(n,C.length,s)],o=e.list||[],a=C=>o[C],c=e.named||{};Xe(e.pluralIndex)&&hp(n,c);const l=C=>c[C];function u(C){const W=tt(e.messages)?e.messages(C):De(e.messages)?e.messages[C]:!1;return W||(e.parent?e.parent.message(C):ap)}const h=C=>e.modifiers?e.modifiers[C]:op,d=Ce(e.processor)&&tt(e.processor.normalize)?e.processor.normalize:lp,g=Ce(e.processor)&&tt(e.processor.interpolate)?e.processor.interpolate:up,S=Ce(e.processor)&&ae(e.processor.type)?e.processor.type:cp,j={list:a,named:l,plural:i,linked:(C,...W)=>{const[te,z]=W;let B="text",ue="";W.length===1?De(te)?(ue=te.modifier||ue,B=te.type||B):ae(te)&&(ue=te||ue):W.length===2&&(ae(te)&&(ue=te||ue),ae(z)&&(B=z||B));let se=u(C)(j);return B==="vnode"&&Ge(se)&&ue&&(se=se[0]),ue?h(ue)(se,B):se},message:u,type:S,interpolate:g,normalize:d};return j}let Fr=null;function pp(e){Fr=e}function mp(e,t,n){Fr&&Fr.emit(iu.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}const gp=_p(iu.FunctionTranslate);function _p(e){return t=>Fr&&Fr.emit(e,t)}const bp={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};function yp(e,t,n){return[...new Set([n,...Ge(t)?t:De(t)?Object.keys(t):ae(t)?[t]:[n]])]}function ou(e,t,n){const r=ae(n)?n:Fo,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Ge(o);)o=Ra(i,o,t);const a=Ge(t)||!Ce(t)?t:t.default?t.default:null;o=ae(a)?[a]:a,Ge(o)&&Ra(i,o,!1),s.__localeChainCache.set(r,i)}return i}function Ra(e,t,n){let r=!0;for(let s=0;s<t.length&&Ve(r);s++){const i=t[s];ae(i)&&(r=wp(e,t[s],n))}return r}function wp(e,t,n){let r;const s=t.split("-");do{const i=s.join("-");r=vp(e,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function vp(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Ge(n)||Ce(n))&&n[s]&&(r=n[s])}return r}const xp="9.2.2",Qs=-1,Fo="en-US",Ma="",La=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Ep(){return{upper:(e,t)=>t==="text"&&ae(e)?e.toUpperCase():t==="vnode"&&De(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ae(e)?e.toLowerCase():t==="vnode"&&De(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ae(e)?La(e):t==="vnode"&&De(e)&&"__v_isVNode"in e?La(e.children):e}}let Sp,au;function Op(e){au=e}let cu;function Pp(e){cu=e}let lu=null;const Fa=e=>{lu=e},Ap=()=>lu;let uu=null;const ja=e=>{uu=e},kp=()=>uu;let $a=0;function Cp(e={}){const t=ae(e.version)?e.version:xp,n=ae(e.locale)?e.locale:Fo,r=Ge(e.fallbackLocale)||Ce(e.fallbackLocale)||ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,s=Ce(e.messages)?e.messages:{[n]:{}},i=Ce(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},o=Ce(e.numberFormats)?e.numberFormats:{[n]:{}},a=ut({},e.modifiers||{},Ep()),c=e.pluralRules||{},l=tt(e.missing)?e.missing:null,u=Ve(e.missingWarn)||ks(e.missingWarn)?e.missingWarn:!0,h=Ve(e.fallbackWarn)||ks(e.fallbackWarn)?e.fallbackWarn:!0,d=!!e.fallbackFormat,g=!!e.unresolving,S=tt(e.postTranslation)?e.postTranslation:null,T=Ce(e.processor)?e.processor:null,j=Ve(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,W=tt(e.messageCompiler)?e.messageCompiler:Sp,te=tt(e.messageResolver)?e.messageResolver:au||sp,z=tt(e.localeFallbacker)?e.localeFallbacker:cu||yp,B=De(e.fallbackContext)?e.fallbackContext:void 0,ue=tt(e.onWarn)?e.onWarn:Yd,se=e,oe=De(se.__datetimeFormatters)?se.__datetimeFormatters:new Map,be=De(se.__numberFormatters)?se.__numberFormatters:new Map,Se=De(se.__meta)?se.__meta:{};$a++;const Pe={version:t,cid:$a,locale:n,fallbackLocale:r,messages:s,modifiers:a,pluralRules:c,missing:l,missingWarn:u,fallbackWarn:h,fallbackFormat:d,unresolving:g,postTranslation:S,processor:T,warnHtmlMessage:j,escapeParameter:C,messageCompiler:W,messageResolver:te,localeFallbacker:z,fallbackContext:B,onWarn:ue,__meta:Se};return Pe.datetimeFormats=i,Pe.numberFormats=o,Pe.__datetimeFormatters=oe,Pe.__numberFormatters=be,__INTLIFY_PROD_DEVTOOLS__&&mp(Pe,t,Se),Pe}function jo(e,t,n,r,s){const{missing:i,onWarn:o}=e;if(i!==null){const a=i(e,n,t,s);return ae(a)?a:t}else return t}function pr(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}let fu=ru.__EXTEND_POINT__;const _i=()=>++fu,Wn={INVALID_ARGUMENT:fu,INVALID_DATE_ARGUMENT:_i(),INVALID_ISO_DATE_ARGUMENT:_i(),__EXTEND_POINT__:_i()};function Hn(e){return su(e,null,void 0)}const Ua=()=>"",Ht=e=>tt(e);function Da(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=e,[c,l]=Gi(...t),u=Ve(l.missingWarn)?l.missingWarn:e.missingWarn,h=Ve(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=Ve(l.escapeParameter)?l.escapeParameter:e.escapeParameter,g=!!l.resolvedMessage,S=ae(l.default)||Ve(l.default)?Ve(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:"",T=n||S!=="",j=ae(l.locale)?l.locale:e.locale;d&&Ip(l);let[C,W,te]=g?[c,j,a[j]||{}]:hu(e,c,j,o,h,u),z=C,B=c;if(!g&&!(ae(z)||Ht(z))&&T&&(z=S,B=z),!g&&(!(ae(z)||Ht(z))||!ae(W)))return s?Qs:c;let ue=!1;const se=()=>{ue=!0},oe=Ht(z)?z:du(e,c,W,z,B,se);if(ue)return z;const be=Rp(e,W,te,l),Se=dp(be),Pe=Tp(e,oe,Se),Me=r?r(Pe,c):Pe;if(__INTLIFY_PROD_DEVTOOLS__){const We={timestamp:Date.now(),key:ae(c)?c:Ht(z)?z.key:"",locale:W||(Ht(z)?z.locale:""),format:ae(z)?z:Ht(z)?z.source:"",message:Me};We.meta=ut({},e.__meta,Ap()||{}),gp(We)}return Me}function Ip(e){Ge(e.list)?e.list=e.list.map(t=>ae(t)?Ia(t):t):De(e.named)&&Object.keys(e.named).forEach(t=>{ae(e.named[t])&&(e.named[t]=Ia(e.named[t]))})}function hu(e,t,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=e,u=l(e,r,n);let h={},d,g=null;const S="translate";for(let T=0;T<u.length&&(d=u[T],h=o[d]||{},(g=c(h,t))===null&&(g=h[t]),!(ae(g)||tt(g)));T++){const j=jo(e,t,d,i,S);j!==t&&(g=j)}return[g,d,h]}function du(e,t,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Ht(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||t,l}if(o==null){const l=()=>r;return l.locale=n,l.key=t,l}const c=o(r,Np(e,n,s,r,a,i));return c.locale=n,c.key=t,c.source=r,c}function Tp(e,t,n){return t(n)}function Gi(...e){const[t,n,r]=e,s={};if(!ae(t)&&!Xe(t)&&!Ht(t))throw Hn(Wn.INVALID_ARGUMENT);const i=Xe(t)?String(t):(Ht(t),t);return Xe(n)?s.plural=n:ae(n)?s.default=n:Ce(n)&&!Xs(n)?s.named=n:Ge(n)&&(s.list=n),Xe(r)?s.plural=r:ae(r)?s.default=r:Ce(r)&&ut(s,r),[i,s]}function Np(e,t,n,r,s,i){return{warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>zd(t,n,o)}}function Rp(e,t,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=e,d={locale:t,modifiers:s,pluralRules:i,messages:g=>{let S=o(n,g);if(S==null&&u){const[,,T]=hu(u,g,t,a,c,l);S=o(T,g)}if(ae(S)){let T=!1;const C=du(e,g,t,S,g,()=>{T=!0});return T?Ua:C}else return Ht(S)?S:Ua}};return e.processor&&(d.processor=e.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),Xe(r.plural)&&(d.pluralIndex=r.plural),d}function Ba(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[c,l,u,h]=Ki(...t),d=Ve(u.missingWarn)?u.missingWarn:e.missingWarn;Ve(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const g=!!u.part,S=ae(u.locale)?u.locale:e.locale,T=o(e,s,S);if(!ae(c)||c==="")return new Intl.DateTimeFormat(S,h).format(l);let j={},C,W=null;const te="datetime format";for(let ue=0;ue<T.length&&(C=T[ue],j=n[C]||{},W=j[c],!Ce(W));ue++)jo(e,c,C,d,te);if(!Ce(W)||!ae(C))return r?Qs:c;let z=`${C}__${c}`;Xs(h)||(z=`${z}__${JSON.stringify(h)}`);let B=a.get(z);return B||(B=new Intl.DateTimeFormat(C,ut({},W,h)),a.set(z,B)),g?B.formatToParts(l):B.format(l)}const pu=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ki(...e){const[t,n,r,s]=e,i={};let o={},a;if(ae(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Hn(Wn.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Hn(Wn.INVALID_ISO_DATE_ARGUMENT)}}else if(Kd(t)){if(isNaN(t.getTime()))throw Hn(Wn.INVALID_DATE_ARGUMENT);a=t}else if(Xe(t))a=t;else throw Hn(Wn.INVALID_ARGUMENT);return ae(n)?i.key=n:Ce(n)&&Object.keys(n).forEach(c=>{pu.includes(c)?o[c]=n[c]:i[c]=n[c]}),ae(r)?i.locale=r:Ce(r)&&(o=r),Ce(s)&&(o=s),[i.key||"",a,i,o]}function qa(e,t,n){const r=e;for(const s in n){const i=`${t}__${s}`;!r.__datetimeFormatters.has(i)||r.__datetimeFormatters.delete(i)}}function Wa(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:a}=e,[c,l,u,h]=Yi(...t),d=Ve(u.missingWarn)?u.missingWarn:e.missingWarn;Ve(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const g=!!u.part,S=ae(u.locale)?u.locale:e.locale,T=o(e,s,S);if(!ae(c)||c==="")return new Intl.NumberFormat(S,h).format(l);let j={},C,W=null;const te="number format";for(let ue=0;ue<T.length&&(C=T[ue],j=n[C]||{},W=j[c],!Ce(W));ue++)jo(e,c,C,d,te);if(!Ce(W)||!ae(C))return r?Qs:c;let z=`${C}__${c}`;Xs(h)||(z=`${z}__${JSON.stringify(h)}`);let B=a.get(z);return B||(B=new Intl.NumberFormat(C,ut({},W,h)),a.set(z,B)),g?B.formatToParts(l):B.format(l)}const mu=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Yi(...e){const[t,n,r,s]=e,i={};let o={};if(!Xe(t))throw Hn(Wn.INVALID_ARGUMENT);const a=t;return ae(n)?i.key=n:Ce(n)&&Object.keys(n).forEach(c=>{mu.includes(c)?o[c]=n[c]:i[c]=n[c]}),ae(r)?i.locale=r:Ce(r)&&(o=r),Ce(s)&&(o=s),[i.key||"",a,i,o]}function Ha(e,t,n){const r=e;for(const s in n){const i=`${t}__${s}`;!r.__numberFormatters.has(i)||r.__numberFormatters.delete(i)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ro().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Mp="9.2.2";function Lp(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ro().__INTLIFY_PROD_DEVTOOLS__=!1)}bp.__EXTEND_POINT__;let gu=ru.__EXTEND_POINT__;const ht=()=>++gu,St={UNEXPECTED_RETURN_TYPE:gu,INVALID_ARGUMENT:ht(),MUST_BE_CALL_SETUP_TOP:ht(),NOT_INSLALLED:ht(),NOT_AVAILABLE_IN_LEGACY_MODE:ht(),REQUIRED_VALUE:ht(),INVALID_VALUE:ht(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ht(),NOT_INSLALLED_WITH_PROVIDE:ht(),UNEXPECTED_ERROR:ht(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ht(),BRIDGE_SUPPORT_VUE_2_ONLY:ht(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ht(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ht(),__EXTEND_POINT__:ht()};function Tt(e,...t){return su(e,null,void 0)}const Ji=gn("__transrateVNode"),Xi=gn("__datetimeParts"),Qi=gn("__numberParts"),Fp=gn("__setPluralRules");gn("__intlifyMeta");const jp=gn("__injectWithOption");function Zi(e){if(!De(e))return e;for(const t in e)if(!!Mo(e,t))if(!t.includes("."))De(e[t])&&Zi(e[t]);else{const n=t.split("."),r=n.length-1;let s=e;for(let i=0;i<r;i++)n[i]in s||(s[n[i]]={}),s=s[n[i]];s[n[r]]=e[t],delete e[t],De(s[n[r]])&&Zi(s[n[r]])}return e}function _u(e,t){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=t,o=Ce(n)?n:Ge(r)?{}:{[e]:{}};if(Ge(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},vr(l,o[c])):vr(l,o)}else ae(a)&&vr(JSON.parse(a),o)}),s==null&&i)for(const a in o)Mo(o,a)&&Zi(o[a]);return o}const as=e=>!De(e)||Ge(e);function vr(e,t){if(as(e)||as(t))throw Tt(St.INVALID_VALUE);for(const n in e)Mo(e,n)&&(as(e[n])||as(t[n])?t[n]=e[n]:vr(e[n],t[n]))}function bu(e){return e.type}function $p(e,t,n){let r=De(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=_u(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{e.mergeLocaleMessage(i,r[i])});{if(De(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(De(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function Va(e){return Fe(Gs,null,e,0)}const za="__INTLIFY_META__";let Ga=0;function Ka(e){return(t,n,r,s)=>e(n,r,ar()||void 0,s)}const Up=()=>{const e=ar();let t=null;return e&&(t=bu(e)[za])?{[za]:t}:null};function yu(e={},t){const{__root:n}=e,r=n===void 0;let s=Ve(e.inheritLocale)?e.inheritLocale:!0;const i=Ye(n&&s?n.locale.value:ae(e.locale)?e.locale:Fo),o=Ye(n&&s?n.fallbackLocale.value:ae(e.fallbackLocale)||Ge(e.fallbackLocale)||Ce(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),a=Ye(_u(i.value,e)),c=Ye(Ce(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),l=Ye(Ce(e.numberFormats)?e.numberFormats:{[i.value]:{}});let u=n?n.missingWarn:Ve(e.missingWarn)||ks(e.missingWarn)?e.missingWarn:!0,h=n?n.fallbackWarn:Ve(e.fallbackWarn)||ks(e.fallbackWarn)?e.fallbackWarn:!0,d=n?n.fallbackRoot:Ve(e.fallbackRoot)?e.fallbackRoot:!0,g=!!e.fallbackFormat,S=tt(e.missing)?e.missing:null,T=tt(e.missing)?Ka(e.missing):null,j=tt(e.postTranslation)?e.postTranslation:null,C=n?n.warnHtmlMessage:Ve(e.warnHtmlMessage)?e.warnHtmlMessage:!0,W=!!e.escapeParameter;const te=n?n.modifiers:Ce(e.modifiers)?e.modifiers:{};let z=e.pluralRules||n&&n.pluralRules,B;B=(()=>{r&&ja(null);const v={version:Mp,locale:i.value,fallbackLocale:o.value,messages:a.value,modifiers:te,pluralRules:z,missing:T===null?void 0:T,missingWarn:u,fallbackWarn:h,fallbackFormat:g,unresolving:!0,postTranslation:j===null?void 0:j,warnHtmlMessage:C,escapeParameter:W,messageResolver:e.messageResolver,__meta:{framework:"vue"}};v.datetimeFormats=c.value,v.numberFormats=l.value,v.__datetimeFormatters=Ce(B)?B.__datetimeFormatters:void 0,v.__numberFormatters=Ce(B)?B.__numberFormatters:void 0;const P=Cp(v);return r&&ja(P),P})(),pr(B,i.value,o.value);function se(){return[i.value,o.value,a.value,c.value,l.value]}const oe=ze({get:()=>i.value,set:v=>{i.value=v,B.locale=i.value}}),be=ze({get:()=>o.value,set:v=>{o.value=v,B.fallbackLocale=o.value,pr(B,i.value,v)}}),Se=ze(()=>a.value),Pe=ze(()=>c.value),Me=ze(()=>l.value);function We(){return tt(j)?j:null}function N(v){j=v,B.postTranslation=v}function I(){return S}function fe(v){v!==null&&(T=Ka(v)),S=v,B.missing=T}const re=(v,P,G,ee,de,xe)=>{se();let Oe;if(__INTLIFY_PROD_DEVTOOLS__)try{Fa(Up()),r||(B.fallbackContext=n?kp():void 0),Oe=v(B)}finally{Fa(null),r||(B.fallbackContext=void 0)}else Oe=v(B);if(Xe(Oe)&&Oe===Qs){const[Te,je]=P();return n&&d?ee(n):de(Te)}else{if(xe(Oe))return Oe;throw Tt(St.UNEXPECTED_RETURN_TYPE)}};function ce(...v){return re(P=>Reflect.apply(Da,null,[P,...v]),()=>Gi(...v),"translate",P=>Reflect.apply(P.t,P,[...v]),P=>P,P=>ae(P))}function ye(...v){const[P,G,ee]=v;if(ee&&!De(ee))throw Tt(St.INVALID_ARGUMENT);return ce(P,G,ut({resolvedMessage:!0},ee||{}))}function pe(...v){return re(P=>Reflect.apply(Ba,null,[P,...v]),()=>Ki(...v),"datetime format",P=>Reflect.apply(P.d,P,[...v]),()=>Ma,P=>ae(P))}function we(...v){return re(P=>Reflect.apply(Wa,null,[P,...v]),()=>Yi(...v),"number format",P=>Reflect.apply(P.n,P,[...v]),()=>Ma,P=>ae(P))}function Ee(v){return v.map(P=>ae(P)||Xe(P)||Ve(P)?Va(String(P)):P)}const Re={normalize:Ee,interpolate:v=>v,type:"vnode"};function R(...v){return re(P=>{let G;const ee=P;try{ee.processor=Re,G=Reflect.apply(Da,null,[ee,...v])}finally{ee.processor=null}return G},()=>Gi(...v),"translate",P=>P[Ji](...v),P=>[Va(P)],P=>Ge(P))}function X(...v){return re(P=>Reflect.apply(Wa,null,[P,...v]),()=>Yi(...v),"number format",P=>P[Qi](...v),()=>[],P=>ae(P)||Ge(P))}function L(...v){return re(P=>Reflect.apply(Ba,null,[P,...v]),()=>Ki(...v),"datetime format",P=>P[Xi](...v),()=>[],P=>ae(P)||Ge(P))}function Z(v){z=v,B.pluralRules=z}function ne(v,P){const G=ae(P)?P:i.value,ee=he(G);return B.messageResolver(ee,v)!==null}function me(v){let P=null;const G=ou(B,o.value,i.value);for(let ee=0;ee<G.length;ee++){const de=a.value[G[ee]]||{},xe=B.messageResolver(de,v);if(xe!=null){P=xe;break}}return P}function ge(v){const P=me(v);return P!=null?P:n?n.tm(v)||{}:{}}function he(v){return a.value[v]||{}}function b(v,P){a.value[v]=P,B.messages=a.value}function x(v,P){a.value[v]=a.value[v]||{},vr(P,a.value[v]),B.messages=a.value}function A(v){return c.value[v]||{}}function $(v,P){c.value[v]=P,B.datetimeFormats=c.value,qa(B,v,P)}function U(v,P){c.value[v]=ut(c.value[v]||{},P),B.datetimeFormats=c.value,qa(B,v,P)}function V(v){return l.value[v]||{}}function K(v,P){l.value[v]=P,B.numberFormats=l.value,Ha(B,v,P)}function H(v,P){l.value[v]=ut(l.value[v]||{},P),B.numberFormats=l.value,Ha(B,v,P)}Ga++,n&&zi&&(vt(n.locale,v=>{s&&(i.value=v,B.locale=v,pr(B,i.value,o.value))}),vt(n.fallbackLocale,v=>{s&&(o.value=v,B.fallbackLocale=v,pr(B,i.value,o.value))}));const D={id:Ga,locale:oe,fallbackLocale:be,get inheritLocale(){return s},set inheritLocale(v){s=v,v&&n&&(i.value=n.locale.value,o.value=n.fallbackLocale.value,pr(B,i.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:Se,get modifiers(){return te},get pluralRules(){return z||{}},get isGlobal(){return r},get missingWarn(){return u},set missingWarn(v){u=v,B.missingWarn=u},get fallbackWarn(){return h},set fallbackWarn(v){h=v,B.fallbackWarn=h},get fallbackRoot(){return d},set fallbackRoot(v){d=v},get fallbackFormat(){return g},set fallbackFormat(v){g=v,B.fallbackFormat=g},get warnHtmlMessage(){return C},set warnHtmlMessage(v){C=v,B.warnHtmlMessage=v},get escapeParameter(){return W},set escapeParameter(v){W=v,B.escapeParameter=v},t:ce,getLocaleMessage:he,setLocaleMessage:b,mergeLocaleMessage:x,getPostTranslationHandler:We,setPostTranslationHandler:N,getMissingHandler:I,setMissingHandler:fe,[Fp]:Z};return D.datetimeFormats=Pe,D.numberFormats=Me,D.rt=ye,D.te=ne,D.tm=ge,D.d=pe,D.n=we,D.getDateTimeFormat=A,D.setDateTimeFormat=$,D.mergeDateTimeFormat=U,D.getNumberFormat=V,D.setNumberFormat=K,D.mergeNumberFormat=H,D[jp]=e.__injectWithOption,D[Ji]=R,D[Xi]=L,D[Qi]=X,D}const $o={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Dp({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>r=[...r,...Ge(s.children)?s.children:[s]],[]):t.reduce((n,r)=>{const s=e[r];return s&&(n[r]=s()),n},{})}function wu(e){return yt}const Ya={name:"i18n-t",props:ut({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Xe(e)||!isNaN(e)}},$o),setup(e,t){const{slots:n,attrs:r}=t,s=e.i18n||Ln({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(h=>h!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=ae(e.plural)?+e.plural:e.plural);const a=Dp(t,i),c=s[Ji](e.keypath,a,o),l=ut({},r),u=ae(e.tag)||De(e.tag)?e.tag:wu();return Js(u,l,c)}}};function Bp(e){return Ge(e)&&!ae(e[0])}function vu(e,t,n,r){const{slots:s,attrs:i}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),ae(e.format)?o.key=e.format:De(e.format)&&(ae(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((d,g)=>n.includes(g)?ut({},d,{[g]:e.format[g]}):d,{}));const c=r(e.value,o,a);let l=[o.key];Ge(c)?l=c.map((d,g)=>{const S=s[d.type],T=S?S({[d.type]:d.value,index:g,parts:c}):[d.value];return Bp(T)&&(T[0].key=`${d.type}-${g}`),T}):ae(c)&&(l=[c]);const u=ut({},i),h=ae(e.tag)||De(e.tag)?e.tag:wu();return Js(h,u,l)}}const Ja={name:"i18n-n",props:ut({value:{type:Number,required:!0},format:{type:[String,Object]}},$o),setup(e,t){const n=e.i18n||Ln({useScope:"parent",__useComponent:!0});return vu(e,t,mu,(...r)=>n[Qi](...r))}},Xa={name:"i18n-d",props:ut({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},$o),setup(e,t){const n=e.i18n||Ln({useScope:"parent",__useComponent:!0});return vu(e,t,pu,(...r)=>n[Xi](...r))}};function qp(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Wp(e){const t=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Tt(St.UNEXPECTED_ERROR);const u=qp(e,a.$),h=Qa(l);return[Reflect.apply(u.t,u,[...Za(h)]),u]};return{created:(o,a)=>{const[c,l]=t(a);zi&&e.global===l&&(o.__i18nWatcher=vt(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{zi&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=Qa(a);o.textContent=Reflect.apply(c.t,c,[...Za(l)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function Qa(e){if(ae(e))return{path:e};if(Ce(e)){if(!("path"in e))throw Tt(St.REQUIRED_VALUE,"path");return e}else throw Tt(St.INVALID_VALUE)}function Za(e){const{path:t,locale:n,args:r,choice:s,plural:i}=e,o={},a=r||{};return ae(n)&&(o.locale=n),Xe(s)&&(o.plural=s),Xe(i)&&(o.plural=i),[t,a,o]}function Hp(e,t,...n){const r=Ce(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Ve(r.globalInstall)?r.globalInstall:!0)&&(e.component(s?"i18n":Ya.name,Ya),e.component(Ja.name,Ja),e.component(Xa.name,Xa)),e.directive("t",Wp(t))}const Vp=gn("global-vue-i18n");function zp(e={},t){const n=Ve(e.globalInjection)?e.globalInjection:!0,r=!0,s=new Map,[i,o]=Gp(e),a=gn("");function c(h){return s.get(h)||null}function l(h,d){s.set(h,d)}function u(h){s.delete(h)}{const h={get mode(){return"composition"},get allowComposition(){return r},async install(d,...g){d.__VUE_I18N_SYMBOL__=a,d.provide(d.__VUE_I18N_SYMBOL__,h),n&&tm(d,h.global),Hp(d,h,...g);const S=d.unmount;d.unmount=()=>{h.dispose(),S()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return h}}function Ln(e={}){const t=ar();if(t==null)throw Tt(St.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Tt(St.NOT_INSLALLED);const n=Kp(t),r=Jp(n),s=bu(t),i=Yp(e,s);if(i==="global")return $p(r,e,s),r;if(i==="parent"){let c=Xp(n,t,e.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(t);if(a==null){const c=ut({},e);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=yu(c),Qp(o,t),o.__setInstance(t,a)}return a}function Gp(e,t,n){const r=Ff();{const s=r.run(()=>yu(e));if(s==null)throw Tt(St.UNEXPECTED_ERROR);return[r,s]}}function Kp(e){{const t=$t(e.isCE?Vp:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Tt(e.isCE?St.NOT_INSLALLED_WITH_PROVIDE:St.UNEXPECTED_ERROR);return t}}function Yp(e,t){return Xs(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Jp(e){return e.mode==="composition"?e.global:e.global.__composer}function Xp(e,t,n=!1){let r=null;const s=t.root;let i=t.parent;for(;i!=null;){const o=e;if(e.mode==="composition"&&(r=o.__getInstance(i)),r!=null||s===i)break;i=i.parent}return r}function Qp(e,t,n){Gr(()=>{},t),Co(()=>{e.__deleteInstance(t)},t)}const Zp=["locale","fallbackLocale","availableLocales"],em=["t","rt","d","n","tm"];function tm(e,t){const n=Object.create(null);Zp.forEach(r=>{const s=Object.getOwnPropertyDescriptor(t,r);if(!s)throw Tt(St.UNEXPECTED_ERROR);const i=Qe(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,i)}),e.config.globalProperties.$i18n=n,em.forEach(r=>{const s=Object.getOwnPropertyDescriptor(t,r);if(!s||!s.value)throw Tt(St.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,s)})}Op(ip);Pp(ou);Lp();if(__INTLIFY_PROD_DEVTOOLS__){const e=Ro();e.__INTLIFY__=!0,pp(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const nm={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rm=qe("path",{fill:"currentColor",d:"M19.14 12.94c.04-.3.06-.61.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6s-1.62 3.6-3.6 3.6z"},null,-1),sm=[rm];function im(e,t){return lt(),Kt("svg",nm,sm)}const om={name:"ic-baseline-settings",render:im},am={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},cm=qe("path",{fill:"currentColor",d:"m234 115.5l-45.2 37.6l14.3 58.1a16.5 16.5 0 0 1-15.8 20.8a16.1 16.1 0 0 1-8.7-2.6l-50.5-31.9h-.2L81 227.2a18 18 0 0 1-20.1-.6a18.5 18.5 0 0 1-7-19.6l13.5-53.1L22 115.5a16.8 16.8 0 0 1-5.2-18.1A16.5 16.5 0 0 1 31.4 86l59-3.8l22.4-55.8A16.4 16.4 0 0 1 128 16a16.4 16.4 0 0 1 15.2 10.4l22 55.5l59.4 4.1a16.4 16.4 0 0 1 14.6 11.4a16.8 16.8 0 0 1-5.2 18.1Z"},null,-1),lm=[cm];function um(e,t){return lt(),Kt("svg",am,lm)}const fm={name:"ph-star-fill",render:um},hm={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},dm=qe("path",{fill:"currentColor",d:"m16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13Zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4Z"},null,-1),pm=qe("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),mm=qe("path",{fill:"currentColor",d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2Z"},null,-1),gm=[dm,pm,mm];function _m(e,t){return lt(),Kt("svg",hm,gm)}const bm={name:"carbon-map",render:_m},ym={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},wm=qe("path",{fill:"currentColor",d:"m232.5 215.5l-40.7-40.7A94.9 94.9 0 0 0 212 116a96 96 0 1 0-96 96a94.9 94.9 0 0 0 58.8-20.2l40.7 40.7a12.1 12.1 0 0 0 17 0a12 12 0 0 0 0-17ZM44 116a72 72 0 1 1 72 72a72.1 72.1 0 0 1-72-72Z"},null,-1),vm=[wm];function xm(e,t){return lt(),Kt("svg",ym,vm)}const Em={name:"ph-magnifying-glass-bold",render:xm};/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const qn=typeof window<"u";function Sm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Le=Object.assign;function bi(e,t){const n={};for(const r in t){const s=t[r];n[r]=Dt(s)?s.map(e):e(s)}return n}const xr=()=>{},Dt=Array.isArray,Om=/\/$/,Pm=e=>e.replace(Om,"");function yi(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Im(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function Am(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ec(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function km(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&er(t.matched[r],n.matched[s])&&xu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function er(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Cm(e[n],t[n]))return!1;return!0}function Cm(e,t){return Dt(e)?tc(e,t):Dt(t)?tc(t,e):e===t}function tc(e,t){return Dt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Im(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var jr;(function(e){e.pop="pop",e.push="push"})(jr||(jr={}));var Er;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Er||(Er={}));function Tm(e){if(!e)if(qn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Pm(e)}const Nm=/^[^#]+#/;function Rm(e,t){return e.replace(Nm,"#")+t}function Mm(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Zs=()=>({left:window.pageXOffset,top:window.pageYOffset});function Lm(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Mm(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function nc(e,t){return(history.state?history.state.position-t:-1)+e}const eo=new Map;function Fm(e,t){eo.set(e,t)}function jm(e){const t=eo.get(e);return eo.delete(e),t}let $m=()=>location.protocol+"//"+location.host;function Eu(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),ec(c,"")}return ec(n,e)+r+s}function Um(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const g=Eu(e,location),S=n.value,T=t.value;let j=0;if(d){if(n.value=g,t.value=d,o&&o===S){o=null;return}j=T?d.position-T.position:0}else r(g);s.forEach(C=>{C(n.value,S,{delta:j,type:jr.pop,direction:j?j>0?Er.forward:Er.back:Er.unknown})})};function c(){o=n.value}function l(d){s.push(d);const g=()=>{const S=s.indexOf(d);S>-1&&s.splice(S,1)};return i.push(g),g}function u(){const{history:d}=window;!d.state||d.replaceState(Le({},d.state,{scroll:Zs()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function rc(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Zs():null}}function Dm(e){const{history:t,location:n}=window,r={value:Eu(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:$m()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(c,l){const u=Le({},t.state,rc(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Le({},s.value,t.state,{forward:c,scroll:Zs()});i(u.current,u,!0);const h=Le({},rc(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function Bm(e){e=Tm(e);const t=Dm(e),n=Um(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Le({location:"",base:e,go:r,createHref:Rm.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function qm(e){return typeof e=="string"||e&&typeof e=="object"}function Su(e){return typeof e=="string"||typeof e=="symbol"}const cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ou=Symbol("");var sc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(sc||(sc={}));function tr(e,t){return Le(new Error,{type:e,[Ou]:!0},t)}function Qt(e,t){return e instanceof Error&&Ou in e&&(t==null||!!(e.type&t))}const ic="[^/]+?",Wm={sensitive:!1,strict:!1,start:!0,end:!0},Hm=/[.+*?^${}()[\]/\\]/g;function Vm(e,t){const n=Le({},Wm,t),r=[];let s=n.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(Hm,"\\$&"),g+=40;else if(d.type===1){const{value:S,repeatable:T,optional:j,regexp:C}=d;i.push({name:S,repeatable:T,optional:j});const W=C||ic;if(W!==ic){g+=10;try{new RegExp(`(${W})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${S}" (${W}): `+z.message)}}let te=T?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;h||(te=j&&l.length<2?`(?:/${te})`:"/"+te),j&&(te+="?"),s+=te,g+=20,j&&(g+=-8),T&&(g+=-20),W===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",S=i[d-1];h[S.name]=g&&S.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:S,repeatable:T,optional:j}=g,C=S in l?l[S]:"";if(Dt(C)&&!T)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const W=Dt(C)?C.join("/"):C;if(!W)if(j)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${S}"`);u+=W}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function zm(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Gm(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=zm(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(oc(r))return 1;if(oc(s))return-1}return s.length-r.length}function oc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Km={type:0,value:""},Ym=/[a-zA-Z0-9_]/;function Jm(e){if(!e)return[[]];if(e==="/")return[[Km]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:Ym.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function Xm(e,t,n){const r=Vm(Jm(e.path),n),s=Le(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Qm(e,t){const n=[],r=new Map;t=lc({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,d){const g=!d,S=Zm(u);S.aliasOf=d&&d.record;const T=lc(t,u),j=[S];if("alias"in u){const te=typeof u.alias=="string"?[u.alias]:u.alias;for(const z of te)j.push(Le({},S,{components:d?d.record.components:S.components,path:z,aliasOf:d?d.record:S}))}let C,W;for(const te of j){const{path:z}=te;if(h&&z[0]!=="/"){const B=h.record.path,ue=B[B.length-1]==="/"?"":"/";te.path=h.record.path+(z&&ue+z)}if(C=Xm(te,h,T),d?d.alias.push(C):(W=W||C,W!==C&&W.alias.push(C),g&&u.name&&!cc(C)&&o(u.name)),S.children){const B=S.children;for(let ue=0;ue<B.length;ue++)i(B[ue],C,d&&d.children[ue])}d=d||C,c(C)}return W?()=>{o(W)}:xr}function o(u){if(Su(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&Gm(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Pu(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!cc(u)&&r.set(u.record.name,u)}function l(u,h){let d,g={},S,T;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw tr(1,{location:u});T=d.record.name,g=Le(ac(h.params,d.keys.filter(W=>!W.optional).map(W=>W.name)),u.params&&ac(u.params,d.keys.map(W=>W.name))),S=d.stringify(g)}else if("path"in u)S=u.path,d=n.find(W=>W.re.test(S)),d&&(g=d.parse(S),T=d.record.name);else{if(d=h.name?r.get(h.name):n.find(W=>W.re.test(h.path)),!d)throw tr(1,{location:u,currentLocation:h});T=d.record.name,g=Le({},h.params,u.params),S=d.stringify(g)}const j=[];let C=d;for(;C;)j.unshift(C.record),C=C.parent;return{name:T,path:S,params:g,matched:j,meta:tg(j)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function ac(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Zm(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:eg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function eg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function cc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function tg(e){return e.reduce((t,n)=>Le(t,n.meta),{})}function lc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Pu(e,t){return t.children.some(n=>n===e||Pu(e,n))}const Au=/#/g,ng=/&/g,rg=/\//g,sg=/=/g,ig=/\?/g,ku=/\+/g,og=/%5B/g,ag=/%5D/g,Cu=/%5E/g,cg=/%60/g,Iu=/%7B/g,lg=/%7C/g,Tu=/%7D/g,ug=/%20/g;function Uo(e){return encodeURI(""+e).replace(lg,"|").replace(og,"[").replace(ag,"]")}function fg(e){return Uo(e).replace(Iu,"{").replace(Tu,"}").replace(Cu,"^")}function to(e){return Uo(e).replace(ku,"%2B").replace(ug,"+").replace(Au,"%23").replace(ng,"%26").replace(cg,"`").replace(Iu,"{").replace(Tu,"}").replace(Cu,"^")}function hg(e){return to(e).replace(sg,"%3D")}function dg(e){return Uo(e).replace(Au,"%23").replace(ig,"%3F")}function pg(e){return e==null?"":dg(e).replace(rg,"%2F")}function Cs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function mg(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(ku," "),o=i.indexOf("="),a=Cs(o<0?i:i.slice(0,o)),c=o<0?null:Cs(i.slice(o+1));if(a in t){let l=t[a];Dt(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function uc(e){let t="";for(let n in e){const r=e[n];if(n=hg(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Dt(r)?r.map(i=>i&&to(i)):[r&&to(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function gg(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Dt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const _g=Symbol(""),fc=Symbol(""),ei=Symbol(""),Do=Symbol(""),no=Symbol("");function mr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function un(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(tr(4,{from:n,to:t})):h instanceof Error?a(h):qm(h)?a(tr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=e.call(r&&r.instances[s],t,n,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function wi(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(bg(a)){const l=(a.__vccOpts||a)[t];l&&s.push(un(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Sm(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&un(d,n,r,i,o)()}))}}return s}function bg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hc(e){const t=$t(ei),n=$t(Do),r=ze(()=>t.resolve(Ie(e.to))),s=ze(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(er.bind(null,u));if(d>-1)return d;const g=dc(c[l-2]);return l>1&&dc(u)===g&&h[h.length-1].path!==g?h.findIndex(er.bind(null,c[l-2])):d}),i=ze(()=>s.value>-1&&xg(n.params,r.value.params)),o=ze(()=>s.value>-1&&s.value===n.matched.length-1&&xu(n.params,r.value.params));function a(c={}){return vg(c)?t[Ie(e.replace)?"replace":"push"](Ie(e.to)).catch(xr):Promise.resolve()}return{route:r,href:ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const yg=Mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hc,setup(e,{slots:t}){const n=Vr(hc(e)),{options:r}=$t(ei),s=ze(()=>({[pc(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pc(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Js("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),wg=yg;function vg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xg(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Dt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function dc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pc=(e,t,n)=>e!=null?e:t!=null?t:n,Eg=Mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=$t(no),s=ze(()=>e.route||r.value),i=$t(fc,0),o=ze(()=>{let l=Ie(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=ze(()=>s.value.matched[o.value]);gs(fc,ze(()=>o.value+1)),gs(_g,a),gs(no,s);const c=Ye();return vt(()=>[c.value,a.value,e.name],([l,u,h],[d,g,S])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!er(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(T=>T(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return mc(n.default,{Component:d,route:l});const g=h.props[u],S=g?g===!0?l.params:typeof g=="function"?g(l):g:null,j=Js(d,Le({},S,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return mc(n.default,{Component:j,route:l})||j}}});function mc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Sg=Eg;function Og(e){const t=Qm(e.routes,e),n=e.parseQuery||mg,r=e.stringifyQuery||uc,s=e.history,i=mr(),o=mr(),a=mr(),c=El(cn);let l=cn;qn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=bi.bind(null,R=>""+R),h=bi.bind(null,pg),d=bi.bind(null,Cs);function g(R,X){let L,Z;return Su(R)?(L=t.getRecordMatcher(R),Z=X):Z=R,t.addRoute(Z,L)}function S(R){const X=t.getRecordMatcher(R);X&&t.removeRoute(X)}function T(){return t.getRoutes().map(R=>R.record)}function j(R){return!!t.getRecordMatcher(R)}function C(R,X){if(X=Le({},X||c.value),typeof R=="string"){const he=yi(n,R,X.path),b=t.resolve({path:he.path},X),x=s.createHref(he.fullPath);return Le(he,b,{params:d(b.params),hash:Cs(he.hash),redirectedFrom:void 0,href:x})}let L;if("path"in R)L=Le({},R,{path:yi(n,R.path,X.path).path});else{const he=Le({},R.params);for(const b in he)he[b]==null&&delete he[b];L=Le({},R,{params:h(R.params)}),X.params=h(X.params)}const Z=t.resolve(L,X),ne=R.hash||"";Z.params=u(d(Z.params));const me=Am(r,Le({},R,{hash:fg(ne),path:Z.path})),ge=s.createHref(me);return Le({fullPath:me,hash:ne,query:r===uc?gg(R.query):R.query||{}},Z,{redirectedFrom:void 0,href:ge})}function W(R){return typeof R=="string"?yi(n,R,c.value.path):Le({},R)}function te(R,X){if(l!==R)return tr(8,{from:X,to:R})}function z(R){return se(R)}function B(R){return z(Le(W(R),{replace:!0}))}function ue(R){const X=R.matched[R.matched.length-1];if(X&&X.redirect){const{redirect:L}=X;let Z=typeof L=="function"?L(R):L;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=W(Z):{path:Z},Z.params={}),Le({query:R.query,hash:R.hash,params:"path"in Z?{}:R.params},Z)}}function se(R,X){const L=l=C(R),Z=c.value,ne=R.state,me=R.force,ge=R.replace===!0,he=ue(L);if(he)return se(Le(W(he),{state:typeof he=="object"?Le({},ne,he.state):ne,force:me,replace:ge}),X||L);const b=L;b.redirectedFrom=X;let x;return!me&&km(r,Z,L)&&(x=tr(16,{to:b,from:Z}),pe(Z,Z,!0,!1)),(x?Promise.resolve(x):be(b,Z)).catch(A=>Qt(A)?Qt(A,2)?A:ye(A):re(A,b,Z)).then(A=>{if(A){if(Qt(A,2))return se(Le({replace:ge},W(A.to),{state:typeof A.to=="object"?Le({},ne,A.to.state):ne,force:me}),X||b)}else A=Pe(b,Z,!0,ge,ne);return Se(b,Z,A),A})}function oe(R,X){const L=te(R,X);return L?Promise.reject(L):Promise.resolve()}function be(R,X){let L;const[Z,ne,me]=Pg(R,X);L=wi(Z.reverse(),"beforeRouteLeave",R,X);for(const he of Z)he.leaveGuards.forEach(b=>{L.push(un(b,R,X))});const ge=oe.bind(null,R,X);return L.push(ge),Dn(L).then(()=>{L=[];for(const he of i.list())L.push(un(he,R,X));return L.push(ge),Dn(L)}).then(()=>{L=wi(ne,"beforeRouteUpdate",R,X);for(const he of ne)he.updateGuards.forEach(b=>{L.push(un(b,R,X))});return L.push(ge),Dn(L)}).then(()=>{L=[];for(const he of R.matched)if(he.beforeEnter&&!X.matched.includes(he))if(Dt(he.beforeEnter))for(const b of he.beforeEnter)L.push(un(b,R,X));else L.push(un(he.beforeEnter,R,X));return L.push(ge),Dn(L)}).then(()=>(R.matched.forEach(he=>he.enterCallbacks={}),L=wi(me,"beforeRouteEnter",R,X),L.push(ge),Dn(L))).then(()=>{L=[];for(const he of o.list())L.push(un(he,R,X));return L.push(ge),Dn(L)}).catch(he=>Qt(he,8)?he:Promise.reject(he))}function Se(R,X,L){for(const Z of a.list())Z(R,X,L)}function Pe(R,X,L,Z,ne){const me=te(R,X);if(me)return me;const ge=X===cn,he=qn?history.state:{};L&&(Z||ge?s.replace(R.fullPath,Le({scroll:ge&&he&&he.scroll},ne)):s.push(R.fullPath,ne)),c.value=R,pe(R,X,L,ge),ye()}let Me;function We(){Me||(Me=s.listen((R,X,L)=>{if(!Re.listening)return;const Z=C(R),ne=ue(Z);if(ne){se(Le(ne,{replace:!0}),Z).catch(xr);return}l=Z;const me=c.value;qn&&Fm(nc(me.fullPath,L.delta),Zs()),be(Z,me).catch(ge=>Qt(ge,12)?ge:Qt(ge,2)?(se(ge.to,Z).then(he=>{Qt(he,20)&&!L.delta&&L.type===jr.pop&&s.go(-1,!1)}).catch(xr),Promise.reject()):(L.delta&&s.go(-L.delta,!1),re(ge,Z,me))).then(ge=>{ge=ge||Pe(Z,me,!1),ge&&(L.delta&&!Qt(ge,8)?s.go(-L.delta,!1):L.type===jr.pop&&Qt(ge,20)&&s.go(-1,!1)),Se(Z,me,ge)}).catch(xr)}))}let N=mr(),I=mr(),fe;function re(R,X,L){ye(R);const Z=I.list();return Z.length?Z.forEach(ne=>ne(R,X,L)):console.error(R),Promise.reject(R)}function ce(){return fe&&c.value!==cn?Promise.resolve():new Promise((R,X)=>{N.add([R,X])})}function ye(R){return fe||(fe=!R,We(),N.list().forEach(([X,L])=>R?L(R):X()),N.reset()),R}function pe(R,X,L,Z){const{scrollBehavior:ne}=e;if(!qn||!ne)return Promise.resolve();const me=!L&&jm(nc(R.fullPath,0))||(Z||!L)&&history.state&&history.state.scroll||null;return zr().then(()=>ne(R,X,me)).then(ge=>ge&&Lm(ge)).catch(ge=>re(ge,R,X))}const we=R=>s.go(R);let Ee;const $e=new Set,Re={currentRoute:c,listening:!0,addRoute:g,removeRoute:S,hasRoute:j,getRoutes:T,resolve:C,options:e,push:z,replace:B,go:we,back:()=>we(-1),forward:()=>we(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:I.add,isReady:ce,install(R){const X=this;R.component("RouterLink",wg),R.component("RouterView",Sg),R.config.globalProperties.$router=X,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(c)}),qn&&!Ee&&c.value===cn&&(Ee=!0,z(s.location).catch(ne=>{}));const L={};for(const ne in cn)L[ne]=ze(()=>c.value[ne]);R.provide(ei,X),R.provide(Do,Vr(L)),R.provide(no,c);const Z=R.unmount;$e.add(R),R.unmount=function(){$e.delete(R),$e.size<1&&(l=cn,Me&&Me(),Me=null,c.value=cn,Ee=!1,fe=!1),Z()}}};return Re}function Dn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Pg(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>er(l,a))?r.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>er(l,c))||s.push(c))}return[n,r,s]}function ey(){return $t(ei)}function Ag(){return $t(Do)}var gc;const Kr=typeof window<"u",kg=e=>typeof e=="function",Cg=e=>typeof e=="string",vi=()=>{};Kr&&((gc=window==null?void 0:window.navigator)==null?void 0:gc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Nu(e){return typeof e=="function"?e():Ie(e)}function Ig(e,t){function n(...r){e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})}return n}const Ru=e=>e();function Tg(e=Ru){const t=Ye(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:t,pause:n,resume:r,eventFilter:(...i)=>{t.value&&e(...i)}}}function Ng(e){return e}function Mu(e){return $f()?(Uf(e),!0):!1}function Rg(e,t=!0){ar()?jl(e):t?e():zr(e)}function Lu(e,t=!0){ar()?Gr(e):t?e():zr(e)}var _c=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Lg=Object.prototype.propertyIsEnumerable,Fg=(e,t)=>{var n={};for(var r in e)Mg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_c)for(var r of _c(e))t.indexOf(r)<0&&Lg.call(e,r)&&(n[r]=e[r]);return n};function jg(e,t,n={}){const r=n,{eventFilter:s=Ru}=r,i=Fg(r,["eventFilter"]);return vt(e,Ig(s,t),i)}var $g=Object.defineProperty,Ug=Object.defineProperties,Dg=Object.getOwnPropertyDescriptors,Is=Object.getOwnPropertySymbols,Fu=Object.prototype.hasOwnProperty,ju=Object.prototype.propertyIsEnumerable,bc=(e,t,n)=>t in e?$g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bg=(e,t)=>{for(var n in t||(t={}))Fu.call(t,n)&&bc(e,n,t[n]);if(Is)for(var n of Is(t))ju.call(t,n)&&bc(e,n,t[n]);return e},qg=(e,t)=>Ug(e,Dg(t)),Wg=(e,t)=>{var n={};for(var r in e)Fu.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Is)for(var r of Is(e))t.indexOf(r)<0&&ju.call(e,r)&&(n[r]=e[r]);return n};function Hg(e,t,n={}){const r=n,{eventFilter:s}=r,i=Wg(r,["eventFilter"]),{eventFilter:o,pause:a,resume:c,isActive:l}=Tg(s);return{stop:jg(e,t,qg(Bg({},i),{eventFilter:o})),pause:a,resume:c,isActive:l}}function Vg(e){var t;const n=Nu(e);return(t=n==null?void 0:n.$el)!=null?t:n}const $r=Kr?window:void 0;Kr&&window.document;Kr&&window.navigator;Kr&&window.location;function zg(...e){let t,n,r,s;if(Cg(e[0])?([n,r,s]=e,t=$r):[t,n,r,s]=e,!t)return vi;let i=vi;const o=vt(()=>Vg(t),c=>{i(),c&&(c.addEventListener(n,r,s),i=()=>{c.removeEventListener(n,r,s),i=vi})},{immediate:!0,flush:"post"}),a=()=>{o(),i()};return Mu(a),a}function Gg(e,t=!1){const n=Ye(),r=()=>n.value=Boolean(e());return r(),Lu(r,t),n}function Kg(e,t={}){const{window:n=$r}=t,r=Gg(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=Ye(!1),o=()=>{!r.value||(s||(s=n.matchMedia(e)),i.value=s.matches)};return Rg(()=>{o(),s&&("addEventListener"in s?s.addEventListener("change",o):s.addListener(o),Mu(()=>{"removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o)}))}),i}const ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},so="__vueuse_ssr_handlers__";ro[so]=ro[so]||{};const Yg=ro[so];function $u(e,t){return Yg[e]||t}function Jg(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}var Xg=Object.defineProperty,yc=Object.getOwnPropertySymbols,Qg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,wc=(e,t,n)=>t in e?Xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vc=(e,t)=>{for(var n in t||(t={}))Qg.call(t,n)&&wc(e,n,t[n]);if(yc)for(var n of yc(t))Zg.call(t,n)&&wc(e,n,t[n]);return e};const e0={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Uu(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:h=$r,eventFilter:d,onError:g=se=>{console.error(se)}}=r,S=(u?El:Ye)(t);if(!n)try{n=$u("getDefaultStorage",()=>{var se;return(se=$r)==null?void 0:se.localStorage})()}catch(se){g(se)}if(!n)return S;const T=Nu(t),j=Jg(T),C=(s=r.serializer)!=null?s:e0[j],{pause:W,resume:te}=Hg(S,()=>z(S.value),{flush:i,deep:o,eventFilter:d});return h&&a&&zg(h,"storage",ue),ue(),S;function z(se){try{se==null?n.removeItem(e):n.setItem(e,C.write(se))}catch(oe){g(oe)}}function B(se){if(!(se&&se.key!==e)){W();try{const oe=se?se.newValue:n.getItem(e);if(oe==null)return c&&T!==null&&n.setItem(e,C.write(T)),T;if(!se&&l){const be=C.read(oe);return kg(l)?l(be,T):j==="object"&&!Array.isArray(be)?vc(vc({},T),be):be}else return typeof oe!="string"?oe:C.read(oe)}catch(oe){g(oe)}finally{te()}}}function ue(se){se&&se.key!==e||(S.value=B(se))}}function t0(e){return Kg("(prefers-color-scheme: dark)",e)}var n0=Object.defineProperty,xc=Object.getOwnPropertySymbols,r0=Object.prototype.hasOwnProperty,s0=Object.prototype.propertyIsEnumerable,Ec=(e,t,n)=>t in e?n0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i0=(e,t)=>{for(var n in t||(t={}))r0.call(t,n)&&Ec(e,n,t[n]);if(xc)for(var n of xc(t))s0.call(t,n)&&Ec(e,n,t[n]);return e};function o0(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:s=$r,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l}=e,u=i0({auto:"",light:"light",dark:"dark"},e.modes||{}),h=t0({window:s}),d=ze(()=>h.value?"dark":"light"),g=c||(o==null?Ye(r):Uu(o,r,i,{window:s,listenToStorageChanges:a})),S=ze({get(){return g.value==="auto"&&!l?d.value:g.value},set(W){g.value=W}}),T=$u("updateHTMLAttrs",(W,te,z)=>{const B=s==null?void 0:s.document.querySelector(W);if(!!B)if(te==="class"){const ue=z.split(/\s/g);Object.values(u).flatMap(se=>(se||"").split(/\s/g)).filter(Boolean).forEach(se=>{ue.includes(se)?B.classList.add(se):B.classList.remove(se)})}else B.setAttribute(te,z)});function j(W){var te;const z=W==="auto"?d.value:W;T(t,n,(te=u[z])!=null?te:z)}function C(W){e.onChanged?e.onChanged(W,j):j(W)}return vt(S,C,{flush:"post",immediate:!0}),l&&vt(d,()=>C(S.value),{flush:"post"}),Lu(()=>C(S.value)),S}var Sc;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Sc||(Sc={}));var a0=Object.defineProperty,Oc=Object.getOwnPropertySymbols,c0=Object.prototype.hasOwnProperty,l0=Object.prototype.propertyIsEnumerable,Pc=(e,t,n)=>t in e?a0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u0=(e,t)=>{for(var n in t||(t={}))c0.call(t,n)&&Pc(e,n,t[n]);if(Oc)for(var n of Oc(t))l0.call(t,n)&&Pc(e,n,t[n]);return e};const f0={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};u0({linear:Ng},f0);const Du="kiel_live",h0={liteMode:Uu(`${Du}.lite`,!1)};function Bu(){return h0}const d0={class:"flex w-full justify-center border-t-1 border-gray-200 dark:border-gray-800 dark:bg-dark-400 dark:text-gray-300 shadow-top"},p0={class:"flex w-full justify-around max-w-96"},m0={class:"mt-auto text-xs"},g0={class:"mt-auto text-xs"},_0={class:"mt-auto text-xs"},b0={class:"mt-auto text-xs"},y0=Mn({__name:"AppBarBottom",setup(e){const{t}=Ln(),{liteMode:n}=Bu(),r=Ag(),s=ze(()=>r.name==="favorites"?"favorites":r.meta.settings?"settings":"map");return(i,o)=>{const a=Em,c=zs("router-link"),l=bm,u=fm,h=om;return lt(),Kt("nav",d0,[qe("div",p0,[Ie(n)?(lt(),Mr(c,{key:0,to:{name:"search"},class:zt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Ie(s)==="map"}]),"aria-label":Ie(t)("search")},{default:Mt(()=>[Fe(a,{class:"w-6 h-6 mb-1"}),qe("span",m0,At(Ie(t)("search")),1)]),_:1},8,["class","aria-label"])):(lt(),Mr(c,{key:1,to:{name:"home"},class:zt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Ie(s)==="map"}]),"aria-label":Ie(t)("map")},{default:Mt(()=>[Fe(l,{class:"w-6 h-6 mb-1"}),qe("span",g0,At(Ie(t)("map")),1)]),_:1},8,["class","aria-label"])),Fe(c,{to:{name:"favorites"},class:zt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Ie(s)==="favorites"}]),"aria-label":Ie(t)("favorites")},{default:Mt(()=>[Fe(u,{class:"w-6 h-6 mb-1"}),qe("span",_0,At(Ie(t)("favorites")),1)]),_:1},8,["class","aria-label"]),Fe(c,{to:{name:"settings-about"},class:zt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Ie(s)==="settings"}]),"aria-label":Ie(t)("settings")},{default:Mt(()=>[Fe(h,{class:"w-6 h-6 mb-1"}),qe("span",b0,At(Ie(t)("settings")),1)]),_:1},8,["class","aria-label"])])])}}});try{self["workbox:window:6.5.3"]&&_()}catch{}function io(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(s){n(s.data)},e.postMessage(t,[r.port2])})}function w0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ac(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v0(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(s,i){if(s){if(typeof s=="string")return Ac(s,i);var o=Object.prototype.toString.call(s).slice(8,-1);return o==="Object"&&s.constructor&&(o=s.constructor.name),o==="Map"||o==="Set"?Array.from(s):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ac(s,i):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.3"]&&_()}catch{}var xi=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function Ei(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var gr=function(e,t){this.type=e,Object.assign(this,t)};function cs(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function x0(){}var E0={type:"SKIP_WAITING"};function kc(e,t){if(!t)return e&&e.then?e.then(x0):Promise.resolve()}var S0=function(e){var t,n;function r(a,c){var l,u;return c===void 0&&(c={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new xi,l.en=new xi,l.on=new xi,l.un=0,l.an=new Set,l.cn=function(){var h=l.fn,d=h.installing;l.tn>0||!Ei(d.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=d,h.removeEventListener("updatefound",l.cn)):(l.hn=d,l.an.add(d),l.rn.resolve(d)),++l.tn,d.addEventListener("statechange",l.ln)},l.ln=function(h){var d=l.fn,g=h.target,S=g.state,T=g===l.vn,j={sw:g,isExternal:T,originalEvent:h};!T&&l.mn&&(j.isUpdate=!0),l.dispatchEvent(new gr(S,j)),S==="installed"?l.wn=self.setTimeout(function(){S==="installed"&&d.waiting===g&&l.dispatchEvent(new gr("waiting",j))},200):S==="activating"&&(clearTimeout(l.wn),T||l.en.resolve(g))},l.dn=function(h){var d=l.hn,g=d!==navigator.serviceWorker.controller;l.dispatchEvent(new gr("controlling",{isExternal:g,originalEvent:h,sw:d,isUpdate:l.mn})),g||l.on.resolve(d)},l.gn=(u=function(h){var d=h.data,g=h.ports,S=h.source;return cs(l.getSW(),function(){l.an.has(S)&&l.dispatchEvent(new gr("message",{data:d,originalEvent:h,ports:g,sw:S}))})},function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];try{return Promise.resolve(u.apply(this,h))}catch(g){return Promise.reject(g)}}),l.sn=a,l.nn=c,navigator.serviceWorker.addEventListener("message",l.gn),l}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s,i,o=r.prototype;return o.register=function(a){var c=(a===void 0?{}:a).immediate,l=c!==void 0&&c;try{var u=this;return function(h,d){var g=h();return g&&g.then?g.then(d):d(g)}(function(){if(!l&&document.readyState!=="complete")return kc(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),cs(u.bn(),function(h){u.fn=h,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var d=u.fn.waiting;return d&&Ei(d.scriptURL,u.sn.toString())&&(u.hn=d,Promise.resolve().then(function(){u.dispatchEvent(new gr("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(h){return Promise.reject(h)}},o.update=function(){try{return this.fn?kc(this.fn.update()):void 0}catch(a){return Promise.reject(a)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(a){try{return cs(this.getSW(),function(c){return io(c,a)})}catch(c){return Promise.reject(c)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&io(this.fn.waiting,E0)},o.pn=function(){var a=navigator.serviceWorker.controller;return a&&Ei(a.scriptURL,this.sn.toString())?a:void 0},o.bn=function(){try{var a=this;return function(c,l){try{var u=c()}catch(h){return l(h)}return u&&u.then?u.then(void 0,l):u}(function(){return cs(navigator.serviceWorker.register(a.sn,a.nn),function(c){return a.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},s=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&w0(s.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,s=v0(this.Sn(n.type));!(r=s()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function O0(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisterError:i}=e;let o,a;const c=async(l=!0)=>{l&&(o==null||o.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),a&&a.waiting&&await io(a.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){o=new S0("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",l=>{l.isUpdate||r==null||r()});{const l=()=>{n==null||n()};o.addEventListener("waiting",l),o.addEventListener("externalwaiting",l)}o.register({immediate:t}).then(l=>{a=l,s==null||s(l)}).catch(l=>{i==null||i(l)})}return c}function P0(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisterError:i}=e,o=Ye(!1),a=Ye(!1);return{updateServiceWorker:O0({immediate:t,onNeedRefresh(){o.value=!0,n==null||n()},onOfflineReady(){a.value=!0,r==null||r()},onRegistered:s,onRegisterError:i}),offlineReady:a,needRefresh:o}}const A0=["href"],oo=Mn({__name:"Button",props:{to:null,href:null},setup(e){const t="border-1 hover:border-gray-300 dark:border-gray-400 dark:hover:border-gray-500 rounded p-2 flex items-center justify-center cursor-pointer";return(n,r)=>{const s=zs("router-link");return e.to?(lt(),Mr(s,{key:0,class:zt(t),to:e.to},{default:Mt(()=>[pi(n.$slots,"default")]),_:3},8,["to"])):e.href?(lt(),Kt("a",{key:1,href:e.href,target:"_blank",rel:"noopener noreferrer",class:zt(t)},[pi(n.$slots,"default")],8,A0)):(lt(),Kt("button",{key:2,type:"button",class:zt(t)},[pi(n.$slots,"default")]))}}}),k0={key:0,class:"fixed left-0 right-0 bottom-0 mx-2 mb-2 flex flex-col rounded-md p-4 items-center justify-center bg-white border-1 border-gray-200 shadow-xl z-20 md:transform md:-translate-x-1/2 md:right-auto md:left-1/2 md:w-96 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800",role:"alert"},C0={class:"mb-2 text-xl"},I0={class:"flex flex-row w-full gap-x-4 justify-center"},T0=Mn({__name:"ReloadPrompt",setup(e){const{needRefresh:t,updateServiceWorker:n}=P0(),{t:r}=Ln(),s=async()=>{t.value=!1};return(i,o)=>Ie(t)?(lt(),Kt("div",k0,[qe("div",C0,[qe("span",null,At(Ie(r)("new_version")),1)]),qe("div",I0,[Fe(oo,{onClick:o[0]||(o[0]=a=>Ie(n)(!0))},{default:Mt(()=>[Ps(At(Ie(r)("install")),1)]),_:1}),Fe(oo,{onClick:s},{default:Mt(()=>[Ps(At(Ie(r)("cancel")),1)]),_:1})])])):Xl("",!0)}});var Bo={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function a(N){var I=n.exports.Promise,fe=I!==void 0?I:t.Promise;return typeof fe=="function"?new fe(N):(N(o,o),null)}var c=function(){var N=Math.floor(16.666666666666668),I,fe,re={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(I=function(ye){var pe=Math.random();return re[pe]=requestAnimationFrame(function we(Ee){ce===Ee||ce+N-1<Ee?(ce=Ee,delete re[pe],ye()):re[pe]=requestAnimationFrame(we)}),pe},fe=function(ye){re[ye]&&cancelAnimationFrame(re[ye])}):(I=function(ye){return setTimeout(ye,N)},fe=function(ye){return clearTimeout(ye)}),{frame:I,cancel:fe}}(),l=function(){var N,I,fe={};function re(ce){function ye(pe,we){ce.postMessage({options:pe||{},callback:we})}ce.init=function(we){var Ee=we.transferControlToOffscreen();ce.postMessage({canvas:Ee},[Ee])},ce.fire=function(we,Ee,$e){if(I)return ye(we,null),I;var Re=Math.random().toString(36).slice(2);return I=a(function(R){function X(L){L.data.callback===Re&&(delete fe[Re],ce.removeEventListener("message",X),I=null,$e(),R())}ce.addEventListener("message",X),ye(we,Re),fe[Re]=X.bind(null,{data:{callback:Re}})}),I},ce.reset=function(){ce.postMessage({reset:!0});for(var we in fe)fe[we](),delete fe[we]}}return function(){if(N)return N;if(!r&&i){var ce=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{N=new Worker(URL.createObjectURL(new Blob([ce])))}catch(ye){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",ye),null}re(N)}return N}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(N,I){return I?I(N):N}function d(N){return N!=null}function g(N,I,fe){return h(N&&d(N[I])?N[I]:u[I],fe)}function S(N){return N<0?0:Math.floor(N)}function T(N,I){return Math.floor(Math.random()*(I-N))+N}function j(N){return parseInt(N,16)}function C(N){return N.map(W)}function W(N){var I=String(N).replace(/[^0-9a-f]/gi,"");return I.length<6&&(I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]),{r:j(I.substring(0,2)),g:j(I.substring(2,4)),b:j(I.substring(4,6))}}function te(N){var I=g(N,"origin",Object);return I.x=g(I,"x",Number),I.y=g(I,"y",Number),I}function z(N){N.width=document.documentElement.clientWidth,N.height=document.documentElement.clientHeight}function B(N){var I=N.getBoundingClientRect();N.width=I.width,N.height=I.height}function ue(N){var I=document.createElement("canvas");return I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.pointerEvents="none",I.style.zIndex=N,I}function se(N,I,fe,re,ce,ye,pe,we,Ee){N.save(),N.translate(I,fe),N.rotate(ye),N.scale(re,ce),N.arc(0,0,1,pe,we,Ee),N.restore()}function oe(N){var I=N.angle*(Math.PI/180),fe=N.spread*(Math.PI/180);return{x:N.x,y:N.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:N.startVelocity*.5+Math.random()*N.startVelocity,angle2D:-I+(.5*fe-Math.random()*fe),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:N.color,shape:N.shape,tick:0,totalTicks:N.ticks,decay:N.decay,drift:N.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:N.gravity*3,ovalScalar:.6,scalar:N.scalar}}function be(N,I){I.x+=Math.cos(I.angle2D)*I.velocity+I.drift,I.y+=Math.sin(I.angle2D)*I.velocity+I.gravity,I.wobble+=I.wobbleSpeed,I.velocity*=I.decay,I.tiltAngle+=.1,I.tiltSin=Math.sin(I.tiltAngle),I.tiltCos=Math.cos(I.tiltAngle),I.random=Math.random()+2,I.wobbleX=I.x+10*I.scalar*Math.cos(I.wobble),I.wobbleY=I.y+10*I.scalar*Math.sin(I.wobble);var fe=I.tick++/I.totalTicks,re=I.x+I.random*I.tiltCos,ce=I.y+I.random*I.tiltSin,ye=I.wobbleX+I.random*I.tiltCos,pe=I.wobbleY+I.random*I.tiltSin;return N.fillStyle="rgba("+I.color.r+", "+I.color.g+", "+I.color.b+", "+(1-fe)+")",N.beginPath(),I.shape==="circle"?N.ellipse?N.ellipse(I.x,I.y,Math.abs(ye-re)*I.ovalScalar,Math.abs(pe-ce)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):se(N,I.x,I.y,Math.abs(ye-re)*I.ovalScalar,Math.abs(pe-ce)*I.ovalScalar,Math.PI/10*I.wobble,0,2*Math.PI):(N.moveTo(Math.floor(I.x),Math.floor(I.y)),N.lineTo(Math.floor(I.wobbleX),Math.floor(ce)),N.lineTo(Math.floor(ye),Math.floor(pe)),N.lineTo(Math.floor(re),Math.floor(I.wobbleY))),N.closePath(),N.fill(),I.tick<I.totalTicks}function Se(N,I,fe,re,ce){var ye=I.slice(),pe=N.getContext("2d"),we,Ee,$e=a(function(Re){function R(){we=Ee=null,pe.clearRect(0,0,re.width,re.height),ce(),Re()}function X(){r&&!(re.width===s.width&&re.height===s.height)&&(re.width=N.width=s.width,re.height=N.height=s.height),!re.width&&!re.height&&(fe(N),re.width=N.width,re.height=N.height),pe.clearRect(0,0,re.width,re.height),ye=ye.filter(function(L){return be(pe,L)}),ye.length?we=c.frame(X):R()}we=c.frame(X),Ee=R});return{addFettis:function(Re){return ye=ye.concat(Re),$e},canvas:N,promise:$e,reset:function(){we&&c.cancel(we),Ee&&Ee()}}}function Pe(N,I){var fe=!N,re=!!g(I||{},"resize"),ce=g(I,"disableForReducedMotion",Boolean),ye=i&&!!g(I||{},"useWorker"),pe=ye?l():null,we=fe?z:B,Ee=N&&pe?!!N.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Re;function R(L,Z,ne){for(var me=g(L,"particleCount",S),ge=g(L,"angle",Number),he=g(L,"spread",Number),b=g(L,"startVelocity",Number),x=g(L,"decay",Number),A=g(L,"gravity",Number),$=g(L,"drift",Number),U=g(L,"colors",C),V=g(L,"ticks",Number),K=g(L,"shapes"),H=g(L,"scalar"),D=te(L),v=me,P=[],G=N.width*D.x,ee=N.height*D.y;v--;)P.push(oe({x:G,y:ee,angle:ge,spread:he,startVelocity:b,color:U[v%U.length],shape:K[T(0,K.length)],ticks:V,decay:x,gravity:A,drift:$,scalar:H}));return Re?Re.addFettis(P):(Re=Se(N,P,we,Z,ne),Re.promise)}function X(L){var Z=ce||g(L,"disableForReducedMotion",Boolean),ne=g(L,"zIndex",Number);if(Z&&$e)return a(function(b){b()});fe&&Re?N=Re.canvas:fe&&!N&&(N=ue(ne),document.body.appendChild(N)),re&&!Ee&&we(N);var me={width:N.width,height:N.height};pe&&!Ee&&pe.init(N),Ee=!0,pe&&(N.__confetti_initialized=!0);function ge(){if(pe){var b={getBoundingClientRect:function(){if(!fe)return N.getBoundingClientRect()}};we(b),pe.postMessage({resize:{width:b.width,height:b.height}});return}me.width=me.height=null}function he(){Re=null,re&&t.removeEventListener("resize",ge),fe&&N&&(document.body.removeChild(N),N=null,Ee=!1)}return re&&t.addEventListener("resize",ge,!1),pe?pe.fire(L,me,he):R(L,me,he)}return X.reset=function(){pe&&pe.reset(),Re&&Re.reset()},X}var Me;function We(){return Me||(Me=Pe(null,{useWorker:!0,resize:!0})),Me}n.exports=function(){return We().apply(this,arguments)},n.exports.reset=function(){We().reset()},n.exports.create=Pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Bo,!1);const N0=Bo.exports;Bo.exports.create;const Cc=atob("YW5kcm9pZEBqdTYwLmRl"),ty="02.12.2022 16:19:26",ny="https://boomerang.ju60.de/share/z8KAHmGY/Kiel%20Live",qu="https://tiles.ju60.de",ry=`${qu}/styles/gray-matter/style.json`,sy=`${qu}/styles/bright-matter/style.json`,R0="wss://api.kiel-live.ju60.de/",M0={class:"m-2 flex flex-col rounded-md p-4 bg-white border-1 border-gray-200 shadow-xl z-20 md:w-104 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800"},L0={class:"flex flex-col text-center gap-4"},F0={class:"text-xl mb-2"},j0=["href"],$0={href:"https://www.instagram.com/kiel.live/",target:"_blank",class:"underline"},U0={class:"flex flex-row w-full justify-center mt-8"},D0=Mn({__name:"UpdateNotice",setup(e){const t="kiel-live-version-v1",n="2.0.0",r=Ye(localStorage.getItem(t)),s=ze(()=>r.value!==null&&r.value!==n),{t:i}=Ln();Gr(async()=>{const a=localStorage.getItem("version");a!==null&&(r.value=a,localStorage.removeItem("version"))}),vt(s,()=>{if(!s.value)return;const a=3*1e3,c=Date.now()+a,l=setInterval(()=>{if(c-Date.now()<=0){clearInterval(l);return}N0({particleCount:100,spread:70,origin:{y:1.1},startVelocity:90,zIndex:2e3})},250)},{immediate:!0});function o(){localStorage.setItem(t,n),r.value=n}return(a,c)=>{const l=zs("i18n-t");return Ie(s)?(lt(),Kt("div",{key:0,class:"flex fixed top-0 left-0 right-0 bottom-0 bg-gray-900 bg-opacity-80 z-1000 justify-center items-center",onClick:o},[qe("div",M0,[qe("div",L0,[qe("span",F0,At(Ie(i)("update_title")),1),qe("span",null,At(Ie(i)("update_msg")),1),Fe(l,{keypath:"feedback",tag:"span"},{email:Mt(()=>[qe("a",{href:`mailto:${Ie(Cc)}`,class:"underline"},At(Ie(Cc)),9,j0)]),instagram:Mt(()=>[qe("a",$0,At(Ie(i)("instagram")),1)]),_:1})]),qe("div",U0,[Fe(oo,{onClick:o},{default:Mt(()=>[Ps(At(Ie(i)("nice")),1)]),_:1})])])])):Xl("",!0)}}}),B0=e=>o0({storageKey:`${Du}.theme`,...e}),q0={class:"app flex flex-col m-auto w-full h-full bg-white text-black dark:bg-dark-400 dark:text-gray-300"},W0={class:"flex flex-grow min-h-0"},H0=Mn({__name:"App",setup(e){B0();const{locale:t}=Ln();return vt(t,()=>{document.documentElement.setAttribute("lang",t.value)},{immediate:!0}),(n,r)=>{const s=zs("router-view");return lt(),Kt("div",q0,[qe("main",W0,[Fe(s)]),Fe(y0,{class:"mt-auto flex-shrink-0"}),Fe(T0),Fe(D0)])}}});const V0=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},z0=V0(H0,[["__scopeId","data-v-ce88a210"]]),G0="modulepreload",K0=function(e){return"/"+e},Ic={},qt=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=K0(s),s in Ic)return;Ic[s]=!0;const i=s.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":G0,i||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),i)return new Promise((c,l)=>{a.addEventListener("load",c),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},Y0=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};function J0(){return navigator.language.split("-")[0]}const Wu=J0(),Hu=zp({legacy:!1,locale:Wu}),X0=async e=>{const{default:t}=await Y0(Object.assign({"./locales/de.json":()=>qt(()=>import("./de.5e78b656.js"),[]),"./locales/en.json":()=>qt(()=>import("./en.42c6ec6b.js"),[])}),`./locales/${e}.json`);return Hu.global.setLocaleMessage(e,t),zr()};X0(Wu);let Si=!0;const Q0=[{path:"/",name:"home",component:()=>qt(()=>import("./Home.c6c84c99.js"),["assets/Home.c6c84c99.js","assets/Home.3163d652.css","assets/logo.3c55c010.js"])},{path:"/map/:markerType/:markerId",name:"map-marker",component:()=>qt(()=>import("./Home.c6c84c99.js"),["assets/Home.c6c84c99.js","assets/Home.3163d652.css","assets/logo.3c55c010.js"]),props:!0},{path:"/search",name:"search",component:()=>qt(()=>import("./Home.c6c84c99.js"),["assets/Home.c6c84c99.js","assets/Home.3163d652.css","assets/logo.3c55c010.js"])},{path:"/favorites",name:"favorites",component:()=>qt(()=>import("./Home.c6c84c99.js"),["assets/Home.c6c84c99.js","assets/Home.3163d652.css","assets/logo.3c55c010.js"])},{path:"/settings/about",name:"settings-about",component:()=>qt(()=>import("./About.ae561a29.js"),["assets/About.ae561a29.js","assets/logo.3c55c010.js","assets/SettingsContainer.c5839014.js"]),meta:{settings:!0}},{path:"/settings/changelog",name:"settings-changelog",component:()=>qt(()=>import("./Changelog.34101c65.js"),["assets/Changelog.34101c65.js","assets/SettingsContainer.c5839014.js"]),meta:{settings:!0}},{path:"/settings/settings",name:"settings-settings",component:()=>qt(()=>import("./Settings.0afe2603.js"),["assets/Settings.0afe2603.js","assets/SettingsContainer.c5839014.js"]),meta:{settings:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>qt(()=>import("./NotFound.9fe78ebd.js"),[])}],Vu=Og({history:Bm(),routes:Q0}),{liteMode:Z0}=Bu();Vu.beforeEach((e,t,n)=>{if(e.name==="home"&&(Si||Z0.value)){Si=!1,n({name:"favorites"});return}Si=!1,n()});const kt=new Uint8Array(0);var en;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(en||(en={}));var Ur;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(Ur||(Ur={}));const ao="127.0.0.1",zu=2*1e3,Gu=2*60*1e3,e_=2;var tn;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(tn||(tn={}));var Tc;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(Tc||(Tc={}));var co;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(co||(co={}));var Dr;(function(e){e.Old="old",e.New="new"})(Dr||(Dr={}));var lo;(function(e){e.File="file",e.Memory="memory"})(lo||(lo={}));var wt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(wt||(wt={}));var et;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(et||(et={}));var nr;(function(e){e.Instant="instant",e.Original="original"})(nr||(nr={}));var Ft;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(Ft||(Ft={}));var Vn;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(Vn||(Vn={}));var Nc;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(Nc||(Nc={}));var Q;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(Q||(Q={}));class Ku{constructor(){w(this,"messages");this.messages=new Map,this.messages.set(Q.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(Q.BadJson,"Bad JSON"),this.messages.set(Q.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return t_.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const t_=new Ku;function n_(e){return typeof e.code=="string"}class le extends Error{constructor(n,r,s){super(n);w(this,"name");w(this,"message");w(this,"code");w(this,"permissionContext");w(this,"chainedError");w(this,"api_error");this.name="NatsError",this.message=n,this.code=r,this.chainedError=s}static errorForCode(n,r){const s=Ku.getMessage(n);return new le(s,n,r)}isAuthError(){return this.code===Q.AuthenticationExpired||this.code===Q.AuthorizationViolation}isPermissionError(){return this.code===Q.PermissionsViolation}isProtocolError(){return this.code===Q.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const cr=new TextEncoder,Yt=new TextDecoder;function r_(...e){let t=0;for(let s=0;s<e.length;s++)t+=e[s].length;const n=new Uint8Array(t);let r=0;for(let s=0;s<e.length;s++)n.set(e[s],r),r+=e[s].length;return n}function Sr(...e){const t=[];for(let n=0;n<e.length;n++)t.push(cr.encode(e[n]));return t.length===0?kt:t.length===1?t[0]:r_(...t)}function Rc(e){return!e||e.length===0?"":Yt.decode(e)}function Yu(){return{encode(e){return cr.encode(e)},decode(e){return Yt.decode(e)}}}function An(e){return{encode(t){try{return t===void 0&&(t=null),cr.encode(JSON.stringify(t))}catch(n){throw le.errorForCode(Q.BadJson,n)}},decode(t){try{return JSON.parse(Yt.decode(t),e)}catch(n){throw le.errorForCode(Q.BadJson,n)}}}}const Mc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Lc=36,s_=0xcfd41b9100000,Fc=33,i_=333,jc=12+10;function o_(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function a_(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):o_(e)}class c_{constructor(){w(this,"buf");w(this,"seq");w(this,"inc");this.buf=new Uint8Array(jc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*s_),this.inc=Math.floor(Math.random()*(i_-Fc)+Fc)}setPre(){const t=new Uint8Array(12);a_(t);for(let n=0;n<12;n++){const r=t[n]%36;this.buf[n]=Mc.charCodeAt(r)}}fillSeq(){let t=this.seq;for(let n=jc-1;n>=12;n--)this.buf[n]=Mc.charCodeAt(t%Lc),t=Math.floor(t/Lc)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const qo=new c_;class Yr{constructor(){w(this,"buffers");w(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let n=0;for(let i=0;i<t.length;i++)n+=t[i].length;const r=new Uint8Array(n);let s=0;for(let i=0;i<t.length;i++)r.set(t[i],s),s+=t[i].length;return r}static fromAscii(t){return t||(t=""),cr.encode(t)}static toAscii(t){return Yt.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let n=0;for(let r=0;r<this.buffers.length;r++)t.set(this.buffers[r],n),n+=this.buffers[r].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const n=this.buffers.pop();if(n){const r=this.byteLength;(t===void 0||t>r)&&(t=r);const s=n.subarray(0,t);return r>t&&this.buffers.push(n.subarray(t)),this.byteLength=r-t,s}}return new Uint8Array(0)}fill(t,...n){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let r=0;r<n.length;r++)n[r]&&n[r].length&&(this.buffers.push(n[r]),this.byteLength+=n[r].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const En=`\r
`,Ts=Yr.fromAscii(En),l_=new Uint8Array(Ts)[0],u_=new Uint8Array(Ts)[1];function f_(e){return e instanceof Uint8Array}function h_(e){for(let t=0;t<e.length;t++){const n=t+1;if(e.byteLength>n&&e[t]===l_&&e[n]===u_)return n+1}return 0}function d_(e){const t=h_(e);if(t>0){const r=new Uint8Array(e).slice(0,t);return Yt.decode(r)}return""}function ti(e,...t){for(let n=0;n<t.length;n++){const r=t[n];Object.keys(r).forEach(function(s){e[s]=r[s]})}return e}function ls(e){const t="\u240D",n="\u240A";return Yt.decode(e).replace(/\n/g,n).replace(/\r/g,t)}function ni(e){const t=le.errorForCode(Q.Timeout);let n,r;const s=new Promise((i,o)=>{n={cancel:()=>{r&&clearTimeout(r)}},r=setTimeout(()=>{o(t)},e)});return Object.assign(s,n)}function Wo(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function Ke(){let e={};const t=new Promise((n,r)=>{e={resolve:n,reject:r}});return Object.assign(t,e)}function Ju(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function $c(e){let r=!0;const s=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new le(`'${e[i]}' is not a valid character for a header key`,Q.BadHeader);r&&97<=o&&o<=122?o-=32:!r&&65<=o&&o<=90&&(o+=32),s[i]=o,r=o==45}return String.fromCharCode(...s)}function rr(){return new dn}const Oi="NATS/1.0";var Pt;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Pt||(Pt={}));class dn{constructor(){w(this,"code");w(this,"headers");w(this,"description");this.code=0,this.headers=new Map,this.description=""}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this.code===t.code){for(const[n,r]of this.headers){const s=t.values(n);if(r.length!==s.length)return!1;const i=[...r].sort(),o=[...s].sort();for(let a=0;a<i.length;a++)if(i[a]!==o[a])return!1}return!0}return!1}static decode(t){const n=new dn,s=Yt.decode(t).split(`\r
`),i=s[0];if(i!==Oi){let o=i.replace(Oi,"");n.code=parseInt(o,10);const a=n.code.toString();o=o.replace(a,""),n.description=o.trim()}return s.length>=1&&s.slice(1).map(o=>{if(o){const a=o.indexOf(":");if(a>-1){const c=o.slice(0,a),l=o.slice(a+1).trim();n.append(c,l)}}}),n}toString(){if(this.headers.size===0)return"";let t=Oi;for(const[n,r]of this.headers)for(let s=0;s<r.length;s++)t=`${t}\r
${n}: ${r[s]}`;return`${t}\r
\r
`}encode(){return cr.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new le("invalid header value - \\r and \\n are not allowed.",Q.BadHeader);return t.trim()}keys(){const t=[];for(const n of this.headers.keys())t.push(n);return t}findKeys(t,n=Pt.Exact){const r=this.keys();switch(n){case Pt.Exact:return r.filter(s=>s===t);case Pt.CanonicalMIME:return t=$c(t),r.filter(s=>s===t);default:{const s=t.toLowerCase();return r.filter(i=>s===i.toLowerCase())}}}get(t,n=Pt.Exact){const r=this.findKeys(t,n);if(r.length){const s=this.headers.get(r[0]);if(s)return Array.isArray(s)?s[0]:s}return""}has(t,n=Pt.Exact){return this.findKeys(t,n).length>0}set(t,n,r=Pt.Exact){this.delete(t,r),this.append(t,n,r)}append(t,n,r=Pt.Exact){const s=$c(t);r===Pt.CanonicalMIME&&(t=s);const i=this.findKeys(t,r);t=i.length>0?i[0]:t;const o=dn.validHeaderValue(n);let a=this.headers.get(t);a||(a=[],this.headers.set(t,a)),a.push(o)}values(t,n=Pt.Exact){const r=[];return this.findKeys(t,n).forEach(i=>{const o=this.headers.get(i);o&&r.push(...o)}),r}delete(t,n=Pt.Exact){this.findKeys(t,n).forEach(s=>{this.headers.delete(s)})}get hasError(){return this.code>=300}get status(){return`${this.code} ${this.description}`.trim()}toRecord(){const t={};return this.keys().forEach(n=>{t[n]=this.values(n)}),t}static fromRecord(t){const n=new dn;for(const r in t)n.headers.set(r,t[r]);return n}}function Jn(e){return Xu("durable",e)}function pt(e){return Xu("stream",e)}function Xu(e,t=""){if(t==="")throw Error(`${e} name required`);[".","*",">"].forEach(r=>{if(t.indexOf(r)!==-1)throw Error(`invalid ${e} name - ${e} name cannot contain '${r}'`)})}function p_(e,t={}){return Object.assign({name:e,deliver_policy:wt.All,ack_policy:et.Explicit,ack_wait:ct(30*1e3),replay_policy:nr.Instant},t)}function ct(e){return e*1e6}function Uc(e){return Math.floor(e/1e6)}function uo(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function m_(e){var t;return uo(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function Br(e){if(e.data.length!==0)return null;const t=e.headers;return t?Qu(t.code,t.description):null}var kn;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting"})(kn||(kn={}));function g_(e){return e.code!==Q.JetStream409?!1:[kn.MaxBatchExceeded,kn.MaxExpiresExceeded,kn.MaxBytesExceeded,kn.MaxMessageSizeExceeded,kn.PushConsumer].find(n=>e.message.indexOf(n)!==-1)!==void 0}function Qu(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new le(t,Q.JetStream404NoMessages);case 408:return new le(t,Q.JetStream408RequestTimeout);case 409:return new le(t,Q.JetStream409);case 503:return le.errorForCode(Q.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=Q.Unknown),new le(t,`${e}`)}}function nn(e){return new __(e)}class __{constructor(t){w(this,"config");w(this,"ordered");w(this,"mack");w(this,"stream");w(this,"callbackFn");w(this,"max");w(this,"qname");w(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=p_("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?et.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Jn(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=wt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=wt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=wt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=wt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=wt.Last,this}deliverNew(){return this.config.deliver_policy=wt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=et.None,this}ackAll(){return this.config.ack_policy=et.All,this}ackExplicit(){return this.config.ack_policy=et.Explicit,this}ackWait(t){return this.config.ack_wait=ct(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=nr.Instant,this}replayOriginal(){return this.config.replay_policy=nr.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=ct(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,n){return this.stream=t,this.config.durable_name=n,this.isBind=!0,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=ct(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=ct(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function Dc(e){return typeof e.getOpts=="function"}class Ut{constructor(){w(this,"inflight");w(this,"processed");w(this,"received");w(this,"noIterator");w(this,"iterClosed");w(this,"done");w(this,"signal");w(this,"yields");w(this,"filtered");w(this,"pendingFiltered");w(this,"ingestionFilterFn");w(this,"protocolFilterFn");w(this,"dispatchedFn");w(this,"ctx");w(this,"_data");w(this,"err");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=Ke(),this.yields=[],this.iterClosed=Ke()}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:n,protocol:r}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};n&&(r&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new le("unsupported iterator",Q.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let n=0;n<t.length;n++){if(typeof t[n]=="function"){const s=t[n];try{s()}catch(i){throw i}continue}(this.protocolFilterFn?this.protocolFilterFn(t[n]):!0)?(this.processed++,yield t[n],this.dispatchedFn&&t[n]&&this.dispatchedFn(t[n])):this.pendingFiltered--,this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=Ke())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Bc(e){const t=e.length;let n=e.indexOf("=");n===-1&&(n=t);const r=n===t?0:4-n%4;return[n,r]}function b_(e,t,n=!1){function r(o,a){return Math.floor((o+a)*3/4-a)}function s(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function i(o,a,c){const l=new Array((c-a)/3);for(let u=a,h=0;u<c;u+=3)l[h++]=s((o[u]<<16)+(o[u+1]<<8)+o[u+2]);return l.join("")}return{byteLength(o){return r.apply(null,Bc(o))},toUint8Array(o){const[a,c]=Bc(o),l=new Uint8Array(r(a,c)),u=c?a-4:a;let h,d=0,g;for(g=0;g<u;g+=4)h=t[o.charCodeAt(g)]<<18|t[o.charCodeAt(g+1)]<<12|t[o.charCodeAt(g+2)]<<6|t[o.charCodeAt(g+3)],l[d++]=h>>16&255,l[d++]=h>>8&255,l[d++]=h&255;return c===2?(h=t[o.charCodeAt(g)]<<2|t[o.charCodeAt(g+1)]>>4,l[d++]=h&255):c===1&&(h=t[o.charCodeAt(g)]<<10|t[o.charCodeAt(g+1)]<<4|t[o.charCodeAt(g+2)]>>2,l[d++]=h>>8&255,l[d++]=h&255),l},fromUint8Array(o){const c=o.length,l=c%3,u=c-l,h=new Array(Math.ceil(u/16383)+(l?1:0));let d=0,g;for(let T=0;T<u;T+=16383)g=T+16383,h[d++]=i(o,T,g>u?u:g);let S;return l===1?(S=o[u],h[d]=e[S>>2]+e[S<<4&63],n||(h[d]+="==")):l===2&&(S=o[u]<<8|o[u+1]&255,h[d]=e[S>>10]+e[S>>4&63]+e[S<<2&63],n||(h[d]+="=")),h.join("")}}}const Zu=[],ef=[],Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=Pi.length;e<t;++e)Zu[e]=Pi[e],ef[Pi.charCodeAt(e)]=e;const{byteLength:iy,toUint8Array:y_,fromUint8Array:w_}=b_(Zu,ef,!0),v_=new TextDecoder,x_=new TextEncoder;function E_(e){return e.reduce((t,n)=>`${t}${n<16?"0":""}${n.toString(16)}`,"")}function S_(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const n=new Uint8Array(Math.floor(t/2)),r=t/2;for(let s=0;s<r;++s)n[s]=parseInt(e.substr(s*2,2),16);return n}function O_(e,t="utf8"){if(/^utf-?8$/i.test(t))return v_.decode(e);if(/^base64$/i.test(t))return w_(e);if(/^hex(?:adecimal)?$/i.test(t))return E_(e);throw new TypeError("Unsupported string encoding.")}function P_(e,t="utf8"){if(/^utf-?8$/i.test(t))return x_.encode(e);if(/^base64$/i.test(t))return y_(e);if(/^hex(?:adecimal)?$/i.test(t))return S_(e);throw new TypeError("Unsupported string encoding.")}class qc{constructor(){w(this,"hashSize",32);w(this,"_buf");w(this,"_bufIdx");w(this,"_count");w(this,"_K");w(this,"_H");w(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,n){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=P_(t,n));for(let s=0,i=t.length;s<i;s++)this._buf[this._bufIdx++]=t[s],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const r=this._count;return(r[0]+=t.length<<3)<t.length<<3&&r[1]++,r[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const n=this._buf;let r=this._bufIdx;for(n[r++]=128;r!==56;)r===64&&(this._transform(),r=0),n[r++]=0;const s=this._count;n[56]=s[1]>>>24&255,n[57]=s[1]>>>16&255,n[58]=s[1]>>>8&255,n[59]=s[1]>>>0&255,n[60]=s[0]>>>24&255,n[61]=s[0]>>>16&255,n[62]=s[0]>>>8&255,n[63]=s[0]>>>0&255,this._transform();const i=new Uint8Array(32);for(let o=0;o<8;o++)i[(o<<2)+0]=this._H[o]>>>24&255,i[(o<<2)+1]=this._H[o]>>>16&255,i[(o<<2)+2]=this._H[o]>>>8&255,i[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?O_(i,t):i}_transform(){const t=this._H;let n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],c=t[6],l=t[7];const u=new Uint32Array(16);let h;for(h=0;h<16;h++)u[h]=this._buf[(h<<2)+3]|this._buf[(h<<2)+2]<<8|this._buf[(h<<2)+1]<<16|this._buf[h<<2]<<24;for(h=0;h<64;h++){let d;if(h<16)d=u[h];else{let g=u[h+1&15],S=u[h+14&15];d=u[h&15]=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+u[h&15]+u[h+9&15]|0}d=d+l+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(a^c))+this._K[h]|0,l=c,c=a,a=o,o=i+d,i=s,s=r,r=n,n=d+(r&s^i&(r^s))+(r>>>2^r>>>13^r>>>22^r<<30^r<<19^r<<10)|0}t[0]=t[0]+n|0,t[1]=t[1]+r|0,t[2]=t[2]+s|0,t[3]=t[3]+i|0,t[4]=t[4]+o|0,t[5]=t[5]+a|0,t[6]=t[6]+c|0,t[7]=t[7]+l|0}}function sr(e){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`${e} is not a semver value`)}function Ns(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var qr;(function(e){e.JS_PULL_MAX_BYTES="js_pull_max_bytes"})(qr||(qr={}));class Wc{constructor(t){w(this,"server");w(this,"features");this.features=new Map,this.server=t,this.set(qr.JS_PULL_MAX_BYTES,"2.8.3")}set(t,n){this.features.set(t,{min:n,ok:Ns(this.server,sr(n))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){return this.get(t).ok}require(t){return typeof t=="string"&&(t=sr(t)),Ns(this.server,t)>=0}}const A_="$JS.API";function k_(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),ti({apiPrefix:A_,timeout:5e3},e)}class Jr{constructor(t,n){w(this,"nc");w(this,"opts");w(this,"prefix");w(this,"timeout");w(this,"jc");this.nc=t,this.opts=k_(n),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=An()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,n=null,r){r=r||{},r.timeout=this.timeout;let s=kt;n&&(s=this.jc.encode(n));const i=await this.nc.request(t,s,r);return this.parseJsResponse(i)}async findStream(t){const n={subject:t},s=await this._request(`${this.prefix}.STREAM.NAMES`,n);if(!s.streams||s.streams.length!==1)throw new Error("no stream matches subject");return s.streams[0]}parseJsResponse(t){const n=this.jc.decode(t.data),r=n;if(r.error){const s=Qu(r.error.code,r.error.description);if(s!==null)throw s.api_error=r.error,s}return n}}class tf{constructor(t,n,r){w(this,"err");w(this,"offset");w(this,"pageInfo");w(this,"subject");w(this,"jsm");w(this,"filter");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=r,this.offset=0,this.pageInfo={},this.filter=n}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};try{const n=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=n;const r=this.filter(n);return this.offset+=r.length,r}catch(n){throw this.err=n,n}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const n of t)yield n;t=await this.next()}}}class nf extends Jr{constructor(t,n){super(t,n)}async add(t,n){if(pt(t),n.deliver_group&&n.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(n.deliver_group&&n.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const r={};r.config=n,r.stream_name=t,r.config.durable_name&&Jn(r.config.durable_name);const s=n.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${n.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(s,r)}async update(t,n,r){const s=await this.info(t,n),i=r;return this.add(t,Object.assign(s.config,i))}async info(t,n){return pt(t),Jn(n),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${n}`)}async delete(t,n){return pt(t),Jn(n),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${n}`)).success}list(t){pt(t);const n=s=>s.consumers,r=`${this.prefix}.CONSUMER.LIST.${t}`;return new tf(r,n,this)}}class rf{constructor(t,n){w(this,"token");w(this,"received");w(this,"ctx");w(this,"requestSubject");w(this,"mux");this.mux=t,this.requestSubject=n,this.received=0,this.token=qo.next(),this.ctx=new Error}}class C_ extends rf{constructor(n,r,s={maxWait:1e3}){super(n,r);w(this,"callback");w(this,"done");w(this,"timer");w(this,"max");w(this,"opts");if(this.opts=s,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof s.maxMessages=="number"&&s.maxMessages>0?s.maxMessages:-1,this.done=Ke(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},s.maxWait)}cancel(n){n&&this.callback(n,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(n,r){n?(n.stack+=`

${this.ctx.stack}`,this.cancel(n)):(this.callback(null,r),this.opts.strategy===tn.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===tn.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},300)),this.opts.strategy===tn.SentinelMsg&&r&&r.data.length===0&&this.cancel())}}class sf extends rf{constructor(n,r,s={timeout:1e3}){super(n,r);w(this,"deferred");w(this,"timer");this.deferred=Ke(),this.timer=ni(s.timeout)}resolver(n,r){this.timer&&this.timer.cancel(),n?(n.stack+=`

${this.ctx.stack}`,this.deferred.reject(n)):this.deferred.resolve(r),this.cancel()}cancel(n){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(n||le.errorForCode(Q.Cancelled))}}const Hc=Uint8Array.of(43,65,67,75),I_=Uint8Array.of(45,78,65,75),_r=Uint8Array.of(43,87,80,73),T_=Uint8Array.of(43,78,88,84),N_=Uint8Array.of(43,84,69,82,77),R_=Uint8Array.of(32);function Rs(e){return new L_(e)}function M_(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const n={};return n.domain=t[2]==="_"?"":t[2],n.account_hash=t[3],n.stream=t[4],n.consumer=t[5],n.redeliveryCount=parseInt(t[6],10),n.redelivered=n.redeliveryCount>1,n.streamSequence=parseInt(t[7],10),n.deliverySequence=parseInt(t[8],10),n.timestampNanos=parseInt(t[9],10),n.pending=parseInt(t[10],10),n}class L_{constructor(t){w(this,"msg");w(this,"di");w(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=M_(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===_r[0]&&t[1]===_r[1]&&t[2]===_r[2]&&t[3]===_r[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const n=this.msg.publisher,r=new sf(n.muxSubscriptions,this.msg.reply);n.request(r);try{n.publish(this.msg.reply,Hc,{reply:`${n.muxSubscriptions.baseInbox}${r.token}`})}catch(s){r.cancel(s)}try{return await Promise.race([r.timer,r.deferred]),!0}catch(s){r.cancel(s)}}return!1}ack(){this.doAck(Hc)}nak(t){let n=I_;t&&(n=Yu().encode(`-NAK ${JSON.stringify({delay:ct(t)})}`)),this.doAck(n)}working(){this.doAck(_r)}next(t,n={batch:1}){const r={};r.batch=n.batch||1,r.no_wait=n.no_wait||!1,n.expires&&n.expires>0&&(r.expires=ct(n.expires));const s=An().encode(r),i=Yr.concat(T_,R_,s),o=t?{reply:t}:void 0;this.msg.respond(i,o)}term(){this.doAck(N_)}}function Bn(e,t,n=!1){if(n===!0&&!e)throw le.errorForCode(Q.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw le.errorForCode(Q.ApiError,new Error(`${t} is not a function`))}class F_ extends Ut{constructor(n,r,s){super();w(this,"sub");w(this,"adapter");w(this,"subIterDone");Bn(s.adapter,"adapter",!0),this.adapter=s.adapter,s.callback&&Bn(s.callback,"callback"),this.noIterator=typeof s.callback=="function",s.ingestionFilterFn&&(Bn(s.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=s.ingestionFilterFn),s.protocolFilterFn&&(Bn(s.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=s.protocolFilterFn),s.dispatchedFn&&(Bn(s.dispatchedFn,"dispatchedFn"),this.dispatchedFn=s.dispatchedFn),s.cleanupFn&&Bn(s.cleanupFn,"cleanupFn");let i=(u,h)=>{this.callback(u,h)};if(s.callback){const u=s.callback;i=(h,d)=>{const[g,S]=this.adapter(h,d);if(g){u(g,null);return}const{ingest:T}=this.ingestionFilterFn?this.ingestionFilterFn(S,this):{ingest:!0};T&&(this.protocolFilterFn?this.protocolFilterFn(S):!0)&&(u(g,S),this.dispatchedFn&&S&&this.dispatchedFn(S))}}const{max:o,queue:a,timeout:c}=s,l={queue:a,timeout:c,callback:i};o&&o>0&&(l.max=o),this.sub=n.subscribe(r,l),s.cleanupFn&&(this.sub.cleanupFn=s.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=Ke(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async u=>{await u.closed,this.stop()})(this.sub).then().catch()}unsubscribe(n){this.sub.unsubscribe(n)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(n,r){this.sub.cancelTimeout();const[s,i]=this.adapter(n,r);s&&this.stop(s),i&&this.push(i)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}function of(e){if(e&&e.data.length===0&&e.headers){const t=e.headers;if(t.hasError&&t.code===503)return le.errorForCode(Q.NoResponders)}return null}class j_{constructor(t,n,r){w(this,"_headers");w(this,"_msg");w(this,"_rdata");w(this,"_reply");w(this,"_subject");w(this,"publisher");this._msg=t,this._rdata=n,this.publisher=r}get subject(){return this._subject?this._subject:(this._subject=Yt.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=Yt.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=dn.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=kt,n){return this.reply?(this.publisher.publish(this.reply,t,n),!0):!1}}let xt;function $_(e){xt=e}function af(){return xt!==void 0&&xt.defaultPort!==void 0?xt.defaultPort:4222}function Ai(){return xt!==void 0&&xt.urlParseFn?xt.urlParseFn:void 0}function U_(){if(!xt||typeof xt.factory!="function")throw new Error("transport fn is not set");return xt.factory()}function cf(){return xt!==void 0&&xt.dnsResolveFn?xt.dnsResolveFn:void 0}const D_=4,lf=48,B_=65,q_=97;function W_(e,t,n,r){const s=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,a)=>{s[a]=o}),s[12]=e,s[13]=t,s[14]=n,s[15]=r,s}function fo(e){return H_(e)!==void 0}function H_(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return uf(e);case":":return V_(e)}}function uf(e){const t=new Uint8Array(4);for(let n=0;n<4;n++){if(e.length===0)return;if(n>0){if(e[0]!==".")return;e=e.substring(1)}const{n:r,c:s,ok:i}=z_(e);if(!i||r>255)return;e=e.substring(s),t[n]=r}return W_(t[0],t[1],t[2],t[3])}function V_(e){const t=new Uint8Array(16);let n=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(n=0,e=e.substring(2),e.length===0))return t;let r=0;for(;r<16;){const{n:s,c:i,ok:o}=G_(e);if(!o||s>65535)return;if(i<e.length&&e[i]==="."){if(n<0&&r!=16-4||r+4>16)return;const a=uf(e);if(a===void 0)return;t[r]=a[12],t[r+1]=a[13],t[r+2]=a[14],t[r+3]=a[15],e="",r+=D_;break}if(t[r]=s>>8,t[r+1]=s,r+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(n>=0)return;if(n=r,e=e.substring(1),e.length===0)break}}if(e.length===0){if(r<16){if(n<0)return;const s=16-r;for(let i=r-1;i>=n;i--)t[i+s]=t[i];for(let i=n+s-1;i>=n;i--)t[i]=0}else if(n>=0)return;return t}}function z_(e){let t=0,n=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(n=n*10+(e.charCodeAt(t)-lf),n>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n,c:t,ok:!0}}function G_(e){let t=0,n=0;for(n=0;n<e.length;n++){if(48<=e.charCodeAt(n)&&e.charCodeAt(n)<=57)t*=16,t+=e.charCodeAt(n)-lf;else if(97<=e.charCodeAt(n)&&e.charCodeAt(n)<=102)t*=16,t+=e.charCodeAt(n)-q_+10;else if(65<=e.charCodeAt(n)&&e.charCodeAt(n)<=70)t*=16,t+=e.charCodeAt(n)-B_+10;else break;if(t>=16777215)return{n:0,c:n,ok:!1}}return n===0?{n:0,c:n,ok:!1}:{n:t,c:n,ok:!0}}function K_(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function ho(e){return!K_(e)}function Y_(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),ho(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=ho(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),n=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,r=n===80?"https":"http",s=new URL(`${r}://${e}`);s.port=`${n}`;let i=s.hostname;return i.charAt(0)==="["&&(i=i.substring(1,i.length-1)),{listen:s.host,hostname:i,port:n}}class Or{constructor(t,n=!1){w(this,"src");w(this,"listen");w(this,"hostname");w(this,"port");w(this,"didConnect");w(this,"reconnects");w(this,"lastConnect");w(this,"gossiped");w(this,"tlsName");w(this,"resolves");this.src=t,this.tlsName="";const r=Y_(t);this.listen=r.listen,this.hostname=r.hostname,this.port=r.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=n}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const n=[];if(fo(this.hostname))return[this];{const r=await t.fn(this.hostname);for(const s of r){const i=this.port===80?"https":"http",o=new URL(`${i}://${ho(s)?"["+s+"]":s}`);o.port=`${this.port}`;const a=new Or(o.host,!1);a.tlsName=this.hostname,n.push(a)}}return t.randomize&&Ju(n),this.resolves=n,n}}class J_{constructor(t=[],n={}){w(this,"firstSelect");w(this,"servers");w(this,"currentServer");w(this,"tlsName");w(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=n.randomize||!1;const r=Ai();t&&(t.forEach(s=>{s=r?r(s):s,this.servers.push(new Or(s))}),this.randomize&&(this.servers=Ju(this.servers))),this.servers.length===0&&this.addServer(`${ao}:${af()}`,!1),this.currentServer=this.servers[0]}updateTLSName(){const t=this.getCurrentServer();fo(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(n=>{n.gossiped&&(n.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,n=!1){const r=Ai();t=r?r(t):t;const s=new Or(t,n);fo(s.hostname)&&(s.tlsName=this.tlsName),this.servers.push(s)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const n=this.servers.indexOf(t);this.servers.splice(n,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const n=[];let r=[];const s=Ai(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(a=>{a=s?s(a):a;const c=new Or(a,!0);i.set(a,c)});const o=[];return this.servers.forEach((a,c)=>{const l=a.listen;a.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(c),i.delete(l)}),o.reverse(),o.forEach(a=>{const c=this.servers.splice(a,1);r=r.concat(c[0].listen)}),i.forEach((a,c)=>{this.servers.push(a),n.push(c)}),{added:n,deleted:r}}}class ff extends Ut{constructor(n,r,s={}){super();w(this,"sid");w(this,"queue");w(this,"draining");w(this,"max");w(this,"subject");w(this,"drained");w(this,"protocol");w(this,"timer");w(this,"info");w(this,"cleanupFn");w(this,"closed");w(this,"requestSubject");ti(this,s),this.protocol=n,this.subject=r,this.draining=!1,this.noIterator=typeof s.callback=="function",this.closed=Ke(),s.timeout&&(this.timer=ni(s.timeout),this.timer.then(()=>{this.timer=void 0}).catch(i=>{this.stop(i),this.noIterator&&this.callback(i,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(n){if(this.noIterator){const r=this.callback,s=n.ingestionFilterFn?n.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),i=n.protocolFilterFn?n.protocolFilterFn:()=>!0,o=n.dispatchedFn?n.dispatchedFn:()=>{};this.callback=(a,c)=>{const{ingest:l}=s(c);!l||i(c)&&(r(a,c),o(c))}}else this.protocolFilterFn=n.protocolFilterFn,this.dispatchedFn=n.dispatchedFn}callback(n,r){this.cancelTimeout(),n?this.stop(n):this.push(r)}close(){if(!this.isClosed()){if(this.cancelTimeout(),this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()}}unsubscribe(n){this.protocol.unsubscribe(this,n)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(le.errorForCode(Q.ConnectionClosed)):this.isClosed()?Promise.reject(le.errorForCode(Q.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(Ke()),this.drained.then(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class X_{constructor(){w(this,"mux");w(this,"subs");w(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const n=t.permissionContext,r=this.all();let s;if(n.operation==="subscription"&&(s=r.find(i=>i.subject===n.subject)),n.operation==="publish"&&(s=r.find(i=>i.requestSubject===n.subject)),s)return s.callback(t,{}),s.close(),s!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class Q_{constructor(t,n,r){w(this,"ph");w(this,"interval");w(this,"maxOut");w(this,"timer");w(this,"pendings");this.ph=t,this.interval=n,this.maxOut=r,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:Ur.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=Ke();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class Z_ extends Error{constructor(t){super(t),this.name="AssertionError"}}function eb(e,t="Assertion failed."){if(!e)throw new Z_(t)}const Vc=32*1024,ki=2**32-2;function us(e,t,n=0){const r=t.byteLength-n;return e.byteLength>r&&(e=e.subarray(0,r)),t.set(e,n),e.byteLength}class Ci{constructor(t){w(this,"_buf");w(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const n=this._buf.byteLength;return t<=this.capacity-n?(this._reslice(n+t),n):-1}_reslice(t){eb(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const n=us(this._buf.subarray(this._off),t);return this._off+=n,n}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(cr.encode(t))}write(t){const n=this._grow(t.byteLength);return us(t,this._buf,n)}_grow(t){const n=this.length;n===0&&this._off!==0&&this.reset();const r=this._tryGrowByReslice(t);if(r>=0)return r;const s=this.capacity;if(t<=Math.floor(s/2)-n)us(this._buf.subarray(this._off),this._buf);else{if(s+t>ki)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*s+t,ki));us(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(n+t,ki)),n}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const n=this._grow(t);this._reslice(n)}readFrom(t){let n=0;const r=new Uint8Array(Vc);for(;;){const s=this.capacity-this.length<Vc,i=s?r:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return n;s?this.write(i.subarray(0,o)):this._reslice(this.length+o),n+=o}}}var at;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(at||(at={}));function zc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const tb=48;class Gc{constructor(t){w(this,"dispatcher");w(this,"state");w(this,"as");w(this,"drop");w(this,"hdr");w(this,"ma");w(this,"argBuf");w(this,"msgBuf");this.dispatcher=t,this.state=Y.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let n;for(n=0;n<t.length;n++){const r=t[n];switch(this.state){case Y.OP_START:switch(r){case J.M:case J.m:this.state=Y.OP_M,this.hdr=-1,this.ma=zc();break;case J.H:case J.h:this.state=Y.OP_H,this.hdr=0,this.ma=zc();break;case J.P:case J.p:this.state=Y.OP_P;break;case J.PLUS:this.state=Y.OP_PLUS;break;case J.MINUS:this.state=Y.OP_MINUS;break;case J.I:case J.i:this.state=Y.OP_I;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_H:switch(r){case J.M:case J.m:this.state=Y.OP_M;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_M:switch(r){case J.S:case J.s:this.state=Y.OP_MS;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MS:switch(r){case J.G:case J.g:this.state=Y.OP_MSG;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MSG:switch(r){case J.SPACE:case J.TAB:this.state=Y.OP_MSG_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MSG_SPC:switch(r){case J.SPACE:case J.TAB:continue;default:this.state=Y.MSG_ARG,this.as=n}break;case Y.MSG_ARG:switch(r){case J.CR:this.drop=1;break;case J.NL:{const s=this.argBuf?this.argBuf.bytes():t.subarray(this.as,n-this.drop);this.processMsgArgs(s),this.drop=0,this.as=n+1,this.state=Y.MSG_PAYLOAD,n=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;case Y.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const s=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:at.MSG,msg:this.ma,data:s}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Y.MSG_END}else{let s=this.ma.size-this.msgBuf.length;const i=t.length-n;i<s&&(s=i),s>0?(this.msgBuf.write(t.subarray(n,n+s)),n=n+s-1):this.msgBuf.writeByte(r)}else n-this.as>=this.ma.size&&(this.dispatcher.push({kind:at.MSG,msg:this.ma,data:t.subarray(this.as,n)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=Y.MSG_END);break;case Y.MSG_END:switch(r){case J.NL:this.drop=0,this.as=n+1,this.state=Y.OP_START;break;default:continue}break;case Y.OP_PLUS:switch(r){case J.O:case J.o:this.state=Y.OP_PLUS_O;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PLUS_O:switch(r){case J.K:case J.k:this.state=Y.OP_PLUS_OK;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PLUS_OK:switch(r){case J.NL:this.dispatcher.push({kind:at.OK}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_MINUS:switch(r){case J.E:case J.e:this.state=Y.OP_MINUS_E;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_E:switch(r){case J.R:case J.r:this.state=Y.OP_MINUS_ER;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ER:switch(r){case J.R:case J.r:this.state=Y.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ERR:switch(r){case J.SPACE:case J.TAB:this.state=Y.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_MINUS_ERR_SPC:switch(r){case J.SPACE:case J.TAB:continue;default:this.state=Y.MINUS_ERR_ARG,this.as=n}break;case Y.MINUS_ERR_ARG:switch(r){case J.CR:this.drop=1;break;case J.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:at.ERR,data:s}),this.drop=0,this.as=n+1,this.state=Y.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(r))}break;case Y.OP_P:switch(r){case J.I:case J.i:this.state=Y.OP_PI;break;case J.O:case J.o:this.state=Y.OP_PO;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PO:switch(r){case J.N:case J.n:this.state=Y.OP_PON;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PON:switch(r){case J.G:case J.g:this.state=Y.OP_PONG;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PONG:switch(r){case J.NL:this.dispatcher.push({kind:at.PONG}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_PI:switch(r){case J.N:case J.n:this.state=Y.OP_PIN;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PIN:switch(r){case J.G:case J.g:this.state=Y.OP_PING;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_PING:switch(r){case J.NL:this.dispatcher.push({kind:at.PING}),this.drop=0,this.state=Y.OP_START;break}break;case Y.OP_I:switch(r){case J.N:case J.n:this.state=Y.OP_IN;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_IN:switch(r){case J.F:case J.f:this.state=Y.OP_INF;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INF:switch(r){case J.O:case J.o:this.state=Y.OP_INFO;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INFO:switch(r){case J.SPACE:case J.TAB:this.state=Y.OP_INFO_SPC;break;default:throw this.fail(t.subarray(n))}break;case Y.OP_INFO_SPC:switch(r){case J.SPACE:case J.TAB:continue;default:this.state=Y.INFO_ARG,this.as=n}break;case Y.INFO_ARG:switch(r){case J.CR:this.drop=1;break;case J.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,n-this.drop),this.dispatcher.push({kind:at.INFO,data:s}),this.drop=0,this.as=n+1,this.state=Y.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;default:throw this.fail(t.subarray(n))}}(this.state===Y.MSG_ARG||this.state===Y.MINUS_ERR_ARG||this.state===Y.INFO_ARG)&&!this.argBuf&&(this.argBuf=new Ci(t.subarray(this.as,n-this.drop))),this.state===Y.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new Ci(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,n=this.ma.reply?this.ma.reply.length:0,r=new Uint8Array(t+n);r.set(this.ma.subject),this.ma.reply&&r.set(this.ma.reply,t),this.argBuf=new Ci(r),this.ma.subject=r.subarray(0,t),this.ma.reply&&(this.ma.reply=r.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const n=[];let r=-1;for(let s=0;s<t.length;s++)switch(t[s]){case J.SPACE:case J.TAB:case J.CR:case J.NL:r>=0&&(n.push(t.subarray(r,s)),r=-1);break;default:r<0&&(r=s)}switch(r>=0&&n.push(t.subarray(r)),n.length){case 3:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(n[2]);break;case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.size=this.protoParseInt(n[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,n=""){return n?n=`${n} [${this.state}]`:n=`parse error [${this.state}]`,new Error(`${n}: ${Yt.decode(t)}`)}processHeaderMsgArgs(t){const n=[];let r=-1;for(let s=0;s<t.length;s++)switch(t[s]){case J.SPACE:case J.TAB:case J.CR:case J.NL:r>=0&&(n.push(t.subarray(r,s)),r=-1);break;default:r<0&&(r=s)}switch(r>=0&&n.push(t.subarray(r)),n.length){case 4:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(n[2]),this.ma.size=this.protoParseInt(n[3]);break;case 5:this.ma.subject=n[0],this.ma.sid=this.protoParseInt(n[1]),this.ma.reply=n[2],this.ma.hdr=this.protoParseInt(n[3]),this.ma.size=this.protoParseInt(n[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let n=0;for(let r=0;r<t.length;r++){if(t[r]<48||t[r]>57)return-1;n=n*10+(t[r]-tb)}return n}}var Y;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(Y||(Y={}));var J;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(J||(J={}));const nb=1024*32,rb=/^INFO\s+([^\r\n]+)\r\n/i;function rn(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${qo.next()}`}class sb{constructor(){w(this,"baseInbox");w(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${rn(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const n=t.subject||"";return n.indexOf(this.baseInbox)===0?n.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,n){if(n&&n.permissionContext){if(t)return this.all().forEach(s=>{s.resolver(n,{})}),!0;const r=n.permissionContext;if(r.operation==="publish"){const s=this.all().find(i=>i.requestSubject===r.subject);if(s)return s.resolver(n,{}),!0}}return!1}dispatcher(){return(t,n)=>{const r=this.getToken(n);if(r){const s=this.get(r);s&&(t===null&&n.headers&&(t=of(n)),s.resolver(t,n))}}}close(){const t=le.errorForCode(Q.Timeout);this.reqs.forEach(n=>{n.resolver(t,{})})}}const ib=Sr(`PONG\r
`),Kc=Sr(`PING\r
`);class ob{constructor(t,n,r){w(this,"echo");w(this,"no_responders");w(this,"protocol");w(this,"verbose");w(this,"pedantic");w(this,"jwt");w(this,"nkey");w(this,"sig");w(this,"user");w(this,"pass");w(this,"auth_token");w(this,"tls_required");w(this,"name");w(this,"lang");w(this,"version");w(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=n.noEcho?!1:void 0,this.verbose=n.verbose,this.pedantic=n.pedantic,this.tls_required=n.tls?!0:void 0,this.name=n.name;const s=(n&&n.authenticator?n.authenticator(r):{})||{};ti(this,s)}}class Ms{constructor(t,n){w(this,"connected");w(this,"connectedOnce");w(this,"infoReceived");w(this,"info");w(this,"muxSubscriptions");w(this,"options");w(this,"outbound");w(this,"pongs");w(this,"subscriptions");w(this,"transport");w(this,"noMorePublishing");w(this,"connectError");w(this,"publisher");w(this,"_closed");w(this,"closed");w(this,"listeners");w(this,"heartbeats");w(this,"parser");w(this,"outMsgs");w(this,"inMsgs");w(this,"outBytes");w(this,"inBytes");w(this,"pendingLimit");w(this,"lastError");w(this,"abortReconnect");w(this,"servers");w(this,"server");w(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=nb,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=n,this.subscriptions=new X_,this.muxSubscriptions=new sb,this.outbound=new Yr,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new Wc({major:0,minor:0,micro:0});const r=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new J_(r,{randomize:!t.noRandomize}),this.closed=Ke(),this.parser=new Gc(this),this.heartbeats=new Q_(this,this.options.pingInterval||Gu,this.options.maxPingOut||e_)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[],t.forEach(n=>{n.reject(le.errorForCode(Q.Disconnect))}),this.parser=new Gc(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(n=>{n.push(t)})}status(){const t=new Ut;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=Ke();return this.pongs.unshift(t),this.connectError=n=>{t.reject(n)},this.transport=U_(),this.transport.closed().then(async n=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError);return}}),t}disconnect(){this.dispatchStatus({type:Ur.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:en.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{this.dispatchStatus({type:en.Reconnect,data:this.servers.getCurrentServer().toString()})}).catch(n=>{this._close(n)}):await this._close()}async dial(t){const n=this.prepare();let r;try{r=ni(this.options.timeout||2e4);const s=this.transport.connect(t,this.options);await Promise.race([s,r]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(s){n.reject(s)}try{await Promise.race([r,n]),r&&r.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(s){throw r&&r.cancel(),await this.transport.close(s),s}}async _doDial(t){const n=await t.resolve({fn:cf(),randomize:!this.options.noRandomize});let r=null;for(const s of n)try{r=null,this.dispatchStatus({type:Ur.Reconnecting,data:s.toString()}),await this.dial(s);return}catch(i){r=i}throw r}async dialLoop(){let t;for(;;){const n=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():zu;let r=n;const s=this.selectServer();if(!s||this.abortReconnect)throw t||(this.lastError?this.lastError:le.errorForCode(Q.ConnectionRefused));const i=Date.now();if(s.lastConnect===0||s.lastConnect+n<=i){s.lastConnect=Date.now();try{await this._doDial(s);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}s.reconnects++;const a=this.options.maxReconnectAttempts||0;a!==-1&&s.reconnects>=a&&this.servers.removeCurrentServer()}}else r=Math.min(r,s.lastConnect+n-i),await Wo(r)}}static async connect(t,n){const r=new Ms(t,n);return await r.dialLoop(),r}static toError(t){const n=t?t.toLowerCase():"";if(n.indexOf("permissions violation")!==-1){const r=new le(t,Q.PermissionsViolation),s=t.match(/(Publish|Subscription) to "(\S+)"/);return s&&(r.permissionContext={operation:s[1].toLowerCase(),subject:s[2]}),r}else return n.indexOf("authorization violation")!==-1?new le(t,Q.AuthorizationViolation):n.indexOf("user authentication expired")!==-1?new le(t,Q.AuthenticationExpired):new le(t,Q.ProtocolError)}processMsg(t,n){if(this.inMsgs++,this.inBytes+=n.length,!this.subscriptions.sidCounter)return;const r=this.subscriptions.get(t.sid);!r||(r.received+=1,r.callback&&r.callback(null,new j_(t,n,this)),r.max!==void 0&&r.received>=r.max&&r.unsubscribe())}async processError(t){const n=Rc(t),r=Ms.toError(n);let s=!1;const i={type:en.Error,data:r.code};if(r.permissionContext){i.permissionContext=r.permissionContext;const o=this.subscriptions.getMux();s=(o==null?void 0:o.subject)===r.permissionContext.subject}this.subscriptions.handleError(r),this.muxSubscriptions.handleError(s,r),s&&this.subscriptions.setMux(null),this.dispatchStatus(i),await this.handleError(r)}async handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&await this._close(t),this.lastError=t}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(ib)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const n=JSON.parse(Rc(t));this.info=n;const r=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(n);if(!this.infoReceived){this.features=new Wc(sr(n.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const a=new ob({version:i,lang:o},this.options,n.nonce);n.headers&&(a.headers=!0,a.no_responders=!0);const c=JSON.stringify(a);this.transport.send(Sr(`CONNECT ${c}${En}`)),this.transport.send(Kc)}catch(a){this._close(le.errorForCode(Q.BadAuthentication,a))}}r&&this.dispatchStatus({type:en.Update,data:r}),(n.ldm!==void 0?n.ldm:!1)&&this.dispatchStatus({type:en.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case at.MSG:{const{msg:n,data:r}=t;this.processMsg(n,r);break}case at.OK:break;case at.ERR:this.processError(t.data);break;case at.PING:this.processPing();break;case at.PONG:this.processPong();break;case at.INFO:this.processInfo(t.data);break}}sendCommand(t,...n){const r=this.outbound.length();let s;typeof t=="string"?s=Sr(t):s=t,this.outbound.fill(s,...n),r===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,n,r){let s=n.length;r=r||{},r.reply=r.reply||"";let i=kt,o=0;if(r.headers){if(this.info&&!this.info.headers)throw new le("headers",Q.ServerOptionNotAvailable);i=r.headers.encode(),o=i.length,s=n.length+o}if(this.info&&s>this.info.max_payload)throw le.errorForCode(Q.MaxPayloadExceeded);this.outBytes+=s,this.outMsgs++;let a;r.headers?(r.reply?a=`HPUB ${t} ${r.reply} ${o} ${s}${En}`:a=`HPUB ${t} ${o} ${s}\r
`,this.sendCommand(a,i,n,Ts)):(r.reply?a=`PUB ${t} ${r.reply} ${s}\r
`:a=`PUB ${t} ${s}\r
`,this.sendCommand(a,n,Ts))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,n){this.unsub(t,n),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,n){!t||this.isClosed()||(n?this.sendCommand(`UNSUB ${t.sid} ${n}${En}`):this.sendCommand(`UNSUB ${t.sid}${En}`),t.max=n)}resub(t,n){!t||this.isClosed()||(t.subject=n,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=Ke()),this.pongs.push(t),this.sendCommand(Kc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(n=>{const r=n;r.queue?t.push(`SUB ${r.subject} ${r.queue} ${r.sid}${En}`):t.push(`SUB ${r.subject} ${r.sid}${En}`)}),t.length&&this.transport.send(Sr(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(n=>{n.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),n=[];return t.forEach(r=>{n.push(r.drain())}),Promise.all(n).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const n=this.muxSubscriptions.init(this.options.inboxPrefix),r=new ff(this,`${n}*`);r.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(r),this.subscribe(r)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}(function(e){var t=function(f,m){this.hi=f|0,this.lo=m|0},n=function(f){var m,p=new Float64Array(16);if(f)for(m=0;m<f.length;m++)p[m]=f[m];return p},r=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=n(),a=n([1]),c=n([56129,1]),l=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(f,m){return f<<m|f>>>32-m}function T(f,m){var p=f[m+3]&255;return p=p<<8|f[m+2]&255,p=p<<8|f[m+1]&255,p<<8|f[m+0]&255}function j(f,m){var p=f[m]<<24|f[m+1]<<16|f[m+2]<<8|f[m+3],y=f[m+4]<<24|f[m+5]<<16|f[m+6]<<8|f[m+7];return new t(p,y)}function C(f,m,p){var y;for(y=0;y<4;y++)f[m+y]=p&255,p>>>=8}function W(f,m,p){f[m]=p.hi>>24&255,f[m+1]=p.hi>>16&255,f[m+2]=p.hi>>8&255,f[m+3]=p.hi&255,f[m+4]=p.lo>>24&255,f[m+5]=p.lo>>16&255,f[m+6]=p.lo>>8&255,f[m+7]=p.lo&255}function te(f,m,p,y,E){var O,F=0;for(O=0;O<E;O++)F|=f[m+O]^p[y+O];return(1&F-1>>>8)-1}function z(f,m,p,y){return te(f,m,p,y,16)}function B(f,m,p,y){return te(f,m,p,y,32)}function ue(f,m,p,y,E){var O=new Uint32Array(16),F=new Uint32Array(16),q=new Uint32Array(16),k=new Uint32Array(4),M,ie,Ae;for(M=0;M<4;M++)F[5*M]=T(y,4*M),F[1+M]=T(p,4*M),F[6+M]=T(m,4*M),F[11+M]=T(p,16+4*M);for(M=0;M<16;M++)q[M]=F[M];for(M=0;M<20;M++){for(ie=0;ie<4;ie++){for(Ae=0;Ae<4;Ae++)k[Ae]=F[(5*ie+4*Ae)%16];for(k[1]^=S(k[0]+k[3]|0,7),k[2]^=S(k[1]+k[0]|0,9),k[3]^=S(k[2]+k[1]|0,13),k[0]^=S(k[3]+k[2]|0,18),Ae=0;Ae<4;Ae++)O[4*ie+(ie+Ae)%4]=k[Ae]}for(Ae=0;Ae<16;Ae++)F[Ae]=O[Ae]}if(E){for(M=0;M<16;M++)F[M]=F[M]+q[M]|0;for(M=0;M<4;M++)F[5*M]=F[5*M]-T(y,4*M)|0,F[6+M]=F[6+M]-T(m,4*M)|0;for(M=0;M<4;M++)C(f,4*M,F[5*M]),C(f,16+4*M,F[6+M])}else for(M=0;M<16;M++)C(f,4*M,F[M]+q[M]|0)}function se(f,m,p,y){return ue(f,m,p,y,!1),0}function oe(f,m,p,y){return ue(f,m,p,y,!0),0}var be=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Se(f,m,p,y,E,O,F){var q=new Uint8Array(16),k=new Uint8Array(64),M,ie;if(!E)return 0;for(ie=0;ie<16;ie++)q[ie]=0;for(ie=0;ie<8;ie++)q[ie]=O[ie];for(;E>=64;){for(se(k,q,F,be),ie=0;ie<64;ie++)f[m+ie]=(p?p[y+ie]:0)^k[ie];for(M=1,ie=8;ie<16;ie++)M=M+(q[ie]&255)|0,q[ie]=M&255,M>>>=8;E-=64,m+=64,p&&(y+=64)}if(E>0)for(se(k,q,F,be),ie=0;ie<E;ie++)f[m+ie]=(p?p[y+ie]:0)^k[ie];return 0}function Pe(f,m,p,y,E){return Se(f,m,null,0,p,y,E)}function Me(f,m,p,y,E){var O=new Uint8Array(32);return oe(O,y,E,be),Pe(f,m,p,y.subarray(16),O)}function We(f,m,p,y,E,O,F){var q=new Uint8Array(32);return oe(q,O,F,be),Se(f,m,p,y,E,O.subarray(16),q)}function N(f,m){var p,y=0;for(p=0;p<17;p++)y=y+(f[p]+m[p]|0)|0,f[p]=y&255,y>>>=8}var I=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function fe(f,m,p,y,E,O){var F,q,k,M,ie=new Uint32Array(17),Ae=new Uint32Array(17),He=new Uint32Array(17),Nt=new Uint32Array(17),Un=new Uint32Array(17);for(k=0;k<17;k++)Ae[k]=He[k]=0;for(k=0;k<16;k++)Ae[k]=O[k];for(Ae[3]&=15,Ae[4]&=252,Ae[7]&=15,Ae[8]&=252,Ae[11]&=15,Ae[12]&=252,Ae[15]&=15;E>0;){for(k=0;k<17;k++)Nt[k]=0;for(k=0;k<16&&k<E;++k)Nt[k]=p[y+k];for(Nt[k]=1,y+=k,E-=k,N(He,Nt),q=0;q<17;q++)for(ie[q]=0,k=0;k<17;k++)ie[q]=ie[q]+He[k]*(k<=q?Ae[q-k]:320*Ae[q+17-k]|0)|0|0;for(q=0;q<17;q++)He[q]=ie[q];for(M=0,k=0;k<16;k++)M=M+He[k]|0,He[k]=M&255,M>>>=8;for(M=M+He[16]|0,He[16]=M&3,M=5*(M>>>2)|0,k=0;k<16;k++)M=M+He[k]|0,He[k]=M&255,M>>>=8;M=M+He[16]|0,He[16]=M}for(k=0;k<17;k++)Un[k]=He[k];for(N(He,I),F=-(He[16]>>>7)|0,k=0;k<17;k++)He[k]^=F&(Un[k]^He[k]);for(k=0;k<16;k++)Nt[k]=O[k+16];for(Nt[16]=0,N(He,Nt),k=0;k<16;k++)f[m+k]=He[k];return 0}function re(f,m,p,y,E,O){var F=new Uint8Array(16);return fe(F,0,p,y,E,O),z(f,m,F,0)}function ce(f,m,p,y,E){var O;if(p<32)return-1;for(We(f,0,m,0,p,y,E),fe(f,16,f,32,p-32,f),O=0;O<16;O++)f[O]=0;return 0}function ye(f,m,p,y,E){var O,F=new Uint8Array(32);if(p<32||(Me(F,0,32,y,E),re(m,16,m,32,p-32,F)!==0))return-1;for(We(f,0,m,0,p,y,E),O=0;O<32;O++)f[O]=0;return 0}function pe(f,m){var p;for(p=0;p<16;p++)f[p]=m[p]|0}function we(f){var m,p;for(p=0;p<16;p++)f[p]+=65536,m=Math.floor(f[p]/65536),f[(p+1)*(p<15?1:0)]+=m-1+37*(m-1)*(p===15?1:0),f[p]-=m*65536}function Ee(f,m,p){for(var y,E=~(p-1),O=0;O<16;O++)y=E&(f[O]^m[O]),f[O]^=y,m[O]^=y}function $e(f,m){var p,y,E,O=n(),F=n();for(p=0;p<16;p++)F[p]=m[p];for(we(F),we(F),we(F),y=0;y<2;y++){for(O[0]=F[0]-65517,p=1;p<15;p++)O[p]=F[p]-65535-(O[p-1]>>16&1),O[p-1]&=65535;O[15]=F[15]-32767-(O[14]>>16&1),E=O[15]>>16&1,O[14]&=65535,Ee(F,O,1-E)}for(p=0;p<16;p++)f[2*p]=F[p]&255,f[2*p+1]=F[p]>>8}function Re(f,m){var p=new Uint8Array(32),y=new Uint8Array(32);return $e(p,f),$e(y,m),B(p,0,y,0)}function R(f){var m=new Uint8Array(32);return $e(m,f),m[0]&1}function X(f,m){var p;for(p=0;p<16;p++)f[p]=m[2*p]+(m[2*p+1]<<8);f[15]&=32767}function L(f,m,p){var y;for(y=0;y<16;y++)f[y]=m[y]+p[y]|0}function Z(f,m,p){var y;for(y=0;y<16;y++)f[y]=m[y]-p[y]|0}function ne(f,m,p){var y,E,O=new Float64Array(31);for(y=0;y<31;y++)O[y]=0;for(y=0;y<16;y++)for(E=0;E<16;E++)O[y+E]+=m[y]*p[E];for(y=0;y<15;y++)O[y]+=38*O[y+16];for(y=0;y<16;y++)f[y]=O[y];we(f),we(f)}function me(f,m){ne(f,m,m)}function ge(f,m){var p=n(),y;for(y=0;y<16;y++)p[y]=m[y];for(y=253;y>=0;y--)me(p,p),y!==2&&y!==4&&ne(p,p,m);for(y=0;y<16;y++)f[y]=p[y]}function he(f,m){var p=n(),y;for(y=0;y<16;y++)p[y]=m[y];for(y=250;y>=0;y--)me(p,p),y!==1&&ne(p,p,m);for(y=0;y<16;y++)f[y]=p[y]}function b(f,m,p){var y=new Uint8Array(32),E=new Float64Array(80),O,F,q=n(),k=n(),M=n(),ie=n(),Ae=n(),He=n();for(F=0;F<31;F++)y[F]=m[F];for(y[31]=m[31]&127|64,y[0]&=248,X(E,p),F=0;F<16;F++)k[F]=E[F],ie[F]=q[F]=M[F]=0;for(q[0]=ie[0]=1,F=254;F>=0;--F)O=y[F>>>3]>>>(F&7)&1,Ee(q,k,O),Ee(M,ie,O),L(Ae,q,M),Z(q,q,M),L(M,k,ie),Z(k,k,ie),me(ie,Ae),me(He,q),ne(q,M,q),ne(M,k,Ae),L(Ae,q,M),Z(q,q,M),me(k,q),Z(M,ie,He),ne(q,M,c),L(q,q,ie),ne(M,M,q),ne(q,ie,He),ne(ie,k,E),me(k,Ae),Ee(q,k,O),Ee(M,ie,O);for(F=0;F<16;F++)E[F+16]=q[F],E[F+32]=M[F],E[F+48]=k[F],E[F+64]=ie[F];var Nt=E.subarray(32),Un=E.subarray(16);return ge(Nt,Nt),ne(Un,Un,Nt),$e(f,Un),0}function x(f,m){return b(f,m,i)}function A(f,m){return r(m,32),x(f,m)}function $(f,m,p){var y=new Uint8Array(32);return b(y,p,m),oe(f,s,y,be)}var U=ce,V=ye;function K(f,m,p,y,E,O){var F=new Uint8Array(32);return $(F,E,O),U(f,m,p,y,F)}function H(f,m,p,y,E,O){var F=new Uint8Array(32);return $(F,E,O),V(f,m,p,y,F)}function D(){var f=0,m=0,p=0,y=0,E=65535,O,F,q;for(q=0;q<arguments.length;q++)O=arguments[q].lo,F=arguments[q].hi,f+=O&E,m+=O>>>16,p+=F&E,y+=F>>>16;return m+=f>>>16,p+=m>>>16,y+=p>>>16,new t(p&E|y<<16,f&E|m<<16)}function v(f,m){return new t(f.hi>>>m,f.lo>>>m|f.hi<<32-m)}function P(){var f=0,m=0,p;for(p=0;p<arguments.length;p++)f^=arguments[p].lo,m^=arguments[p].hi;return new t(m,f)}function G(f,m){var p,y,E=32-m;return m<32?(p=f.hi>>>m|f.lo<<E,y=f.lo>>>m|f.hi<<E):m<64&&(p=f.lo>>>m|f.hi<<E,y=f.hi>>>m|f.lo<<E),new t(p,y)}function ee(f,m,p){var y=f.hi&m.hi^~f.hi&p.hi,E=f.lo&m.lo^~f.lo&p.lo;return new t(y,E)}function de(f,m,p){var y=f.hi&m.hi^f.hi&p.hi^m.hi&p.hi,E=f.lo&m.lo^f.lo&p.lo^m.lo&p.lo;return new t(y,E)}function xe(f){return P(G(f,28),G(f,34),G(f,39))}function Oe(f){return P(G(f,14),G(f,18),G(f,41))}function Te(f){return P(G(f,1),G(f,8),v(f,7))}function je(f){return P(G(f,19),G(f,61),v(f,6))}var mt=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function Jt(f,m,p){var y=[],E=[],O=[],F=[],q,k,M;for(k=0;k<8;k++)y[k]=O[k]=j(f,8*k);for(var ie=0;p>=128;){for(k=0;k<16;k++)F[k]=j(m,8*k+ie);for(k=0;k<80;k++){for(M=0;M<8;M++)E[M]=O[M];for(q=D(O[7],Oe(O[4]),ee(O[4],O[5],O[6]),mt[k],F[k%16]),E[7]=D(q,xe(O[0]),de(O[0],O[1],O[2])),E[3]=D(E[3],q),M=0;M<8;M++)O[(M+1)%8]=E[M];if(k%16===15)for(M=0;M<16;M++)F[M]=D(F[M],F[(M+9)%16],Te(F[(M+1)%16]),je(F[(M+14)%16]))}for(k=0;k<8;k++)O[k]=D(O[k],y[k]),y[k]=O[k];ie+=128,p-=128}for(k=0;k<8;k++)W(f,8*k,y[k]);return p}var Xr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function gt(f,m,p){var y=new Uint8Array(64),E=new Uint8Array(256),O,F=p;for(O=0;O<64;O++)y[O]=Xr[O];for(Jt(y,m,p),p%=128,O=0;O<256;O++)E[O]=0;for(O=0;O<p;O++)E[O]=m[F-p+O];for(E[p]=128,p=256-128*(p<112?1:0),E[p-9]=0,W(E,p-8,new t(F/536870912|0,F<<3)),Jt(y,E,p),O=0;O<64;O++)f[O]=y[O];return 0}function bn(f,m){var p=n(),y=n(),E=n(),O=n(),F=n(),q=n(),k=n(),M=n(),ie=n();Z(p,f[1],f[0]),Z(ie,m[1],m[0]),ne(p,p,ie),L(y,f[0],f[1]),L(ie,m[0],m[1]),ne(y,y,ie),ne(E,f[3],m[3]),ne(E,E,u),ne(O,f[2],m[2]),L(O,O,O),Z(F,y,p),Z(q,O,E),L(k,O,E),L(M,y,p),ne(f[0],F,q),ne(f[1],M,k),ne(f[2],k,q),ne(f[3],F,M)}function nt(f,m,p){var y;for(y=0;y<4;y++)Ee(f[y],m[y],p)}function ft(f,m){var p=n(),y=n(),E=n();ge(E,m[2]),ne(p,m[0],E),ne(y,m[1],E),$e(f,y),f[31]^=R(p)<<7}function Fn(f,m,p){var y,E;for(pe(f[0],o),pe(f[1],a),pe(f[2],a),pe(f[3],o),E=255;E>=0;--E)y=p[E/8|0]>>(E&7)&1,nt(f,m,y),bn(m,f),bn(f,f),nt(f,m,y)}function Qr(f,m){var p=[n(),n(),n(),n()];pe(p[0],h),pe(p[1],d),pe(p[2],a),ne(p[3],h,d),Fn(f,p,m)}function ri(f,m,p){var y=new Uint8Array(64),E=[n(),n(),n(),n()],O;for(p||r(m,32),gt(y,m,32),y[0]&=248,y[31]&=127,y[31]|=64,Qr(E,y),ft(f,E),O=0;O<32;O++)m[O+32]=f[O];return 0}var Zr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function si(f,m){var p,y,E,O;for(y=63;y>=32;--y){for(p=0,E=y-32,O=y-12;E<O;++E)m[E]+=p-16*m[y]*Zr[E-(y-32)],p=Math.floor((m[E]+128)/256),m[E]-=p*256;m[E]+=p,m[y]=0}for(p=0,E=0;E<32;E++)m[E]+=p-(m[31]>>4)*Zr[E],p=m[E]>>8,m[E]&=255;for(E=0;E<32;E++)m[E]-=p*Zr[E];for(y=0;y<32;y++)m[y+1]+=m[y]>>8,f[y]=m[y]&255}function ii(f){var m=new Float64Array(64),p;for(p=0;p<64;p++)m[p]=f[p];for(p=0;p<64;p++)f[p]=0;si(f,m)}function Go(f,m,p,y){var E=new Uint8Array(64),O=new Uint8Array(64),F=new Uint8Array(64),q,k,M=new Float64Array(64),ie=[n(),n(),n(),n()];gt(E,y,32),E[0]&=248,E[31]&=127,E[31]|=64;var Ae=p+64;for(q=0;q<p;q++)f[64+q]=m[q];for(q=0;q<32;q++)f[32+q]=E[32+q];for(gt(F,f.subarray(32),p+32),ii(F),Qr(ie,F),ft(f,ie),q=32;q<64;q++)f[q]=y[q];for(gt(O,f,p+64),ii(O),q=0;q<64;q++)M[q]=0;for(q=0;q<32;q++)M[q]=F[q];for(q=0;q<32;q++)for(k=0;k<32;k++)M[q+k]+=O[q]*E[k];return si(f.subarray(32),M),Ae}function gf(f,m){var p=n(),y=n(),E=n(),O=n(),F=n(),q=n(),k=n();return pe(f[2],a),X(f[1],m),me(E,f[1]),ne(O,E,l),Z(E,E,f[2]),L(O,f[2],O),me(F,O),me(q,F),ne(k,q,F),ne(p,k,E),ne(p,p,O),he(p,p),ne(p,p,E),ne(p,p,O),ne(p,p,O),ne(f[0],p,O),me(y,f[0]),ne(y,y,O),Re(y,E)&&ne(f[0],f[0],g),me(y,f[0]),ne(y,y,O),Re(y,E)?-1:(R(f[0])===m[31]>>7&&Z(f[0],o,f[0]),ne(f[3],f[0],f[1]),0)}function oi(f,m,p,y){var E,O=new Uint8Array(32),F=new Uint8Array(64),q=[n(),n(),n(),n()],k=[n(),n(),n(),n()];if(p<64||gf(k,y))return-1;for(E=0;E<p;E++)f[E]=m[E];for(E=0;E<32;E++)f[E+32]=y[E];if(gt(F,f,p),ii(F),Fn(q,k,F),Qr(k,m.subarray(32)),bn(q,k),ft(O,q),p-=64,B(m,0,O,0)){for(E=0;E<p;E++)f[E]=0;return-1}for(E=0;E<p;E++)f[E]=m[E+64];return p}var ai=32,es=24,lr=32,jn=16,ur=32,ts=32,fr=32,hr=32,ci=32,Ko=es,_f=lr,bf=jn,Xt=64,yn=32,$n=64,li=32,ui=64;e.lowlevel={crypto_core_hsalsa20:oe,crypto_stream_xor:We,crypto_stream:Me,crypto_stream_salsa20_xor:Se,crypto_stream_salsa20:Pe,crypto_onetimeauth:fe,crypto_onetimeauth_verify:re,crypto_verify_16:z,crypto_verify_32:B,crypto_secretbox:ce,crypto_secretbox_open:ye,crypto_scalarmult:b,crypto_scalarmult_base:x,crypto_box_beforenm:$,crypto_box_afternm:U,crypto_box:K,crypto_box_open:H,crypto_box_keypair:A,crypto_hash:gt,crypto_sign:Go,crypto_sign_keypair:ri,crypto_sign_open:oi,crypto_secretbox_KEYBYTES:ai,crypto_secretbox_NONCEBYTES:es,crypto_secretbox_ZEROBYTES:lr,crypto_secretbox_BOXZEROBYTES:jn,crypto_scalarmult_BYTES:ur,crypto_scalarmult_SCALARBYTES:ts,crypto_box_PUBLICKEYBYTES:fr,crypto_box_SECRETKEYBYTES:hr,crypto_box_BEFORENMBYTES:ci,crypto_box_NONCEBYTES:Ko,crypto_box_ZEROBYTES:_f,crypto_box_BOXZEROBYTES:bf,crypto_sign_BYTES:Xt,crypto_sign_PUBLICKEYBYTES:yn,crypto_sign_SECRETKEYBYTES:$n,crypto_sign_SEEDBYTES:li,crypto_hash_BYTES:ui,gf:n,D:l,L:Zr,pack25519:$e,unpack25519:X,M:ne,A:L,S:me,Z,pow2523:he,add:bn,set25519:pe,modL:si,scalarmult:Fn,scalarbase:Qr};function Yo(f,m){if(f.length!==ai)throw new Error("bad key size");if(m.length!==es)throw new Error("bad nonce size")}function yf(f,m){if(f.length!==fr)throw new Error("bad public key size");if(m.length!==hr)throw new Error("bad secret key size")}function _t(){for(var f=0;f<arguments.length;f++)if(!(arguments[f]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Jo(f){for(var m=0;m<f.length;m++)f[m]=0}e.randomBytes=function(f){var m=new Uint8Array(f);return r(m,f),m},e.secretbox=function(f,m,p){_t(f,m,p),Yo(p,m);for(var y=new Uint8Array(lr+f.length),E=new Uint8Array(y.length),O=0;O<f.length;O++)y[O+lr]=f[O];return ce(E,y,y.length,m,p),E.subarray(jn)},e.secretbox.open=function(f,m,p){_t(f,m,p),Yo(p,m);for(var y=new Uint8Array(jn+f.length),E=new Uint8Array(y.length),O=0;O<f.length;O++)y[O+jn]=f[O];return y.length<32||ye(E,y,y.length,m,p)!==0?null:E.subarray(lr)},e.secretbox.keyLength=ai,e.secretbox.nonceLength=es,e.secretbox.overheadLength=jn,e.scalarMult=function(f,m){if(_t(f,m),f.length!==ts)throw new Error("bad n size");if(m.length!==ur)throw new Error("bad p size");var p=new Uint8Array(ur);return b(p,f,m),p},e.scalarMult.base=function(f){if(_t(f),f.length!==ts)throw new Error("bad n size");var m=new Uint8Array(ur);return x(m,f),m},e.scalarMult.scalarLength=ts,e.scalarMult.groupElementLength=ur,e.box=function(f,m,p,y){var E=e.box.before(p,y);return e.secretbox(f,m,E)},e.box.before=function(f,m){_t(f,m),yf(f,m);var p=new Uint8Array(ci);return $(p,f,m),p},e.box.after=e.secretbox,e.box.open=function(f,m,p,y){var E=e.box.before(p,y);return e.secretbox.open(f,m,E)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var f=new Uint8Array(fr),m=new Uint8Array(hr);return A(f,m),{publicKey:f,secretKey:m}},e.box.keyPair.fromSecretKey=function(f){if(_t(f),f.length!==hr)throw new Error("bad secret key size");var m=new Uint8Array(fr);return x(m,f),{publicKey:m,secretKey:new Uint8Array(f)}},e.box.publicKeyLength=fr,e.box.secretKeyLength=hr,e.box.sharedKeyLength=ci,e.box.nonceLength=Ko,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(f,m){if(_t(f,m),m.length!==$n)throw new Error("bad secret key size");var p=new Uint8Array(Xt+f.length);return Go(p,f,f.length,m),p},e.sign.open=function(f,m){if(_t(f,m),m.length!==yn)throw new Error("bad public key size");var p=new Uint8Array(f.length),y=oi(p,f,f.length,m);if(y<0)return null;for(var E=new Uint8Array(y),O=0;O<E.length;O++)E[O]=p[O];return E},e.sign.detached=function(f,m){for(var p=e.sign(f,m),y=new Uint8Array(Xt),E=0;E<y.length;E++)y[E]=p[E];return y},e.sign.detached.verify=function(f,m,p){if(_t(f,m,p),m.length!==Xt)throw new Error("bad signature size");if(p.length!==yn)throw new Error("bad public key size");var y=new Uint8Array(Xt+f.length),E=new Uint8Array(Xt+f.length),O;for(O=0;O<Xt;O++)y[O]=m[O];for(O=0;O<f.length;O++)y[O+Xt]=f[O];return oi(E,y,y.length,p)>=0},e.sign.keyPair=function(){var f=new Uint8Array(yn),m=new Uint8Array($n);return ri(f,m),{publicKey:f,secretKey:m}},e.sign.keyPair.fromSecretKey=function(f){if(_t(f),f.length!==$n)throw new Error("bad secret key size");for(var m=new Uint8Array(yn),p=0;p<m.length;p++)m[p]=f[32+p];return{publicKey:m,secretKey:new Uint8Array(f)}},e.sign.keyPair.fromSeed=function(f){if(_t(f),f.length!==li)throw new Error("bad seed size");for(var m=new Uint8Array(yn),p=new Uint8Array($n),y=0;y<32;y++)p[y]=f[y];return ri(m,p,!0),{publicKey:m,secretKey:p}},e.sign.publicKeyLength=yn,e.sign.secretKeyLength=$n,e.sign.seedLength=li,e.sign.signatureLength=Xt,e.hash=function(f){_t(f);var m=new Uint8Array(ui);return gt(m,f,f.length),m},e.hash.hashLength=ui,e.verify=function(f,m){return _t(f,m),f.length===0||m.length===0||f.length!==m.length?!1:te(f,0,m,0,f.length)===0},e.setPRNG=function(f){r=f},function(){var f=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(f&&f.getRandomValues){var m=65536;e.setPRNG(function(p,y){var E,O=new Uint8Array(y);for(E=0;E<y;E+=m)f.getRandomValues(O.subarray(E,E+Math.min(y-E,m)));for(E=0;E<y;E++)p[E]=O[E];Jo(O)})}else typeof require<"u"&&(f=require("crypto"),f&&f.randomBytes&&e.setPRNG(function(p,y){var E,O=f.randomBytes(y);for(E=0;E<y;E++)p[E]=O[E];Jo(O)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const fs=globalThis.nacl;fs.sign.keyPair.fromSeed,fs.sign.detached,fs.sign.detached.verify,fs.randomBytes;var Yc;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(Yc||(Yc={}));var Jc;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(Jc||(Jc={}));function ab(e){return e.authenticator?e.authenticator:e.token?ub(e.token):e.user?lb(e.user,e.pass):cb()}function cb(){return()=>{}}function lb(e,t){return()=>({user:e,pass:t})}function ub(e){return()=>({auth_token:e})}class fb extends Jr{constructor(t,n){super(t,n)}async add(t={}){pt(t.name);const r=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(r),r}async delete(t){return pt(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,n={}){if(typeof t=="object"){const a=t;t=a.name,n=a,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}pt(t);const r=await this.info(t),s=Object.assign(r.config,n),o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,s);return this._fixInfo(o),o}async info(t,n){pt(t);const s=await this._request(`${this.prefix}.STREAM.INFO.${t}`,n);return this._fixInfo(s),s}list(){const t=r=>{const s=r;return s.streams.forEach(i=>{this._fixInfo(i)}),s.streams},n=`${this.prefix}.STREAM.LIST`;return new tf(n,t,this)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,n){if(n){const{keep:s,seq:i}=n;if(typeof s=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return pt(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,n)}async deleteMessage(t,n,r=!0){pt(t);const s={seq:n};return r||(s.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,s)).success}async getMessage(t,n){pt(t);const s=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,n);return new hb(s)}find(t){return this.findStream(t)}}class hb{constructor(t){w(this,"subject");w(this,"seq");w(this,"data");w(this,"time");w(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):kt,t.message.hdrs){const n=this._parse(t.message.hdrs);this.header=dn.decode(n)}else this.header=rr()}_parse(t){const n=atob(t),r=n.length,s=new Uint8Array(r);for(let i=0;i<r;i++)s[i]=n.charCodeAt(i);return s}}class db extends Jr{constructor(t,n){super(t,n)}async getMessage(t,n){pt(t);let r=n;const{last_by_subj:s}=r;s&&(r=null);const i=r?this.jc.encode(r):kt,o=s?`$JS.API.DIRECT.GET.${t}.${s}`:`$JS.API.DIRECT.GET.${t}`,a=await this.nc.request(o,i),c=Br(a);if(c)return Promise.reject(c);const l=new pb(a);return Promise.resolve(l)}}class pb{constructor(t){w(this,"data");w(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(Vn.Subject)}get seq(){const t=this.header.get(Vn.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(Vn.TimeStamp)))}get stream(){return this.header.get(Vn.Stream)}}class mb extends Jr{constructor(n,r){super(n,r);w(this,"streams");w(this,"consumers");w(this,"direct");this.streams=new fb(n,r),this.consumers=new nf(n,r),this.direct=new db(n,r)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const n=new Ut;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(r,s)=>{if(r)throw r;try{const i=this.parseJsResponse(s),o=i.type.split("."),a=o[o.length-1];n.push({kind:a,data:i})}catch(i){n.stop(i)}}}),n}}function gb(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:Gu,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:zu,tls:void 0,verbose:!1,waitOnFirstConnect:!1}}function _b(e){const t=`${ao}:${af()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new le("port and servers options are mutually exclusive",Q.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${ao}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const n=ti(gb(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw le.errorForCode(Q.BadAuthentication);if(n.authenticator=ab(n),["reconnectDelayHandler","authenticator"].forEach(r=>{if(n[r]&&typeof n[r]!="function")throw new le(`${r} option should be a function`,Q.NotFunction)}),n.reconnectDelayHandler||(n.reconnectDelayHandler=()=>{let r=n.tls?n.reconnectJitterTLS:n.reconnectJitter;return r&&(r++,r=Math.floor(Math.random()*r)),n.reconnectTimeWait+r}),n.inboxPrefix)try{rn(n.inboxPrefix)}catch(r){throw new le(r.message,Q.ApiError)}if(n.resolve&&typeof cf()!="function")throw new le("'resolve' is not supported on this client",Q.InvalidOption);return n}var Cn;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(Cn||(Cn={}));function hf(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function bb(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:hf(),storage:lo.File}}const hs="KV-Operation",Xc="KV_",ds="$KV",yb=/^[-/=.\w]+$/,wb=/^[-/=.>*\w]+$/,vb=/^[-\w]+$/;function df(e){if(e.startsWith(".")||e.endsWith(".")||!yb.test(e))throw new Error(`invalid key: ${e}`)}function xb(e){if(e.startsWith(".")||e.endsWith(".")||!wb.test(e))throw new Error(`invalid key: ${e}`)}function Eb(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let n=!1;for(let r=0;r<t.length;r++)switch(t[r]){case"*":n=!0;break;case">":if(r!==t.length-1)throw new Error(`invalid key: ${e}`);n=!0;break}return n}function bs(e){if(!vb.test(e))throw new Error(`invalid bucket name: ${e}`)}class Wr{constructor(t,n,r){w(this,"jsm");w(this,"js");w(this,"stream");w(this,"bucket");w(this,"direct");w(this,"codec");w(this,"_prefixLen");w(this,"subjPrefix");w(this,"validateKey",df);w(this,"validateSearchKey",xb);w(this,"hasWildcards",Eb);bs(t),this.jsm=n,this.js=r,this.bucket=t,this._prefixLen=0,this.subjPrefix=ds;const i=r.prefix||"$JS.API";i!=="$JS.API"&&(this.subjPrefix=`${i}.${ds}`)}static async create(t,n,r={}){bs(n);const s=r.timeout||2e3,i=t;let o=i.opts||{};o=Object.assign(o,{timeout:s});const a=await i.nc.jetstreamManager(o),c=new Wr(n,a,t);return await c.init(r),c}static async bind(t,n,r={}){var c;const i=await t.nc.jetstreamManager(),o=await i.streams.info(`${Xc}${n}`);bs(o.config.name);const a=new Wr(n,i,t);return Object.assign(a,o),a.codec=r.codec||hf(),a.direct=(c=o.config.allow_direct)!=null?c:!1,a}async init(t={}){var l,u;const n=Object.assign(bb(),t);this.codec=n.codec;const r={};this.stream=r.name=(l=t.streamName)!=null?l:this.bucketName(),r.subjects=[this.subjectForBucket()],r.retention=co.Limits,r.max_msgs_per_subject=n.history,n.maxBucketSize&&(n.max_bytes=n.maxBucketSize),n.max_bytes&&(r.max_bytes=n.max_bytes),r.max_msg_size=n.maxValueSize,r.storage=n.storage;const s=(u=t.placementCluster)!=null?u:"";s&&(t.placement={},t.placement.cluster=s,t.placement.tags=[]),t.placement&&(r.placement=t.placement),t.republish&&(r.republish=t.republish),t.description&&(r.description=t.description);const o=this.js.nc.getServerVersion(),a=o?Ns(o,sr("2.7.2"))>=0:!1;r.discard=a?Dr.New:Dr.Old;const c=o?Ns(o,sr("2.8.5"))>=0:!1;r.allow_direct=t.allow_direct?c:!1,this.direct=r.allow_direct,r.num_replicas=n.replicas,n.ttl&&(r.max_age=ct(n.ttl)),r.allow_rollup_hdrs=!0;try{await this.jsm.streams.info(r.name)}catch(h){h.message==="stream not found"&&await this.jsm.streams.add(r)}}bucketName(){var t;return(t=this.stream)!=null?t:`${Xc}${this.bucket}`}subjectForBucket(){return`${this.subjPrefix}.${this.bucket}.>`}subjectForKey(t){return`${this.subjPrefix}.${this.bucket}.${t}`}fullKeyName(t){return`${ds}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=`${ds}.${this.bucket}.`.length),this._prefixLen}encodeKey(t){const n=[];for(const r of t.split("."))switch(r){case">":case"*":n.push(r);break;default:n.push(this.codec.key.encode(r));break}return n.join(".")}decodeKey(t){const n=[];for(const r of t.split("."))switch(r){case">":case"*":n.push(r);break;default:n.push(this.codec.key.decode(r));break}return n.join(".")}close(){return Promise.resolve()}dataLen(t,n){const r=n&&n.get(Ft.MessageSizeHdr)||"";return r!==""?parseInt(r,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(hs)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var r;const n=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:n,value:t.data,created:new Date(Uc(t.info.timestampNanos)),revision:t.seq,operation:((r=t.headers)==null?void 0:r.get(hs))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,n){return this.put(t,n,{previousSeq:0})}update(t,n,r){if(r<=0)throw new Error("version must be greater than 0");return this.put(t,n,{previousSeq:r})}async put(t,n,r={}){const s=this.encodeKey(t);this.validateKey(s);const i={};if(r.previousSeq!==void 0){const a=rr();i.headers=a,a.set("Nats-Expected-Last-Subject-Sequence",`${r.previousSeq}`)}return(await this.js.publish(this.subjectForKey(s),n,i)).seq}async get(t,n){const r=this.encodeKey(t);this.validateKey(r);let s={last_by_subj:this.fullKeyName(r)};n&&n.revision>0&&(s={seq:n.revision});let i;try{this.direct?i=await this.jsm.direct.getMessage(this.bucketName(),s):i=await this.jsm.streams.getMessage(this.bucketName(),s);const o=this.smToEntry(i);return o.key!==r?null:o}catch(o){if(o.code===Q.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const n=Ke(),r=[],s=await this.watch({key:">",initializedFn:()=>{n.resolve()}});(async()=>{for await(const c of s)(c.operation==="DEL"||c.operation==="PURGE")&&r.push(c)})().then(),await n,s.stop();const i=Date.now()-t,o=r.map(c=>{const l=this.subjectForKey(c.key);return c.created.getTime()>=i?this.jsm.streams.purge(this.stream,{filter:l,keep:1}):this.jsm.streams.purge(this.stream,{filter:l,keep:0})}),a=await Promise.all(o);return a.unshift({success:!0,purged:0}),a.reduce((c,l)=>(c.purged+=l.purged,c))}async _deleteOrPurge(t,n){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,n);const r=await this.keys(t),s=[];for await(const i of r)s.push(this._doDeleteOrPurge(i,n)),s.length===100&&(await Promise.all(s),s.length=0);s.length>0&&await Promise.all(s)}async _doDeleteOrPurge(t,n){const r=this.encodeKey(t);this.validateKey(r);const s=rr();s.set(hs,n),n==="PURGE"&&s.set(Ft.RollupHdr,Ft.RollupValueSubject),await this.js.publish(this.subjectForKey(r),kt,{headers:s})}_buildCC(t,n=!1,r={}){const s=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:n?wt.All:wt.LastPerSubject,ack_policy:et.None,filter_subject:this.fullKeyName(s),flow_control:!0,idle_heartbeat:ct(5*1e3)},r)}remove(t){return this.purge(t)}async history(t={}){var h;const n=(h=t.key)!=null?h:">",r=new Ut,s={};s.headers_only=t.headers_only||!1;let i;i=()=>{r.stop()};let o=0;const a=this._buildCC(n,!0,s),c=a.filter_subject,l=nn(a);l.orderedConsumer(),l.callback((d,g)=>{if(d){r.stop(d);return}if(g){const S=this.jmToEntry(g);r.push(S),r.received++,(i&&o>0&&r.received>=o||g.info.pending===0)&&(r.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:d}}=u,g=d.num_pending+d.delivered.consumer_seq;if(g===0||r.received>=g)try{i()}catch(S){r.stop(S)}finally{i=void 0}else o=g}return r._data=u,r.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{r.stop()}).catch(d=>{r.stop(d)}),r}async watch(t={}){var h;const n=(h=t.key)!=null?h:">",r=new Ut,s={};s.headers_only=t.headers_only||!1;let i=t.initializedFn,o=0;const a=this._buildCC(n,!1,s),c=a.filter_subject,l=nn(a);l.orderedConsumer(),l.callback((d,g)=>{if(d){r.stop(d);return}if(g){const S=this.jmToEntry(g);r.push(S),r.received++,i&&(o>0&&r.received>=o||g.info.pending===0)&&(r.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:d}}=u,g=d.num_pending+d.delivered.consumer_seq;if(g===0||r.received>=g)try{i()}catch(S){r.stop(S)}finally{i=void 0}else o=g}return r._data=u,r.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{r.stop()}).catch(d=>{r.stop(d)}),r}async keys(t=">"){const n=new Ut,r=this._buildCC(t,!1,{headers_only:!0}),s=r.filter_subject,i=nn(r);i.orderedConsumer();const o=await this.js.subscribe(s,i);return(async()=>{var c;for await(const l of o){const u=(c=l.headers)==null?void 0:c.get(hs);if(u!=="DEL"&&u!=="PURGE"){const h=this.decodeKey(l.subject.substring(this.prefixLen));n.push(h)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{n.stop()}).catch(c=>{n.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),n}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var s,i;const n=(i=(s=this.js.nc.info)==null?void 0:s.cluster)!=null?i:"",r=await this.jsm.streams.info(this.bucketName());return{bucket:this.bucketName(),values:r.state.messages,history:r.config.max_msgs_per_subject,ttl:Uc(r.config.max_age),bucket_location:n,backingStore:r.config.storage,storage:r.config.storage,replicas:r.config.num_replicas}}}function Sb(e){return bs(e),`OBJ_${e}`}function Ob(e){return e.startsWith("OBJ_")?e.substring(4):e}class Qc{constructor(t){w(this,"si");w(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return Ob(this.si.config.name)}get description(){var t;return(t=this.si.config.description)!=null?t:""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}class Ii{constructor(t){w(this,"info");w(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){var t;return(t=this.info.description)!=null?t:""}get headers(){return this.hdrs||(this.hdrs=dn.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){var t;return(t=this.info.deleted)!=null?t:!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function Zc(e){var n;const t={name:e.name,description:(n=e.description)!=null?n:"",options:e.options};if(e.headers){const r=e.headers;t.headers=r.toRecord()}return t}function Pb(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function Ab(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class Pr{constructor(t,n,r){w(this,"jsm");w(this,"js");w(this,"stream");w(this,"name");this.name=t,this.jsm=n,this.js=r}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[\. ]/g,"_");let n;try{df(t)}catch(r){n=r}return{name:t,error:n}}async info(t){const n=await this.rawInfo(t);return n?new Ii(n):null}async list(){const t=[],n=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const r of n){if(r===null)break;t.push(r)}return Promise.resolve(t)}async rawInfo(t){const{name:n,error:r}=this._sanitizeName(t);if(r)return Promise.reject(r);const s=`$O.${this.name}.M.${n}`;try{const i=await this.jsm.streams.getMessage(this.stream,{last_by_subj:s});return An().decode(i.data)}catch(i){return i.code==="404"?null:Promise.reject(i)}}async seal(){let t=await this.jsm.streams.info(this.stream);return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new Qc(t)))}async status(t){const n=await this.jsm.streams.info(this.stream,t);return n===null?Promise.reject(new Error("object store not found")):Promise.resolve(new Qc(n))}destroy(){return this.jsm.streams.delete(this.stream)}async put(t,n){var j,C;const s=((j=this.js.nc.info)==null?void 0:j.max_payload)||1024;t=t||{},t.options=t.options||{};let i=((C=t.options)==null?void 0:C.max_chunk_size)||128*1024;i=i>s?s:i,t.options.max_chunk_size=i;const o=await this.info(t.name),{name:a,error:c}=this._sanitizeName(t.name);if(c)return Promise.reject(c);const l=qo.next(),u=this._chunkSubject(l),h=this._metaSubject(a),d=Object.assign({bucket:this.name,nuid:l,size:0,chunks:0},Zc(t)),g=Ke(),S=[],T=new Yr;try{const W=n?n.getReader():null,te=new qc;for(;;){const{done:z,value:B}=W?await W.read():{done:!0,value:void 0};if(z){if(T.size()>0){const se=T.drain();te.update(se),d.chunks++,d.size+=se.length,d.mtime=new Date().toISOString();const oe=te.digest("base64"),be=oe.length%3,Se=be>0?"=".repeat(be):"";d.digest=`sha-256=${oe}${Se}`,d.deleted=!1,S.push(this.js.publish(u,se))}const ue=rr();ue.set(Ft.RollupHdr,Ft.RollupValueSubject),S.push(this.js.publish(h,An().encode(d),{headers:ue})),o&&S.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${o.nuid}`})),await Promise.all(S),g.resolve(new Ii(d));break}if(B)for(T.fill(B);T.size()>i;){d.chunks++,d.size+=i;const ue=T.drain(t.options.max_chunk_size);te.update(ue),S.push(this.js.publish(u,ue))}}}catch(W){await this.jsm.streams.purge(this.stream,{filter:u}),g.reject(W)}return g}async get(t){const n=await this.rawInfo(t);if(n===null)return Promise.resolve(null);if(n.options&&n.options.link){const u=n.options.link.name||"";if(u==="")throw new Error("link is a bucket");return(await Pr.create(this.js,n.options.link.bucket)).get(u)}const r=Ke(),s={info:new Ii(n),error:r};if(n.size===0)return s.data=Ab(),r.resolve(null),Promise.resolve(s);let i;const o=nn();o.orderedConsumer();const a=new qc,c=`$O.${this.name}.C.${n.nuid}`,l=await this.js.subscribe(c,o);return(async()=>{for await(const u of l)if(u.data.length>0&&(a.update(u.data),i.enqueue(u.data)),u.info.pending===0){const h=a.digest("base64"),d=h.length%3,g=d>0?"=".repeat(d):"",S=`sha-256=${h}${g}`;S!==n.digest?i.error(new Error(`received a corrupt object, digests do not match received: ${n.digest} calculated ${S}`)):i.close(),l.unsubscribe()}})().then(()=>{r.resolve()}).catch(u=>{i.error(u),r.reject(u)}),s.data=new ReadableStream({start(u){i=u},cancel(){l.unsubscribe()}}),s}linkStore(t,n){if(!(n instanceof Pr))return Promise.reject("bucket required");const r=n,{name:s,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const o={name:s,options:{link:{bucket:r.name}}};return this.put(o,null)}async link(t,n){if(n.deleted)return Promise.reject(new Error("object is deleted"));const{name:r,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);if(this.name===n.bucket){const a=Object.assign({},Pb(n));a.name=r;try{return await this.update(n.name,a),await this.info(r)}catch(c){return Promise.reject(c)}}const i={bucket:n.bucket,name:n.name},o={name:r,options:{link:i}};return this.put(o,null)}async delete(t){const n=await this.rawInfo(t);if(n===null)return Promise.resolve({purged:0,success:!1});n.deleted=!0,n.size=0,n.chunks=0,n.digest="";const r=An(),s=rr();return s.set(Ft.RollupHdr,Ft.RollupValueSubject),await this.js.publish(this._metaSubject(n.name),r.encode(n),{headers:s}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(n.nuid)})}async update(t,n={}){var c;const r=await this.rawInfo(t);if(r===null)return Promise.reject(new Error("object not found"));n.name=(c=n.name)!=null?c:r.name;const{name:s,error:i}=this._sanitizeName(n.name);if(i)return Promise.reject(i);n.name=s;const o=Object.assign({},r,Zc(n)),a=An();return this.js.publish(this._metaSubject(o.name),a.encode(o))}async watch(t={}){var c,l;t.includeHistory=(c=t.includeHistory)!=null?c:!1,t.ignoreDeletes=(l=t.ignoreDeletes)!=null?l:!1;let n=!1;const r=new Ut,s=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:s})}catch(u){u.code==="404"?(r.push(null),n=!0):r.stop(u)}const i=An(),o=nn();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(n=!0,o.deliverNew()),o.callback((u,h)=>{var d;if(u){r.stop(u);return}if(h!==null){const g=i.decode(h.data);g.deleted&&t.ignoreDeletes===!0||r.push(g),((d=h.info)==null?void 0:d.pending)===0&&!n&&(n=!0,r.push(null))}});const a=await this.js.subscribe(s,o);return r._data=a,r.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{r.stop()}).catch(u=>{r.stop(u)}),r}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${t}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=Sb(this.name)}catch(r){return Promise.reject(r)}const n=Object.assign({},t);n.name=this.stream,n.allow_rollup_hdrs=!0,n.discard=Dr.New,n.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(n.placement=t.placement);try{await this.jsm.streams.info(n.name)}catch(r){r.message==="stream not found"&&await this.jsm.streams.add(n)}}static async create(t,n,r={}){var l;if(typeof((l=crypto==null?void 0:crypto.subtle)==null?void 0:l.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const s=t;let i=s.opts||{};const o=i.timeout||2e3;i=Object.assign(i,{timeout:o});const a=await s.nc.jetstreamManager(i),c=new Pr(n,a,t);return await c.init(r),Promise.resolve(c)}}class kb{constructor(t){w(this,"js");this.js=t}kv(t,n={}){return n.bindOnly?Wr.bind(this.js,t):Wr.create(this.js,t,n)}os(t,n={}){return Lb(this.js.nc),Pr.create(this.js,t,n)}}class Ho extends Jr{constructor(n,r){super(n,r);w(this,"api");this.api=new nf(n,r)}get views(){return new kb(this)}async publish(n,r=kt,s){s=s||{},s.expect=s.expect||{};const i=(s==null?void 0:s.headers)||rr();s&&(s.msgID&&i.set(Cn.MsgIdHdr,s.msgID),s.expect.lastMsgID&&i.set(Cn.ExpectedLastMsgIdHdr,s.expect.lastMsgID),s.expect.streamName&&i.set(Cn.ExpectedStreamHdr,s.expect.streamName),s.expect.lastSequence&&i.set(Cn.ExpectedLastSeqHdr,`${s.expect.lastSequence}`),s.expect.lastSubjectSequence&&i.set(Cn.ExpectedLastSubjectSequenceHdr,`${s.expect.lastSubjectSequence}`));const o=s.timeout||this.timeout,a={};o&&(a.timeout=o),s&&(a.headers=i);let{retries:c,retry_delay:l}=s;c=c||1,l=l||250;let u;for(let d=0;d<c;d++)try{u=await this.nc.request(n,r,a);break}catch(g){if(g.code==="503"&&d+1<c)await Wo(l);else throw g}const h=this.parseJsResponse(u);if(h.stream==="")throw le.errorForCode(Q.JetStreamInvalidAck);return h.duplicate=h.duplicate?h.duplicate:!1,h}async pull(n,r,s=0){pt(n),Jn(r);let i=this.timeout;s>i&&(i=s),s=s<0?0:ct(s);const o={batch:1,no_wait:s===0,expires:s},a=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${r}`,this.jc.encode(o),{noMux:!0,timeout:i}),c=Br(a);if(c)throw c;return Rs(a)}fetch(n,r,s={}){var j;pt(n),Jn(r);let i=null;const o=((j=s.max_bytes)!=null?j:0)>0;let a=0;const c=o?s.max_bytes:0,l={};if(l.batch=s.batch||1,c){const C=this.nc.protocol.features.get(qr.JS_PULL_MAX_BYTES);if(!C.ok)throw new Error(`max_bytes is only supported on servers ${C.min} or better`);l.max_bytes=c}l.no_wait=s.no_wait||!1,l.no_wait&&l.expires&&(l.expires=0);const u=s.expires||0;if(u&&(l.expires=ct(u)),u===0&&l.no_wait===!1)throw new Error("expires or no_wait is required");const h=new Ut,d=l.batch;let g=0;h.dispatchedFn=C=>{if(C){if(o&&(a+=C.data.length),g++,i&&C.info.pending===0)return;(h.getPending()===1&&C.info.pending===0||d===g||c>0&&a>=c)&&h.stop()}};const S=rn(this.nc.options.inboxPrefix),T=this.nc.subscribe(S,{max:s.batch,callback:(C,W)=>{C===null&&(C=Br(W)),C!==null?(i&&(i.cancel(),i=null),n_(C)?h.stop(mf(C)===null?void 0:C):h.stop(C)):(h.received++,h.push(Rs(W)))}});return u&&(i=ni(u),i.catch(()=>{T.isClosed()||(T.drain(),i=null)})),(async()=>{await T.closed,i!==null&&(i.cancel(),i=null),h.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${n}.${r}`,this.jc.encode(l),{reply:S}),h}async pullSubscribe(n,r=nn()){const s=await this._processOptions(n,r);if(s.ordered)throw new Error("pull subscribers cannot be be ordered");if(s.attached||(s.config.filter_subject=n),s.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const i=s.config.ack_policy;if(i===et.None||i===et.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(s),a=new Ib(this,s.deliver,o);a.info=s;try{await this._maybeCreateConsumer(s)}catch(c){throw a.unsubscribe(),c}return a}async subscribe(n,r=nn()){const s=await this._processOptions(n,r);if(!s.isBind&&!s.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const i=this._buildTypedSubscriptionOpts(s),o=new pf(this,s.deliver,i);o.info=s;try{await this._maybeCreateConsumer(s)}catch(a){throw o.unsubscribe(),a}return o}async _processOptions(n,r=nn()){var i,o;const s=Dc(r)?r.getOpts():r;if(s.isBind=Dc(r)?r.isBind:!1,s.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},s.ordered){if(s.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},s.config.ack_policy!==et.NotSet&&s.config.ack_policy!==et.None)throw new le("ordered consumer: ack_policy can only be set to 'none'",Q.ApiError);if(s.config.durable_name&&s.config.durable_name.length>0)throw new le("ordered consumer: durable_name cannot be set",Q.ApiError);if(s.config.deliver_subject&&s.config.deliver_subject.length>0)throw new le("ordered consumer: deliver_subject cannot be set",Q.ApiError);if(s.config.max_deliver!==void 0&&s.config.max_deliver>1)throw new le("ordered consumer: max_deliver cannot be set",Q.ApiError);if(s.config.deliver_group&&s.config.deliver_group.length>0)throw new le("ordered consumer: deliver_group cannot be set",Q.ApiError);s.config.deliver_subject=rn(this.nc.options.inboxPrefix),s.config.ack_policy=et.None,s.config.max_deliver=1,s.config.flow_control=!0,s.config.idle_heartbeat=s.config.idle_heartbeat||ct(5e3),s.config.ack_wait=ct(22*60*60*1e3)}if(s.config.ack_policy===et.NotSet&&(s.config.ack_policy=et.All),s.api=this,s.config=s.config||{},s.stream=s.stream?s.stream:await this.findStream(n),s.attached=!1,s.config.durable_name)try{const a=await this.api.info(s.stream,s.config.durable_name);if(a){if(a.config.filter_subject&&a.config.filter_subject!==n)throw new Error("subject does not match consumer");const c=(i=s.config.deliver_group)!=null?i:"";if(c===""&&a.push_bound===!0)throw new Error("duplicate subscription");const l=(o=a.config.deliver_group)!=null?o:"";if(c!==l)throw l===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${l}'`);s.last=a,s.config=a.config,s.attached=!0,s.config.durable_name||(s.name=a.name)}}catch(a){if(a.code!=="404")throw a}return s.attached||(s.config.filter_subject=n),s.deliver=s.config.deliver_subject||rn(this.nc.options.inboxPrefix),s}_buildTypedSubscriptionOpts(n){const r={};return r.adapter=Tb(n.callbackFn===void 0),r.ingestionFilterFn=Ho.ingestionFn(n.ordered),r.protocolFilterFn=(s,i=!1)=>{const o=s;return uo(o.msg)?(i||o.msg.respond(),!1):!0},!n.mack&&n.config.ack_policy!==et.None&&(r.dispatchedFn=Mb),n.callbackFn&&(r.callback=n.callbackFn),r.max=n.max||0,r.queue=n.queue,r}async _maybeCreateConsumer(n){if(n.attached)return;if(n.isBind)throw new Error(`unable to bind - durable consumer ${n.config.durable_name} doesn't exist in ${n.stream}`);n.config=Object.assign({deliver_policy:wt.All,ack_policy:et.Explicit,ack_wait:ct(30*1e3),replay_policy:nr.Instant},n.config);const r=await this.api.add(n.stream,n.config);n.name=r.name,n.config=r.config,n.last=r}static ingestionFn(n){return(r,s)=>{const i=s;if(!r)return{ingest:!1,protocol:!1};const o=r;if(m_(o.msg)){const c=n?i._checkHbOrderConsumer(o.msg):!0;return n||i.info.flow_control.heartbeat_count++,{ingest:c,protocol:!0}}else if(uo(o.msg))return i.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:n?i._checkOrderedConsumer(r):!0,protocol:!1}}}}class Vo{constructor(t){w(this,"options");w(this,"protocol");w(this,"draining");w(this,"listeners");this.draining=!1,this.options=_b(t),this.listeners=[]}static connect(t={}){return new Promise((n,r)=>{const s=new Vo(t);Ms.connect(s.options,s).then(i=>{s.protocol=i,async function(){for await(const o of i.status())s.listeners.forEach(a=>{a.push(o)})}(),n(s)}).catch(i=>{r(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,n,r){if(this.isClosed())throw le.errorForCode(Q.ConnectionClosed);if(n&&this.isDraining()||r&&this.protocol.noMorePublishing)throw le.errorForCode(Q.ConnectionDraining);if(t=t||"",t.length===0)throw le.errorForCode(Q.BadSubject)}publish(t,n=kt,r){if(this._check(t,!1,!0),n&&!f_(n))throw le.errorForCode(Q.BadPayload);this.protocol.publish(t,n,r)}subscribe(t,n={}){this._check(t,!0,!1);const r=new ff(this.protocol,t,n);return this.protocol.subscribe(r),r}_resub(t,n,r){this._check(n,!0,!1);const s=t;s.max=r,r&&(s.max=r+s.received),this.protocol.resub(s,n)}requestMany(t,n=kt,r={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(a){return Promise.reject(a)}if(r.strategy=r.strategy||tn.Timer,r.maxWait=r.maxWait||1e3,r.maxWait<1)return Promise.reject(new le("timeout",Q.InvalidOption));const s=new Ut;function i(){s.push(()=>{s.stop()})}function o(a,c){a||c===null?(a!==null&&s.push(a),i()):s.push(c)}if(r.noMux){const a=new Error().stack;let c=typeof r.maxMessages=="number"&&r.maxMessages>0?r.maxMessages:-1;const l=this.subscribe(rn(this.options.inboxPrefix),{callback:(g,S)=>{var T;if(S.data.length===0&&((T=S==null?void 0:S.headers)==null?void 0:T.status)===Q.NoResponders&&(g=le.errorForCode(Q.NoResponders)),g){g.stack+=`

${a}`,u(g);return}o(null,S),r.strategy===tn.Count&&(c--,c===0&&u()),r.strategy===tn.JitterTimer&&(d(),h=setTimeout(()=>{u()},300)),r.strategy===tn.SentinelMsg&&S&&S.data.length===0&&u()}});l.closed.then(()=>{i()}).catch(g=>{s.push(g),i()});const u=g=>{g&&s.push(g),d(),l.drain().then(()=>{i()}).catch(S=>{i()})};s.iterClosed.then(()=>{d(),l==null||l.unsubscribe()}).catch(g=>{d(),l==null||l.unsubscribe()});try{this.publish(t,kt,{reply:l.getSubject()})}catch(g){u(g)}let h=setTimeout(()=>{u()},r.maxWait);const d=()=>{h&&clearTimeout(h)}}else{const a=r;a.callback=o,s.iterClosed.then(()=>{c.cancel()}).catch(l=>{c.cancel(l)});const c=new C_(this.protocol.muxSubscriptions,t,a);this.protocol.request(c);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:r.headers})}catch(l){c.cancel(l)}}return Promise.resolve(s)}request(t,n=kt,r={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(s){return Promise.reject(s)}if(r.timeout=r.timeout||1e3,r.timeout<1)return Promise.reject(new le("timeout",Q.InvalidOption));if(!r.noMux&&r.reply)return Promise.reject(new le("reply can only be used with noMux",Q.InvalidOption));if(r.noMux){const s=r.reply?r.reply:rn(this.options.inboxPrefix),i=Ke(),o=new Error,a=this.subscribe(s,{max:1,timeout:r.timeout,callback:(c,l)=>{c?(c.code!==Q.Timeout&&(c.stack+=`

${o.stack}`),i.reject(c)):(c=of(l),c?(c.stack+=`

${o.stack}`,i.reject(c)):i.resolve(l))}});return a.requestSubject=t,this.protocol.publish(t,n,{reply:s,headers:r.headers}),i}else{const s=new sf(this.protocol.muxSubscriptions,t,r);this.protocol.request(s);try{this.publish(t,n,{reply:`${this.protocol.muxSubscriptions.baseInbox}${s.token}`,headers:r.headers})}catch(o){s.cancel(o)}const i=Promise.race([s.timer,s.deferred]);return i.catch(()=>{s.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(le.errorForCode(Q.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(le.errorForCode(Q.ConnectionClosed)):this.isDraining()?Promise.reject(le.errorForCode(Q.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new Ut;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const n=new mb(this,t);try{await n.getAccountInfo()}catch(r){const s=r;throw s.code===Q.NoResponders&&(s.code=Q.JetStreamNotEnabled),s}return n}jetstream(t={}){return new Ho(this,t)}getServerVersion(){const t=this.info;return t?sr(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw le.errorForCode(Q.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}}function Cb(e,t){const{proto:n,tls_required:r,tls_available:s}=e;if((n===void 0||n<1)&&t.noEcho)throw new le("noEcho",Q.ServerOptionNotAvailable);const i=r||s||!1;if(t.tls&&!i)throw new le("tls",Q.ServerOptionNotAvailable)}class pf extends F_{constructor(n,r,s){super(n.nc,r,s);w(this,"js");this.js=n}set info(n){this.sub.info=n}get info(){return this.sub.info}_resetOrderedConsumer(n){if(this.info===null||this.sub.isClosed())return;const r=rn(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,r);const i=this.info;i.ordered_consumer_sequence.delivery_seq=0,i.flow_control.heartbeat_count=0,i.flow_control.fc_count=0,i.flow_control.consumer_restarts++,i.deliver=r,i.config.deliver_subject=r,i.config.deliver_policy=wt.StartSequence,i.config.opt_start_seq=n;const o=`${i.api.prefix}.CONSUMER.CREATE.${i.stream}`;this.js._request(o,this.info.config).catch(a=>{const c=new le(`unable to recreate ordered consumer ${i.stream} at seq ${n}`,Q.RequestError,a);this.sub.callback(c,{})})}_checkHbOrderConsumer(n){const r=n.headers.get(Ft.ConsumerStalledHdr);r!==""&&this.js.nc.publish(r);const s=parseInt(n.headers.get(Ft.LastConsumerSeqHdr),10),i=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,s!==i.delivery_seq&&this._resetOrderedConsumer(i.stream_seq+1),!1}_checkOrderedConsumer(n){const r=this.info.ordered_consumer_sequence,s=n.info.streamSequence,i=n.info.deliverySequence;return i!=r.delivery_seq+1?(this._resetOrderedConsumer(r.stream_seq+1),!1):(r.delivery_seq=i,r.stream_seq=s,!0)}async destroy(){this.isClosed()||await this.drain();const n=this.sub.info,r=n.config.durable_name||n.name,s=`${n.api.prefix}.CONSUMER.DELETE.${n.stream}.${r}`;await n.api._request(s)}async consumerInfo(){const n=this.sub.info,r=n.config.durable_name||n.name,s=`${n.api.prefix}.CONSUMER.INFO.${n.stream}.${r}`,i=await n.api._request(s);return n.last=i,i}}class Ib extends pf{constructor(t,n,r){super(t,n,r)}pull(t={batch:1}){var a,c;const{stream:n,config:r,name:s}=this.sub.info,i=(a=r.durable_name)!=null?a:s,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,((c=t.max_bytes)!=null?c:0)>0){const l=this.js.nc.protocol.features.get(qr.JS_PULL_MAX_BYTES);if(!l.ok)throw new Error(`max_bytes is only supported on servers ${l.min} or better`);o.max_bytes=t.max_bytes}if(t.expires&&t.expires>0&&(o.expires=ct(t.expires)),this.info){const l=this.info.api,u=`${l.prefix}.CONSUMER.MSG.NEXT.${n}.${i}`,h=this.sub.subject;l.nc.publish(u,l.jc.encode(o),{reply:h})}}}function Tb(e){return e?Rb:Nb}function Nb(e,t){return e?[e,null]:(e=Br(t),e?[e,null]:[null,Rs(t)])}function Rb(e,t){if(e)return[e,null];const n=Br(t);return n!==null?[mf(n),null]:[null,Rs(t)]}function mf(e){if(e!==null)switch(e.code){case Q.JetStream404NoMessages:case Q.JetStream408RequestTimeout:return null;case Q.JetStream409:return g_(e)?e:null;default:return e}return null}function Mb(e){e&&e.ack()}const Lb=(()=>{let e=!1;return t=>{var n;if(!e){e=!0;const{lang:r}=(n=t==null?void 0:t.protocol)==null?void 0:n.transport;console.log(r?`\x1B[33m >> jetstream's materialized views object store functionality in ${r} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),Fb="1.9.0",jb="nats.ws";class $b{constructor(){w(this,"version");w(this,"lang");w(this,"closeError");w(this,"connected");w(this,"done");w(this,"socket");w(this,"options");w(this,"socketClosed");w(this,"encrypted");w(this,"peeked");w(this,"yields");w(this,"signal");w(this,"closedNotification");this.version=Fb,this.lang=jb,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=Ke(),this.closedNotification=Ke()}async connect(t,n){const r=Ke();if(n.tls)return r.reject(new le("tls",Q.InvalidOption)),r;this.options=n;const s=t.src;if(n.wsFactory){const{socket:i,encrypted:o}=await n.wsFactory(t.src,n);this.socket=i,this.encrypted=o}else this.encrypted=s.indexOf("wss://")===0,this.socket=new WebSocket(s);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=Yr.concat(...this.yields),a=d_(o);if(a!==""){const c=rb.exec(a);if(!c){n.debug&&console.error("!!!",ls(o)),r.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(c[1]);Cb(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),r.resolve()}catch(l){r.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,a=new le(o.message,Q.Unknown,new Error(o.error));r.reject(a)},r}disconnect(){this._closed(void 0,!0)}async _closed(t,n=!0){if(!!this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await Wo(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}n&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let n=0;n<t.length;n++)this.options.debug&&console.info(`> ${ls(t[n])}`),yield t[n];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=Ke())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${ls(t)}`);return}catch(n){this.options.debug&&console.error(`!!! ${ls(t)}: ${n}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function Ub(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let n=new URL(e);const r=n.protocol.toLowerCase();r!=="https:"&&r!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),n=new URL(`http://${e}`));let s,i;const o=n.hostname,a=n.pathname,c=n.search||"";switch(r){case"http:":case"ws:":case"nats:":i=n.port||"80",s="ws:";break;default:i=n.port||"443",s="wss:";break}return`${s}//${o}:${i}${a}${c}`}function Db(e={}){return $_({defaultPort:443,urlParseFn:Ub,factory:()=>new $b}),Vo.connect(e)}const Bb=Yu(),qb="---",oy=Ye({}),ay=Ye({}),cy=Ye({}),ys=Ye(!1),Ar=Ye({}),Xn={};let Ti,po;const Wb=async(e,t)=>{if(Ar.value[e])return;if(!ys.value||!po){Xn[e]=t;return}const n=nn();n.deliverTo(rn()),n.deliverAll(),n.ackNone(),n.replayInstantly();const r=await po.subscribe(e,n);Ar.value[e]=r,(async()=>{for await(const s of r){const i=Bb.decode(s.data);if(i!==qb){const o=JSON.parse(i);t.value=Object.freeze({...t.value,[o.id]:Object.freeze(o)})}}})()},ly=async e=>{Ar.value[e]&&(Ar.value[e].unsubscribe(),delete Ar.value[e]),Xn[e]&&delete Xn[e]},el=async()=>{await Promise.all(Object.keys(Xn).map(async e=>{await Wb(e,Xn[e]),delete Xn[e]}))},Hb=async()=>{Ti=await Db({servers:[R0],waitOnFirstConnect:!0,maxReconnectAttempts:-1}),ys.value=!0,po=Ti.jetstream(),await el(),(async()=>{for await(const e of Ti.status())e.type===en.Disconnect&&(ys.value=!1),e.type===en.Reconnect&&(ys.value=!0,await el())})()},zo=Wd(z0);zo.use(Vu);zo.use(Hu);zo.mount("#app");Hb();export{ry as A,sy as B,vt as C,oy as D,ay as E,cy as F,yt as G,Jb as H,Mr as I,fm as J,oo as K,Co as L,Ps as M,ly as N,Gb as O,Kb as P,Em as Q,Bu as R,Cc as S,ny as T,ty as U,Xb as V,Qe as W,V0 as _,Kt as a,qe as b,ze as c,Mn as d,Xl as e,pi as f,go as g,Ag as h,ey as i,Fe as j,Mt as k,Ie as l,Qb as m,zt as n,lt as o,At as p,zs as q,Ye as r,ys as s,zb as t,Ln as u,Zb as v,Yb as w,B0 as x,Gr as y,Wb as z};
//# sourceMappingURL=index.299b5c4d.js.map
