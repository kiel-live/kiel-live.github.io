(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stop"],{a945:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.stop?a("div",{staticClass:"stop"},[a("div",{staticClass:"header"},[a("a",{staticClass:"back button",on:{click:function(s){return t.$router.go(-1)}}},[a("i",{staticClass:"fas fa-angle-double-left"})]),a("h1",{staticClass:"title"},[t._v(" "+t._s(t.stop.stopName)+" ")]),t.isFavorite?a("div",{staticClass:"favorite gold button",on:{click:t.removeFavoriteStop}},[a("i",{staticClass:"fas fa-star"})]):a("div",{staticClass:"favorite button",on:{click:t.addFavoriteStop}},[a("i",{staticClass:"far fa-star"})]),a("div",{staticClass:"map button",on:{click:function(s){return t.$router.push({name:"mapStop",params:{stop:t.stopId}})}}},[a("i",{staticClass:"fas fa-map-marked"})])]),t.alerts&&t.alerts.length>0?a("div",{staticClass:"alerts"},t._l(t.alerts,(function(s){return a("div",{key:s.title,staticClass:"alert"},[a("i",{staticClass:"fas fa-exclamation-triangle icon"}),a("div",{staticClass:"content"},[t._v(" "+t._s(s.title)+" ")])])})),0):t._e(),a("div",{staticClass:"arrivals"},[t._l(t.arrivals,(function(s){return a("div",{key:s.passageid,staticClass:"bus",on:{click:function(a){return t.openTrip(s)}}},[a("div",{staticClass:"icon"},["bus"===t.route(s.routeId).routeType?a("i",{staticClass:"fas fa-bus"}):t._e(),"ferry"===t.route(s.routeId).routeType?a("i",{staticClass:"fas fa-bus"}):t._e()]),a("div",{staticClass:"line"},[t._v(" "+t._s(t.route(s.routeId).name)+" ")]),a("div",{staticClass:"direction"},[t._v(" "+t._s(s.direction)+" ")]),a("div",{staticClass:"eta"},[t._v(" "+t._s(t.eta(s))+" ")]),a("div",{staticClass:"status"},["STOPPING"===s.status?a("i",{staticClass:"fas fa-hand-paper"}):t._e(),"PLANNED"===s.status?a("i",{staticClass:"fas fa-clock"}):t._e(),"PREDICTED"===s.status?a("i",{staticClass:"fas fa-running"}):t._e()])])})),0==t.stop.actual.length?a("div",{staticClass:"no-data"},[a("i",{staticClass:"fas fa-ban"}),a("p",[t._v("Hier will gerade wohl kein Manni halten.")])]):t._e()],2)]):a("div",{staticClass:"loading"},[a("i",{staticClass:"fas fa-circle-notch fa-spin"})])},e=[],o=(a("d86f"),a("8f0b"),a("fa8c"),a("7c6c")),n=a("0b38"),r=a("9ec3"),c=a("9ce4"),l={name:"Stop",beforeRouteUpdate:function(t,s,a){a(),this.unload(),this.load()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["c"])({stop:function(t){return t.stop.stop}})),Object(c["b"])({isFavorite:"stop/isFavoriteStop"})),{},{stopId:function(){return this.$route.params.stop},arrivals:function(){return this.stop?Object(r["orderBy"])(this.stop.actual,(function(t){return"STOPPING"===t.status?0:t.actualRelativeTime?Math.max(t.actualRelativeTime,1):t.plannedTime})):[]},alerts:function(){if(!this.stop)return[];var t=this.stop.generalAlerts;return this.stop.routes.forEach((function(s){t=[].concat(Object(o["a"])(t),Object(o["a"])(s.alerts))})),t}}),watch:{stop:function(t){t&&this.$store.commit("setTitle",t.stopName)}},mounted:function(){this.load()},beforeDestroy:function(){this.unload()},methods:{route:function(t){for(var s=0;s<this.stop.routes.length;s+=1)if(this.stop.routes[s].id===t)return this.stop.routes[s];return null},eta:function(t){var s=Math.round(t.actualRelativeTime/60);return"STOPPING"===t.status?"hÃ¤lt":"PLANNED"===t.status?t.plannedTime:s<1?"sofort":"".concat(s," Min")},addFavoriteStop:function(){this.stop&&this.stop.stopName&&this.$store.commit("stop/addFavoriteStop",{id:this.stopId,name:this.stop.stopName})},removeFavoriteStop:function(){this.$store.commit("stop/removeFavoriteStop",this.stopId)},openTrip:function(t){this.$router.push({name:"trip",params:{trip:t.tripId,vehicle:t.vehicleId}})},load:function(){this.stopId?this.$store.dispatch("stop/load",this.stopId):this.$router.push({name:"home"})},unload:function(){this.$store.dispatch("stop/unload")}}},u=l,p=(a("d382"),a("2be6")),d=Object(p["a"])(u,i,e,!1,null,"89180a2c",null);s["default"]=d.exports},ae46:function(t,s,a){},d382:function(t,s,a){"use strict";a("ae46")}}]);
//# sourceMappingURL=stop.4fbda879.js.map