import{d as N,r as ee,t as V,c as z,_ as ae,w as we,v as Me,o as h,a as v,b as f,e as w,f as Re,n as X,g as st,u as W,h as Te,i as Oe,j as M,k as I,l as p,m as nt,p as rt,q as k,s as J,F as Y,x as G,y as x,z as Ne,A as Fe,B as Pe,C as Be,D as te,E as se,G as ne,H as re,I as je,J as ue,K as ot,L as it,M as at,N as ct,O as lt,P as ut,Q as dt}from"./index.a920cb1c.js";import{_ as ht}from"./logo.3c55c010.js";const pt=N({name:"DetailsPopup",props:{isOpen:{type:Boolean,required:!0},size:{type:String,default:"3/4"},disableResize:{type:Boolean}},emits:{close:()=>!0},setup(t,{emit:e}){const s=ee(!1),n=ee(),o=V(t,"isOpen"),r=V(t,"size"),i=V(t,"disableResize"),a=z(()=>{if(i.value&&r.value==="1")return"full";if(!o.value)return"closed";if(s.value){if(n.value===void 0)return"closed";const d=n.value/window.innerHeight;return r.value==="1/2"&&d>.6||r.value==="3/4"&&d>.85?"maximizing":r.value==="1/2"&&d<.4||r.value==="3/4"&&d<.65?"closing":"defaulting"}return n.value===0?"closed":n.value===window.innerHeight?"full":"default"});function c(d){i.value||(s.value=!0,n.value=window.innerHeight-d.touches[0].clientY)}function l(d){!s.value||(n.value=window.innerHeight-d.touches[0].clientY)}function u(){!s.value||(a.value==="maximizing"?n.value=window.innerHeight:a.value==="closing"?(n.value=void 0,e("close")):a.value==="defaulting"&&(n.value=void 0),s.value=!1)}return{drag:c,move:l,drop:u,actualSize:a,height:n,dragging:s}}});const ft={class:"flex-shrink-0 bg-gray-500 w-12 h-1.5 rounded-full mx-auto"};function _t(t,e,s,n,o,r){return we((h(),v("div",{class:X(["absolute bottom-0 left-0 right-0 flex flex-col w-full z-10 bg-white shadow-top md:shadow-right md:rounded-none md:w-80 md:top-0 md:h-auto transition dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800",{"overflow-hidden max-h-0":t.actualSize==="closed","h-full md:mx-auto md:w-200 md:shadow-none":t.actualSize==="full","h-1/2":t.size==="1/2"&&t.actualSize==="default","h-3/4":t.size==="3/4"&&t.actualSize==="default","p-4 pb-0 pt-2":t.actualSize!=="closed"&&t.actualSize!=="full","rounded-t-2xl":t.actualSize!=="full","rounded-none p-4 pt-16":t.actualSize==="full","opacity-80":t.actualSize==="closing",fade:!t.dragging}]),style:st({height:t.isOpen?t.height===void 0?void 0:`${t.height}px`:0}),onTouchmove:e[1]||(e[1]=(...i)=>t.move&&t.move(...i)),onTouchend:e[2]||(e[2]=(...i)=>t.drop&&t.drop(...i))},[t.disableResize?w("",!0):(h(),v("div",{key:0,class:"w-full -mt-4 pt-4 pb-4 md:hidden",onTouchstart:e[0]||(e[0]=(...i)=>t.drag&&t.drag(...i))},[we(f("div",ft,null,512),[[Me,t.actualSize!=="full"]])],32)),Re(t.$slots,"default",{},void 0,!0)],38)),[[Me,t.isOpen]])}const de=ae(pt,[["render",_t],["__scopeId","data-v-c38c53be"]]),mt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},gt=f("path",{fill:"currentColor",d:"M19.35 10.04A7.49 7.49 0 0 0 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46a5.497 5.497 0 0 1 8.05 4.87v.5H19c1.66 0 3 1.34 3 3c0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73L4.27 4L3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"},null,-1),vt=[gt];function yt(t,e){return h(),v("svg",mt,vt)}const xt={name:"ic-baseline-cloud-off",render:yt},kt={class:"absolute top-0 left-0 right-0 mx-2 mt-2 h-12 flex rounded-md py-4 items-center justify-between bg-white border-1 border-gray-200 shadow-xl z-20 md:transform md:-translate-x-1/2 md:right-auto md:left-1/2 md:w-96 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800"},bt=["alt"],$t={key:0,class:"flex flex-grow mr-2"},wt=["value","placeholder"],Mt={key:1,class:"flex space-x-2 mr-2 items-center"},St=N({__name:"AppBar",props:{searchInput:null},emits:["update:search-input"],setup(t,{emit:e}){const s=t,{t:n}=W(),o=Te(),r=Oe(),i=V(s,"searchInput"),a=z({get(){return i.value},set(c){e("update:search-input",c),c.length>0&&o.name!=="search"&&r.push({name:"search"}),c.length===0&&o.name==="search"&&r.push({name:"home"})}});return(c,l)=>{const u=J("router-link"),d=xt;return h(),v("div",kt,[M(u,{to:{name:"home"},class:"p-2"},{default:I(()=>[f("img",{alt:p(n)("logo_alt"),src:ht,class:"w-6 h-6"},null,8,bt)]),_:1}),p(nt)?(h(),v("div",$t,[f("input",{value:p(a),type:"text",class:"bg-transparent p-2 border border-transparent focus:outline-none focus-visible:outline-none focus-visible:rounded-md focus-visible:border-gray-300 focus-visible:border-opacity-50 w-full h-full",placeholder:`${p(n)("search")} ...`,autofocus:"",onInput:l[0]||(l[0]=m=>a.value=m.currentTarget.value),onKeydown:l[1]||(l[1]=rt(m=>c.$router.back(),["escape"])),onClick:l[2]||(l[2]=m=>c.$router.push({name:"search"}))},null,40,wt)])):(h(),v("div",Mt,[f("span",null,k(p(n)("no_connection")),1),M(d,{class:"text-red-600"})]))])}}}),It={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},At=f("path",{fill:"currentColor",d:"M18 8H8c-1.1 0-2 .9-2 2v6a2 2 0 0 0 2 2h10c1.11 0 2-.89 2-2v-6a2 2 0 0 0-2-2m-4 8H8v-2h6v2m4-4H8v-2h10v2m4-6H4v16H2V2h2v2h18v2Z"},null,-1),Et=[At];function Ct(t,e){return h(),v("svg",It,Et)}const ye={name:"mdi-sign-real-estate",render:Ct},xe="kiel-live-favorites-v1",He="favoriteStops",Se=localStorage.getItem(He);if(Se!==null){const t=JSON.parse(Se);localStorage.setItem(xe,JSON.stringify(t.map(e=>({id:`kvg-${e.id}`,name:e.name,type:"bus-stop"})))),localStorage.removeItem(He)}const Ie=ee(JSON.parse(localStorage.getItem(xe)||"[]")),q=z({get(){return Ie.value},set(t){Ie.value=t,localStorage.setItem(xe,JSON.stringify(t))}});function Lt({id:t,name:e,type:s}){q.value=[...q.value,{id:t,name:e,type:s}]}function zt(t){q.value=q.value.filter(e=>e.id!==t.id)}function Rt(t){return q.value.some(e=>e.id===t.id)}function Ve(){return{favorites:q,addFavorite:Lt,removeFavorite:zt,isFavorite:Rt}}const Tt={class:"flex flex-col min-h-0 flex-grow"},Ot={class:"flex pb-2 mb-2 border-b-1 dark:border-dark-100 space-x-2 items-center"},Nt={class:"text-lg"},Ft={key:0,class:"m-auto max-w-52 text-center text-xl"},Pt={class:"flex flex-col overflow-y-auto"},Bt={class:""},jt=N({__name:"FavoritesPopup",setup(t){const{t:e}=W(),{favorites:s}=Ve();return(n,o)=>{const r=Ne,i=ye,a=J("router-link");return h(),v("div",Tt,[f("div",Ot,[M(r),f("span",Nt,k(p(e)("favorites")),1)]),p(s).length===0?(h(),v("div",Ft,[f("p",null,k(p(e)("add_favourites")),1)])):w("",!0),f("div",Pt,[(h(!0),v(Y,null,G(p(s),c=>(h(),x(a,{key:c.id,to:{name:"map-marker",params:{markerType:c.type,markerId:c.id}},class:"flex py-2 not-last:border-b-1 dark:border-dark-300"},{default:I(()=>[c.type==="bus-stop"?(h(),x(i,{key:0,class:"mr-2"})):w("",!0),f("div",Bt,k(c.name),1)]),_:2},1032,["to"]))),128))])])}}}),Ht={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Vt=f("path",{fill:"currentColor",d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184c-101.689 0-184-82.295-184-184c0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},null,-1),Yt=[Vt];function Dt(t,e){return h(),v("svg",Ht,Yt)}const Ye={name:"fa-solid-circle-notch",render:Dt},Kt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 416 512",width:"1.2em",height:"1.2em"},qt=f("path",{fill:"currentColor",d:"M272 96c26.51 0 48-21.49 48-48S298.51 0 272 0s-48 21.49-48 48s21.49 48 48 48zM113.69 317.47l-14.8 34.52H32c-17.67 0-32 14.33-32 32s14.33 32 32 32h77.45c19.25 0 36.58-11.44 44.11-29.09l8.79-20.52l-10.67-6.3c-17.32-10.23-30.06-25.37-37.99-42.61zM384 223.99h-44.03l-26.06-53.25c-12.5-25.55-35.45-44.23-61.78-50.94l-71.08-21.14c-28.3-6.8-57.77-.55-80.84 17.14l-39.67 30.41c-14.03 10.75-16.69 30.83-5.92 44.86s30.84 16.66 44.86 5.92l39.69-30.41c7.67-5.89 17.44-8 25.27-6.14l14.7 4.37l-37.46 87.39c-12.62 29.48-1.31 64.01 26.3 80.31l84.98 50.17l-27.47 87.73c-5.28 16.86 4.11 34.81 20.97 40.09c3.19 1 6.41 1.48 9.58 1.48c13.61 0 26.23-8.77 30.52-22.45l31.64-101.06c5.91-20.77-2.89-43.08-21.64-54.39l-61.24-36.14l31.31-78.28l20.27 41.43c8 16.34 24.92 26.89 43.11 26.89H384c17.67 0 32-14.33 32-32s-14.33-31.99-32-31.99z"},null,-1),Wt=[qt];function Ut(t,e){return h(),v("svg",Kt,Wt)}const Gt={name:"fa-solid-running",render:Ut},Jt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},Zt=f("path",{fill:"currentColor",d:"M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007C209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823c-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 0 0 172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 0 0 5.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"},null,-1),Qt=[Zt];function Xt(t,e){return h(),v("svg",Jt,Qt)}const es={name:"fa-solid-hand-paper",render:Xt},ts={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},ss=f("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248s248-111 248-248S393 8 256 8Zm92.49 313l-20 25a16 16 0 0 1-22.49 2.5l-67-49.72a40 40 0 0 1-15-31.23V112a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v144l58 42.5a16 16 0 0 1 2.49 22.5Z"},null,-1),ns=[ss];function rs(t,e){return h(),v("svg",ts,ns)}const os={name:"fa-solid-clock",render:rs},is={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1536 1792",width:"1.2em",height:"1.2em"},as=f("path",{fill:"currentColor",d:"M384 1216q0-53-37.5-90.5T256 1088t-90.5 37.5T128 1216t37.5 90.5T256 1344t90.5-37.5T384 1216zm1024 0q0-53-37.5-90.5T1280 1088t-90.5 37.5t-37.5 90.5t37.5 90.5t90.5 37.5t90.5-37.5t37.5-90.5zm-46-396l-72-384q-5-23-22.5-37.5T1227 384H309q-23 0-40.5 14.5T246 436l-72 384q-5 30 14 53t49 23h1062q30 0 49-23t14-53zm-226-612q0-20-14-34t-34-14H448q-20 0-34 14t-14 34t14 34t34 14h640q20 0 34-14t14-34zm400 725v603h-128v128q0 53-37.5 90.5T1280 1792t-90.5-37.5t-37.5-90.5v-128H384v128q0 53-37.5 90.5T256 1792t-90.5-37.5T128 1664v-128H0V933q0-112 25-223l103-454q9-78 97.5-137t230-89T768 0t312.5 30t230 89t97.5 137l105 454q23 102 23 223z"},null,-1),cs=[as];function ls(t,e){return h(),v("svg",is,cs)}const De={name:"fa-bus",render:ls},us={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ds=f("path",{fill:"currentColor",d:"M13 14h-2V9h2m0 9h-2v-2h2M1 21h22L12 2L1 21Z"},null,-1),hs=[ds];function ps(t,e){return h(),v("svg",us,hs)}const fs={name:"mdi-alert",render:ps},_s={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},ms=f("path",{fill:"currentColor",d:"M187.3 236a20.6 20.6 0 0 1-10.9-3.2L128 202.1l-44.9 28.5a21.7 21.7 0 0 1-24.5-.8a22.4 22.4 0 0 1-8.6-23.7l13.1-51.2l-43.7-36.3A20.9 20.9 0 0 1 13 96.2A20.5 20.5 0 0 1 31.1 82l56.8-3.6l21.2-53.5a20.3 20.3 0 0 1 37.8 0l21.2 53.5l56.8 3.6A20.5 20.5 0 0 1 243 96.2a20.9 20.9 0 0 1-6.4 22.4l-43.7 36.3l14.1 55.3a20.6 20.6 0 0 1-7.9 21.9a19.9 19.9 0 0 1-11.8 3.9Zm2-23.5Zm-61.3-35a19.9 19.9 0 0 1 10.8 3.1l42.8 27.1l-12.4-48.9a20.9 20.9 0 0 1 6.8-21.1l38.8-32.3l-50.5-3.2a20.5 20.5 0 0 1-17.6-12.9l-18.7-47l-18.7 47a20.5 20.5 0 0 1-17.6 12.9l-50.5 3.2L80 137.7a20.9 20.9 0 0 1 6.8 21.1l-12.4 48.9l42.8-27.1a19.9 19.9 0 0 1 10.8-3.1Zm-2 23.4Z"},null,-1),gs=[ms];function vs(t,e){return h(),v("svg",_s,gs)}const ys={name:"ph-star-bold",render:vs},xs={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1216 1312",width:"1.2em",height:"1.2em"},ks=f("path",{fill:"currentColor",d:"M1202 1066q0 40-28 68l-136 136q-28 28-68 28t-68-28L608 976l-294 294q-28 28-68 28t-68-28L42 1134q-28-28-28-68t28-68l294-294L42 410q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294l294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68L880 704l294 294q28 28 28 68z"},null,-1),bs=[ks];function $s(t,e){return h(),v("svg",xs,bs)}const ws={name:"fa-close",render:$s},Ms={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Ss=f("path",{fill:"currentColor",d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248s248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},null,-1),Is=[Ss];function As(t,e){return h(),v("svg",Ms,Is)}const Es={name:"fa-solid-ban",render:As},Cs={class:"flex flex-col items-center flex-grow"},Ls={class:"flex flex-col items-center my-2 text-lg"},oe=N({__name:"NoData",setup(t){const{t:e}=W();return(s,n)=>{const o=Es,r=ws;return h(),v("div",Cs,[M(o,{class:"text-3xl mt-auto"}),f("div",Ls,[Re(s.$slots,"default")]),M(Fe,{class:"mt-auto mb-4",to:{name:"home"},replace:""},{default:I(()=>[M(r,{class:"mr-2"}),f("span",null,k(p(e)("close")),1)]),_:1})])}}}),zs={key:0,class:"flex flex-col min-h-0 flex-grow"},Rs={class:"flex flex-row pb-2 mb-2 border-b-1 dark:border-dark-100 items-center"},Ts={class:"text-lg ml-2"},Os={class:"flex ml-auto items-center cursor-pointer select-none"},Ns={class:"flex flex-col flex-grow overflow-y-auto"},Fs={key:0,class:"bg-red-600 bg-opacity-50 p-2 mb-2 rounded-md"},Ps={class:"flex items-center border-b-1 mb-4"},Bs={class:"font-bold"},js={class:"mr-2"},Hs={class:"flex-grow"},Vs={class:"ml-2"},Ke=N({__name:"BusStopPopup",props:{marker:null},setup(t){const e=t,{addFavorite:s,removeFavorite:n,isFavorite:o}=Ve(),{t:r}=W(),i=V(e,"marker"),a=z(()=>te.value[e.marker.id]);let c=null;const l=u=>{const d=Math.round(u.eta/60);return u.state==="stopping"?r("stopping"):d<1?r("immediately"):r("minutes",{minutes:d})};return Pe(i,async()=>{c!==null&&await re(c),c=`data.map.stop.${e.marker.id}`,await ne(c,te)},{immediate:!0}),Be(async()=>{c!==null&&await re(c)}),(u,d)=>{const m=ye,g=Ne,y=ys,b=fs,R=De,E=os,F=es,T=Gt,D=J("router-link"),ce=Ye;return p(a)?(h(),v("div",zs,[f("div",Rs,[p(a).type==="bus-stop"?(h(),x(m,{key:0})):w("",!0),f("span",Ts,k(p(a).name),1),f("div",Os,[p(o)(p(a))?(h(),x(g,{key:0,class:"text-yellow-300",onClick:d[0]||(d[0]=$=>p(n)(p(a)))})):(h(),x(y,{key:1,onClick:d[1]||(d[1]=$=>p(s)(p(a)))}))])]),f("div",Ns,[p(a).alerts&&p(a).alerts.length>=1?(h(),v("div",Fs,[f("div",Ps,[M(b,{class:"mr-2"}),f("span",Bs,k(p(r)("alerts")),1)]),(h(!0),v(Y,null,G(p(a).alerts,($,S)=>(h(),v("div",{key:S,class:"flex items-center"},k($),1))),128))])):w("",!0),p(a).arrivals?(h(),v(Y,{key:1},[p(a).arrivals.length>0?(h(!0),v(Y,{key:0},G(p(a).arrivals,$=>(h(),x(D,{key:$.tripId,class:"flex py-2 w-full not-last:border-b-1 dark:border-dark-300",to:{name:"map-marker",params:{markerType:"bus",markerId:$.vehicleId}}},{default:I(()=>[M(R,{class:"mr-2"}),f("span",js,k($.routeName),1),f("span",Hs,k($.direction),1),f("span",null,k(l($)),1),f("div",Vs,[$.state==="planned"?(h(),x(E,{key:0})):w("",!0),$.state==="stopping"?(h(),x(F,{key:1})):w("",!0),$.state==="predicted"?(h(),x(T,{key:2})):w("",!0)])]),_:2},1032,["to"]))),128)):(h(),x(oe,{key:1},{default:I(()=>[se(k(p(r)("no_bus_wants_to_stop_here_right_now")),1)]),_:1}))],64)):(h(),x(ce,{key:2,class:"m-auto text-3xl animate-spin"}))])])):(h(),x(oe,{key:1},{default:I(()=>[se(k(p(r)("this_stop_probably_does_not_exist"))+" ",1),p(o)(p(i))?(h(),x(Fe,{key:0,class:"mt-2",onClick:d[2]||(d[2]=()=>{p(n)(p(i)),u.$router.replace({name:"home"})})},{default:I(()=>[M(g,{class:"mr-2 text-yellow-300"}),f("span",null,k(p(r)("remove_favorite")),1)]),_:1})):w("",!0)]),_:1}))}}}),Ys=t=>(ot("data-v-0d0a21b8"),t=t(),it(),t),Ds={key:0,class:"flex flex-col min-h-0 flex-grow"},Ks={class:"flex pb-2 mb-2 border-b-1 dark:border-dark-100 space-x-2 items-center"},qs={class:"text-lg"},Ws={key:0,class:"overflow-y-auto"},Us={class:"w-14 min-w-12"},Gs=Ys(()=>f("div",{class:"pulsating border-3 border-red-700 border-solid rounded-full"},null,-1)),Js=[Gs],Zs={key:1,class:"rounded-full h-4 w-4 flex items-center justify-center bg-gray-800 dark:bg-gray-300"},Qs={class:"w-full"},Xs=N({__name:"BusPopup",props:{marker:null},setup(t){const e=t,{t:s}=W(),n=V(e,"marker");let o=null;const r=z(()=>je.value[n.value.id]),i=z(()=>!ue.value||!r.value?null:ue.value[r.value.tripId]);return Pe(r,async()=>{o!==null&&await re(o),r.value&&(o=`data.map.trip.${r.value.tripId}`,await ne(o,ue))},{immediate:!0}),Be(async()=>{o!==null&&await re(o)}),(a,c)=>{var m;const l=De,u=J("router-link"),d=Ye;return p(r)?(h(),v("div",Ds,[f("div",Ks,[p(r).type==="bus"?(h(),x(l,{key:0})):w("",!0),f("span",qs,k(p(r).name),1)]),p(i)?(h(),v(Y,{key:0},[(m=p(i).arrivals)!=null&&m.length?(h(),v("div",Ws,[(h(!0),v(Y,null,G(p(i).arrivals,(g,y)=>(h(),x(u,{key:g.id,to:{name:"map-marker",params:{markerType:"bus-stop",markerId:g.id}},class:X(["flex w-full items-center",{"text-gray-500":g.state==="departed","mt-6":y===0&&g.state==="predicted"}])},{default:I(()=>{var b;return[f("span",Us,k(g.planned),1),f("div",{class:X(["marker relative flex justify-center items-center mx-4 h-12 w-8 min-w-4 after:absolute after:top-0 after:h-full after:bg-gray-800 after:dark:bg-gray-300",{"after:bg-gray-500 after:dark:bg-gray-500":g.state==="departed"}])},[g.state!=="departed"&&(p(i).arrivals[y-1]===void 0||p(i).arrivals[y-1].state==="departed")?(h(),v("div",{key:0,class:X(["vehicle before:h-4 before:w-4 before:bg-red-700 before:rounded-full",{driving:g.state==="predicted"}])},Js,2)):w("",!0),g.state!=="departed"&&((b=p(i).arrivals[y-1])==null?void 0:b.state)!=="departed"||g.state==="predicted"?(h(),v("div",Zs)):w("",!0)],2),f("span",Qs,k(g.name),1)]}),_:2},1032,["to","class"]))),128))])):(h(),x(oe,{key:1},{default:I(()=>[se(k(p(s)("trip_expired")),1)]),_:1}))],64)):(h(),x(d,{key:1,class:"mx-auto mt-4 text-3xl animate-spin"}))])):(h(),x(oe,{key:1},{default:I(()=>[se(k(p(s)("trip_does_not_exist")),1)]),_:1}))}}});const qe=ae(Xs,[["__scopeId","data-v-0d0a21b8"]]),en=N({name:"MarkerPopup",components:{BusPopup:qe,BusStopPopup:Ke},props:{marker:{type:Object,required:!0}}}),tn={key:2};function sn(t,e,s,n,o,r){const i=qe,a=Ke;return t.marker.type==="bus"?(h(),x(i,{key:0,marker:t.marker},null,8,["marker"])):t.marker.type==="bus-stop"?(h(),x(a,{key:1,marker:t.marker},null,8,["marker"])):(h(),v("pre",tn,k(t.marker),1))}const nn=ae(en,[["render",sn]]);function O(t){return Array.isArray?Array.isArray(t):Ge(t)==="[object Array]"}const rn=1/0;function on(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-rn?"-0":e}function an(t){return t==null?"":on(t)}function L(t){return typeof t=="string"}function We(t){return typeof t=="number"}function cn(t){return t===!0||t===!1||ln(t)&&Ge(t)=="[object Boolean]"}function Ue(t){return typeof t=="object"}function ln(t){return Ue(t)&&t!==null}function A(t){return t!=null}function he(t){return!t.trim().length}function Ge(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const un="Incorrect 'index' type",dn=t=>`Invalid value for key ${t}`,hn=t=>`Pattern length exceeds max of ${t}.`,pn=t=>`Missing ${t} property in key`,fn=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ae=Object.prototype.hasOwnProperty;class _n{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(n=>{let o=Je(n);s+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,s+=o.weight}),this._keys.forEach(n=>{n.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Je(t){let e=null,s=null,n=null,o=1,r=null;if(L(t)||O(t))n=t,e=Ee(t),s=pe(t);else{if(!Ae.call(t,"name"))throw new Error(pn("name"));const i=t.name;if(n=i,Ae.call(t,"weight")&&(o=t.weight,o<=0))throw new Error(fn(i));e=Ee(i),s=pe(i),r=t.getFn}return{path:e,id:s,weight:o,src:n,getFn:r}}function Ee(t){return O(t)?t:t.split(".")}function pe(t){return O(t)?t.join("."):t}function mn(t,e){let s=[],n=!1;const o=(r,i,a)=>{if(!!A(r))if(!i[a])s.push(r);else{let c=i[a];const l=r[c];if(!A(l))return;if(a===i.length-1&&(L(l)||We(l)||cn(l)))s.push(an(l));else if(O(l)){n=!0;for(let u=0,d=l.length;u<d;u+=1)o(l[u],i,a+1)}else i.length&&o(l,i,a+1)}};return o(t,L(e)?e.split("."):e,0),n?s:s[0]}const gn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},yn={location:0,threshold:.6,distance:100},xn={useExtendedSearch:!1,getFn:mn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _={...vn,...gn,...yn,...xn};const kn=/[^ ]+/g;function bn(t=1,e=3){const s=new Map,n=Math.pow(10,e);return{get(o){const r=o.match(kn).length;if(s.has(r))return s.get(r);const i=1/Math.pow(r,.5*t),a=parseFloat(Math.round(i*n)/n);return s.set(r,a),a},clear(){s.clear()}}}class ke{constructor({getFn:e=_.getFn,fieldNormWeight:s=_.fieldNormWeight}={}){this.norm=bn(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,n)=>{this._keysMap[s.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,L(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();L(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,n=this.size();s<n;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!A(e)||he(e))return;let n={v:e,i:s,n:this.norm.get(e)};this.records.push(n)}_addObject(e,s){let n={i:s,$:{}};this.keys.forEach((o,r)=>{let i=o.getFn?o.getFn(e):this.getFn(e,o.path);if(!!A(i)){if(O(i)){let a=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:l,value:u}=c.pop();if(!!A(u))if(L(u)&&!he(u)){let d={v:u,i:l,n:this.norm.get(u)};a.push(d)}else O(u)&&u.forEach((d,m)=>{c.push({nestedArrIndex:m,value:d})})}n.$[r]=a}else if(L(i)&&!he(i)){let a={v:i,n:this.norm.get(i)};n.$[r]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ze(t,e,{getFn:s=_.getFn,fieldNormWeight:n=_.fieldNormWeight}={}){const o=new ke({getFn:s,fieldNormWeight:n});return o.setKeys(t.map(Je)),o.setSources(e),o.create(),o}function $n(t,{getFn:e=_.getFn,fieldNormWeight:s=_.fieldNormWeight}={}){const{keys:n,records:o}=t,r=new ke({getFn:e,fieldNormWeight:s});return r.setKeys(n),r.setIndexRecords(o),r}function Q(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:o=_.distance,ignoreLocation:r=_.ignoreLocation}={}){const i=e/t.length;if(r)return i;const a=Math.abs(n-s);return o?i+a/o:a?1:i}function wn(t=[],e=_.minMatchCharLength){let s=[],n=-1,o=-1,r=0;for(let i=t.length;r<i;r+=1){let a=t[r];a&&n===-1?n=r:!a&&n!==-1&&(o=r-1,o-n+1>=e&&s.push([n,o]),n=-1)}return t[r-1]&&r-n>=e&&s.push([n,r-1]),s}const H=32;function Mn(t,e,s,{location:n=_.location,distance:o=_.distance,threshold:r=_.threshold,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,includeMatches:c=_.includeMatches,ignoreLocation:l=_.ignoreLocation}={}){if(e.length>H)throw new Error(hn(H));const u=e.length,d=t.length,m=Math.max(0,Math.min(n,d));let g=r,y=m;const b=a>1||c,R=b?Array(d):[];let E;for(;(E=t.indexOf(e,y))>-1;){let S=Q(e,{currentLocation:E,expectedLocation:m,distance:o,ignoreLocation:l});if(g=Math.min(S,g),y=E+u,b){let P=0;for(;P<u;)R[E+P]=1,P+=1}}y=-1;let F=[],T=1,D=u+d;const ce=1<<u-1;for(let S=0;S<u;S+=1){let P=0,B=D;for(;P<B;)Q(e,{errors:S,currentLocation:m+B,expectedLocation:m,distance:o,ignoreLocation:l})<=g?P=B:D=B,B=Math.floor((D-P)/2+P);D=B;let be=Math.max(1,m-B+1),le=i?d:Math.min(m+B,d)+u,K=Array(le+2);K[le+1]=(1<<S)-1;for(let C=le;C>=be;C-=1){let Z=C-1,$e=s[t.charAt(Z)];if(b&&(R[Z]=+!!$e),K[C]=(K[C+1]<<1|1)&$e,S&&(K[C]|=(F[C+1]|F[C])<<1|1|F[C+1]),K[C]&ce&&(T=Q(e,{errors:S,currentLocation:Z,expectedLocation:m,distance:o,ignoreLocation:l}),T<=g)){if(g=T,y=Z,y<=m)break;be=Math.max(1,2*m-y)}}if(Q(e,{errors:S+1,currentLocation:m,expectedLocation:m,distance:o,ignoreLocation:l})>g)break;F=K}const $={isMatch:y>=0,score:Math.max(.001,T)};if(b){const S=wn(R,a);S.length?c&&($.indices=S):$.isMatch=!1}return $}function Sn(t){let e={};for(let s=0,n=t.length;s<n;s+=1){const o=t.charAt(s);e[o]=(e[o]||0)|1<<n-s-1}return e}class Qe{constructor(e,{location:s=_.location,threshold:n=_.threshold,distance:o=_.distance,includeMatches:r=_.includeMatches,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,isCaseSensitive:c=_.isCaseSensitive,ignoreLocation:l=_.ignoreLocation}={}){if(this.options={location:s,threshold:n,distance:o,includeMatches:r,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(m,g)=>{this.chunks.push({pattern:m,alphabet:Sn(m),startIndex:g})},d=this.pattern.length;if(d>H){let m=0;const g=d%H,y=d-g;for(;m<y;)u(this.pattern.substr(m,H),m),m+=H;if(g){const b=d-H;u(this.pattern.substr(b),b)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,includeMatches:n}=this.options;if(s||(e=e.toLowerCase()),this.pattern===e){let y={isMatch:!0,score:0};return n&&(y.indices=[[0,e.length-1]]),y}const{location:o,distance:r,threshold:i,findAllMatches:a,minMatchCharLength:c,ignoreLocation:l}=this.options;let u=[],d=0,m=!1;this.chunks.forEach(({pattern:y,alphabet:b,startIndex:R})=>{const{isMatch:E,score:F,indices:T}=Mn(e,y,b,{location:o+R,distance:r,threshold:i,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:l});E&&(m=!0),d+=F,E&&T&&(u=[...u,...T])});let g={isMatch:m,score:m?d/this.chunks.length:1};return m&&n&&(g.indices=u),g}}class j{constructor(e){this.pattern=e}static isMultiMatch(e){return Ce(e,this.multiRegex)}static isSingleMatch(e){return Ce(e,this.singleRegex)}search(){}}function Ce(t,e){const s=t.match(e);return s?s[1]:null}class In extends j{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class An extends j{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class En extends j{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Cn extends j{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Ln extends j{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class zn extends j{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Xe extends j{constructor(e,{location:s=_.location,threshold:n=_.threshold,distance:o=_.distance,includeMatches:r=_.includeMatches,findAllMatches:i=_.findAllMatches,minMatchCharLength:a=_.minMatchCharLength,isCaseSensitive:c=_.isCaseSensitive,ignoreLocation:l=_.ignoreLocation}={}){super(e),this._bitapSearch=new Qe(e,{location:s,threshold:n,distance:o,includeMatches:r,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class et extends j{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,n;const o=[],r=this.pattern.length;for(;(n=e.indexOf(this.pattern,s))>-1;)s=n+r,o.push([n,s-1]);const i=!!o.length;return{isMatch:i,score:i?0:1,indices:o}}}const fe=[In,et,En,Cn,zn,Ln,An,Xe],Le=fe.length,Rn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Tn="|";function On(t,e={}){return t.split(Tn).map(s=>{let n=s.trim().split(Rn).filter(r=>r&&!!r.trim()),o=[];for(let r=0,i=n.length;r<i;r+=1){const a=n[r];let c=!1,l=-1;for(;!c&&++l<Le;){const u=fe[l];let d=u.isMultiMatch(a);d&&(o.push(new u(d,e)),c=!0)}if(!c)for(l=-1;++l<Le;){const u=fe[l];let d=u.isSingleMatch(a);if(d){o.push(new u(d,e));break}}}return o})}const Nn=new Set([Xe.type,et.type]);class Fn{constructor(e,{isCaseSensitive:s=_.isCaseSensitive,includeMatches:n=_.includeMatches,minMatchCharLength:o=_.minMatchCharLength,ignoreLocation:r=_.ignoreLocation,findAllMatches:i=_.findAllMatches,location:a=_.location,threshold:c=_.threshold,distance:l=_.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:n,minMatchCharLength:o,findAllMatches:i,ignoreLocation:r,location:a,threshold:c,distance:l},this.pattern=s?e:e.toLowerCase(),this.query=On(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let r=0,i=[],a=0;for(let c=0,l=s.length;c<l;c+=1){const u=s[c];i.length=0,r=0;for(let d=0,m=u.length;d<m;d+=1){const g=u[d],{isMatch:y,indices:b,score:R}=g.search(e);if(y){if(r+=1,a+=R,n){const E=g.constructor.type;Nn.has(E)?i=[...i,...b]:i.push(b)}}else{a=0,r=0,i.length=0;break}}if(r){let d={isMatch:!0,score:a/r};return n&&(d.indices=i),d}}return{isMatch:!1,score:1}}}const _e=[];function Pn(...t){_e.push(...t)}function me(t,e){for(let s=0,n=_e.length;s<n;s+=1){let o=_e[s];if(o.condition(t,e))return new o(t,e)}return new Qe(t,e)}const ie={AND:"$and",OR:"$or"},ge={PATH:"$path",PATTERN:"$val"},ve=t=>!!(t[ie.AND]||t[ie.OR]),Bn=t=>!!t[ge.PATH],jn=t=>!O(t)&&Ue(t)&&!ve(t),ze=t=>({[ie.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function tt(t,e,{auto:s=!0}={}){const n=o=>{let r=Object.keys(o);const i=Bn(o);if(!i&&r.length>1&&!ve(o))return n(ze(o));if(jn(o)){const c=i?o[ge.PATH]:r[0],l=i?o[ge.PATTERN]:o[c];if(!L(l))throw new Error(dn(c));const u={keyId:pe(c),pattern:l};return s&&(u.searcher=me(l,e)),u}let a={children:[],operator:r[0]};return r.forEach(c=>{const l=o[c];O(l)&&l.forEach(u=>{a.children.push(n(u))})}),a};return ve(t)||(t=ze(t)),n(t)}function Hn(t,{ignoreFieldNorm:e=_.ignoreFieldNorm}){t.forEach(s=>{let n=1;s.matches.forEach(({key:o,norm:r,score:i})=>{const a=o?o.weight:null;n*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(e?1:r))}),s.score=n})}function Vn(t,e){const s=t.matches;e.matches=[],A(s)&&s.forEach(n=>{if(!A(n.indices)||!n.indices.length)return;const{indices:o,value:r}=n;let i={indices:o,value:r};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function Yn(t,e){e.score=t.score}function Dn(t,e,{includeMatches:s=_.includeMatches,includeScore:n=_.includeScore}={}){const o=[];return s&&o.push(Vn),n&&o.push(Yn),t.map(r=>{const{idx:i}=r,a={item:e[i],refIndex:i};return o.length&&o.forEach(c=>{c(r,a)}),a})}class U{constructor(e,s={},n){this.options={..._,...s},this.options.useExtendedSearch,this._keyStore=new _n(this.options.keys),this.setCollection(e,n)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof ke))throw new Error(un);this._myIndex=s||Ze(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!A(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let n=0,o=this._docs.length;n<o;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,o-=1,s.push(r))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:n,includeScore:o,shouldSort:r,sortFn:i,ignoreFieldNorm:a}=this.options;let c=L(e)?L(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Hn(c,{ignoreFieldNorm:a}),r&&c.sort(i),We(s)&&s>-1&&(c=c.slice(0,s)),Dn(c,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(e){const s=me(e,this.options),{records:n}=this._myIndex,o=[];return n.forEach(({v:r,i,n:a})=>{if(!A(r))return;const{isMatch:c,score:l,indices:u}=s.searchIn(r);c&&o.push({item:r,idx:i,matches:[{score:l,value:r,norm:a,indices:u}]})}),o}_searchLogical(e){const s=tt(e,this.options),n=(a,c,l)=>{if(!a.children){const{keyId:d,searcher:m}=a,g=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:m});return g&&g.length?[{idx:l,item:c,matches:g}]:[]}const u=[];for(let d=0,m=a.children.length;d<m;d+=1){const g=a.children[d],y=n(g,c,l);if(y.length)u.push(...y);else if(a.operator===ie.AND)return[]}return u},o=this._myIndex.records,r={},i=[];return o.forEach(({$:a,i:c})=>{if(A(a)){let l=n(s,a,c);l.length&&(r[c]||(r[c]={idx:c,item:a,matches:[]},i.push(r[c])),l.forEach(({matches:u})=>{r[c].matches.push(...u)}))}}),i}_searchObjectList(e){const s=me(e,this.options),{keys:n,records:o}=this._myIndex,r=[];return o.forEach(({$:i,i:a})=>{if(!A(i))return;let c=[];n.forEach((l,u)=>{c.push(...this._findMatches({key:l,value:i[u],searcher:s}))}),c.length&&r.push({idx:a,item:i,matches:c})}),r}_findMatches({key:e,value:s,searcher:n}){if(!A(s))return[];let o=[];if(O(s))s.forEach(({v:r,i,n:a})=>{if(!A(r))return;const{isMatch:c,score:l,indices:u}=n.searchIn(r);c&&o.push({score:l,key:e,value:r,idx:i,norm:a,indices:u})});else{const{v:r,n:i}=s,{isMatch:a,score:c,indices:l}=n.searchIn(r);a&&o.push({score:c,key:e,value:r,norm:i,indices:l})}return o}}U.version="6.6.2";U.createIndex=Ze;U.parseIndex=$n;U.config=_;U.parseQuery=tt;Pn(Fn);const Kn=N({name:"SearchPopup",props:{searchInput:{type:String,default:""}},emits:{"update:search-input":t=>!0},setup(t){const{t:e}=W(),s=V(t,"searchInput"),n=z(()=>[...Object.values(te.value)]),o=z(()=>new U(n.value,{includeScore:!0,keys:["name"],threshold:.4})),r=z(()=>s.value===""||s.value.length<3?[]:o.value.search(s.value).slice(0,20));return at(async()=>{await ne("data.map.vehicle.>",je),await ne("data.map.stop.>",te)}),{t:e,searchResults:r}}}),qn={class:"flex flex-col min-h-0 flex-grow"},Wn={class:"flex pb-2 mb-2 border-b-1 dark:border-dark-100 space-x-2 items-center"},Un={class:"text-lg"},Gn={key:0,class:"m-auto max-w-52 text-center text-xl"},Jn={key:1,class:"m-auto max-w-52 text-center text-xl"},Zn={class:"flex flex-col overflow-y-auto"},Qn={class:""};function Xn(t,e,s,n,o,r){const i=ct,a=ye,c=J("router-link");return h(),v("div",qn,[f("div",Wn,[M(i),f("span",Un,k(t.t("search_result")),1)]),t.searchResults.length===0&&t.searchInput.length<3?(h(),v("div",Gn,[f("p",null,k(t.t("search_stop_vehicle")),1)])):t.searchResults.length===0&&t.searchInput.length>=3?(h(),v("div",Jn,[f("p",null,k(t.t("no_entry")),1)])):w("",!0),f("div",Zn,[(h(!0),v(Y,null,G(t.searchResults,l=>(h(),x(c,{key:l.refIndex,to:{name:"map-marker",params:{markerType:l.item.type,markerId:l.item.id}},class:"flex py-2 not-last:border-b-1 dark:border-dark-300 max-w-full",onClick:e[0]||(e[0]=u=>t.$emit("update:search-input",""))},{default:I(()=>[l.item.type==="bus-stop"?(h(),x(a,{key:0,class:"mr-2"})):w("",!0),f("div",Qn,k(l.item.name),1)]),_:2},1032,["to"]))),128))])])}const er=ae(Kn,[["render",Xn]]),tr={class:"relative h-full w-full items-center justify-center overflow-hidden"},or=N({__name:"Home",setup(t){const e=lt(()=>dt(()=>import("./Map.f491229c.js"),["assets/Map.f491229c.js","assets/Map.822cd53e.css","assets/index.a920cb1c.js","assets/index.9be9692b.css"])),{liteMode:s}=ut(),n=Te(),o=Oe(),r=z({get(){if(n.name==="map-marker")return{type:n.params.markerType,id:n.params.markerId}},set(a){if(!a){o.replace({name:"home"});return}o.replace({name:"map-marker",params:{markerType:a.type,markerId:a.id}})}}),i=ee("");return(a,c)=>(h(),v("div",tr,[M(St,{"search-input":i.value,"onUpdate:search-input":c[0]||(c[0]=l=>i.value=l)},null,8,["search-input"]),M(de,{"is-open":!!p(r),"disable-resize":p(s),size:p(s)?"1":"3/4",onClose:c[1]||(c[1]=l=>r.value=void 0)},{default:I(()=>[p(r)?(h(),x(nn,{key:0,marker:p(r)},null,8,["marker"])):w("",!0)]),_:1},8,["is-open","disable-resize","size"]),M(de,{"is-open":a.$route.name==="search","disable-resize":p(s),size:p(s)?"1":"1/2",onClose:c[3]||(c[3]=l=>a.$router.replace({name:"home"}))},{default:I(()=>[M(er,{"search-input":i.value,"onUpdate:search-input":c[2]||(c[2]=l=>i.value=l)},null,8,["search-input"])]),_:1},8,["is-open","disable-resize","size"]),M(de,{"is-open":a.$route.name==="favorites","disable-resize":p(s),size:p(s)?"1":"1/2",onClose:c[4]||(c[4]=l=>a.$router.replace({name:"home"}))},{default:I(()=>[M(jt)]),_:1},8,["is-open","disable-resize","size"]),p(s)?w("",!0):(h(),x(p(e),{key:0,"selected-marker":p(r),onMarkerClick:c[5]||(c[5]=l=>r.value=l)},null,8,["selected-marker"]))]))}});export{or as default};
//# sourceMappingURL=Home.3aaf754b.js.map
