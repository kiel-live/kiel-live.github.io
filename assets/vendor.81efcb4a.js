var Sc=Object.defineProperty;var Ac=(e,t,s)=>t in e?Sc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var h=(e,t,s)=>(Ac(e,typeof t!="symbol"?t+"":t,s),s);function br(e,t){const s=Object.create(null),r=e.split(",");for(let n=0;n<r.length;n++)s[r[n]]=!0;return t?n=>!!s[n.toLowerCase()]:n=>!!s[n]}const Cc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oc=br(Cc);function Rn(e){return!!e||e===""}function _r(e){if(J(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=be(r)?Ic(r):_r(r);if(n)for(const i in n)t[i]=n[i]}return t}else{if(be(e))return e;if(me(e))return e}}const xc=/;(?![^(]*\))/g,kc=/:(.+)/;function Ic(e){const t={};return e.split(xc).forEach(s=>{if(s){const r=s.split(kc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yr(e){let t="";if(be(e))t=e;else if(J(e))for(let s=0;s<e.length;s++){const r=yr(e[s]);r&&(t+=r+" ")}else if(me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ih=e=>be(e)?e:e==null?"":J(e)||me(e)&&(e.toString===Fn||!X(e.toString))?JSON.stringify(e,Mn,2):String(e),Mn=(e,t)=>t&&t.__v_isRef?Mn(e,t.value):jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n])=>(s[`${r} =>`]=n,s),{})}:Nn(t)?{[`Set(${t.size})`]:[...t.values()]}:me(t)&&!J(t)&&!jn(t)?String(t):t,ue={},Ft=[],De=()=>{},Rc=()=>!1,Mc=/^on[^a-z]/,Os=e=>Mc.test(e),wr=e=>e.startsWith("onUpdate:"),Se=Object.assign,vr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Nc=Object.prototype.hasOwnProperty,ee=(e,t)=>Nc.call(e,t),J=Array.isArray,jt=e=>xs(e)==="[object Map]",Nn=e=>xs(e)==="[object Set]",X=e=>typeof e=="function",be=e=>typeof e=="string",Er=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Tn=e=>me(e)&&X(e.then)&&X(e.catch),Fn=Object.prototype.toString,xs=e=>Fn.call(e),Tc=e=>xs(e).slice(8,-1),jn=e=>xs(e)==="[object Object]",Pr=e=>be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ks=br(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Is=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Fc=/-(\w)/g,Je=Is(e=>e.replace(Fc,(t,s)=>s?s.toUpperCase():"")),jc=/\B([A-Z])/g,yt=Is(e=>e.replace(jc,"-$1").toLowerCase()),Rs=Is(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sr=Is(e=>e?`on${Rs(e)}`:""),ts=(e,t)=>!Object.is(e,t),Ar=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Ms=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},$c=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $n;const Uc=()=>$n||($n=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ye;class Lc{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Ye&&(this.parent=Ye,this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}run(t){if(this.active){const s=Ye;try{return Ye=this,t()}finally{Ye=s}}}on(){Ye=this}off(){Ye=this.parent}stop(t){if(this.active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function qc(e,t=Ye){t&&t.active&&t.effects.push(e)}const Cr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Un=e=>(e.w&lt)>0,Ln=e=>(e.n&lt)>0,Bc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=lt},Dc=e=>{const{deps:t}=e;if(t.length){let s=0;for(let r=0;r<t.length;r++){const n=t[r];Un(n)&&!Ln(n)?n.delete(e):t[s++]=n,n.w&=~lt,n.n&=~lt}t.length=s}},Or=new WeakMap;let ss=0,lt=1;const xr=30;let He;const wt=Symbol(""),kr=Symbol("");class Ir{constructor(t,s=null,r){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,qc(this,r)}run(){if(!this.active)return this.fn();let t=He,s=ut;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=He,He=this,ut=!0,lt=1<<++ss,ss<=xr?Bc(this):qn(this),this.fn()}finally{ss<=xr&&Dc(this),lt=1<<--ss,He=this.parent,ut=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){He===this?this.deferStop=!0:this.active&&(qn(this),this.onStop&&this.onStop(),this.active=!1)}}function qn(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let ut=!0;const Bn=[];function $t(){Bn.push(ut),ut=!1}function Ut(){const e=Bn.pop();ut=e===void 0?!0:e}function Me(e,t,s){if(ut&&He){let r=Or.get(e);r||Or.set(e,r=new Map);let n=r.get(s);n||r.set(s,n=Cr()),Dn(n)}}function Dn(e,t){let s=!1;ss<=xr?Ln(e)||(e.n|=lt,s=!Un(e)):s=!e.has(He),s&&(e.add(He),He.deps.push(e))}function st(e,t,s,r,n,i){const o=Or.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(s==="length"&&J(e))o.forEach((a,l)=>{(l==="length"||l>=r)&&c.push(a)});else switch(s!==void 0&&c.push(o.get(s)),t){case"add":J(e)?Pr(s)&&c.push(o.get("length")):(c.push(o.get(wt)),jt(e)&&c.push(o.get(kr)));break;case"delete":J(e)||(c.push(o.get(wt)),jt(e)&&c.push(o.get(kr)));break;case"set":jt(e)&&c.push(o.get(wt));break}if(c.length===1)c[0]&&Rr(c[0]);else{const a=[];for(const l of c)l&&a.push(...l);Rr(Cr(a))}}function Rr(e,t){for(const s of J(e)?e:[...e])(s!==He||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const Hc=br("__proto__,__v_isRef,__isVue"),Hn=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Er)),Kc=Mr(),zc=Mr(!1,!0),Gc=Mr(!0),Kn=Wc();function Wc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const r=ce(this);for(let i=0,o=this.length;i<o;i++)Me(r,"get",i+"");const n=r[t](...s);return n===-1||n===!1?r[t](...s.map(ce)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){$t();const r=ce(this)[t].apply(this,s);return Ut(),r}}),e}function Mr(e=!1,t=!1){return function(r,n,i){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&i===(e?t?la:Zn:t?Qn:Xn).get(r))return r;const o=J(r);if(!e&&o&&ee(Kn,n))return Reflect.get(Kn,n,i);const c=Reflect.get(r,n,i);return(Er(n)?Hn.has(n):Hc(n))||(e||Me(r,"get",n),t)?c:_e(c)?!o||!Pr(n)?c.value:c:me(c)?e?ei(c):rs(c):c}}const Vc=zn(),Jc=zn(!0);function zn(e=!1){return function(s,r,n,i){let o=s[r];if(ns(o)&&_e(o)&&!_e(n))return!1;if(!e&&!ns(n)&&(ti(n)||(n=ce(n),o=ce(o)),!J(s)&&_e(o)&&!_e(n)))return o.value=n,!0;const c=J(s)&&Pr(r)?Number(r)<s.length:ee(s,r),a=Reflect.set(s,r,n,i);return s===ce(i)&&(c?ts(n,o)&&st(s,"set",r,n):st(s,"add",r,n)),a}}function Yc(e,t){const s=ee(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&s&&st(e,"delete",t,void 0),r}function Xc(e,t){const s=Reflect.has(e,t);return(!Er(t)||!Hn.has(t))&&Me(e,"has",t),s}function Qc(e){return Me(e,"iterate",J(e)?"length":wt),Reflect.ownKeys(e)}const Gn={get:Kc,set:Vc,deleteProperty:Yc,has:Xc,ownKeys:Qc},Zc={get:Gc,set(e,t){return!0},deleteProperty(e,t){return!0}},ea=Se({},Gn,{get:zc,set:Jc}),Nr=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function Ts(e,t,s=!1,r=!1){e=e.__v_raw;const n=ce(e),i=ce(t);t!==i&&!s&&Me(n,"get",t),!s&&Me(n,"get",i);const{has:o}=Ns(n),c=r?Nr:s?jr:is;if(o.call(n,t))return c(e.get(t));if(o.call(n,i))return c(e.get(i));e!==n&&e.get(t)}function Fs(e,t=!1){const s=this.__v_raw,r=ce(s),n=ce(e);return e!==n&&!t&&Me(r,"has",e),!t&&Me(r,"has",n),e===n?s.has(e):s.has(e)||s.has(n)}function js(e,t=!1){return e=e.__v_raw,!t&&Me(ce(e),"iterate",wt),Reflect.get(e,"size",e)}function Wn(e){e=ce(e);const t=ce(this);return Ns(t).has.call(t,e)||(t.add(e),st(t,"add",e,e)),this}function Vn(e,t){t=ce(t);const s=ce(this),{has:r,get:n}=Ns(s);let i=r.call(s,e);i||(e=ce(e),i=r.call(s,e));const o=n.call(s,e);return s.set(e,t),i?ts(t,o)&&st(s,"set",e,t):st(s,"add",e,t),this}function Jn(e){const t=ce(this),{has:s,get:r}=Ns(t);let n=s.call(t,e);n||(e=ce(e),n=s.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return n&&st(t,"delete",e,void 0),i}function Yn(){const e=ce(this),t=e.size!==0,s=e.clear();return t&&st(e,"clear",void 0,void 0),s}function $s(e,t){return function(r,n){const i=this,o=i.__v_raw,c=ce(o),a=t?Nr:e?jr:is;return!e&&Me(c,"iterate",wt),o.forEach((l,f)=>r.call(n,a(l),a(f),i))}}function Us(e,t,s){return function(...r){const n=this.__v_raw,i=ce(n),o=jt(i),c=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,l=n[e](...r),f=s?Nr:t?jr:is;return!t&&Me(i,"iterate",a?kr:wt),{next(){const{value:g,done:d}=l.next();return d?{value:g,done:d}:{value:c?[f(g[0]),f(g[1])]:f(g),done:d}},[Symbol.iterator](){return this}}}}function ft(e){return function(...t){return e==="delete"?!1:this}}function ta(){const e={get(i){return Ts(this,i)},get size(){return js(this)},has:Fs,add:Wn,set:Vn,delete:Jn,clear:Yn,forEach:$s(!1,!1)},t={get(i){return Ts(this,i,!1,!0)},get size(){return js(this)},has:Fs,add:Wn,set:Vn,delete:Jn,clear:Yn,forEach:$s(!1,!0)},s={get(i){return Ts(this,i,!0)},get size(){return js(this,!0)},has(i){return Fs.call(this,i,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:$s(!0,!1)},r={get(i){return Ts(this,i,!0,!0)},get size(){return js(this,!0)},has(i){return Fs.call(this,i,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:$s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Us(i,!1,!1),s[i]=Us(i,!0,!1),t[i]=Us(i,!1,!0),r[i]=Us(i,!0,!0)}),[e,s,t,r]}const[sa,ra,na,ia]=ta();function Tr(e,t){const s=t?e?ia:na:e?ra:sa;return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(ee(s,n)&&n in r?s:r,n,i)}const oa={get:Tr(!1,!1)},ca={get:Tr(!1,!0)},aa={get:Tr(!0,!1)},Xn=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,la=new WeakMap;function ua(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fa(e){return e.__v_skip||!Object.isExtensible(e)?0:ua(Tc(e))}function rs(e){return ns(e)?e:Fr(e,!1,Gn,oa,Xn)}function ha(e){return Fr(e,!1,ea,ca,Qn)}function ei(e){return Fr(e,!0,Zc,aa,Zn)}function Fr(e,t,s,r,n){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=fa(e);if(o===0)return e;const c=new Proxy(e,o===2?r:s);return n.set(e,c),c}function Lt(e){return ns(e)?Lt(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function ti(e){return!!(e&&e.__v_isShallow)}function si(e){return Lt(e)||ns(e)}function ce(e){const t=e&&e.__v_raw;return t?ce(t):e}function ri(e){return Ms(e,"__v_skip",!0),e}const is=e=>me(e)?rs(e):e,jr=e=>me(e)?ei(e):e;function ni(e){ut&&He&&(e=ce(e),Dn(e.dep||(e.dep=Cr())))}function ii(e,t){e=ce(e),e.dep&&Rr(e.dep)}function _e(e){return!!(e&&e.__v_isRef===!0)}function da(e){return oi(e,!1)}function pa(e){return oi(e,!0)}function oi(e,t){return _e(e)?e:new ga(e,t)}class ga{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ce(t),this._value=s?t:is(t)}get value(){return ni(this),this._value}set value(t){t=this.__v_isShallow?t:ce(t),ts(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:is(t),ii(this))}}function os(e){return _e(e)?e.value:e}const ma={get:(e,t,s)=>os(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return _e(n)&&!_e(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function ci(e){return Lt(e)?e:new Proxy(e,ma)}class ba{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Rh(e,t,s){const r=e[t];return _e(r)?r:new ba(e,t,s)}class _a{constructor(t,s,r,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ir(t,()=>{this._dirty||(this._dirty=!0,ii(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const t=ce(this);return ni(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ya(e,t,s=!1){let r,n;const i=X(e);return i?(r=e,n=De):(r=e.get,n=e.set),new _a(r,n,i||!n,s)}function ht(e,t,s,r){let n;try{n=r?e(...r):e()}catch(i){Ls(i,t,s)}return n}function Ke(e,t,s,r){if(X(e)){const i=ht(e,t,s,r);return i&&Tn(i)&&i.catch(o=>{Ls(o,t,s)}),i}const n=[];for(let i=0;i<e.length;i++)n.push(Ke(e[i],t,s,r));return n}function Ls(e,t,s,r=!0){const n=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,c=s;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,o,c)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){ht(a,null,10,[e,o,c]);return}}wa(e,s,n,r)}function wa(e,t,s,r=!0){console.error(e)}let qs=!1,$r=!1;const Ne=[];let rt=0;const cs=[];let as=null,qt=0;const ls=[];let dt=null,Bt=0;const ai=Promise.resolve();let Ur=null,Lr=null;function li(e){const t=Ur||ai;return e?t.then(this?e.bind(this):e):t}function va(e){let t=rt+1,s=Ne.length;for(;t<s;){const r=t+s>>>1;us(Ne[r])<e?t=r+1:s=r}return t}function ui(e){(!Ne.length||!Ne.includes(e,qs&&e.allowRecurse?rt+1:rt))&&e!==Lr&&(e.id==null?Ne.push(e):Ne.splice(va(e.id),0,e),fi())}function fi(){!qs&&!$r&&($r=!0,Ur=ai.then(pi))}function Ea(e){const t=Ne.indexOf(e);t>rt&&Ne.splice(t,1)}function hi(e,t,s,r){J(e)?s.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&s.push(e),fi()}function Pa(e){hi(e,as,cs,qt)}function Sa(e){hi(e,dt,ls,Bt)}function qr(e,t=null){if(cs.length){for(Lr=t,as=[...new Set(cs)],cs.length=0,qt=0;qt<as.length;qt++)as[qt]();as=null,qt=0,Lr=null,qr(e,t)}}function di(e){if(ls.length){const t=[...new Set(ls)];if(ls.length=0,dt){dt.push(...t);return}for(dt=t,dt.sort((s,r)=>us(s)-us(r)),Bt=0;Bt<dt.length;Bt++)dt[Bt]();dt=null,Bt=0}}const us=e=>e.id==null?1/0:e.id;function pi(e){$r=!1,qs=!0,qr(e),Ne.sort((s,r)=>us(s)-us(r));const t=De;try{for(rt=0;rt<Ne.length;rt++){const s=Ne[rt];s&&s.active!==!1&&ht(s,null,14)}}finally{rt=0,Ne.length=0,di(),qs=!1,Ur=null,(Ne.length||cs.length||ls.length)&&pi(e)}}function Aa(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||ue;let n=s;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:g,trim:d}=r[f]||ue;d?n=s.map(b=>b.trim()):g&&(n=s.map($c))}let c,a=r[c=Sr(t)]||r[c=Sr(Je(t))];!a&&i&&(a=r[c=Sr(yt(t))]),a&&Ke(a,e,6,n);const l=r[c+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Ke(l,e,6,n)}}function gi(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},c=!1;if(!X(e)){const a=l=>{const f=gi(l,t,!0);f&&(c=!0,Se(o,f))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!c?(r.set(e,null),null):(J(i)?i.forEach(a=>o[a]=null):Se(o,i),r.set(e,o),o)}function Bs(e,t){return!e||!Os(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,yt(t))||ee(e,t))}let Ae=null,Ds=null;function Hs(e){const t=Ae;return Ae=e,Ds=e&&e.type.__scopeId||null,t}function Mh(e){Ds=e}function Nh(){Ds=null}function Ca(e,t=Ae,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Di(-1);const i=Hs(t),o=e(...n);return Hs(i),r._d&&Di(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function Br(e){const{type:t,vnode:s,proxy:r,withProxy:n,props:i,propsOptions:[o],slots:c,attrs:a,emit:l,render:f,renderCache:g,data:d,setupState:b,ctx:R,inheritAttrs:z}=e;let F,U;const Y=Hs(e);try{if(s.shapeFlag&4){const ae=n||r;F=Qe(f.call(ae,ae,g,i,b,d,R)),U=a}else{const ae=t;F=Qe(ae.length>1?ae(i,{attrs:a,slots:c,emit:l}):ae(i,null)),U=t.props?a:Oa(a)}}catch(ae){fs.length=0,Ls(ae,e,1),F=ke(pt)}let ie=F;if(U&&z!==!1){const ae=Object.keys(U),{shapeFlag:Ee}=ie;ae.length&&Ee&(1|6)&&(o&&ae.some(wr)&&(U=xa(U,o)),ie=ds(ie,U))}return s.dirs&&(ie.dirs=ie.dirs?ie.dirs.concat(s.dirs):s.dirs),s.transition&&(ie.transition=s.transition),F=ie,Hs(Y),F}const Oa=e=>{let t;for(const s in e)(s==="class"||s==="style"||Os(s))&&((t||(t={}))[s]=e[s]);return t},xa=(e,t)=>{const s={};for(const r in e)(!wr(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function ka(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:c,patchFlag:a}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return r?mi(r,o,l):!!o;if(a&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const d=f[g];if(o[d]!==r[d]&&!Bs(l,d))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?mi(r,o,l):!0:!!o;return!1}function mi(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!Bs(s,i))return!0}return!1}function Ia({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Ra=e=>e.__isSuspense;function Ma(e,t){t&&t.pendingBranch?J(e)?t.effects.push(...e):t.effects.push(e):Sa(e)}function Ks(e,t){if(we){let s=we.provides;const r=we.parent&&we.parent.provides;r===s&&(s=we.provides=Object.create(r)),s[e]=t}}function Xe(e,t,s=!1){const r=we||Ae;if(r){const n=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&X(t)?t.call(r.proxy):t}}const bi={};function zs(e,t,s){return _i(e,t,s)}function _i(e,t,{immediate:s,deep:r,flush:n,onTrack:i,onTrigger:o}=ue){const c=we;let a,l=!1,f=!1;if(_e(e)?(a=()=>e.value,l=ti(e)):Lt(e)?(a=()=>e,r=!0):J(e)?(f=!0,l=e.some(Lt),a=()=>e.map(U=>{if(_e(U))return U.value;if(Lt(U))return vt(U);if(X(U))return ht(U,c,2)})):X(e)?t?a=()=>ht(e,c,2):a=()=>{if(!(c&&c.isUnmounted))return g&&g(),Ke(e,c,3,[d])}:a=De,t&&r){const U=a;a=()=>vt(U())}let g,d=U=>{g=F.onStop=()=>{ht(U,c,4)}};if(ps)return d=De,t?s&&Ke(t,c,3,[a(),f?[]:void 0,d]):a(),De;let b=f?[]:bi;const R=()=>{if(!!F.active)if(t){const U=F.run();(r||l||(f?U.some((Y,ie)=>ts(Y,b[ie])):ts(U,b)))&&(g&&g(),Ke(t,c,3,[U,b===bi?void 0:b,d]),b=U)}else F.run()};R.allowRecurse=!!t;let z;n==="sync"?z=R:n==="post"?z=()=>xe(R,c&&c.suspense):z=()=>{!c||c.isMounted?Pa(R):R()};const F=new Ir(a,z);return t?s?R():b=F.run():n==="post"?xe(F.run.bind(F),c&&c.suspense):F.run(),()=>{F.stop(),c&&c.scope&&vr(c.scope.effects,F)}}function Na(e,t,s){const r=this.proxy,n=be(e)?e.includes(".")?yi(r,e):()=>r[e]:e.bind(r,r);let i;X(t)?i=t:(i=t.handler,s=t);const o=we;Dt(this);const c=_i(n,i.bind(r),s);return o?Dt(o):Ct(),c}function yi(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}function vt(e,t){if(!me(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_e(e))vt(e.value,t);else if(J(e))for(let s=0;s<e.length;s++)vt(e[s],t);else if(Nn(e)||jt(e))e.forEach(s=>{vt(s,t)});else if(jn(e))for(const s in e)vt(e[s],t);return e}function wi(e){return X(e)?{setup:e,name:e.name}:e}const Gs=e=>!!e.type.__asyncLoader,vi=e=>e.type.__isKeepAlive;function Ta(e,t){Ei(e,"a",t)}function Fa(e,t){Ei(e,"da",t)}function Ei(e,t,s=we){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ws(t,r,s),s){let n=s.parent;for(;n&&n.parent;)vi(n.parent.vnode)&&ja(r,t,s,n),n=n.parent}}function ja(e,t,s,r){const n=Ws(t,e,r,!0);Pi(()=>{vr(r[t],n)},s)}function Ws(e,t,s=we,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;$t(),Dt(s);const c=Ke(t,s,e,o);return Ct(),Ut(),c});return r?n.unshift(i):n.push(i),i}}const nt=e=>(t,s=we)=>(!ps||e==="sp")&&Ws(e,t,s),$a=nt("bm"),Ua=nt("m"),La=nt("bu"),qa=nt("u"),Ba=nt("bum"),Pi=nt("um"),Da=nt("sp"),Ha=nt("rtg"),Ka=nt("rtc");function za(e,t=we){Ws("ec",e,t)}let Dr=!0;function Ga(e){const t=Ci(e),s=e.proxy,r=e.ctx;Dr=!1,t.beforeCreate&&Si(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:c,provide:a,inject:l,created:f,beforeMount:g,mounted:d,beforeUpdate:b,updated:R,activated:z,deactivated:F,beforeDestroy:U,beforeUnmount:Y,destroyed:ie,unmounted:ae,render:Ee,renderTracked:Pe,renderTriggered:qe,errorCaptured:at,serverPrefetch:$e,expose:We,inheritAttrs:Ue,components:Ie,directives:tt,filters:w}=t;if(l&&Wa(l,r,null,e.appContext.config.unwrapInjectedRef),o)for(const L in o){const H=o[L];X(H)&&(r[L]=H.bind(s))}if(n){const L=n.call(s,s);me(L)&&(e.data=rs(L))}if(Dr=!0,i)for(const L in i){const H=i[L],Q=X(H)?H.bind(s,s):X(H.get)?H.get.bind(s,s):De,Z=!X(H)&&X(H.set)?H.set.bind(s):De,te=et({get:Q,set:Z});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>te.value,set:oe=>te.value=oe})}if(c)for(const L in c)Ai(c[L],r,s,L);if(a){const L=X(a)?a.call(s):a;Reflect.ownKeys(L).forEach(H=>{Ks(H,L[H])})}f&&Si(f,e,"c");function K(L,H){J(H)?H.forEach(Q=>L(Q.bind(s))):H&&L(H.bind(s))}if(K($a,g),K(Ua,d),K(La,b),K(qa,R),K(Ta,z),K(Fa,F),K(za,at),K(Ka,Pe),K(Ha,qe),K(Ba,Y),K(Pi,ae),K(Da,$e),J(We))if(We.length){const L=e.exposed||(e.exposed={});We.forEach(H=>{Object.defineProperty(L,H,{get:()=>s[H],set:Q=>s[H]=Q})})}else e.exposed||(e.exposed={});Ee&&e.render===De&&(e.render=Ee),Ue!=null&&(e.inheritAttrs=Ue),Ie&&(e.components=Ie),tt&&(e.directives=tt)}function Wa(e,t,s=De,r=!1){J(e)&&(e=Hr(e));for(const n in e){const i=e[n];let o;me(i)?"default"in i?o=Xe(i.from||n,i.default,!0):o=Xe(i.from||n):o=Xe(i),_e(o)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[n]=o}}function Si(e,t,s){Ke(J(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ai(e,t,s,r){const n=r.includes(".")?yi(s,r):()=>s[r];if(be(e)){const i=t[e];X(i)&&zs(n,i)}else if(X(e))zs(n,e.bind(s));else if(me(e))if(J(e))e.forEach(i=>Ai(i,t,s,r));else{const i=X(e.handler)?e.handler.bind(s):t[e.handler];X(i)&&zs(n,i,e)}}function Ci(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,c=i.get(t);let a;return c?a=c:!n.length&&!s&&!r?a=t:(a={},n.length&&n.forEach(l=>Vs(a,l,o,!0)),Vs(a,t,o)),i.set(t,a),a}function Vs(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&Vs(e,i,s,!0),n&&n.forEach(o=>Vs(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const c=Va[o]||s&&s[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const Va={data:Oi,props:Et,emits:Et,methods:Et,computed:Et,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:Et,directives:Et,watch:Ya,provide:Oi,inject:Ja};function Oi(e,t){return t?e?function(){return Se(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function Ja(e,t){return Et(Hr(e),Hr(t))}function Hr(e){if(J(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function Et(e,t){return e?Se(Se(Object.create(null),e),t):t}function Ya(e,t){if(!e)return t;if(!t)return e;const s=Se(Object.create(null),e);for(const r in t)s[r]=Ce(e[r],t[r]);return s}function Xa(e,t,s,r=!1){const n={},i={};Ms(i,Xs,1),e.propsDefaults=Object.create(null),xi(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:ha(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function Qa(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,c=ce(n),[a]=e.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let g=0;g<f.length;g++){let d=f[g];if(Bs(e.emitsOptions,d))continue;const b=t[d];if(a)if(ee(i,d))b!==i[d]&&(i[d]=b,l=!0);else{const R=Je(d);n[R]=Kr(a,c,R,b,e,!1)}else b!==i[d]&&(i[d]=b,l=!0)}}}else{xi(e,t,n,i)&&(l=!0);let f;for(const g in c)(!t||!ee(t,g)&&((f=yt(g))===g||!ee(t,f)))&&(a?s&&(s[g]!==void 0||s[f]!==void 0)&&(n[g]=Kr(a,c,g,void 0,e,!0)):delete n[g]);if(i!==c)for(const g in i)(!t||!ee(t,g)&&!0)&&(delete i[g],l=!0)}l&&st(e,"set","$attrs")}function xi(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,c;if(t)for(let a in t){if(ks(a))continue;const l=t[a];let f;n&&ee(n,f=Je(a))?!i||!i.includes(f)?s[f]=l:(c||(c={}))[f]=l:Bs(e.emitsOptions,a)||(!(a in r)||l!==r[a])&&(r[a]=l,o=!0)}if(i){const a=ce(s),l=c||ue;for(let f=0;f<i.length;f++){const g=i[f];s[g]=Kr(n,a,g,l[g],e,!ee(l,g))}}return o}function Kr(e,t,s,r,n,i){const o=e[s];if(o!=null){const c=ee(o,"default");if(c&&r===void 0){const a=o.default;if(o.type!==Function&&X(a)){const{propsDefaults:l}=n;s in l?r=l[s]:(Dt(n),r=l[s]=a.call(null,t),Ct())}else r=a}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===yt(s))&&(r=!0))}return r}function ki(e,t,s=!1){const r=t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},c=[];let a=!1;if(!X(e)){const f=g=>{a=!0;const[d,b]=ki(g,t,!0);Se(o,d),b&&c.push(...b)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!a)return r.set(e,Ft),Ft;if(J(i))for(let f=0;f<i.length;f++){const g=Je(i[f]);Ii(g)&&(o[g]=ue)}else if(i)for(const f in i){const g=Je(f);if(Ii(g)){const d=i[f],b=o[g]=J(d)||X(d)?{type:d}:d;if(b){const R=Ni(Boolean,b.type),z=Ni(String,b.type);b[0]=R>-1,b[1]=z<0||R<z,(R>-1||ee(b,"default"))&&c.push(g)}}}const l=[o,c];return r.set(e,l),l}function Ii(e){return e[0]!=="$"}function Ri(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Mi(e,t){return Ri(e)===Ri(t)}function Ni(e,t){return J(t)?t.findIndex(s=>Mi(s,e)):X(t)&&Mi(t,e)?0:-1}const Ti=e=>e[0]==="_"||e==="$stable",zr=e=>J(e)?e.map(Qe):[Qe(e)],Za=(e,t,s)=>{const r=Ca((...n)=>zr(t(...n)),s);return r._c=!1,r},Fi=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Ti(n))continue;const i=e[n];if(X(i))t[n]=Za(n,i,r);else if(i!=null){const o=zr(i);t[n]=()=>o}}},ji=(e,t)=>{const s=zr(t);e.slots.default=()=>s},el=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=ce(t),Ms(t,"_",s)):Fi(t,e.slots={})}else e.slots={},t&&ji(e,t);Ms(e.slots,Xs,1)},tl=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=ue;if(r.shapeFlag&32){const c=t._;c?s&&c===1?i=!1:(Se(n,t),!s&&c===1&&delete n._):(i=!t.$stable,Fi(t,n)),o=t}else t&&(ji(e,t),o={default:1});if(i)for(const c in n)!Ti(c)&&!(c in o)&&delete n[c]};function Th(e,t){const s=Ae;if(s===null)return e;const r=er(s)||s.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,c,a,l=ue]=t[i];X(o)&&(o={mounted:o,updated:o}),o.deep&&vt(c),n.push({dir:o,instance:r,value:c,oldValue:void 0,arg:a,modifiers:l})}return e}function Pt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const c=n[o];i&&(c.oldValue=i[o].value);let a=c.dir[r];a&&($t(),Ke(a,s,8,[e.el,c,e,t]),Ut())}}function $i(){return{app:null,config:{isNativeTag:Rc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sl=0;function rl(e,t){return function(r,n=null){X(r)||(r=Object.assign({},r)),n!=null&&!me(n)&&(n=null);const i=$i(),o=new Set;let c=!1;const a=i.app={_uid:sl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Al,get config(){return i.config},set config(l){},use(l,...f){return o.has(l)||(l&&X(l.install)?(o.add(l),l.install(a,...f)):X(l)&&(o.add(l),l(a,...f))),a},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),a},component(l,f){return f?(i.components[l]=f,a):i.components[l]},directive(l,f){return f?(i.directives[l]=f,a):i.directives[l]},mount(l,f,g){if(!c){const d=ke(r,n);return d.appContext=i,f&&t?t(d,l):e(d,l,g),c=!0,a._container=l,l.__vue_app__=a,er(d.component)||d.component.proxy}},unmount(){c&&(e(null,a._container),delete a._container.__vue_app__)},provide(l,f){return i.provides[l]=f,a}};return a}}function Gr(e,t,s,r,n=!1){if(J(e)){e.forEach((d,b)=>Gr(d,t&&(J(t)?t[b]:t),s,r,n));return}if(Gs(r)&&!n)return;const i=r.shapeFlag&4?er(r.component)||r.component.proxy:r.el,o=n?null:i,{i:c,r:a}=e,l=t&&t.r,f=c.refs===ue?c.refs={}:c.refs,g=c.setupState;if(l!=null&&l!==a&&(be(l)?(f[l]=null,ee(g,l)&&(g[l]=null)):_e(l)&&(l.value=null)),X(a))ht(a,c,12,[o,f]);else{const d=be(a),b=_e(a);if(d||b){const R=()=>{if(e.f){const z=d?f[a]:a.value;n?J(z)&&vr(z,i):J(z)?z.includes(i)||z.push(i):d?(f[a]=[i],ee(g,a)&&(g[a]=f[a])):(a.value=[i],e.k&&(f[e.k]=a.value))}else d?(f[a]=o,ee(g,a)&&(g[a]=o)):_e(a)&&(a.value=o,e.k&&(f[e.k]=o))};o?(R.id=-1,xe(R,s)):R()}}}const xe=Ma;function nl(e){return il(e)}function il(e,t){const s=Uc();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:c,createComment:a,setText:l,setElementText:f,parentNode:g,nextSibling:d,setScopeId:b=De,cloneNode:R,insertStaticContent:z}=e,F=(u,p,m,P=null,E=null,O=null,M=!1,C=null,x=!!p.dynamicChildren)=>{if(u===p)return;u&&!hs(u,p)&&(P=$(u),ge(u,E,O,!0),u=null),p.patchFlag===-2&&(x=!1,p.dynamicChildren=null);const{type:A,ref:q,shapeFlag:j}=p;switch(A){case Wr:U(u,p,m,P);break;case pt:Y(u,p,m,P);break;case Vr:u==null&&ie(p,m,P,M);break;case ze:tt(u,p,m,P,E,O,M,C,x);break;default:j&1?Pe(u,p,m,P,E,O,M,C,x):j&6?w(u,p,m,P,E,O,M,C,x):(j&64||j&128)&&A.process(u,p,m,P,E,O,M,C,x,se)}q!=null&&E&&Gr(q,u&&u.ref,O,p||u,!p)},U=(u,p,m,P)=>{if(u==null)r(p.el=c(p.children),m,P);else{const E=p.el=u.el;p.children!==u.children&&l(E,p.children)}},Y=(u,p,m,P)=>{u==null?r(p.el=a(p.children||""),m,P):p.el=u.el},ie=(u,p,m,P)=>{[u.el,u.anchor]=z(u.children,p,m,P,u.el,u.anchor)},ae=({el:u,anchor:p},m,P)=>{let E;for(;u&&u!==p;)E=d(u),r(u,m,P),u=E;r(p,m,P)},Ee=({el:u,anchor:p})=>{let m;for(;u&&u!==p;)m=d(u),n(u),u=m;n(p)},Pe=(u,p,m,P,E,O,M,C,x)=>{M=M||p.type==="svg",u==null?qe(p,m,P,E,O,M,C,x):We(u,p,E,O,M,C,x)},qe=(u,p,m,P,E,O,M,C)=>{let x,A;const{type:q,props:j,shapeFlag:B,transition:W,patchFlag:re,dirs:de}=u;if(u.el&&R!==void 0&&re===-1)x=u.el=R(u.el);else{if(x=u.el=o(u.type,O,j&&j.is,j),B&8?f(x,u.children):B&16&&$e(u.children,x,null,P,E,O&&q!=="foreignObject",M,C),de&&Pt(u,null,P,"created"),j){for(const he in j)he!=="value"&&!ks(he)&&i(x,he,null,j[he],O,u.children,P,E,S);"value"in j&&i(x,"value",null,j.value),(A=j.onVnodeBeforeMount)&&Ze(A,P,u)}at(x,u,u.scopeId,M,P)}de&&Pt(u,null,P,"beforeMount");const le=(!E||E&&!E.pendingBranch)&&W&&!W.persisted;le&&W.beforeEnter(x),r(x,p,m),((A=j&&j.onVnodeMounted)||le||de)&&xe(()=>{A&&Ze(A,P,u),le&&W.enter(x),de&&Pt(u,null,P,"mounted")},E)},at=(u,p,m,P,E)=>{if(m&&b(u,m),P)for(let O=0;O<P.length;O++)b(u,P[O]);if(E){let O=E.subTree;if(p===O){const M=E.vnode;at(u,M,M.scopeId,M.slotScopeIds,E.parent)}}},$e=(u,p,m,P,E,O,M,C,x=0)=>{for(let A=x;A<u.length;A++){const q=u[A]=C?gt(u[A]):Qe(u[A]);F(null,q,p,m,P,E,O,M,C)}},We=(u,p,m,P,E,O,M)=>{const C=p.el=u.el;let{patchFlag:x,dynamicChildren:A,dirs:q}=p;x|=u.patchFlag&16;const j=u.props||ue,B=p.props||ue;let W;m&&St(m,!1),(W=B.onVnodeBeforeUpdate)&&Ze(W,m,p,u),q&&Pt(p,u,m,"beforeUpdate"),m&&St(m,!0);const re=E&&p.type!=="foreignObject";if(A?Ue(u.dynamicChildren,A,C,m,P,re,O):M||Q(u,p,C,null,m,P,re,O,!1),x>0){if(x&16)Ie(C,p,j,B,m,P,E);else if(x&2&&j.class!==B.class&&i(C,"class",null,B.class,E),x&4&&i(C,"style",j.style,B.style,E),x&8){const de=p.dynamicProps;for(let le=0;le<de.length;le++){const he=de[le],Be=j[he],Tt=B[he];(Tt!==Be||he==="value")&&i(C,he,Be,Tt,E,u.children,m,P,S)}}x&1&&u.children!==p.children&&f(C,p.children)}else!M&&A==null&&Ie(C,p,j,B,m,P,E);((W=B.onVnodeUpdated)||q)&&xe(()=>{W&&Ze(W,m,p,u),q&&Pt(p,u,m,"updated")},P)},Ue=(u,p,m,P,E,O,M)=>{for(let C=0;C<p.length;C++){const x=u[C],A=p[C],q=x.el&&(x.type===ze||!hs(x,A)||x.shapeFlag&(6|64))?g(x.el):m;F(x,A,q,null,P,E,O,M,!0)}},Ie=(u,p,m,P,E,O,M)=>{if(m!==P){for(const C in P){if(ks(C))continue;const x=P[C],A=m[C];x!==A&&C!=="value"&&i(u,C,A,x,M,p.children,E,O,S)}if(m!==ue)for(const C in m)!ks(C)&&!(C in P)&&i(u,C,m[C],null,M,p.children,E,O,S);"value"in P&&i(u,"value",m.value,P.value)}},tt=(u,p,m,P,E,O,M,C,x)=>{const A=p.el=u?u.el:c(""),q=p.anchor=u?u.anchor:c("");let{patchFlag:j,dynamicChildren:B,slotScopeIds:W}=p;W&&(C=C?C.concat(W):W),u==null?(r(A,m,P),r(q,m,P),$e(p.children,m,q,E,O,M,C,x)):j>0&&j&64&&B&&u.dynamicChildren?(Ue(u.dynamicChildren,B,m,E,O,M,C),(p.key!=null||E&&p===E.subTree)&&Ui(u,p,!0)):Q(u,p,m,q,E,O,M,C,x)},w=(u,p,m,P,E,O,M,C,x)=>{p.slotScopeIds=C,u==null?p.shapeFlag&512?E.ctx.activate(p,m,P,M,x):y(p,m,P,E,O,M,x):K(u,p,x)},y=(u,p,m,P,E,O,M)=>{const C=u.component=_l(u,P,E);if(vi(u)&&(C.ctx.renderer=se),yl(C),C.asyncDep){if(E&&E.registerDep(C,L),!u.el){const x=C.subTree=ke(pt);Y(null,x,p,m)}return}L(C,u,p,m,E,O,M)},K=(u,p,m)=>{const P=p.component=u.component;if(ka(u,p,m))if(P.asyncDep&&!P.asyncResolved){H(P,p,m);return}else P.next=p,Ea(P.update),P.update();else p.component=u.component,p.el=u.el,P.vnode=p},L=(u,p,m,P,E,O,M)=>{const C=()=>{if(u.isMounted){let{next:q,bu:j,u:B,parent:W,vnode:re}=u,de=q,le;St(u,!1),q?(q.el=re.el,H(u,q,M)):q=re,j&&Ar(j),(le=q.props&&q.props.onVnodeBeforeUpdate)&&Ze(le,W,q,re),St(u,!0);const he=Br(u),Be=u.subTree;u.subTree=he,F(Be,he,g(Be.el),$(Be),u,E,O),q.el=he.el,de===null&&Ia(u,he.el),B&&xe(B,E),(le=q.props&&q.props.onVnodeUpdated)&&xe(()=>Ze(le,W,q,re),E)}else{let q;const{el:j,props:B}=p,{bm:W,m:re,parent:de}=u,le=Gs(p);if(St(u,!1),W&&Ar(W),!le&&(q=B&&B.onVnodeBeforeMount)&&Ze(q,de,p),St(u,!0),j&&G){const he=()=>{u.subTree=Br(u),G(j,u.subTree,u,E,null)};le?p.type.__asyncLoader().then(()=>!u.isUnmounted&&he()):he()}else{const he=u.subTree=Br(u);F(null,he,m,P,u,E,O),p.el=he.el}if(re&&xe(re,E),!le&&(q=B&&B.onVnodeMounted)){const he=p;xe(()=>Ze(q,de,he),E)}p.shapeFlag&256&&u.a&&xe(u.a,E),u.isMounted=!0,p=m=P=null}},x=u.effect=new Ir(C,()=>ui(u.update),u.scope),A=u.update=x.run.bind(x);A.id=u.uid,St(u,!0),A()},H=(u,p,m)=>{p.component=u;const P=u.vnode.props;u.vnode=p,u.next=null,Qa(u,p.props,P,m),tl(u,p.children,m),$t(),qr(void 0,u.update),Ut()},Q=(u,p,m,P,E,O,M,C,x=!1)=>{const A=u&&u.children,q=u?u.shapeFlag:0,j=p.children,{patchFlag:B,shapeFlag:W}=p;if(B>0){if(B&128){te(A,j,m,P,E,O,M,C,x);return}else if(B&256){Z(A,j,m,P,E,O,M,C,x);return}}W&8?(q&16&&S(A,E,O),j!==A&&f(m,j)):q&16?W&16?te(A,j,m,P,E,O,M,C,x):S(A,E,O,!0):(q&8&&f(m,""),W&16&&$e(j,m,P,E,O,M,C,x))},Z=(u,p,m,P,E,O,M,C,x)=>{u=u||Ft,p=p||Ft;const A=u.length,q=p.length,j=Math.min(A,q);let B;for(B=0;B<j;B++){const W=p[B]=x?gt(p[B]):Qe(p[B]);F(u[B],W,m,null,E,O,M,C,x)}A>q?S(u,E,O,!0,!1,j):$e(p,m,P,E,O,M,C,x,j)},te=(u,p,m,P,E,O,M,C,x)=>{let A=0;const q=p.length;let j=u.length-1,B=q-1;for(;A<=j&&A<=B;){const W=u[A],re=p[A]=x?gt(p[A]):Qe(p[A]);if(hs(W,re))F(W,re,m,null,E,O,M,C,x);else break;A++}for(;A<=j&&A<=B;){const W=u[j],re=p[B]=x?gt(p[B]):Qe(p[B]);if(hs(W,re))F(W,re,m,null,E,O,M,C,x);else break;j--,B--}if(A>j){if(A<=B){const W=B+1,re=W<q?p[W].el:P;for(;A<=B;)F(null,p[A]=x?gt(p[A]):Qe(p[A]),m,re,E,O,M,C,x),A++}}else if(A>B)for(;A<=j;)ge(u[A],E,O,!0),A++;else{const W=A,re=A,de=new Map;for(A=re;A<=B;A++){const Re=p[A]=x?gt(p[A]):Qe(p[A]);Re.key!=null&&de.set(Re.key,A)}let le,he=0;const Be=B-re+1;let Tt=!1,xn=0;const es=new Array(Be);for(A=0;A<Be;A++)es[A]=0;for(A=W;A<=j;A++){const Re=u[A];if(he>=Be){ge(Re,E,O,!0);continue}let Ve;if(Re.key!=null)Ve=de.get(Re.key);else for(le=re;le<=B;le++)if(es[le-re]===0&&hs(Re,p[le])){Ve=le;break}Ve===void 0?ge(Re,E,O,!0):(es[Ve-re]=A+1,Ve>=xn?xn=Ve:Tt=!0,F(Re,p[Ve],m,null,E,O,M,C,x),he++)}const kn=Tt?ol(es):Ft;for(le=kn.length-1,A=Be-1;A>=0;A--){const Re=re+A,Ve=p[Re],In=Re+1<q?p[Re+1].el:P;es[A]===0?F(null,Ve,m,In,E,O,M,C,x):Tt&&(le<0||A!==kn[le]?oe(Ve,m,In,2):le--)}}},oe=(u,p,m,P,E=null)=>{const{el:O,type:M,transition:C,children:x,shapeFlag:A}=u;if(A&6){oe(u.component.subTree,p,m,P);return}if(A&128){u.suspense.move(p,m,P);return}if(A&64){M.move(u,p,m,se);return}if(M===ze){r(O,p,m);for(let j=0;j<x.length;j++)oe(x[j],p,m,P);r(u.anchor,p,m);return}if(M===Vr){ae(u,p,m);return}if(P!==2&&A&1&&C)if(P===0)C.beforeEnter(O),r(O,p,m),xe(()=>C.enter(O),E);else{const{leave:j,delayLeave:B,afterLeave:W}=C,re=()=>r(O,p,m),de=()=>{j(O,()=>{re(),W&&W()})};B?B(O,re,de):de()}else r(O,p,m)},ge=(u,p,m,P=!1,E=!1)=>{const{type:O,props:M,ref:C,children:x,dynamicChildren:A,shapeFlag:q,patchFlag:j,dirs:B}=u;if(C!=null&&Gr(C,null,m,u,!0),q&256){p.ctx.deactivate(u);return}const W=q&1&&B,re=!Gs(u);let de;if(re&&(de=M&&M.onVnodeBeforeUnmount)&&Ze(de,p,u),q&6)N(u.component,m,P);else{if(q&128){u.suspense.unmount(m,P);return}W&&Pt(u,null,p,"beforeUnmount"),q&64?u.type.remove(u,p,m,E,se,P):A&&(O!==ze||j>0&&j&64)?S(A,p,m,!1,!0):(O===ze&&j&(128|256)||!E&&q&16)&&S(x,p,m),P&&pe(u)}(re&&(de=M&&M.onVnodeUnmounted)||W)&&xe(()=>{de&&Ze(de,p,u),W&&Pt(u,null,p,"unmounted")},m)},pe=u=>{const{type:p,el:m,anchor:P,transition:E}=u;if(p===ze){v(m,P);return}if(p===Vr){Ee(u);return}const O=()=>{n(m),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(u.shapeFlag&1&&E&&!E.persisted){const{leave:M,delayLeave:C}=E,x=()=>M(m,O);C?C(u.el,O,x):x()}else O()},v=(u,p)=>{let m;for(;u!==p;)m=d(u),n(u),u=m;n(p)},N=(u,p,m)=>{const{bum:P,scope:E,update:O,subTree:M,um:C}=u;P&&Ar(P),E.stop(),O&&(O.active=!1,ge(M,u,p,m)),C&&xe(C,p),xe(()=>{u.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},S=(u,p,m,P=!1,E=!1,O=0)=>{for(let M=O;M<u.length;M++)ge(u[M],p,m,P,E)},$=u=>u.shapeFlag&6?$(u.component.subTree):u.shapeFlag&128?u.suspense.next():d(u.anchor||u.el),ne=(u,p,m)=>{u==null?p._vnode&&ge(p._vnode,null,null,!0):F(p._vnode||null,u,p,null,null,null,m),di(),p._vnode=u},se={p:F,um:ge,m:oe,r:pe,mt:y,mc:$e,pc:Q,pbc:Ue,n:$,o:e};let V,G;return t&&([V,G]=t(se)),{render:ne,hydrate:V,createApp:rl(ne,V)}}function St({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Ui(e,t,s=!1){const r=e.children,n=t.children;if(J(r)&&J(n))for(let i=0;i<r.length;i++){const o=r[i];let c=n[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[i]=gt(n[i]),c.el=o.el),s||Ui(o,c))}}function ol(e){const t=e.slice(),s=[0];let r,n,i,o,c;const a=e.length;for(r=0;r<a;r++){const l=e[r];if(l!==0){if(n=s[s.length-1],e[n]<l){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)c=i+o>>1,e[s[c]]<l?i=c+1:o=c;l<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}const cl=e=>e.__isTeleport,Li="components";function Fh(e,t){return ll(Li,e,!0,t)||e}const al=Symbol();function ll(e,t,s=!0,r=!1){const n=Ae||we;if(n){const i=n.type;if(e===Li){const c=Pl(i);if(c&&(c===t||c===Je(t)||c===Rs(Je(t))))return i}const o=qi(n[e]||i[e],t)||qi(n.appContext[e],t);return!o&&r?i:o}}function qi(e,t){return e&&(e[t]||e[Je(t)]||e[Rs(Je(t))])}const ze=Symbol(void 0),Wr=Symbol(void 0),pt=Symbol(void 0),Vr=Symbol(void 0),fs=[];let At=null;function Bi(e=!1){fs.push(At=e?null:[])}function ul(){fs.pop(),At=fs[fs.length-1]||null}let Js=1;function Di(e){Js+=e}function Hi(e){return e.dynamicChildren=Js>0?At||Ft:null,ul(),Js>0&&At&&At.push(e),e}function jh(e,t,s,r,n,i){return Hi(Gi(e,t,s,r,n,i,!0))}function Ki(e,t,s,r,n){return Hi(ke(e,t,s,r,n,!0))}function Ys(e){return e?e.__v_isVNode===!0:!1}function hs(e,t){return e.type===t.type&&e.key===t.key}const Xs="__vInternal",zi=({key:e})=>e!=null?e:null,Qs=({ref:e,ref_key:t,ref_for:s})=>e!=null?be(e)||_e(e)||X(e)?{i:Ae,r:e,k:t,f:!!s}:e:null;function Gi(e,t=null,s=null,r=0,n=null,i=e===ze?0:1,o=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zi(t),ref:t&&Qs(t),scopeId:Ds,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null};return c?(Jr(a,s),i&128&&e.normalize(a)):s&&(a.shapeFlag|=be(s)?8:16),Js>0&&!o&&At&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&At.push(a),a}const ke=fl;function fl(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===al)&&(e=pt),Ys(e)){const c=ds(e,t,!0);return s&&Jr(c,s),c}if(Sl(e)&&(e=e.__vccOpts),t){t=hl(t);let{class:c,style:a}=t;c&&!be(c)&&(t.class=yr(c)),me(a)&&(si(a)&&!J(a)&&(a=Se({},a)),t.style=_r(a))}const o=be(e)?1:Ra(e)?128:cl(e)?64:me(e)?4:X(e)?2:0;return Gi(e,t,s,r,n,o,i,!0)}function hl(e){return e?si(e)||Xs in e?Se({},e):e:null}function ds(e,t,s=!1){const{props:r,ref:n,patchFlag:i,children:o}=e,c=t?pl(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&zi(c),ref:t&&t.ref?s&&n?J(n)?n.concat(Qs(t)):[n,Qs(t)]:Qs(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ze?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ds(e.ssContent),ssFallback:e.ssFallback&&ds(e.ssFallback),el:e.el,anchor:e.anchor}}function dl(e=" ",t=0){return ke(Wr,null,e,t)}function $h(e="",t=!1){return t?(Bi(),Ki(pt,null,e)):ke(pt,null,e)}function Qe(e){return e==null||typeof e=="boolean"?ke(pt):J(e)?ke(ze,null,e.slice()):typeof e=="object"?gt(e):ke(Wr,null,String(e))}function gt(e){return e.el===null||e.memo?e:ds(e)}function Jr(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(J(t))s=16;else if(typeof t=="object")if(r&(1|64)){const n=t.default;n&&(n._c&&(n._d=!1),Jr(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!(Xs in t)?t._ctx=Ae:n===3&&Ae&&(Ae.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Ae},s=32):(t=String(t),r&64?(s=16,t=[dl(t)]):s=8);e.children=t,e.shapeFlag|=s}function pl(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=yr([t.class,r.class]));else if(n==="style")t.style=_r([t.style,r.style]);else if(Os(n)){const i=t[n],o=r[n];o&&i!==o&&!(J(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Ze(e,t,s,r=null){Ke(e,t,7,[s,r])}function Uh(e,t,s,r){let n;const i=s&&s[r];if(J(e)||be(e)){n=new Array(e.length);for(let o=0,c=e.length;o<c;o++)n[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,i&&i[o])}else if(me(e))if(e[Symbol.iterator])n=Array.from(e,(o,c)=>t(o,c,void 0,i&&i[c]));else{const o=Object.keys(e);n=new Array(o.length);for(let c=0,a=o.length;c<a;c++){const l=o[c];n[c]=t(e[l],l,c,i&&i[c])}}else n=[];return s&&(s[r]=n),n}function Lh(e,t,s={},r,n){if(Ae.isCE||Ae.parent&&Gs(Ae.parent)&&Ae.parent.isCE)return ke("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),Bi();const o=i&&Wi(i(s)),c=Ki(ze,{key:s.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Wi(e){return e.some(t=>Ys(t)?!(t.type===pt||t.type===ze&&!Wi(t.children)):!0)?e:null}const Yr=e=>e?Vi(e)?er(e)||e.proxy:Yr(e.parent):null,Zs=Se(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yr(e.parent),$root:e=>Yr(e.root),$emit:e=>e.emit,$options:e=>Ci(e),$forceUpdate:e=>()=>ui(e.update),$nextTick:e=>li.bind(e.proxy),$watch:e=>Na.bind(e)}),gl={get({_:e},t){const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:c,appContext:a}=e;let l;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(r!==ue&&ee(r,t))return o[t]=1,r[t];if(n!==ue&&ee(n,t))return o[t]=2,n[t];if((l=e.propsOptions[0])&&ee(l,t))return o[t]=3,i[t];if(s!==ue&&ee(s,t))return o[t]=4,s[t];Dr&&(o[t]=0)}}const f=Zs[t];let g,d;if(f)return t==="$attrs"&&Me(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(s!==ue&&ee(s,t))return o[t]=4,s[t];if(d=a.config.globalProperties,ee(d,t))return d[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return n!==ue&&ee(n,t)?(n[t]=s,!0):r!==ue&&ee(r,t)?(r[t]=s,!0):ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let c;return!!s[o]||e!==ue&&ee(e,o)||t!==ue&&ee(t,o)||(c=i[0])&&ee(c,o)||ee(r,o)||ee(Zs,o)||ee(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ee(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},ml=$i();let bl=0;function _l(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||ml,i={uid:bl++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ki(r,n),emitsOptions:gi(r,n),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:r.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Aa.bind(null,i),e.ce&&e.ce(i),i}let we=null;const Dt=e=>{we=e,e.scope.on()},Ct=()=>{we&&we.scope.off(),we=null};function Vi(e){return e.vnode.shapeFlag&4}let ps=!1;function yl(e,t=!1){ps=t;const{props:s,children:r}=e.vnode,n=Vi(e);Xa(e,s,n,t),el(e,r);const i=n?wl(e,t):void 0;return ps=!1,i}function wl(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=ri(new Proxy(e.ctx,gl));const{setup:r}=s;if(r){const n=e.setupContext=r.length>1?El(e):null;Dt(e),$t();const i=ht(r,e,0,[e.props,n]);if(Ut(),Ct(),Tn(i)){if(i.then(Ct,Ct),t)return i.then(o=>{Ji(e,o,t)}).catch(o=>{Ls(o,e,0)});e.asyncDep=i}else Ji(e,i,t)}else Xi(e,t)}function Ji(e,t,s){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=ci(t)),Xi(e,s)}let Yi;function Xi(e,t,s){const r=e.type;if(!e.render){if(!t&&Yi&&!r.render){const n=r.template;if(n){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:a}=r,l=Se(Se({isCustomElement:i,delimiters:c},o),a);r.render=Yi(n,l)}}e.render=r.render||De}Dt(e),$t(),Ga(e),Ut(),Ct()}function vl(e){return new Proxy(e.attrs,{get(t,s){return Me(e,"get","$attrs"),t[s]}})}function El(e){const t=r=>{e.exposed=r||{}};let s;return{get attrs(){return s||(s=vl(e))},slots:e.slots,emit:e.emit,expose:t}}function er(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ci(ri(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Zs)return Zs[s](e)}}))}function Pl(e){return X(e)&&e.displayName||e.name}function Sl(e){return X(e)&&"__vccOpts"in e}const et=(e,t)=>ya(e,t,ps);function Qi(e,t,s){const r=arguments.length;return r===2?me(t)&&!J(t)?Ys(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Ys(s)&&(s=[s]),ke(e,t,s))}const Al="3.2.33",Cl="http://www.w3.org/2000/svg",Ot=typeof document!="undefined"?document:null,Zi=Ot&&Ot.createElement("template"),Ol={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t?Ot.createElementNS(Cl,e):Ot.createElement(e,s?{is:s}:void 0);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Zi.innerHTML=r?`<svg>${e}</svg>`:e;const c=Zi.content;if(r){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function xl(e,t,s){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function kl(e,t,s){const r=e.style,n=be(s);if(s&&!n){for(const i in s)Xr(r,i,s[i]);if(t&&!be(t))for(const i in t)s[i]==null&&Xr(r,i,"")}else{const i=r.display;n?t!==s&&(r.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const eo=/\s*!important$/;function Xr(e,t,s){if(J(s))s.forEach(r=>Xr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Il(e,t);eo.test(s)?e.setProperty(yt(r),s.replace(eo,""),"important"):e[r]=s}}const to=["Webkit","Moz","ms"],Qr={};function Il(e,t){const s=Qr[t];if(s)return s;let r=Je(t);if(r!=="filter"&&r in e)return Qr[t]=r;r=Rs(r);for(let n=0;n<to.length;n++){const i=to[n]+r;if(i in e)return Qr[t]=i}return t}const so="http://www.w3.org/1999/xlink";function Rl(e,t,s,r,n){if(r&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(so,t.slice(6,t.length)):e.setAttributeNS(so,t,s);else{const i=Oc(t);s==null||i&&!Rn(s)?e.removeAttribute(t):e.setAttribute(t,i?"":s)}}function Ml(e,t,s,r,n,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,n,i),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const a=s==null?"":s;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),s==null&&e.removeAttribute(t);return}let c=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Rn(s):s==null&&a==="string"?(s="",c=!0):a==="number"&&(s=0,c=!0)}try{e[t]=s}catch{}c&&e.removeAttribute(t)}const[ro,Nl]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let Zr=0;const Tl=Promise.resolve(),Fl=()=>{Zr=0},jl=()=>Zr||(Tl.then(Fl),Zr=ro());function $l(e,t,s,r){e.addEventListener(t,s,r)}function Ul(e,t,s,r){e.removeEventListener(t,s,r)}function Ll(e,t,s,r,n=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[c,a]=ql(t);if(r){const l=i[t]=Bl(r,n);$l(e,c,l,a)}else o&&(Ul(e,c,o,a),i[t]=void 0)}}const no=/(?:Once|Passive|Capture)$/;function ql(e){let t;if(no.test(e)){t={};let s;for(;s=e.match(no);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[yt(e.slice(2)),t]}function Bl(e,t){const s=r=>{const n=r.timeStamp||ro();(Nl||n>=s.attached-1)&&Ke(Dl(r,s.value),t,5,[r])};return s.value=e,s.attached=jl(),s}function Dl(e,t){if(J(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const io=/^on[a-z]/,Hl=(e,t,s,r,n=!1,i,o,c,a)=>{t==="class"?xl(e,r,n):t==="style"?kl(e,s,r):Os(t)?wr(t)||Ll(e,t,s,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kl(e,t,r,n))?Ml(e,t,r,i,o,c,a):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Rl(e,t,r,n))};function Kl(e,t,s,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&io.test(t)&&X(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||io.test(t)&&be(s)?!1:t in e}const zl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qh=(e,t)=>s=>{if(!("key"in s))return;const r=yt(s.key);if(t.some(n=>n===r||zl[n]===r))return e(s)},Bh={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):gs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),gs(e,!0),r.enter(e)):r.leave(e,()=>{gs(e,!1)}):gs(e,t))},beforeUnmount(e,{value:t}){gs(e,t)}};function gs(e,t){e.style.display=t?e._vod:"none"}const Gl=Se({patchProp:Hl},Ol);let oo;function Wl(){return oo||(oo=nl(Gl))}const Dh=(...e)=>{const t=Wl().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Vl(r);if(!n)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Vl(e){return be(e)?document.querySelector(e):e}var en={};(function e(t,s,r,n){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function c(w){var y=s.exports.Promise,K=y!==void 0?y:t.Promise;return typeof K=="function"?new K(w):(w(o,o),null)}var a=function(){var w=Math.floor(1e3/60),y,K,L={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(Q){var Z=Math.random();return L[Z]=requestAnimationFrame(function te(oe){H===oe||H+w-1<oe?(H=oe,delete L[Z],Q()):L[Z]=requestAnimationFrame(te)}),Z},K=function(Q){L[Q]&&cancelAnimationFrame(L[Q])}):(y=function(Q){return setTimeout(Q,w)},K=function(Q){return clearTimeout(Q)}),{frame:y,cancel:K}}(),l=function(){var w,y,K={};function L(H){function Q(Z,te){H.postMessage({options:Z||{},callback:te})}H.init=function(te){var oe=te.transferControlToOffscreen();H.postMessage({canvas:oe},[oe])},H.fire=function(te,oe,ge){if(y)return Q(te,null),y;var pe=Math.random().toString(36).slice(2);return y=c(function(v){function N(S){S.data.callback===pe&&(delete K[pe],H.removeEventListener("message",N),y=null,ge(),v())}H.addEventListener("message",N),Q(te,pe),K[pe]=N.bind(null,{data:{callback:pe}})}),y},H.reset=function(){H.postMessage({reset:!0});for(var te in K)K[te](),delete K[te]}}return function(){if(w)return w;if(!r&&i){var H=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([H])))}catch(Q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",Q),null}L(w)}return w}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(w,y){return y?y(w):w}function d(w){return w!=null}function b(w,y,K){return g(w&&d(w[y])?w[y]:f[y],K)}function R(w){return w<0?0:Math.floor(w)}function z(w,y){return Math.floor(Math.random()*(y-w))+w}function F(w){return parseInt(w,16)}function U(w){return w.map(Y)}function Y(w){var y=String(w).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:F(y.substring(0,2)),g:F(y.substring(2,4)),b:F(y.substring(4,6))}}function ie(w){var y=b(w,"origin",Object);return y.x=b(y,"x",Number),y.y=b(y,"y",Number),y}function ae(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function Ee(w){var y=w.getBoundingClientRect();w.width=y.width,w.height=y.height}function Pe(w){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=w,y}function qe(w,y,K,L,H,Q,Z,te,oe){w.save(),w.translate(y,K),w.rotate(Q),w.scale(L,H),w.arc(0,0,1,Z,te,oe),w.restore()}function at(w){var y=w.angle*(Math.PI/180),K=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-y+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar}}function $e(w,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.wobble+=y.wobbleSpeed,y.velocity*=y.decay,y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble);var K=y.tick++/y.totalTicks,L=y.x+y.random*y.tiltCos,H=y.y+y.random*y.tiltSin,Q=y.wobbleX+y.random*y.tiltCos,Z=y.wobbleY+y.random*y.tiltSin;return w.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-K)+")",w.beginPath(),y.shape==="circle"?w.ellipse?w.ellipse(y.x,y.y,Math.abs(Q-L)*y.ovalScalar,Math.abs(Z-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):qe(w,y.x,y.y,Math.abs(Q-L)*y.ovalScalar,Math.abs(Z-H)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):(w.moveTo(Math.floor(y.x),Math.floor(y.y)),w.lineTo(Math.floor(y.wobbleX),Math.floor(H)),w.lineTo(Math.floor(Q),Math.floor(Z)),w.lineTo(Math.floor(L),Math.floor(y.wobbleY))),w.closePath(),w.fill(),y.tick<y.totalTicks}function We(w,y,K,L,H){var Q=y.slice(),Z=w.getContext("2d"),te,oe,ge=c(function(pe){function v(){te=oe=null,Z.clearRect(0,0,L.width,L.height),H(),pe()}function N(){r&&!(L.width===n.width&&L.height===n.height)&&(L.width=w.width=n.width,L.height=w.height=n.height),!L.width&&!L.height&&(K(w),L.width=w.width,L.height=w.height),Z.clearRect(0,0,L.width,L.height),Q=Q.filter(function(S){return $e(Z,S)}),Q.length?te=a.frame(N):v()}te=a.frame(N),oe=v});return{addFettis:function(pe){return Q=Q.concat(pe),ge},canvas:w,promise:ge,reset:function(){te&&a.cancel(te),oe&&oe()}}}function Ue(w,y){var K=!w,L=!!b(y||{},"resize"),H=b(y,"disableForReducedMotion",Boolean),Q=i&&!!b(y||{},"useWorker"),Z=Q?l():null,te=K?ae:Ee,oe=w&&Z?!!w.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,pe;function v(S,$,ne){for(var se=b(S,"particleCount",R),V=b(S,"angle",Number),G=b(S,"spread",Number),u=b(S,"startVelocity",Number),p=b(S,"decay",Number),m=b(S,"gravity",Number),P=b(S,"drift",Number),E=b(S,"colors",U),O=b(S,"ticks",Number),M=b(S,"shapes"),C=b(S,"scalar"),x=ie(S),A=se,q=[],j=w.width*x.x,B=w.height*x.y;A--;)q.push(at({x:j,y:B,angle:V,spread:G,startVelocity:u,color:E[A%E.length],shape:M[z(0,M.length)],ticks:O,decay:p,gravity:m,drift:P,scalar:C}));return pe?pe.addFettis(q):(pe=We(w,q,te,$,ne),pe.promise)}function N(S){var $=H||b(S,"disableForReducedMotion",Boolean),ne=b(S,"zIndex",Number);if($&&ge)return c(function(u){u()});K&&pe?w=pe.canvas:K&&!w&&(w=Pe(ne),document.body.appendChild(w)),L&&!oe&&te(w);var se={width:w.width,height:w.height};Z&&!oe&&Z.init(w),oe=!0,Z&&(w.__confetti_initialized=!0);function V(){if(Z){var u={getBoundingClientRect:function(){if(!K)return w.getBoundingClientRect()}};te(u),Z.postMessage({resize:{width:u.width,height:u.height}});return}se.width=se.height=null}function G(){pe=null,L&&t.removeEventListener("resize",V),K&&w&&(document.body.removeChild(w),w=null,oe=!1)}return L&&t.addEventListener("resize",V,!1),Z?Z.fire(S,se,G):v(S,se,G)}return N.reset=function(){Z&&Z.reset(),pe&&pe.reset()},N}var Ie;function tt(){return Ie||(Ie=Ue(null,{useWorker:!0,resize:!0})),Ie}s.exports=function(){return tt().apply(this,arguments)},s.exports.reset=function(){tt().reset()},s.exports.create=Ue})(function(){return typeof window!="undefined"?window:typeof self!="undefined"?self:this||{}}(),en,!1);var Hh=en.exports;en.exports.create;try{self["workbox:window:6.4.1"]&&_()}catch{}function co(e,t){return new Promise(function(s){var r=new MessageChannel;r.port1.onmessage=function(n){s(n.data)},e.postMessage(t,[r.port2])})}function Jl(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function Yl(e,t){var s;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(s=function(n,i){if(n){if(typeof n=="string")return ao(n,i);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ao(n,i):void 0}}(e))||t&&e&&typeof e.length=="number"){s&&(e=s);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(s=e[Symbol.iterator]()).next.bind(s)}try{self["workbox:core:6.4.1"]&&_()}catch{}var tn=function(){var e=this;this.promise=new Promise(function(t,s){e.resolve=t,e.reject=s})};function sn(e,t){var s=location.href;return new URL(e,s).href===new URL(t,s).href}var ms=function(e,t){this.type=e,Object.assign(this,t)};function tr(e,t,s){return s?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Xl(){}var Ql={type:"SKIP_WAITING"};function lo(e,t){if(!t)return e&&e.then?e.then(Xl):Promise.resolve()}var Kh=function(e){var t,s;function r(c,a){var l,f;return a===void 0&&(a={}),(l=e.call(this)||this).nn={},l.tn=0,l.rn=new tn,l.en=new tn,l.on=new tn,l.un=0,l.an=new Set,l.cn=function(){var g=l.fn,d=g.installing;l.tn>0||!sn(d.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=d,g.removeEventListener("updatefound",l.cn)):(l.hn=d,l.an.add(d),l.rn.resolve(d)),++l.tn,d.addEventListener("statechange",l.ln)},l.ln=function(g){var d=l.fn,b=g.target,R=b.state,z=b===l.vn,F={sw:b,isExternal:z,originalEvent:g};!z&&l.mn&&(F.isUpdate=!0),l.dispatchEvent(new ms(R,F)),R==="installed"?l.wn=self.setTimeout(function(){R==="installed"&&d.waiting===b&&l.dispatchEvent(new ms("waiting",F))},200):R==="activating"&&(clearTimeout(l.wn),z||l.en.resolve(b))},l.dn=function(g){var d=l.hn,b=d!==navigator.serviceWorker.controller;l.dispatchEvent(new ms("controlling",{isExternal:b,originalEvent:g,sw:d,isUpdate:l.mn})),b||l.on.resolve(d)},l.gn=(f=function(g){var d=g.data,b=g.ports,R=g.source;return tr(l.getSW(),function(){l.an.has(R)&&l.dispatchEvent(new ms("message",{data:d,originalEvent:g,ports:b,sw:R}))})},function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];try{return Promise.resolve(f.apply(this,g))}catch(b){return Promise.reject(b)}}),l.sn=c,l.nn=a,navigator.serviceWorker.addEventListener("message",l.gn),l}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var n,i,o=r.prototype;return o.register=function(c){var a=(c===void 0?{}:c).immediate,l=a!==void 0&&a;try{var f=this;return function(g,d){var b=g();return b&&b.then?b.then(d):d(b)}(function(){if(!l&&document.readyState!=="complete")return lo(new Promise(function(g){return window.addEventListener("load",g)}))},function(){return f.mn=Boolean(navigator.serviceWorker.controller),f.yn=f.pn(),tr(f.bn(),function(g){f.fn=g,f.yn&&(f.hn=f.yn,f.en.resolve(f.yn),f.on.resolve(f.yn),f.yn.addEventListener("statechange",f.ln,{once:!0}));var d=f.fn.waiting;return d&&sn(d.scriptURL,f.sn.toString())&&(f.hn=d,Promise.resolve().then(function(){f.dispatchEvent(new ms("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),f.hn&&(f.rn.resolve(f.hn),f.an.add(f.hn)),f.fn.addEventListener("updatefound",f.cn),navigator.serviceWorker.addEventListener("controllerchange",f.dn),f.fn})})}catch(g){return Promise.reject(g)}},o.update=function(){try{return this.fn?lo(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},o.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(c){try{return tr(this.getSW(),function(a){return co(a,c)})}catch(a){return Promise.reject(a)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&co(this.fn.waiting,Ql)},o.pn=function(){var c=navigator.serviceWorker.controller;return c&&sn(c.scriptURL,this.sn.toString())?c:void 0},o.bn=function(){try{var c=this;return function(a,l){try{var f=a()}catch(g){return l(g)}return f&&f.then?f.then(void 0,l):f}(function(){return tr(navigator.serviceWorker.register(c.sn,c.nn),function(a){return c.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},n=r,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Jl(n.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(s,r){this.Sn(s).add(r)},t.removeEventListener=function(s,r){this.Sn(s).delete(r)},t.dispatchEvent=function(s){s.target=this;for(var r,n=Yl(this.Sn(s.type));!(r=n()).done;)(0,r.value)(s)},t.Sn=function(s){return this.Pn.has(s)||this.Pn.set(s,new Set),this.Pn.get(s)},e}());/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const uo=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ht=e=>uo?Symbol(e):"_vr_"+e,Zl=Ht("rvlm"),fo=Ht("rvd"),sr=Ht("r"),rn=Ht("rl"),nn=Ht("rvl"),Kt=typeof window!="undefined";function eu(e){return e.__esModule||uo&&e[Symbol.toStringTag]==="Module"}const fe=Object.assign;function on(e,t){const s={};for(const r in t){const n=t[r];s[r]=Array.isArray(n)?n.map(e):e(n)}return s}const bs=()=>{},tu=/\/$/,su=e=>e.replace(tu,"");function cn(e,t,s="/"){let r,n={},i="",o="";const c=t.indexOf("?"),a=t.indexOf("#",c>-1?c:0);return c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=ou(r!=null?r:t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:o}}function ru(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ho(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nu(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&zt(t.matched[r],s.matched[n])&&po(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function zt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function po(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!iu(e[s],t[s]))return!1;return!0}function iu(e,t){return Array.isArray(e)?go(e,t):Array.isArray(t)?go(t,e):e===t}function go(e,t){return Array.isArray(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function ou(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/");let n=s.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],!(n===1||o==="."))if(o==="..")n--;else break;return s.slice(0,n).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var _s;(function(e){e.pop="pop",e.push="push"})(_s||(_s={}));var ys;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ys||(ys={}));function cu(e){if(!e)if(Kt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),su(e)}const au=/^[^#]+#/;function lu(e,t){return e.replace(au,"#")+t}function uu(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const rr=()=>({left:window.pageXOffset,top:window.pageYOffset});function fu(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=uu(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function mo(e,t){return(history.state?history.state.position-t:-1)+e}const an=new Map;function hu(e,t){an.set(e,t)}function du(e){const t=an.get(e);return an.delete(e),t}let pu=()=>location.protocol+"//"+location.host;function bo(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let c=n.includes(e.slice(i))?e.slice(i).length:1,a=n.slice(c);return a[0]!=="/"&&(a="/"+a),ho(a,"")}return ho(s,e)+r+n}function gu(e,t,s,r){let n=[],i=[],o=null;const c=({state:d})=>{const b=bo(e,location),R=s.value,z=t.value;let F=0;if(d){if(s.value=b,t.value=d,o&&o===R){o=null;return}F=z?d.position-z.position:0}else r(b);n.forEach(U=>{U(s.value,R,{delta:F,type:_s.pop,direction:F?F>0?ys.forward:ys.back:ys.unknown})})};function a(){o=s.value}function l(d){n.push(d);const b=()=>{const R=n.indexOf(d);R>-1&&n.splice(R,1)};return i.push(b),b}function f(){const{history:d}=window;!d.state||d.replaceState(fe({},d.state,{scroll:rr()}),"")}function g(){for(const d of i)d();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f),{pauseListeners:a,listen:l,destroy:g}}function _o(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?rr():null}}function mu(e){const{history:t,location:s}=window,r={value:bo(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,l,f){const g=e.indexOf("#"),d=g>-1?(s.host&&document.querySelector("base")?e:e.slice(g))+a:pu()+e+a;try{t[f?"replaceState":"pushState"](l,"",d),n.value=l}catch(b){console.error(b),s[f?"replace":"assign"](d)}}function o(a,l){const f=fe({},t.state,_o(n.value.back,a,n.value.forward,!0),l,{position:n.value.position});i(a,f,!0),r.value=a}function c(a,l){const f=fe({},n.value,t.state,{forward:a,scroll:rr()});i(f.current,f,!0);const g=fe({},_o(r.value,a,null),{position:f.position+1},l);i(a,g,!1),r.value=a}return{location:r,state:n,push:c,replace:o}}function zh(e){e=cu(e);const t=mu(e),s=gu(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=fe({location:"",base:e,go:r,createHref:lu.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function bu(e){return typeof e=="string"||e&&typeof e=="object"}function yo(e){return typeof e=="string"||typeof e=="symbol"}const mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wo=Ht("nf");var vo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(vo||(vo={}));function Gt(e,t){return fe(new Error,{type:e,[wo]:!0},t)}function xt(e,t){return e instanceof Error&&wo in e&&(t==null||!!(e.type&t))}const Eo="[^/]+?",_u={sensitive:!1,strict:!1,start:!0,end:!0},yu=/[.+*?^${}()[\]/\\]/g;function wu(e,t){const s=fe({},_u,t),r=[];let n=s.start?"^":"";const i=[];for(const l of e){const f=l.length?[]:[90];s.strict&&!l.length&&(n+="/");for(let g=0;g<l.length;g++){const d=l[g];let b=40+(s.sensitive?.25:0);if(d.type===0)g||(n+="/"),n+=d.value.replace(yu,"\\$&"),b+=40;else if(d.type===1){const{value:R,repeatable:z,optional:F,regexp:U}=d;i.push({name:R,repeatable:z,optional:F});const Y=U||Eo;if(Y!==Eo){b+=10;try{new RegExp(`(${Y})`)}catch(ae){throw new Error(`Invalid custom RegExp for param "${R}" (${Y}): `+ae.message)}}let ie=z?`((?:${Y})(?:/(?:${Y}))*)`:`(${Y})`;g||(ie=F&&l.length<2?`(?:/${ie})`:"/"+ie),F&&(ie+="?"),n+=ie,b+=20,F&&(b+=-8),z&&(b+=-20),Y===".*"&&(b+=-50)}f.push(b)}r.push(f)}if(s.strict&&s.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function c(l){const f=l.match(o),g={};if(!f)return null;for(let d=1;d<f.length;d++){const b=f[d]||"",R=i[d-1];g[R.name]=b&&R.repeatable?b.split("/"):b}return g}function a(l){let f="",g=!1;for(const d of e){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const b of d)if(b.type===0)f+=b.value;else if(b.type===1){const{value:R,repeatable:z,optional:F}=b,U=R in l?l[R]:"";if(Array.isArray(U)&&!z)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const Y=Array.isArray(U)?U.join("/"):U;if(!Y)if(F)d.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${R}"`);f+=Y}}return f}return{re:o,score:r,keys:i,parse:c,stringify:a}}function vu(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Eu(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=vu(r[s],n[s]);if(i)return i;s++}return n.length-r.length}const Pu={type:0,value:""},Su=/[a-zA-Z0-9_]/;function Au(e){if(!e)return[[]];if(e==="/")return[[Pu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${s})/"${l}": ${b}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let c=0,a,l="",f="";function g(){!l||(s===0?i.push({type:0,value:l}):s===1||s===2||s===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:f,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=a}for(;c<e.length;){if(a=e[c++],a==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:a==="/"?(l&&g(),o()):a===":"?(g(),s=1):d();break;case 4:d(),s=r;break;case 1:a==="("?s=2:Su.test(a)?d():(g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+a:s=3:f+=a;break;case 3:g(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,f="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${l}"`),g(),o(),n}function Cu(e,t,s){const r=wu(Au(e.path),s),n=fe(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Ou(e,t){const s=[],r=new Map;t=So({strict:!1,end:!0,sensitive:!1},t);function n(f){return r.get(f)}function i(f,g,d){const b=!d,R=ku(f);R.aliasOf=d&&d.record;const z=So(t,f),F=[R];if("alias"in f){const ie=typeof f.alias=="string"?[f.alias]:f.alias;for(const ae of ie)F.push(fe({},R,{components:d?d.record.components:R.components,path:ae,aliasOf:d?d.record:R}))}let U,Y;for(const ie of F){const{path:ae}=ie;if(g&&ae[0]!=="/"){const Ee=g.record.path,Pe=Ee[Ee.length-1]==="/"?"":"/";ie.path=g.record.path+(ae&&Pe+ae)}if(U=Cu(ie,g,z),d?d.alias.push(U):(Y=Y||U,Y!==U&&Y.alias.push(U),b&&f.name&&!Po(U)&&o(f.name)),"children"in R){const Ee=R.children;for(let Pe=0;Pe<Ee.length;Pe++)i(Ee[Pe],U,d&&d.children[Pe])}d=d||U,a(U)}return Y?()=>{o(Y)}:bs}function o(f){if(yo(f)){const g=r.get(f);g&&(r.delete(f),s.splice(s.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=s.indexOf(f);g>-1&&(s.splice(g,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function c(){return s}function a(f){let g=0;for(;g<s.length&&Eu(f,s[g])>=0;)g++;s.splice(g,0,f),f.record.name&&!Po(f)&&r.set(f.record.name,f)}function l(f,g){let d,b={},R,z;if("name"in f&&f.name){if(d=r.get(f.name),!d)throw Gt(1,{location:f});z=d.record.name,b=fe(xu(g.params,d.keys.filter(Y=>!Y.optional).map(Y=>Y.name)),f.params),R=d.stringify(b)}else if("path"in f)R=f.path,d=s.find(Y=>Y.re.test(R)),d&&(b=d.parse(R),z=d.record.name);else{if(d=g.name?r.get(g.name):s.find(Y=>Y.re.test(g.path)),!d)throw Gt(1,{location:f,currentLocation:g});z=d.record.name,b=fe({},g.params,f.params),R=d.stringify(b)}const F=[];let U=d;for(;U;)F.unshift(U.record),U=U.parent;return{name:z,path:R,params:b,matched:F,meta:Ru(F)}}return e.forEach(f=>i(f)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:c,getRecordMatcher:n}}function xu(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function ku(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Iu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function Iu(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="boolean"?s:s[r];return t}function Po(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ru(e){return e.reduce((t,s)=>fe(t,s.meta),{})}function So(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}const Ao=/#/g,Mu=/&/g,Nu=/\//g,Tu=/=/g,Fu=/\?/g,Co=/\+/g,ju=/%5B/g,$u=/%5D/g,Oo=/%5E/g,Uu=/%60/g,xo=/%7B/g,Lu=/%7C/g,ko=/%7D/g,qu=/%20/g;function ln(e){return encodeURI(""+e).replace(Lu,"|").replace(ju,"[").replace($u,"]")}function Bu(e){return ln(e).replace(xo,"{").replace(ko,"}").replace(Oo,"^")}function un(e){return ln(e).replace(Co,"%2B").replace(qu,"+").replace(Ao,"%23").replace(Mu,"%26").replace(Uu,"`").replace(xo,"{").replace(ko,"}").replace(Oo,"^")}function Du(e){return un(e).replace(Tu,"%3D")}function Hu(e){return ln(e).replace(Ao,"%23").replace(Fu,"%3F")}function Ku(e){return e==null?"":Hu(e).replace(Nu,"%2F")}function nr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function zu(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Co," "),o=i.indexOf("="),c=nr(o<0?i:i.slice(0,o)),a=o<0?null:nr(i.slice(o+1));if(c in t){let l=t[c];Array.isArray(l)||(l=t[c]=[l]),l.push(a)}else t[c]=a}return t}function Io(e){let t="";for(let s in e){const r=e[s];if(s=Du(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Array.isArray(r)?r.map(i=>i&&un(i)):[r&&un(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Gu(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Array.isArray(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}function ws(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function bt(e,t,s,r,n){const i=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((o,c)=>{const a=g=>{g===!1?c(Gt(4,{from:s,to:t})):g instanceof Error?c(g):bu(g)?c(Gt(2,{from:t,to:g})):(i&&r.enterCallbacks[n]===i&&typeof g=="function"&&i.push(g),o())},l=e.call(r&&r.instances[n],t,s,a);let f=Promise.resolve(l);e.length<3&&(f=f.then(a)),f.catch(g=>c(g))})}function fn(e,t,s,r){const n=[];for(const i of e)for(const o in i.components){let c=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Wu(c)){const l=(c.__vccOpts||c)[t];l&&n.push(bt(l,s,r,i,o))}else{let a=c();n.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const f=eu(l)?l.default:l;i.components[o]=f;const d=(f.__vccOpts||f)[t];return d&&bt(d,s,r,i,o)()}))}}return n}function Wu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ro(e){const t=Xe(sr),s=Xe(rn),r=et(()=>t.resolve(os(e.to))),n=et(()=>{const{matched:a}=r.value,{length:l}=a,f=a[l-1],g=s.matched;if(!f||!g.length)return-1;const d=g.findIndex(zt.bind(null,f));if(d>-1)return d;const b=Mo(a[l-2]);return l>1&&Mo(f)===b&&g[g.length-1].path!==b?g.findIndex(zt.bind(null,a[l-2])):d}),i=et(()=>n.value>-1&&Xu(s.params,r.value.params)),o=et(()=>n.value>-1&&n.value===s.matched.length-1&&po(s.params,r.value.params));function c(a={}){return Yu(a)?t[os(e.replace)?"replace":"push"](os(e.to)).catch(bs):Promise.resolve()}return{route:r,href:et(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}const Vu=wi({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ro,setup(e,{slots:t}){const s=rs(Ro(e)),{options:r}=Xe(sr),n=et(()=>({[No(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[No(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&t.default(s);return e.custom?i:Qi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Ju=Vu;function Yu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xu(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Array.isArray(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Mo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const No=(e,t,s)=>e!=null?e:t!=null?t:s,Qu=wi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:s}){const r=Xe(nn),n=et(()=>e.route||r.value),i=Xe(fo,0),o=et(()=>n.value.matched[i]);Ks(fo,i+1),Ks(Zl,o),Ks(nn,n);const c=da();return zs(()=>[c.value,o.value,e.name],([a,l,f],[g,d,b])=>{l&&(l.instances[f]=a,d&&d!==l&&a&&a===g&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),a&&l&&(!d||!zt(l,d)||!g)&&(l.enterCallbacks[f]||[]).forEach(R=>R(a))},{flush:"post"}),()=>{const a=n.value,l=o.value,f=l&&l.components[e.name],g=e.name;if(!f)return To(s.default,{Component:f,route:a});const d=l.props[e.name],b=d?d===!0?a.params:typeof d=="function"?d(a):d:null,z=Qi(f,fe({},b,t,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(l.instances[g]=null)},ref:c}));return To(s.default,{Component:z,route:a})||z}}});function To(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Zu=Qu;function Gh(e){const t=Ou(e.routes,e),s=e.parseQuery||zu,r=e.stringifyQuery||Io,n=e.history,i=ws(),o=ws(),c=ws(),a=pa(mt);let l=mt;Kt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=on.bind(null,v=>""+v),g=on.bind(null,Ku),d=on.bind(null,nr);function b(v,N){let S,$;return yo(v)?(S=t.getRecordMatcher(v),$=N):$=v,t.addRoute($,S)}function R(v){const N=t.getRecordMatcher(v);N&&t.removeRoute(N)}function z(){return t.getRoutes().map(v=>v.record)}function F(v){return!!t.getRecordMatcher(v)}function U(v,N){if(N=fe({},N||a.value),typeof v=="string"){const G=cn(s,v,N.path),u=t.resolve({path:G.path},N),p=n.createHref(G.fullPath);return fe(G,u,{params:d(u.params),hash:nr(G.hash),redirectedFrom:void 0,href:p})}let S;if("path"in v)S=fe({},v,{path:cn(s,v.path,N.path).path});else{const G=fe({},v.params);for(const u in G)G[u]==null&&delete G[u];S=fe({},v,{params:g(v.params)}),N.params=g(N.params)}const $=t.resolve(S,N),ne=v.hash||"";$.params=f(d($.params));const se=ru(r,fe({},v,{hash:Bu(ne),path:$.path})),V=n.createHref(se);return fe({fullPath:se,hash:ne,query:r===Io?Gu(v.query):v.query||{}},$,{redirectedFrom:void 0,href:V})}function Y(v){return typeof v=="string"?cn(s,v,a.value.path):fe({},v)}function ie(v,N){if(l!==v)return Gt(8,{from:N,to:v})}function ae(v){return qe(v)}function Ee(v){return ae(fe(Y(v),{replace:!0}))}function Pe(v){const N=v.matched[v.matched.length-1];if(N&&N.redirect){const{redirect:S}=N;let $=typeof S=="function"?S(v):S;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=Y($):{path:$},$.params={}),fe({query:v.query,hash:v.hash,params:v.params},$)}}function qe(v,N){const S=l=U(v),$=a.value,ne=v.state,se=v.force,V=v.replace===!0,G=Pe(S);if(G)return qe(fe(Y(G),{state:ne,force:se,replace:V}),N||S);const u=S;u.redirectedFrom=N;let p;return!se&&nu(r,$,S)&&(p=Gt(16,{to:u,from:$}),Z($,$,!0,!1)),(p?Promise.resolve(p):$e(u,$)).catch(m=>xt(m)?m:L(m,u,$)).then(m=>{if(m){if(xt(m,2))return qe(fe(Y(m.to),{state:ne,force:se,replace:V}),N||u)}else m=Ue(u,$,!0,V,ne);return We(u,$,m),m})}function at(v,N){const S=ie(v,N);return S?Promise.reject(S):Promise.resolve()}function $e(v,N){let S;const[$,ne,se]=ef(v,N);S=fn($.reverse(),"beforeRouteLeave",v,N);for(const G of $)G.leaveGuards.forEach(u=>{S.push(bt(u,v,N))});const V=at.bind(null,v,N);return S.push(V),Wt(S).then(()=>{S=[];for(const G of i.list())S.push(bt(G,v,N));return S.push(V),Wt(S)}).then(()=>{S=fn(ne,"beforeRouteUpdate",v,N);for(const G of ne)G.updateGuards.forEach(u=>{S.push(bt(u,v,N))});return S.push(V),Wt(S)}).then(()=>{S=[];for(const G of v.matched)if(G.beforeEnter&&!N.matched.includes(G))if(Array.isArray(G.beforeEnter))for(const u of G.beforeEnter)S.push(bt(u,v,N));else S.push(bt(G.beforeEnter,v,N));return S.push(V),Wt(S)}).then(()=>(v.matched.forEach(G=>G.enterCallbacks={}),S=fn(se,"beforeRouteEnter",v,N),S.push(V),Wt(S))).then(()=>{S=[];for(const G of o.list())S.push(bt(G,v,N));return S.push(V),Wt(S)}).catch(G=>xt(G,8)?G:Promise.reject(G))}function We(v,N,S){for(const $ of c.list())$(v,N,S)}function Ue(v,N,S,$,ne){const se=ie(v,N);if(se)return se;const V=N===mt,G=Kt?history.state:{};S&&($||V?n.replace(v.fullPath,fe({scroll:V&&G&&G.scroll},ne)):n.push(v.fullPath,ne)),a.value=v,Z(v,N,S,V),Q()}let Ie;function tt(){Ie=n.listen((v,N,S)=>{const $=U(v),ne=Pe($);if(ne){qe(fe(ne,{replace:!0}),$).catch(bs);return}l=$;const se=a.value;Kt&&hu(mo(se.fullPath,S.delta),rr()),$e($,se).catch(V=>xt(V,4|8)?V:xt(V,2)?(qe(V.to,$).then(G=>{xt(G,4|16)&&!S.delta&&S.type===_s.pop&&n.go(-1,!1)}).catch(bs),Promise.reject()):(S.delta&&n.go(-S.delta,!1),L(V,$,se))).then(V=>{V=V||Ue($,se,!1),V&&(S.delta?n.go(-S.delta,!1):S.type===_s.pop&&xt(V,4|16)&&n.go(-1,!1)),We($,se,V)}).catch(bs)})}let w=ws(),y=ws(),K;function L(v,N,S){Q(v);const $=y.list();return $.length?$.forEach(ne=>ne(v,N,S)):console.error(v),Promise.reject(v)}function H(){return K&&a.value!==mt?Promise.resolve():new Promise((v,N)=>{w.add([v,N])})}function Q(v){K||(K=!0,tt(),w.list().forEach(([N,S])=>v?S(v):N()),w.reset())}function Z(v,N,S,$){const{scrollBehavior:ne}=e;if(!Kt||!ne)return Promise.resolve();const se=!S&&du(mo(v.fullPath,0))||($||!S)&&history.state&&history.state.scroll||null;return li().then(()=>ne(v,N,se)).then(V=>V&&fu(V)).catch(V=>L(V,v,N))}const te=v=>n.go(v);let oe;const ge=new Set;return{currentRoute:a,addRoute:b,removeRoute:R,hasRoute:F,getRoutes:z,resolve:U,options:e,push:ae,replace:Ee,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:y.add,isReady:H,install(v){const N=this;v.component("RouterLink",Ju),v.component("RouterView",Zu),v.config.globalProperties.$router=N,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>os(a)}),Kt&&!oe&&a.value===mt&&(oe=!0,ae(n.location).catch(ne=>{}));const S={};for(const ne in mt)S[ne]=et(()=>a.value[ne]);v.provide(sr,N),v.provide(rn,rs(S)),v.provide(nn,a);const $=v.unmount;ge.add(v),v.unmount=function(){ge.delete(v),ge.size<1&&(l=mt,Ie&&Ie(),a.value=mt,oe=!1,K=!1),$()}}}}function Wt(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function ef(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const c=t.matched[o];c&&(e.matched.find(l=>zt(l,c))?r.push(c):s.push(c));const a=e.matched[o];a&&(t.matched.find(l=>zt(l,a))||n.push(a))}return[s,r,n]}function Wh(){return Xe(sr)}function Vh(){return Xe(rn)}const it=new Uint8Array(0);var kt;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(kt||(kt={}));var vs;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(vs||(vs={}));const Fo=4222,hn="127.0.0.1",jo=2*1e3,$o=2*60*1e3,tf=2;var Uo;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})(Uo||(Uo={}));var dn;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(dn||(dn={}));var pn;(function(e){e.Old="old",e.New="new"})(pn||(pn={}));var gn;(function(e){e.File="file",e.Memory="memory"})(gn||(gn={}));var Te;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(Te||(Te={}));var ye;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(ye||(ye={}));var Vt;(function(e){e.Instant="instant",e.Original="original"})(Vt||(Vt={}));var Jt;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(Jt||(Jt={}));var T;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStreamNotEnabled="503",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(T||(T={}));class Lo{constructor(){h(this,"messages");this.messages=new Map,this.messages.set(T.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(T.BadJson,"Bad JSON"),this.messages.set(T.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return sf.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const sf=new Lo;function rf(e){return typeof e.code=="string"}class D extends Error{constructor(t,s,r){super(t);h(this,"name");h(this,"message");h(this,"code");h(this,"chainedError");h(this,"api_error");this.name="NatsError",this.message=t,this.code=s,this.chainedError=r}static errorForCode(t,s){const r=Lo.getMessage(t);return new D(r,t,s)}isAuthError(){return this.code===T.AuthenticationExpired||this.code===T.AuthorizationViolation}isPermissionError(){return this.code===T.PermissionsViolation}isProtocolError(){return this.code===T.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}function Yt(e){return qo("durable",e)}function Fe(e){return qo("stream",e)}function qo(e,t=""){if(t==="")throw Error(`${e} name required`);[".","*",">"].forEach(r=>{if(t.indexOf(r)!==-1)throw Error(`invalid ${e} name - ${e} name cannot contain '${r}'`)})}function nf(e,t={}){return Object.assign({name:e,deliver_policy:Te.All,ack_policy:ye.Explicit,ack_wait:Ge(30*1e3),replay_policy:Vt.Instant},t)}function Ge(e){return e*1e6}function of(e){return e/1e6}function mn(e){const t=e.headers;return t?t.code>=100&&t.code<200:!1}function cf(e){var t;return mn(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function ir(e){const t=e.headers;return t?Bo(t.code,t.status):null}function Bo(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 503:return D.errorForCode(T.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=T.Unknown),new D(t,`${e}`)}}const Es=new TextEncoder,ot=new TextDecoder;function Ps(...e){let t=0;for(let n=0;n<e.length;n++)t+=e[n]?e[n].length:0;if(t===0)return it;const s=new Uint8Array(t);let r=0;for(let n=0;n<e.length;n++){const i=e[n];if(i)for(let o=0;o<i.length;o++)s[r]=i.charCodeAt(o),r++}return s}function Do(e){return!e||e.length===0?"":String.fromCharCode(...e)}class or{constructor(){h(this,"buffers");h(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let s=0;for(let i=0;i<t.length;i++)s+=t[i].length;const r=new Uint8Array(s);let n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r}static fromAscii(t){return t||(t=""),Es.encode(t)}static toAscii(t){return ot.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let s=0;for(let r=0;r<this.buffers.length;r++)t.set(this.buffers[r],s),s+=this.buffers[r].length;this.buffers.length=0,this.buffers.push(t)}}drain(t){if(this.buffers.length){this.pack();const s=this.buffers.pop();if(s){const r=this.byteLength;(t===void 0||t>r)&&(t=r);const n=s.subarray(0,t);return r>t&&this.buffers.push(s.subarray(t)),this.byteLength=r-t,n}}return new Uint8Array(0)}fill(t,...s){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let r=0;r<s.length;r++)s[r]&&s[r].length&&(this.buffers.push(s[r]),this.byteLength+=s[r].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const It=`\r
`,cr=or.fromAscii(It),af=new Uint8Array(cr)[0],lf=new Uint8Array(cr)[1];function uf(e){return e instanceof Uint8Array}function ff(e){for(let t=0;t<e.length;t++){const s=t+1;if(e.byteLength>s&&e[t]===af&&e[s]===lf)return s+1}return 0}function hf(e){const t=ff(e);if(t>0){const r=new Uint8Array(e).slice(0,t);return ot.decode(r)}return""}function Ss(e,...t){for(let s=0;s<t.length;s++){const r=t[s];Object.keys(r).forEach(function(n){e[n]=r[n]})}return e}function ar(e){const t="\u240D",s="\u240A";return ot.decode(e).replace(/\n/g,s).replace(/\r/g,t)}function lr(e){const t=D.errorForCode(T.Timeout);let s,r;const n=new Promise((i,o)=>{s={cancel:()=>{r&&clearTimeout(r)}},r=setTimeout(()=>{o(t)},e)});return Object.assign(n,s)}function Ho(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function ve(){let e={};const t=new Promise((s,r)=>{e={resolve:s,reject:r}});return Object.assign(t,e)}function Ko(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}class ct{constructor(){h(this,"inflight");h(this,"processed");h(this,"received");h(this,"noIterator");h(this,"iterClosed");h(this,"done");h(this,"signal");h(this,"yields");h(this,"filtered");h(this,"pendingFiltered");h(this,"ingestionFilterFn");h(this,"protocolFilterFn");h(this,"dispatchedFn");h(this,"ctx");h(this,"_data");h(this,"err");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=ve(),this.yields=[],this.iterClosed=ve()}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;const{ingest:s,protocol:r}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};s&&(r&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new D("unsupported iterator",T.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let s=0;s<t.length;s++)(this.protocolFilterFn?this.protocolFilterFn(t[s]):!0)?(this.processed++,yield t[s],this.dispatchedFn&&t[s]&&this.dispatchedFn(t[s])):this.pendingFiltered--,this.inflight--;if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ve())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function zo(e){const t=45,s=97-65;let r=!0;const n=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new D(`'${e[i]}' is not a valid character for a header key`,T.BadHeader);r&&97<=o&&o<=122?o-=s:!r&&65<=o&&o<=90&&(o+=s),n[i]=o,r=o==t}return String.fromCharCode(...n)}function ur(){return new Xt}const bn="NATS/1.0";var Le;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(Le||(Le={}));class Xt{constructor(){h(this,"code");h(this,"headers");h(this,"description");this.code=0,this.headers=new Map,this.description=""}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this.code===t.code){for(const[s,r]of this.headers){const n=t.values(s);if(r.length!==n.length)return!1;const i=[...r].sort(),o=[...n].sort();for(let c=0;c<i.length;c++)if(i[c]!==o[c])return!1}return!0}return!1}static decode(t){const s=new Xt,n=ot.decode(t).split(`\r
`),i=n[0];if(i!==bn){let o=i.replace(bn,"");s.code=parseInt(o,10);const c=s.code.toString();o=o.replace(c,""),s.description=o.trim()}return n.length>=1&&n.slice(1).map(o=>{if(o){const c=o.indexOf(":");if(c>-1){const a=o.slice(0,c),l=o.slice(c+1).trim();s.append(a,l)}}}),s}toString(){if(this.headers.size===0)return"";let t=bn;for(const[s,r]of this.headers)for(let n=0;n<r.length;n++)t=`${t}\r
${s}: ${r[n]}`;return`${t}\r
\r
`}encode(){return Es.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new D("invalid header value - \\r and \\n are not allowed.",T.BadHeader);return t.trim()}keys(){const t=[];for(const s of this.headers.keys())t.push(s);return t}findKeys(t,s=Le.Exact){const r=this.keys();switch(s){case Le.Exact:return r.filter(n=>n===t);case Le.CanonicalMIME:return t=zo(t),r.filter(n=>n===t);default:{const n=t.toLowerCase();return r.filter(i=>n===i.toLowerCase())}}}get(t,s=Le.Exact){const r=this.findKeys(t,s);if(r.length){const n=this.headers.get(r[0]);if(n)return Array.isArray(n)?n[0]:n}return""}has(t,s=Le.Exact){return this.findKeys(t,s).length>0}set(t,s,r=Le.Exact){this.delete(t,r),this.append(t,s,r)}append(t,s,r=Le.Exact){const n=zo(t);r===Le.CanonicalMIME&&(t=n);const i=this.findKeys(t,r);t=i.length>0?i[0]:t;const o=Xt.validHeaderValue(s);let c=this.headers.get(t);c||(c=[],this.headers.set(t,c)),c.push(o)}values(t,s=Le.Exact){const r=[];return this.findKeys(t,s).forEach(i=>{const o=this.headers.get(i);o&&r.push(...o)}),r}delete(t,s=Le.Exact){this.findKeys(t,s).forEach(n=>{this.headers.delete(n)})}get hasError(){return this.code>=300}get status(){return`${this.code} ${this.description}`.trim()}}function Go(e){if(e&&e.headers){const t=e.headers;if(t.hasError){if(t.code===503)return D.errorForCode(T.NoResponders);{let s=t.description;return s===""&&(s=T.RequestError),s=s.toLowerCase(),new D(s,t.status)}}}return null}class df{constructor(t,s,r){h(this,"_headers");h(this,"_msg");h(this,"_rdata");h(this,"_reply");h(this,"_subject");h(this,"publisher");this._msg=t,this._rdata=s,this.publisher=r}get subject(){return this._subject?this._subject:(this._subject=ot.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=ot.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=Xt.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=it,s){return this.reply?(this.publisher.publish(this.reply,t,s),!0):!1}}let je;function pf(e){je=e}function Wo(){return je!==void 0&&je.defaultPort!==void 0?je.defaultPort:4222}function _n(){return je!==void 0&&je.urlParseFn?je.urlParseFn:void 0}function gf(){if(!je||typeof je.factory!="function")throw new Error("transport fn is not set");return je.factory()}function Vo(){return je!==void 0&&je.dnsResolveFn?je.dnsResolveFn:void 0}const Jo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Yo=36,mf=3656158440062976,Xo=33,bf=333,Qo=12+10,_f=yf();function yf(){let e=null;return typeof globalThis!="undefined"&&"crypto"in globalThis&&globalThis.crypto.getRandomValues&&(e=globalThis.crypto),e||(e={getRandomValues:function(t){for(let s=0;s<t.length;s++)t[s]=Math.floor(Math.random()*255)}}),e}class wf{constructor(){h(this,"buf");h(this,"seq");h(this,"inc");this.buf=new Uint8Array(Qo),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*mf),this.inc=Math.floor(Math.random()*(bf-Xo)+Xo)}setPre(){const t=new Uint8Array(12);_f.getRandomValues(t);for(let s=0;s<12;s++){const r=t[s]%36;this.buf[s]=Jo.charCodeAt(r)}}fillSeq(){let t=this.seq;for(let s=Qo-1;s>=12;s--)this.buf[s]=Jo.charCodeAt(t%Yo),t=Math.floor(t/Yo)}next(){return this.seq+=this.inc,this.seq>3656158440062976&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const Zo=new wf,vf=4,ec=48,Ef=65,Pf=97;function Sf(e,t,s,r){const n=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,c)=>{n[c]=o}),n[12]=e,n[13]=t,n[14]=s,n[15]=r,n}function yn(e){return Af(e)!==void 0}function Af(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return tc(e);case":":return Cf(e)}}function tc(e){const t=new Uint8Array(4);for(let s=0;s<4;s++){if(e.length===0)return;if(s>0){if(e[0]!==".")return;e=e.substring(1)}const{n:r,c:n,ok:i}=Of(e);if(!i||r>255)return;e=e.substring(n),t[s]=r}return Sf(t[0],t[1],t[2],t[3])}function Cf(e){const t=new Uint8Array(16);let s=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(s=0,e=e.substring(2),e.length===0))return t;let r=0;for(;r<16;){const{n,c:i,ok:o}=xf(e);if(!o||n>65535)return;if(i<e.length&&e[i]==="."){if(s<0&&r!=16-4||r+4>16)return;const c=tc(e);if(c===void 0)return;t[r]=c[12],t[r+1]=c[13],t[r+2]=c[14],t[r+3]=c[15],e="",r+=vf;break}if(t[r]=n>>8,t[r+1]=n,r+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(s>=0)return;if(s=r,e=e.substring(1),e.length===0)break}}if(e.length===0){if(r<16){if(s<0)return;const n=16-r;for(let i=r-1;i>=s;i--)t[i+n]=t[i];for(let i=s+n-1;i>=s;i--)t[i]=0}else if(s>=0)return;return t}}function Of(e){let t=0,s=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(s=s*10+(e.charCodeAt(t)-ec),s>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n:s,c:t,ok:!0}}function xf(e){let t=0,s=0;for(s=0;s<e.length;s++){if(48<=e.charCodeAt(s)&&e.charCodeAt(s)<=57)t*=16,t+=e.charCodeAt(s)-ec;else if(97<=e.charCodeAt(s)&&e.charCodeAt(s)<=102)t*=16,t+=e.charCodeAt(s)-Pf+10;else if(65<=e.charCodeAt(s)&&e.charCodeAt(s)<=70)t*=16,t+=e.charCodeAt(s)-Ef+10;else break;if(t>=16777215)return{n:0,c:s,ok:!1}}return s===0?{n:0,c:s,ok:!1}:{n:t,c:s,ok:!0}}function kf(e){e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"));const t=new URL(`http://${e}`);t.port||(t.port=`${Fo}`);const s=t.host,r=t.hostname,n=parseInt(t.port,10);return{listen:s,hostname:r,port:n}}class As{constructor(t,s=!1){h(this,"src");h(this,"listen");h(this,"hostname");h(this,"port");h(this,"didConnect");h(this,"reconnects");h(this,"lastConnect");h(this,"gossiped");h(this,"tlsName");h(this,"resolves");this.src=t,this.tlsName="";const r=kf(t);this.listen=r.listen,this.hostname=r.hostname,this.port=r.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=s}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const s=[];if(yn(this.hostname))return[this];{const r=await t.fn(this.hostname);for(const n of r){const i=new URL(`http://${this.listen}`);i.port||(i.port=`${Fo}`),i.hostname=n;const o=new As(i.host,!1);o.tlsName=this.hostname,s.push(o)}}return t.randomize&&Ko(s),this.resolves=s,s}}class If{constructor(t=[],s={}){h(this,"firstSelect");h(this,"servers");h(this,"currentServer");h(this,"tlsName");h(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=s.randomize||!1;const r=_n();t&&(t.forEach(n=>{n=r?r(n):n,this.servers.push(new As(n))}),this.randomize&&(this.servers=Ko(this.servers))),this.servers.length===0&&this.addServer(`${hn}:${Wo()}`,!1),this.currentServer=this.servers[0]}updateTLSName(){const t=this.getCurrentServer();yn(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(s=>{s.gossiped&&(s.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,s=!1){const r=_n();t=r?r(t):t;const n=new As(t,s);yn(n.hostname)&&(n.tlsName=this.tlsName),this.servers.push(n)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const s=this.servers.indexOf(t);this.servers.splice(s,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const s=[];let r=[];const n=_n(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(c=>{c=n?n(c):c;const a=new As(c,!0);i.set(c,a)});const o=[];return this.servers.forEach((c,a)=>{const l=c.listen;c.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(a),i.delete(l)}),o.reverse(),o.forEach(c=>{const a=this.servers.splice(c,1);r=r.concat(a[0].listen)}),i.forEach((c,a)=>{this.servers.push(c),s.push(a)}),{added:s,deleted:r}}}class sc extends ct{constructor(t,s,r={}){super();h(this,"sid");h(this,"queue");h(this,"draining");h(this,"max");h(this,"subject");h(this,"drained");h(this,"protocol");h(this,"timer");h(this,"info");h(this,"cleanupFn");h(this,"closed");Ss(this,r),this.protocol=t,this.subject=s,this.draining=!1,this.noIterator=typeof r.callback=="function",this.closed=ve(),r.timeout&&(this.timer=lr(r.timeout),this.timer.then(()=>{this.timer=void 0}).catch(n=>{this.stop(n),this.noIterator&&this.callback(n,{})})),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()})}setPrePostHandlers(t){if(this.noIterator){const s=this.callback,r=t.ingestionFilterFn?t.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),n=t.protocolFilterFn?t.protocolFilterFn:()=>!0,i=t.dispatchedFn?t.dispatchedFn:()=>{};this.callback=(o,c)=>{const{ingest:a}=r(c);!a||n(c)&&(s(o,c),i(c))}}else this.protocolFilterFn=t.protocolFilterFn,this.dispatchedFn=t.dispatchedFn}callback(t,s){this.cancelTimeout(),t?this.stop(t):this.push(s)}close(){if(!this.isClosed()){if(this.cancelTimeout(),this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()}}unsubscribe(t){this.protocol.unsubscribe(this,t)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){if(this.protocol.isClosed())throw D.errorForCode(T.ConnectionClosed);if(this.isClosed())throw D.errorForCode(T.SubClosed);return this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(ve()),this.drained.then(()=>{this.protocol.subscriptions.cancel(this)})),this.drained}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class Rf{constructor(){h(this,"mux");h(this,"subs");h(this,"sidCounter");this.sidCounter=0,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){const t=[];for(const s of this.subs.values())t.push(s);return t}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){let s=!1;if(t){const n=/^'Permissions Violation for Subscription to "(\S+)"'/i.exec(t.message);if(n){const i=n[1];this.subs.forEach(o=>{i==o.subject&&(o.callback(t,{}),o.close(),s=o!==this.mux)})}}return s}close(){this.subs.forEach(t=>{t.close()})}}class Mf{constructor(t,s,r){h(this,"ph");h(this,"interval");h(this,"maxOut");h(this,"timer");h(this,"pendings");this.ph=t,this.interval=s,this.maxOut=r,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:vs.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=ve();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class Nf extends Error{constructor(t){super(t);this.name="AssertionError"}}function Tf(e,t="Assertion failed."){if(!e)throw new Nf(t)}const rc=32*1024,wn=2**32-2;function fr(e,t,s=0){const r=t.byteLength-s;return e.byteLength>r&&(e=e.subarray(0,r)),t.set(e,s),e.byteLength}class vn{constructor(t){h(this,"_buf");h(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const s=this._buf.byteLength;return t<=this.capacity-s?(this._reslice(s+t),s):-1}_reslice(t){Tf(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const s=fr(this._buf.subarray(this._off),t);return this._off+=s,s}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(Es.encode(t))}write(t){const s=this._grow(t.byteLength);return fr(t,this._buf,s)}_grow(t){const s=this.length;s===0&&this._off!==0&&this.reset();const r=this._tryGrowByReslice(t);if(r>=0)return r;const n=this.capacity;if(t<=Math.floor(n/2)-s)fr(this._buf.subarray(this._off),this._buf);else{if(n+t>wn)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*n+t,wn));fr(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(s+t,wn)),s}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const s=this._grow(t);this._reslice(s)}readFrom(t){let s=0;const r=new Uint8Array(rc);for(;;){const n=this.capacity-this.length<rc,i=n?r:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return s;n?this.write(i.subarray(0,o)):this._reslice(this.length+o),s+=o}}}var Oe;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(Oe||(Oe={}));function nc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const Ff=48;class ic{constructor(t){h(this,"dispatcher");h(this,"state");h(this,"as");h(this,"drop");h(this,"hdr");h(this,"ma");h(this,"argBuf");h(this,"msgBuf");this.dispatcher=t,this.state=k.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){typeof module!="undefined"&&module.exports&&(t.subarray=t.slice);let s;for(s=0;s<t.length;s++){const r=t[s];switch(this.state){case k.OP_START:switch(r){case I.M:case I.m:this.state=k.OP_M,this.hdr=-1,this.ma=nc();break;case I.H:case I.h:this.state=k.OP_H,this.hdr=0,this.ma=nc();break;case I.P:case I.p:this.state=k.OP_P;break;case I.PLUS:this.state=k.OP_PLUS;break;case I.MINUS:this.state=k.OP_MINUS;break;case I.I:case I.i:this.state=k.OP_I;break;default:throw this.fail(t.subarray(s))}break;case k.OP_H:switch(r){case I.M:case I.m:this.state=k.OP_M;break;default:throw this.fail(t.subarray(s))}break;case k.OP_M:switch(r){case I.S:case I.s:this.state=k.OP_MS;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MS:switch(r){case I.G:case I.g:this.state=k.OP_MSG;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MSG:switch(r){case I.SPACE:case I.TAB:this.state=k.OP_MSG_SPC;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MSG_SPC:switch(r){case I.SPACE:case I.TAB:continue;default:this.state=k.MSG_ARG,this.as=s}break;case k.MSG_ARG:switch(r){case I.CR:this.drop=1;break;case I.NL:{const n=this.argBuf?this.argBuf.bytes():t.subarray(this.as,s-this.drop);this.processMsgArgs(n),this.drop=0,this.as=s+1,this.state=k.MSG_PAYLOAD,s=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;case k.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const n=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:Oe.MSG,msg:this.ma,data:n}),this.argBuf=void 0,this.msgBuf=void 0,this.state=k.MSG_END}else{let n=this.ma.size-this.msgBuf.length;const i=t.length-s;i<n&&(n=i),n>0?(this.msgBuf.write(t.subarray(s,s+n)),s=s+n-1):this.msgBuf.writeByte(r)}else s-this.as>=this.ma.size&&(this.dispatcher.push({kind:Oe.MSG,msg:this.ma,data:t.subarray(this.as,s)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=k.MSG_END);break;case k.MSG_END:switch(r){case I.NL:this.drop=0,this.as=s+1,this.state=k.OP_START;break;default:continue}break;case k.OP_PLUS:switch(r){case I.O:case I.o:this.state=k.OP_PLUS_O;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PLUS_O:switch(r){case I.K:case I.k:this.state=k.OP_PLUS_OK;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PLUS_OK:switch(r){case I.NL:this.dispatcher.push({kind:Oe.OK}),this.drop=0,this.state=k.OP_START;break}break;case k.OP_MINUS:switch(r){case I.E:case I.e:this.state=k.OP_MINUS_E;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MINUS_E:switch(r){case I.R:case I.r:this.state=k.OP_MINUS_ER;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MINUS_ER:switch(r){case I.R:case I.r:this.state=k.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MINUS_ERR:switch(r){case I.SPACE:case I.TAB:this.state=k.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(s))}break;case k.OP_MINUS_ERR_SPC:switch(r){case I.SPACE:case I.TAB:continue;default:this.state=k.MINUS_ERR_ARG,this.as=s}break;case k.MINUS_ERR_ARG:switch(r){case I.CR:this.drop=1;break;case I.NL:{let n;this.argBuf?(n=this.argBuf.bytes(),this.argBuf=void 0):n=t.subarray(this.as,s-this.drop),this.dispatcher.push({kind:Oe.ERR,data:n}),this.drop=0,this.as=s+1,this.state=k.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(r))}break;case k.OP_P:switch(r){case I.I:case I.i:this.state=k.OP_PI;break;case I.O:case I.o:this.state=k.OP_PO;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PO:switch(r){case I.N:case I.n:this.state=k.OP_PON;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PON:switch(r){case I.G:case I.g:this.state=k.OP_PONG;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PONG:switch(r){case I.NL:this.dispatcher.push({kind:Oe.PONG}),this.drop=0,this.state=k.OP_START;break}break;case k.OP_PI:switch(r){case I.N:case I.n:this.state=k.OP_PIN;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PIN:switch(r){case I.G:case I.g:this.state=k.OP_PING;break;default:throw this.fail(t.subarray(s))}break;case k.OP_PING:switch(r){case I.NL:this.dispatcher.push({kind:Oe.PING}),this.drop=0,this.state=k.OP_START;break}break;case k.OP_I:switch(r){case I.N:case I.n:this.state=k.OP_IN;break;default:throw this.fail(t.subarray(s))}break;case k.OP_IN:switch(r){case I.F:case I.f:this.state=k.OP_INF;break;default:throw this.fail(t.subarray(s))}break;case k.OP_INF:switch(r){case I.O:case I.o:this.state=k.OP_INFO;break;default:throw this.fail(t.subarray(s))}break;case k.OP_INFO:switch(r){case I.SPACE:case I.TAB:this.state=k.OP_INFO_SPC;break;default:throw this.fail(t.subarray(s))}break;case k.OP_INFO_SPC:switch(r){case I.SPACE:case I.TAB:continue;default:this.state=k.INFO_ARG,this.as=s}break;case k.INFO_ARG:switch(r){case I.CR:this.drop=1;break;case I.NL:{let n;this.argBuf?(n=this.argBuf.bytes(),this.argBuf=void 0):n=t.subarray(this.as,s-this.drop),this.dispatcher.push({kind:Oe.INFO,data:n}),this.drop=0,this.as=s+1,this.state=k.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(r)}break;default:throw this.fail(t.subarray(s))}}(this.state===k.MSG_ARG||this.state===k.MINUS_ERR_ARG||this.state===k.INFO_ARG)&&!this.argBuf&&(this.argBuf=new vn(t.subarray(this.as,s-this.drop))),this.state===k.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new vn(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,s=this.ma.reply?this.ma.reply.length:0,r=new Uint8Array(t+s);r.set(this.ma.subject),this.ma.reply&&r.set(this.ma.reply,t),this.argBuf=new vn(r),this.ma.subject=r.subarray(0,t),this.ma.reply&&(this.ma.reply=r.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const s=[];let r=-1;for(let n=0;n<t.length;n++)switch(t[n]){case I.SPACE:case I.TAB:case I.CR:case I.NL:r>=0&&(s.push(t.subarray(r,n)),r=-1);break;default:r<0&&(r=n)}switch(r>=0&&s.push(t.subarray(r)),s.length){case 3:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(s[2]);break;case 4:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=s[2],this.ma.size=this.protoParseInt(s[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,s=""){return s?s=`${s} [${this.state}]`:s=`parse error [${this.state}]`,new Error(`${s}: ${ot.decode(t)}`)}processHeaderMsgArgs(t){const s=[];let r=-1;for(let n=0;n<t.length;n++)switch(t[n]){case I.SPACE:case I.TAB:case I.CR:case I.NL:r>=0&&(s.push(t.subarray(r,n)),r=-1);break;default:r<0&&(r=n)}switch(r>=0&&s.push(t.subarray(r)),s.length){case 4:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(s[2]),this.ma.size=this.protoParseInt(s[3]);break;case 5:this.ma.subject=s[0],this.ma.sid=this.protoParseInt(s[1]),this.ma.reply=s[2],this.ma.hdr=this.protoParseInt(s[3]),this.ma.size=this.protoParseInt(s[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let s=0;for(let r=0;r<t.length;r++){if(t[r]<48||t[r]>57)return-1;s=s*10+(t[r]-Ff)}return s}}var k;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(k||(k={}));var I;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(I||(I={}));const jf=1024*32,$f=/^INFO\s+([^\r\n]+)\r\n/i;function _t(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${Zo.next()}`}class Uf{constructor(){h(this,"baseInbox");h(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${_t(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const s=t.subject||"";return s.indexOf(this.baseInbox)===0?s.substring(this.baseInbox.length):null}dispatcher(){return(t,s)=>{const r=this.getToken(s);if(r){const n=this.get(r);n&&(t===null&&s.headers&&(t=Go(s)),n.resolver(t,s))}}}close(){const t=D.errorForCode(T.Timeout);this.reqs.forEach(s=>{s.resolver(t,{})})}}const Lf=Ps(`PONG\r
`),oc=Ps(`PING\r
`);class qf{constructor(t,s,r){h(this,"echo");h(this,"no_responders");h(this,"protocol");h(this,"verbose");h(this,"pedantic");h(this,"jwt");h(this,"nkey");h(this,"sig");h(this,"user");h(this,"pass");h(this,"auth_token");h(this,"tls_required");h(this,"name");h(this,"lang");h(this,"version");h(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=s.noEcho?!1:void 0,this.verbose=s.verbose,this.pedantic=s.pedantic,this.tls_required=s.tls?!0:void 0,this.name=s.name;const n=(s&&s.authenticator?s.authenticator(r):{})||{};Ss(this,n)}}class hr{constructor(t,s){h(this,"connected");h(this,"connectedOnce");h(this,"infoReceived");h(this,"info");h(this,"muxSubscriptions");h(this,"options");h(this,"outbound");h(this,"pongs");h(this,"subscriptions");h(this,"transport");h(this,"noMorePublishing");h(this,"connectError");h(this,"publisher");h(this,"_closed");h(this,"closed");h(this,"listeners");h(this,"heartbeats");h(this,"parser");h(this,"outMsgs");h(this,"inMsgs");h(this,"outBytes");h(this,"inBytes");h(this,"pendingLimit");h(this,"lastError");h(this,"abortReconnect");h(this,"servers");h(this,"server");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=jf,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=s,this.subscriptions=new Rf,this.muxSubscriptions=new Uf,this.outbound=new or,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit;const r=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new If(r,{randomize:!t.noRandomize}),this.closed=ve(),this.parser=new ic(this),this.heartbeats=new Mf(this,this.options.pingInterval||$o,this.options.maxPingOut||tf)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[],t.forEach(s=>{s.reject(D.errorForCode(T.Disconnect))}),this.parser=new ic(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(s=>{s.push(t)})}status(){const t=new ct;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=ve();return this.pongs.unshift(t),this.connectError=s=>{t.reject(s)},this.transport=gf(),this.transport.closed().then(async s=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError);return}}),t}disconnect(){this.dispatchStatus({type:vs.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:kt.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{this.dispatchStatus({type:kt.Reconnect,data:this.servers.getCurrentServer().toString()})}).catch(s=>{this._close(s)}):await this._close()}async dial(t){const s=this.prepare();let r;try{r=lr(this.options.timeout||2e4);const n=this.transport.connect(t,this.options);await Promise.race([n,r]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(n){s.reject(n)}try{await Promise.race([r,s]),r&&r.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(n){throw r&&r.cancel(),await this.transport.close(n),n}}async _doDial(t){const s=await t.resolve({fn:Vo(),randomize:!this.options.noRandomize});let r=null;for(const n of s)try{r=null,this.dispatchStatus({type:vs.Reconnecting,data:n.toString()}),await this.dial(n);return}catch(i){r=i}throw r}async dialLoop(){let t;for(;;){const s=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():jo;let r=s;const n=this.selectServer();if(!n||this.abortReconnect)throw t||D.errorForCode(T.ConnectionRefused);const i=Date.now();if(n.lastConnect===0||n.lastConnect+s<=i){n.lastConnect=Date.now();try{await this._doDial(n);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}n.reconnects++;const c=this.options.maxReconnectAttempts||0;c!==-1&&n.reconnects>=c&&this.servers.removeCurrentServer()}}else r=Math.min(r,n.lastConnect+s-i),await Ho(r)}}static async connect(t,s){const r=new hr(t,s);return await r.dialLoop(),r}static toError(t){const s=t?t.toLowerCase():"";return s.indexOf("permissions violation")!==-1?new D(t,T.PermissionsViolation):s.indexOf("authorization violation")!==-1?new D(t,T.AuthorizationViolation):s.indexOf("user authentication expired")!==-1?new D(t,T.AuthenticationExpired):new D(t,T.ProtocolError)}processMsg(t,s){if(this.inMsgs++,this.inBytes+=s.length,!this.subscriptions.sidCounter)return;const r=this.subscriptions.get(t.sid);!r||(r.received+=1,r.callback&&r.callback(null,new df(t,s,this)),r.max!==void 0&&r.received>=r.max&&r.unsubscribe())}async processError(t){const s=Do(t),r=hr.toError(s);this.subscriptions.handleError(r)||this.dispatchStatus({type:kt.Error,data:r.code}),await this.handleError(r)}async handleError(t){t.isAuthError()&&this.handleAuthError(t),(t.isPermissionError()||t.isProtocolError())&&await this._close(t),this.lastError=t}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(Lf)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const s=JSON.parse(Do(t));this.info=s;const r=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(s);if(!this.infoReceived){this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const c=new qf({version:i,lang:o},this.options,s.nonce);s.headers&&(c.headers=!0,c.no_responders=!0);const a=JSON.stringify(c);this.transport.send(Ps(`CONNECT ${a}${It}`)),this.transport.send(oc)}catch(c){this._close(D.errorForCode(T.BadAuthentication,c))}}r&&this.dispatchStatus({type:kt.Update,data:r}),(s.ldm!==void 0?s.ldm:!1)&&this.dispatchStatus({type:kt.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case Oe.MSG:{const{msg:s,data:r}=t;this.processMsg(s,r);break}case Oe.OK:break;case Oe.ERR:this.processError(t.data);break;case Oe.PING:this.processPing();break;case Oe.PONG:this.processPong();break;case Oe.INFO:this.processInfo(t.data);break}}sendCommand(t,...s){const r=this.outbound.length();let n;typeof t=="string"?n=Ps(t):n=t,this.outbound.fill(n,...s),r===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,s,r){let n=s.length;r=r||{},r.reply=r.reply||"";let i=it,o=0;if(r.headers){if(this.info&&!this.info.headers)throw new D("headers",T.ServerOptionNotAvailable);i=r.headers.encode(),o=i.length,n=s.length+o}if(this.info&&n>this.info.max_payload)throw D.errorForCode(T.MaxPayloadExceeded);this.outBytes+=n,this.outMsgs++;let c;r.headers?(r.reply?c=`HPUB ${t} ${r.reply} ${o} ${n}${It}`:c=`HPUB ${t} ${o} ${n}\r
`,this.sendCommand(c,i,s,cr)):(r.reply?c=`PUB ${t} ${r.reply} ${n}\r
`:c=`PUB ${t} ${n}\r
`,this.sendCommand(c,s,cr))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,s){this.unsub(t,s),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,s){!t||this.isClosed()||(s?this.sendCommand(`UNSUB ${t.sid} ${s}${It}`):this.sendCommand(`UNSUB ${t.sid}${It}`),t.max=s)}resub(t,s){!t||this.isClosed()||(t.subject=s,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=ve()),this.pongs.push(t),this.sendCommand(oc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(s=>{const r=s;r.queue?t.push(`SUB ${r.subject} ${r.queue} ${r.sid}${It}`):t.push(`SUB ${r.subject} ${r.sid}${It}`)}),t.length&&this.transport.send(Ps(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(s=>{s.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),s=[];return t.forEach(r=>{s.push(r.drain())}),Promise.all(s).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const s=this.muxSubscriptions.init(this.options.inboxPrefix),r=new sc(this,`${s}*`);r.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(r),this.subscribe(r)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function Jh(){return{encode(e){return Es.encode(e)},decode(e){return ot.decode(e)}}}function cc(){return{encode(e){try{return e===void 0&&(e=null),Es.encode(JSON.stringify(e))}catch(t){throw D.errorForCode(T.BadJson,t)}},decode(e){try{return JSON.parse(ot.decode(e))}catch(t){throw D.errorForCode(T.BadJson,t)}}}}const Bf="$JS.API";function Df(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),Ss({apiPrefix:Bf,timeout:5e3},e)}class dr{constructor(t,s){h(this,"nc");h(this,"opts");h(this,"prefix");h(this,"timeout");h(this,"jc");this.nc=t,this.opts=Df(s),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=cc()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,s=null,r){r=r||{},r.timeout=this.timeout;let n=it;s&&(n=this.jc.encode(s));const i=await this.nc.request(t,n,r);return this.parseJsResponse(i)}async findStream(t){const s={subject:t},n=await this._request(`${this.prefix}.STREAM.NAMES`,s);if(!n.streams||n.streams.length!==1)throw new Error("no stream matches subject");return n.streams[0]}parseJsResponse(t){const s=this.jc.decode(t.data),r=s;if(r.error){const n=Bo(r.error.code,r.error.description);if(n!==null)throw n.api_error=r.error,n}return s}}class ac{constructor(t,s,r){h(this,"err");h(this,"offset");h(this,"pageInfo");h(this,"subject");h(this,"jsm");h(this,"filter");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=r,this.offset=0,this.pageInfo={},this.filter=s}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};try{const s=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=s;const r=this.filter(s);return this.offset+=r.length,r}catch(s){throw this.err=s,s}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const s of t)yield s;t=await this.next()}}}class lc extends dr{constructor(t,s){super(t,s)}async add(t,s){if(Fe(t),s.deliver_group&&s.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(s.deliver_group&&s.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const r={};r.config=s,r.stream_name=t,r.config.durable_name&&Yt(r.config.durable_name);const n=s.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${s.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(n,r)}async info(t,s){return Fe(t),Yt(s),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${s}`)}async delete(t,s){return Fe(t),Yt(s),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${s}`)).success}list(t){Fe(t);const s=n=>n.consumers,r=`${this.prefix}.CONSUMER.LIST.${t}`;return new ac(r,s,this)}}class uc{constructor(t,s={timeout:1e3}){h(this,"token");h(this,"received");h(this,"deferred");h(this,"timer");h(this,"ctx");h(this,"mux");this.mux=t,this.received=0,this.deferred=ve(),this.token=Zo.next(),Ss(this,s),this.timer=lr(s.timeout),this.ctx=new Error}resolver(t,s){this.timer&&this.timer.cancel(),t?(t.stack+=`

${this.ctx.stack}`,this.deferred.reject(t)):this.deferred.resolve(s),this.cancel()}cancel(t){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(t||D.errorForCode(T.Cancelled))}}const fc=Uint8Array.of(43,65,67,75),Hf=Uint8Array.of(45,78,65,75),Cs=Uint8Array.of(43,87,80,73),hc=Uint8Array.of(43,78,88,84),Kf=Uint8Array.of(43,84,69,82,77),zf=Uint8Array.of(32);function pr(e){return new Wf(e)}function Gf(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const s={};return s.domain=t[2]==="_"?"":t[2],s.account_hash=t[3],s.stream=t[4],s.consumer=t[5],s.redeliveryCount=parseInt(t[6],10),s.redelivered=s.redeliveryCount>1,s.streamSequence=parseInt(t[7],10),s.deliverySequence=parseInt(t[8],10),s.timestampNanos=parseInt(t[9],10),s.pending=parseInt(t[10],10),s}class Wf{constructor(t){h(this,"msg");h(this,"di");h(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=Gf(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===Cs[0]&&t[1]===Cs[1]&&t[2]===Cs[2]&&t[3]===Cs[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const s=this.msg.publisher,r=new uc(s.muxSubscriptions);s.request(r);try{s.publish(this.msg.reply,fc,{reply:`${s.muxSubscriptions.baseInbox}${r.token}`})}catch(n){r.cancel(n)}try{return await Promise.race([r.timer,r.deferred]),!0}catch(n){r.cancel(n)}}return!1}ack(){this.doAck(fc)}nak(){this.doAck(Hf)}working(){this.doAck(Cs)}next(t,s){let r=hc;if(s){const i=cc().encode(s);r=or.concat(hc,zf,i)}const n=t?{reply:t}:void 0;this.msg.respond(r,n)}term(){this.doAck(Kf)}}function Qt(e,t,s=!1){if(s===!0&&!e)throw D.errorForCode(T.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw D.errorForCode(T.ApiError,new Error(`${t} is not a function`))}class Vf extends ct{constructor(t,s,r){super();h(this,"sub");h(this,"adapter");h(this,"subIterDone");Qt(r.adapter,"adapter",!0),this.adapter=r.adapter,r.callback&&Qt(r.callback,"callback"),this.noIterator=typeof r.callback=="function",r.ingestionFilterFn&&(Qt(r.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=r.ingestionFilterFn),r.protocolFilterFn&&(Qt(r.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=r.protocolFilterFn),r.dispatchedFn&&(Qt(r.dispatchedFn,"dispatchedFn"),this.dispatchedFn=r.dispatchedFn),r.cleanupFn&&Qt(r.cleanupFn,"cleanupFn");let n=(l,f)=>{this.callback(l,f)};if(r.callback){const l=r.callback;n=(f,g)=>{const[d,b]=this.adapter(f,g);if(d){l(d,null);return}const{ingest:R}=this.ingestionFilterFn?this.ingestionFilterFn(b,this):{ingest:!0};R&&(this.protocolFilterFn?this.protocolFilterFn(b):!0)&&(l(d,b),this.dispatchedFn&&b&&this.dispatchedFn(b))}}const{max:i,queue:o,timeout:c}=r,a={queue:o,timeout:c,callback:n};i&&i>0&&(a.max=i),this.sub=t.subscribe(s,a),r.cleanupFn&&(this.sub.cleanupFn=r.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=ve(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async l=>{await l.closed,this.stop()})(this.sub).then().catch()}unsubscribe(t){this.sub.unsubscribe(t)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(t,s){this.sub.cancelTimeout();const[r,n]=this.adapter(t,s);r&&this.stop(r),n&&this.push(n)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}function Zt(e){return new Jf(e)}class Jf{constructor(t){h(this,"config");h(this,"ordered");h(this,"mack");h(this,"stream");h(this,"callbackFn");h(this,"max");h(this,"qname");h(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=nf("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?ye.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){this.config.description=t}deliverTo(t){this.config.deliver_subject=t}durable(t){Yt(t),this.config.durable_name=t}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");this.config.deliver_policy=Te.StartSequence,this.config.opt_start_seq=t}startTime(t){this.config.deliver_policy=Te.StartTime,this.config.opt_start_time=t.toISOString()}deliverAll(){this.config.deliver_policy=Te.All}deliverLastPerSubject(){this.config.deliver_policy=Te.LastPerSubject}deliverLast(){this.config.deliver_policy=Te.Last}deliverNew(){this.config.deliver_policy=Te.New}startAtTimeDelta(t){this.startTime(new Date(Date.now()-t))}headersOnly(){this.config.headers_only=!0}ackNone(){this.config.ack_policy=ye.None}ackAll(){this.config.ack_policy=ye.All}ackExplicit(){this.config.ack_policy=ye.Explicit}ackWait(t){this.config.ack_wait=Ge(t)}maxDeliver(t){this.config.max_deliver=t}filterSubject(t){this.config.filter_subject=t}replayInstantly(){this.config.replay_policy=Vt.Instant}replayOriginal(){this.config.replay_policy=Vt.Original}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");this.config.sample_freq=`${t}%`}limit(t){this.config.rate_limit_bps=t}maxWaiting(t){this.config.max_waiting=t}maxAckPending(t){this.config.max_ack_pending=t}idleHeartbeat(t){this.config.idle_heartbeat=Ge(t)}flowControl(){this.config.flow_control=!0}deliverGroup(t){this.queue(t)}manualAck(){this.mack=!0}maxMessages(t){this.max=t}callback(t){this.callbackFn=t}queue(t){this.qname=t,this.config.deliver_group=t}orderedConsumer(){this.ordered=!0}bind(t,s){this.stream=t,this.config.durable_name=s,this.isBind=!0}}function dc(e){return typeof e.getOpts=="function"}function Yf(e){return new Uint8Array(e)}function Xf(e){return new Float64Array(e)}const Qf=[],En=[],Pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let e=0,t=Pn.length;e<t;++e)Qf[e]=Pn[e],En[Pn.charCodeAt(e)]=e;En["-".charCodeAt(0)]=62;En["_".charCodeAt(0)]=63;new TextEncoder;new TextDecoder;function Rt(e){const t=Xf(16);if(e)for(let s=0;s<e.length;s++)t[s]=e[s];return t}const Zf=Yf(32);Zf[0]=9;Rt();Rt([1]);Rt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]);Rt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]);Rt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]);Rt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);Rt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);var gr;(function(e){e[e.Key=32]="Key",e[e.Nonce=24]="Nonce",e[e.Overhead=16]="Overhead",e[e.Zero=32]="Zero"})(gr||(gr={}));var Mt,pc;(function(e){e[e.PublicKey=32]="PublicKey",e[e.SecretKey=32]="SecretKey",e[e.SharedKey=32]="SharedKey",e[e.Nonce=gr.Nonce]="Nonce",e[e.Overhead=gr.Overhead]="Overhead"})(Mt||(Mt={}));(function(e){e[e.Scalar=32]="Scalar",e[e.GroupElement=32]="GroupElement"})(pc||(pc={}));var gc;(function(e){e[e.Hash=64]="Hash"})(gc||(gc={}));var mc;(function(e){e[e.PublicKey=32]="PublicKey",e[e.SecretKey=64]="SecretKey",e[e.Seed=32]="Seed",e[e.Signature=64]="Signature"})(mc||(mc={}));var bc;(function(e){e[e.Auth=32]="Auth",e[e.AuthFull=64]="AuthFull",e[e.Key=32]="Key"})(bc||(bc={}));var _c;(function(e){e[e.PublicKey=Mt.PublicKey]="PublicKey",e[e.SecretKey=Mt.SecretKey]="SecretKey",e[e.Nonce=Mt.Nonce]="Nonce",e[e.Overhead=Mt.PublicKey+Mt.Overhead]="Overhead"})(_c||(_c={}));var yc;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(yc||(yc={}));var wc;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(wc||(wc={}));function eh(e){return e.authenticator?e.authenticator:e.token?rh(e.token):e.user?sh(e.user,e.pass):th()}function th(){return()=>{}}function sh(e,t){return()=>({user:e,pass:t})}function rh(e){return()=>({auth_token:e})}class nh extends dr{constructor(t,s){super(t,s)}async add(t={}){Fe(t.name);const r=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(r),r}async delete(t){return Fe(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t={}){Fe(t.name);const r=await this._request(`${this.prefix}.STREAM.UPDATE.${t.name}`,t);return this._fixInfo(r),r}async info(t,s){Fe(t);const n=await this._request(`${this.prefix}.STREAM.INFO.${t}`,s);return this._fixInfo(n),n}list(){const t=r=>{const n=r;return n.streams.forEach(i=>{this._fixInfo(i)}),n.streams},s=`${this.prefix}.STREAM.LIST`;return new ac(s,t,this)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,s){if(s){const{keep:n,seq:i}=s;if(typeof n=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return Fe(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,s)}async deleteMessage(t,s,r=!0){Fe(t);const n={seq:s};return r||(n.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,n)).success}async getMessage(t,s){Fe(t);const n=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,s);return new ih(n)}find(t){return this.findStream(t)}}class ih{constructor(t){h(this,"subject");h(this,"seq");h(this,"data");h(this,"time");h(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(t.message.time),this.data=t.message.data?this._parse(t.message.data):it,t.message.hdrs){const s=this._parse(t.message.hdrs);this.header=Xt.decode(s)}else this.header=ur()}_parse(t){const s=atob(t),r=s.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=s.charCodeAt(i);return n}}class oh extends dr{constructor(t,s){super(t,s);h(this,"streams");h(this,"consumers");this.streams=new nh(t,s),this.consumers=new lc(t,s)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const t=new ct;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(s,r)=>{if(s)throw s;try{const n=this.parseJsResponse(r),i=n.type.split("."),o=i[i.length-1];t.push({kind:o,data:n})}catch(n){t.stop(n)}}}),t}}function ch(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:$o,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:jo,tls:void 0,verbose:!1,waitOnFirstConnect:!1}}function ah(e){const t=`${hn}:${Wo()}`;e=e||{servers:[t]},e.port&&(e.servers=[`${hn}:${e.port}`]),typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers&&e.servers.length===0&&(e.servers=[t]);const s=Ss(ch(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw D.errorForCode(T.BadAuthentication);if(s.authenticator=eh(s),["reconnectDelayHandler","authenticator"].forEach(r=>{if(s[r]&&typeof s[r]!="function")throw new D(`${r} option should be a function`,T.NotFunction)}),s.reconnectDelayHandler||(s.reconnectDelayHandler=()=>{let r=s.tls?s.reconnectJitterTLS:s.reconnectJitter;return r&&(r++,r=Math.floor(Math.random()*r)),s.reconnectTimeWait+r}),s.inboxPrefix)try{_t(s.inboxPrefix)}catch(r){throw new D(r.message,T.ApiError)}if(s.resolve&&typeof Vo()!="function")throw new D("'resolve' is not supported on this client",T.InvalidOption);return s}var Nt;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(Nt||(Nt={}));function lh(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function uh(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:lh()}}const mr="KV-Operation",fh="KV_",Sn="$KV",hh=/^[-/=.\w]+$/,dh=/^[-/=.>*\w]+$/,ph=/^[-\w]+$/;function gh(e){if(e.startsWith(".")||e.endsWith(".")||!hh.test(e))throw new Error(`invalid key: ${e}`)}function mh(e){if(e.startsWith(".")||e.endsWith(".")||!dh.test(e))throw new Error(`invalid key: ${e}`)}function bh(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let s=!1;for(let r=0;r<t.length;r++)switch(t[r]){case"*":s=!0;break;case">":if(r!==t.length-1)throw new Error(`invalid key: ${e}`);s=!0;break}return s}function vc(e){if(!ph.test(e))throw new Error(`invalid bucket name: ${e}`)}class An{constructor(t,s,r){h(this,"jsm");h(this,"js");h(this,"stream");h(this,"bucket");h(this,"codec");h(this,"_prefixLen");h(this,"validateKey",gh);h(this,"validateSearchKey",mh);h(this,"hasWildcards",bh);vc(t),this.jsm=s,this.js=r,this.bucket=t,this._prefixLen=0}static async create(t,s,r={}){vc(s);const n=r.timeout||2e3,i=await t.jetstreamManager({timeout:n}),o=new An(s,i,t.jetstream({timeout:n}));return await o.init(r),o}async init(t={}){var n;const s=Object.assign(uh(),t);this.codec=s.codec;const r={};this.stream=r.name=(n=t.streamName)!=null?n:this.bucketName(),r.subjects=[this.subjectForBucket()],r.retention=dn.Limits,r.max_msgs_per_subject=s.history,r.max_bytes=s.maxBucketSize,r.max_msg_size=s.maxValueSize,r.storage=gn.File,r.discard=pn.Old,r.num_replicas=s.replicas,s.ttl&&(r.max_age=Ge(s.ttl)),r.allow_rollup_hdrs=!0;try{await this.jsm.streams.info(r.name)}catch(i){i.message==="stream not found"&&await this.jsm.streams.add(r)}}bucketName(){var t;return(t=this.stream)!=null?t:`${fh}${this.bucket}`}subjectForBucket(){return`${Sn}.${this.bucket}.>`}subjectForKey(t){return`${Sn}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=`${Sn}.${this.bucket}.`.length),this._prefixLen}encodeKey(t){const s=[];for(const r of t.split("."))switch(r){case">":case"*":s.push(r);break;default:s.push(this.codec.key.encode(r));break}return s.join(".")}decodeKey(t){const s=[];for(const r of t.split("."))switch(r){case">":case"*":s.push(r);break;default:s.push(this.codec.key.decode(r));break}return s.join(".")}close(){return Promise.resolve()}smToEntry(t,s){return{bucket:this.bucket,key:t,value:s.data,delta:0,created:s.time,revision:s.seq,operation:s.header.get(mr)||"PUT"}}jmToEntry(t,s){var n;const r=this.decodeKey(s.subject.substring(this.prefixLen));return{bucket:this.bucket,key:r,value:s.data,created:new Date(of(s.info.timestampNanos)),revision:s.seq,operation:((n=s.headers)==null?void 0:n.get(mr))||"PUT",delta:s.info.pending}}create(t,s){return this.put(t,s,{previousSeq:0})}update(t,s,r){if(r<=0)throw new Error("version must be greater than 0");return this.put(t,s,{previousSeq:r})}async put(t,s,r={}){const n=this.encodeKey(t);this.validateKey(n);const i={};if(r.previousSeq!==void 0){const c=ur();i.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${r.previousSeq}`)}return(await this.js.publish(this.subjectForKey(n),s,i)).seq}async get(t){const s=this.encodeKey(t);this.validateKey(s);try{const r=await this.jsm.streams.getMessage(this.bucketName(),{last_by_subj:this.subjectForKey(s)});return this.smToEntry(t,r)}catch(r){if(r.message==="no message found")return null;throw r}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async _deleteOrPurge(t,s){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,s);const r=await this.keys(t),n=[];for await(const i of r)n.push(this._doDeleteOrPurge(i,s)),n.length===100&&(await Promise.all(n),n.length=0);n.length>0&&await Promise.all(n)}async _doDeleteOrPurge(t,s){const r=this.encodeKey(t);this.validateKey(r);const n=ur();n.set(mr,s),s==="PURGE"&&n.set(Jt.RollupHdr,Jt.RollupValueSubject),await this.js.publish(this.subjectForKey(r),it,{headers:n})}_buildCC(t,s=!1,r={}){const n=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:s?Te.All:Te.LastPerSubject,ack_policy:ye.None,filter_subject:this.subjectForKey(n),flow_control:!0,idle_heartbeat:Ge(5*1e3)},r)}consumerOn(t,s=!1){return this.jsm.consumers.add(this.stream,this._buildCC(t,s,{ack_policy:ye.Explicit,deliver_subject:_t()}))}remove(t){return this.purge(t)}async history(t={}){var l;const s=(l=t.key)!=null?l:">",r=new ct,n=ve(),i=this._buildCC(s,!0),o=i.filter_subject,c=Zt(i);c.orderedConsumer(),c.callback((f,g)=>{if(f){r.stop(f);return}if(g){const d=this.jmToEntry(s,g);r.push(d),r.received++,g.info.pending===0&&n.resolve()}});const a=await this.js.subscribe(o,c);return n.then(()=>{a.unsubscribe()}),n.catch(f=>{a.unsubscribe()}),r.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{r.stop()}).catch(f=>{r.stop(f)}),this.jsm.streams.getMessage(this.stream,{last_by_subj:o}).catch(()=>{n.resolve()}),r}async watch(t={}){var a;const s=(a=t.key)!=null?a:">",r=new ct,n=this._buildCC(s,!1),i=n.filter_subject,o=Zt(n);o.orderedConsumer(),o.callback((l,f)=>{if(l){r.stop(l);return}if(f){const g=this.jmToEntry(s,f);r.push(g),r.received++}});const c=await this.js.subscribe(i,o);return r._data=c,r.iterClosed.then(()=>{c.unsubscribe()}),c.closed.then(()=>{r.stop()}).catch(l=>{r.stop(l)}),r}async keys(t=">"){const s=new ct,r=this._buildCC(t,!1,{headers_only:!0}),n=r.filter_subject,i=Zt(r);i.orderedConsumer();const o=await this.js.subscribe(n,i);return(async()=>{var a;for await(const l of o){const f=(a=l.headers)==null?void 0:a.get(mr);if(f!=="DEL"&&f!=="PURGE"){const g=this.decodeKey(l.subject.substring(this.prefixLen));s.push(g)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{s.stop()}).catch(a=>{s.stop(a)}),o.info.last.num_pending===0&&o.unsubscribe(),s}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var n,i;const s=(i=(n=this.js.nc.info)==null?void 0:n.cluster)!=null?i:"",r=await this.jsm.streams.info(this.bucketName());return{bucket:this.bucketName(),values:r.state.messages,history:r.config.max_msgs_per_subject,ttl:r.config.max_age,bucket_location:s,backingStore:r.config.storage}}}class _h{constructor(t){h(this,"js");this.js=t}async kv(t,s={}){return An.create(this.js.nc,t,s)}}class Cn extends dr{constructor(t,s){super(t,s);h(this,"api");this.api=new lc(t,s)}get views(){return new _h(this)}async publish(t,s=it,r){r=r||{},r.expect=r.expect||{};const n=(r==null?void 0:r.headers)||ur();r&&(r.msgID&&n.set(Nt.MsgIdHdr,r.msgID),r.expect.lastMsgID&&n.set(Nt.ExpectedLastMsgIdHdr,r.expect.lastMsgID),r.expect.streamName&&n.set(Nt.ExpectedStreamHdr,r.expect.streamName),r.expect.lastSequence&&n.set(Nt.ExpectedLastSeqHdr,`${r.expect.lastSequence}`),r.expect.lastSubjectSequence&&n.set(Nt.ExpectedLastSubjectSequenceHdr,`${r.expect.lastSubjectSequence}`));const i=r.timeout||this.timeout,o={};i&&(o.timeout=i),r&&(o.headers=n);const c=await this.nc.request(t,s,o),a=this.parseJsResponse(c);if(a.stream==="")throw D.errorForCode(T.JetStreamInvalidAck);return a.duplicate=a.duplicate?a.duplicate:!1,a}async pull(t,s){Fe(t),Yt(s);const r=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${t}.${s}`,this.jc.encode({no_wait:!0,batch:1,expires:Ge(this.timeout)}),{noMux:!0,timeout:this.timeout}),n=ir(r);if(n)throw n;return pr(r)}fetch(t,s,r={}){Fe(t),Yt(s);let n=null;const i={};i.batch=r.batch||1,i.no_wait=r.no_wait||!1;const o=r.expires||0;if(o&&(i.expires=Ge(o)),o===0&&i.no_wait===!1)throw new Error("expires or no_wait is required");const c=new ct,a=i.batch;let l=0;c.dispatchedFn=d=>{if(d){if(l++,n&&d.info.pending===0)return;(c.getPending()===1&&d.info.pending===0||a===l)&&c.stop()}};const f=_t(this.nc.options.inboxPrefix),g=this.nc.subscribe(f,{max:r.batch,callback:(d,b)=>{d===null&&(d=ir(b)),d!==null?(n&&(n.cancel(),n=null),rf(d)&&d.code===T.JetStream404NoMessages?c.stop():c.stop(d)):(c.received++,c.push(pr(b)))}});return o&&(n=lr(o),n.catch(()=>{g.isClosed()||(g.drain(),n=null)})),(async()=>{await g.closed,n!==null&&(n.cancel(),n=null),c.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${t}.${s}`,this.jc.encode(i),{reply:f}),c}async pullSubscribe(t,s=Zt()){const r=await this._processOptions(t,s);if(r.ordered)throw new Error("pull subscribers cannot be be ordered");if(r.attached||(r.config.filter_subject=t),r.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const n=r.config.ack_policy;if(n===ye.None||n===ye.All)throw new Error("ack policy for pull consumers must be explicit");const i=this._buildTypedSubscriptionOpts(r),o=new wh(this,r.deliver,i);o.info=r;try{await this._maybeCreateConsumer(r)}catch(c){throw o.unsubscribe(),c}return o}async subscribe(t,s=Zt()){const r=await this._processOptions(t,s);if(!r.config.deliver_subject)throw new Error("consumer info specifies a pull consumer - deliver_subject is required");const n=this._buildTypedSubscriptionOpts(r),i=new Pc(this,r.deliver,n);i.info=r;try{await this._maybeCreateConsumer(r)}catch(o){throw i.unsubscribe(),o}return i}async _processOptions(t,s=Zt()){var n,i;const r=dc(s)?s.getOpts():s;if(r.isBind=dc(s)?s.isBind:!1,r.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},r.ordered){if(r.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},r.config.ack_policy!==ye.NotSet&&r.config.ack_policy!==ye.None)throw new D("ordered consumer: ack_policy can only be set to 'none'",T.ApiError);if(r.config.durable_name&&r.config.durable_name.length>0)throw new D("ordered consumer: durable_name cannot be set",T.ApiError);if(r.config.deliver_subject&&r.config.deliver_subject.length>0)throw new D("ordered consumer: deliver_subject cannot be set",T.ApiError);if(r.config.max_deliver!==void 0&&r.config.max_deliver>1)throw new D("ordered consumer: max_deliver cannot be set",T.ApiError);if(r.config.deliver_group&&r.config.deliver_group.length>0)throw new D("ordered consumer: deliver_group cannot be set",T.ApiError);r.config.deliver_subject=_t(),r.config.ack_policy=ye.None,r.config.max_deliver=1,r.config.flow_control=!0,r.config.idle_heartbeat=r.config.idle_heartbeat||Ge(5e3),r.config.ack_wait=Ge(22*60*60*1e3)}if(r.config.ack_policy===ye.NotSet&&(r.config.ack_policy=ye.All),r.api=this,r.config=r.config||{},r.stream=r.stream?r.stream:await this.findStream(t),r.attached=!1,r.config.durable_name)try{const o=await this.api.info(r.stream,r.config.durable_name);if(o){if(o.config.filter_subject&&o.config.filter_subject!==t)throw new Error("subject does not match consumer");const c=(n=r.config.deliver_group)!=null?n:"",a=(i=o.config.deliver_group)!=null?i:"";if(c!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);r.last=o,r.config=o.config,r.attached=!0}}catch(o){if(o.code!=="404")throw o}return r.attached||(r.config.filter_subject=t),r.deliver=r.config.deliver_subject||_t(this.nc.options.inboxPrefix),r}_buildTypedSubscriptionOpts(t){const s={};return s.adapter=vh(t.callbackFn===void 0),s.ingestionFilterFn=Cn.ingestionFn(t.ordered),s.protocolFilterFn=(r,n=!1)=>{const i=r;return mn(i.msg)?(n||i.msg.respond(),!1):!0},!t.mack&&t.config.ack_policy!==ye.None&&(s.dispatchedFn=Sh),t.callbackFn&&(s.callback=t.callbackFn),s.max=t.max||0,s.queue=t.queue,s}async _maybeCreateConsumer(t){if(t.attached)return;if(t.isBind)throw new Error(`unable to bind - durable consumer ${t.config.durable_name} doesn't exist in ${t.stream}`);t.config=Object.assign({deliver_policy:Te.All,ack_policy:ye.Explicit,ack_wait:Ge(30*1e3),replay_policy:Vt.Instant},t.config);const s=await this.api.add(t.stream,t.config);t.name=s.name,t.config=s.config,t.last=s}static ingestionFn(t){return(s,r)=>{const n=r;if(!s)return{ingest:!1,protocol:!1};const i=s;if(cf(i.msg)){const c=t?n._checkHbOrderConsumer(i.msg):!0;return t||n.info.flow_control.heartbeat_count++,{ingest:c,protocol:!0}}else if(mn(i.msg))return n.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:t?n._checkOrderedConsumer(s):!0,protocol:!1}}}}class On{constructor(t){h(this,"options");h(this,"protocol");h(this,"draining");h(this,"listeners");this.draining=!1,this.options=ah(t),this.listeners=[]}static connect(t={}){return new Promise((s,r)=>{const n=new On(t);hr.connect(n.options,n).then(i=>{n.protocol=i,async function(){for await(const o of i.status())n.listeners.forEach(c=>{c.push(o)})}(),s(n)}).catch(i=>{r(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,s,r){if(this.isClosed())throw D.errorForCode(T.ConnectionClosed);if(s&&this.isDraining()||r&&this.protocol.noMorePublishing)throw D.errorForCode(T.ConnectionDraining);if(t=t||"",t.length===0)throw D.errorForCode(T.BadSubject)}publish(t,s=it,r){if(this._check(t,!1,!0),s&&!uf(s))throw D.errorForCode(T.BadPayload);this.protocol.publish(t,s,r)}subscribe(t,s={}){this._check(t,!0,!1);const r=new sc(this.protocol,t,s);return this.protocol.subscribe(r),r}_resub(t,s,r){this._check(s,!0,!1);const n=t;n.max=r,r&&(n.max=r+n.received),this.protocol.resub(n,s)}request(t,s=it,r={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(n){return Promise.reject(n)}if(r.timeout=r.timeout||1e3,r.timeout<1)return Promise.reject(new D("timeout",T.InvalidOption));if(!r.noMux&&r.reply)return Promise.reject(new D("reply can only be used with noMux",T.InvalidOption));if(r.noMux){const n=r.reply?r.reply:_t(this.options.inboxPrefix),i=ve(),o=new Error;return this.subscribe(n,{max:1,timeout:r.timeout,callback:(c,a)=>{c?(c.code!==T.Timeout&&(c.stack+=`

${o.stack}`),i.reject(c)):(c=Go(a),c?(c.stack+=`

${o.stack}`,i.reject(c)):i.resolve(a))}}),this.protocol.publish(t,s,{reply:n}),i}else{const n=new uc(this.protocol.muxSubscriptions,r);this.protocol.request(n);try{this.publish(t,s,{reply:`${this.protocol.muxSubscriptions.baseInbox}${n.token}`,headers:r.headers})}catch(o){n.cancel(o)}const i=Promise.race([n.timer,n.deferred]);return i.catch(()=>{n.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(D.errorForCode(T.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(D.errorForCode(T.ConnectionClosed)):this.isDraining()?Promise.reject(D.errorForCode(T.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new ct;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){Ec(this);const s=new oh(this,t);try{await s.getAccountInfo()}catch(r){let n=r;throw n.code===T.NoResponders&&(n.code=T.JetStreamNotEnabled),n}return s}jetstream(t={}){return Ec(this),new Cn(this,t)}}function yh(e,t){const{proto:s,tls_required:r}=e;if((s===void 0||s<1)&&t.noEcho)throw new D("noEcho",T.ServerOptionNotAvailable);if(t.tls&&!r)throw new D("tls",T.ServerOptionNotAvailable)}const Ec=(()=>{let e=!1;return t=>{var s;if(!e){e=!0;const{lang:r}=(s=t==null?void 0:t.protocol)==null?void 0:s.transport;console.log(r?`[33m >> jetstream functionality in ${r} is preview functionality [0m`:"[33m >> jetstream functionality is preview functionality [0m")}}})();class Pc extends Vf{constructor(t,s,r){super(t.nc,s,r);h(this,"js");this.js=t}set info(t){this.sub.info=t}get info(){return this.sub.info}_resetOrderedConsumer(t){if(this.info===null||this.sub.isClosed())return;const s=_t(this.js.opts.apiPrefix);this.js.nc._resub(this.sub,s);const n=this.info;n.ordered_consumer_sequence.delivery_seq=0,n.flow_control.heartbeat_count=0,n.flow_control.fc_count=0,n.flow_control.consumer_restarts++,n.deliver=s,n.config.deliver_subject=s,n.config.deliver_policy=Te.StartSequence,n.config.opt_start_seq=t;const i=`${n.api.prefix}.CONSUMER.CREATE.${n.stream}`;this.js._request(i,this.info.config).catch(o=>{const c=new D(`unable to recreate ordered consumer ${n.stream} at seq ${t}`,T.RequestError,o);this.sub.callback(c,{})})}_checkHbOrderConsumer(t){const s=t.headers.get(Jt.ConsumerStalledHdr);s!==""&&this.js.nc.publish(s);const r=parseInt(t.headers.get(Jt.LastConsumerSeqHdr),10),n=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,r!==n.delivery_seq&&this._resetOrderedConsumer(n.stream_seq+1),!1}_checkOrderedConsumer(t){const s=this.info.ordered_consumer_sequence,r=t.info.streamSequence,n=t.info.deliverySequence;return n!=s.delivery_seq+1?(this._resetOrderedConsumer(s.stream_seq+1),!1):(s.delivery_seq=n,s.stream_seq=r,!0)}async destroy(){this.isClosed()||await this.drain();const t=this.sub.info,s=t.config.durable_name||t.name,r=`${t.api.prefix}.CONSUMER.DELETE.${t.stream}.${s}`;await t.api._request(r)}async consumerInfo(){const t=this.sub.info,s=t.config.durable_name||t.name,r=`${t.api.prefix}.CONSUMER.INFO.${t.stream}.${s}`,n=await t.api._request(r);return t.last=n,n}}class wh extends Pc{constructor(t,s,r){super(t,s,r)}pull(t={batch:1}){const{stream:s,config:r}=this.sub.info,n=r.durable_name,i={};if(i.batch=t.batch||1,i.no_wait=t.no_wait||!1,t.expires&&t.expires>0&&(i.expires=Ge(t.expires)),this.info){const o=this.info.api,c=`${o.prefix}.CONSUMER.MSG.NEXT.${s}.${n}`,a=this.sub.subject;o.nc.publish(c,o.jc.encode(i),{reply:a})}}}function vh(e){return e?Ph:Eh}function Eh(e,t){return e?[e,null]:(e=ir(t),e?[e,null]:[null,pr(t)])}function Ph(e,t){if(e)return[e,null];const s=ir(t);if(s!==null)switch(s.code){case T.JetStream404NoMessages:case T.JetStream408RequestTimeout:case T.JetStream409MaxAckPendingExceeded:return[null,null];default:return[s,null]}return[null,pr(t)]}function Sh(e){e&&e.ack()}const Ah="1.5.0",Ch="nats.ws";class Oh{constructor(){h(this,"version");h(this,"lang");h(this,"closeError");h(this,"connected");h(this,"done");h(this,"socket");h(this,"options");h(this,"socketClosed");h(this,"encrypted");h(this,"peeked");h(this,"yields");h(this,"signal");h(this,"closedNotification");this.version=Ah,this.lang=Ch,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=ve(),this.closedNotification=ve()}connect(t,s){const r=ve();if(s.tls)return r.reject(new D("tls",T.InvalidOption)),r;this.options=s;const n=t.src;return this.encrypted=n.indexOf("wss://")===0,this.socket=new WebSocket(n),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=or.concat(...this.yields),c=hf(o);if(c!==""){const a=$f.exec(c);if(!a){s.debug&&console.error("!!!",ar(o)),r.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(a[1]);yh(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),r.resolve()}catch(l){r.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,c=new D(o.message,T.Unknown,new Error(o.error));r.reject(c)},r}disconnect(){this._closed(void 0,!0)}async _closed(t,s=!0){if(!!this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await Ho(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}s&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let s=0;s<t.length;s++)this.options.debug&&console.info(`> ${ar(t[s])}`),yield t[s];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ve())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(this.done)return Promise.resolve();try{return this.socket.send(t.buffer),this.options.debug&&console.info(`< ${ar(t)}`),Promise.resolve()}catch(s){return this.options.debug&&console.error(`!!! ${ar(t)}: ${s}`),Promise.reject(s)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function xh(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let s=new URL(e);const r=s.protocol.toLowerCase();r!=="https:"&&r!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),s=new URL(`http://${e}`));let n,i;const o=s.hostname,c=s.pathname,a=s.search||"";switch(r){case"http:":case"ws:":case"nats:":i=s.port||"80",n="ws:";break;default:i=s.port||"443",n="wss:";break}return`${n}//${o}:${i}${c}${a}`}function Yh(e={}){return pf({defaultPort:443,urlParseFn:xh,factory:()=>new Oh}),On.connect(e)}export{Rh as A,Uh as B,Th as C,Bh as D,kt as E,ze as F,yr as G,_r as H,Pi as I,Mh as J,Nh as K,Vh as L,Wh as M,qh as N,Jh as S,Ki as a,Lh as b,jh as c,wi as d,Gi as e,da as f,et as g,Ua as h,zs as i,ke as j,$h as k,dl as l,Hh as m,co as n,Bi as o,Gh as p,zh as q,Fh as r,Yh as s,Ih as t,os as u,Kh as v,Ca as w,Zt as x,_t as y,Dh as z};
//# sourceMappingURL=vendor.81efcb4a.js.map
