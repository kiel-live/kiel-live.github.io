var Af=Object.defineProperty;var Pf=(e,t,r)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _=(e,t,r)=>(Pf(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function yo(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}function wo(e){if(me(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ye(n)?Tf(n):wo(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ye(e))return e;if(Fe(e))return e}}const Cf=/;(?![^(]*\))/g,If=/:([^]+)/,kf=/\/\*.*?\*\//gs;function Tf(e){const t={};return e.replace(kf,"").split(Cf).forEach(r=>{if(r){const n=r.split(If);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Vt(e){let t="";if(Ye(e))t=e;else if(me(e))for(let r=0;r<e.length;r++){const n=Vt(e[r]);n&&(t+=n+" ")}else if(Fe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Nf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mf=yo(Nf);function ll(e){return!!e||e===""}function Rf(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Us(e[n],t[n]);return r}function Us(e,t){if(e===t)return!0;let r=oa(e),n=oa(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Mn(e),n=Mn(t),r||n)return e===t;if(r=me(e),n=me(t),r||n)return r&&n?Rf(e,t):!1;if(r=Fe(e),n=Fe(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Us(e[o],t[o]))return!1}}return String(e)===String(t)}function Lf(e,t){return e.findIndex(r=>Us(r,t))}const er=e=>Ye(e)?e:e==null?"":me(e)||Fe(e)&&(e.toString===hl||!ve(e.toString))?JSON.stringify(e,ul,2):String(e),ul=(e,t)=>t&&t.__v_isRef?ul(e,t.value):Kr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Bs(t)?{[`Set(${t.size})`]:[...t.values()]}:Fe(t)&&!me(t)&&!dl(t)?String(t):t,je={},Vr=[],jt=()=>{},Ff=()=>!1,jf=/^on[^a-z]/,Ds=e=>jf.test(e),xo=e=>e.startsWith("onUpdate:"),st=Object.assign,vo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$f=Object.prototype.hasOwnProperty,Ce=(e,t)=>$f.call(e,t),me=Array.isArray,Kr=e=>Vn(e)==="[object Map]",Bs=e=>Vn(e)==="[object Set]",oa=e=>Vn(e)==="[object Date]",ve=e=>typeof e=="function",Ye=e=>typeof e=="string",Mn=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",fl=e=>Fe(e)&&ve(e.then)&&ve(e.catch),hl=Object.prototype.toString,Vn=e=>hl.call(e),Uf=e=>Vn(e).slice(8,-1),dl=e=>Vn(e)==="[object Object]",Eo=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_s=yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Df=/-(\w)/g,Yt=qs(e=>e.replace(Df,(t,r)=>r?r.toUpperCase():"")),Bf=/\B([A-Z])/g,Lr=qs(e=>e.replace(Bf,"-$1").toLowerCase()),Hs=qs(e=>e.charAt(0).toUpperCase()+e.slice(1)),_i=qs(e=>e?`on${Hs(e)}`:""),Rn=(e,t)=>!Object.is(e,t),bs=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Es=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},So=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let aa;const qf=()=>aa||(aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let _t;class pl{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!t&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}run(t){if(this.active){const r=_t;try{return _t=this,t()}finally{_t=r}}}on(){_t=this}off(){_t=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function Hf(e){return new pl(e)}function Wf(e,t=_t){t&&t.active&&t.effects.push(e)}function zf(){return _t}function Vf(e){_t&&_t.cleanups.push(e)}const Oo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ml=e=>(e.w&_r)>0,gl=e=>(e.n&_r)>0,Kf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_r},Gf=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];ml(s)&&!gl(s)?s.delete(e):t[r++]=s,s.w&=~_r,s.n&=~_r}t.length=r}},ji=new WeakMap;let wn=0,_r=1;const $i=30;let Rt;const Nr=Symbol(""),Ui=Symbol("");class Ao{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Wf(this,n)}run(){if(!this.active)return this.fn();let t=Rt,r=pr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,pr=!0,_r=1<<++wn,wn<=$i?Kf(this):ca(this),this.fn()}finally{wn<=$i&&Gf(this),_r=1<<--wn,Rt=this.parent,pr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(ca(this),this.onStop&&this.onStop(),this.active=!1)}}function ca(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let pr=!0;const _l=[];function on(){_l.push(pr),pr=!1}function an(){const e=_l.pop();pr=e===void 0?!0:e}function Et(e,t,r){if(pr&&Rt){let n=ji.get(e);n||ji.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=Oo()),bl(s)}}function bl(e,t){let r=!1;wn<=$i?gl(e)||(e.n|=_r,r=!ml(e)):r=!e.has(Rt),r&&(e.add(Rt),Rt.deps.push(e))}function ir(e,t,r,n,s,i){const o=ji.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&me(e)){const c=So(n);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":me(e)?Eo(r)&&a.push(o.get("length")):(a.push(o.get(Nr)),Kr(e)&&a.push(o.get(Ui)));break;case"delete":me(e)||(a.push(o.get(Nr)),Kr(e)&&a.push(o.get(Ui)));break;case"set":Kr(e)&&a.push(o.get(Nr));break}if(a.length===1)a[0]&&Di(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Di(Oo(c))}}function Di(e,t){const r=me(e)?e:[...e];for(const n of r)n.computed&&la(n);for(const n of r)n.computed||la(n)}function la(e,t){(e!==Rt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Yf=yo("__proto__,__v_isRef,__isVue"),yl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mn)),Jf=Po(),Xf=Po(!1,!0),Qf=Po(!0),ua=Zf();function Zf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=ke(this);for(let i=0,o=this.length;i<o;i++)Et(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(ke)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){on();const n=ke(this)[t].apply(this,r);return an(),n}}),e}function Po(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?mh:Sl:t?El:vl).get(n))return n;const o=me(n);if(!e&&o&&Ce(ua,s))return Reflect.get(ua,s,i);const a=Reflect.get(n,s,i);return(Mn(s)?yl.has(s):Yf(s))||(e||Et(n,"get",s),t)?a:Ze(a)?o&&Eo(s)?a:a.value:Fe(a)?e?Ol(a):Kn(a):a}}const eh=wl(),th=wl(!0);function wl(e=!1){return function(r,n,s,i){let o=r[n];if(Zr(o)&&Ze(o)&&!Ze(s))return!1;if(!e&&(!Ss(s)&&!Zr(s)&&(o=ke(o),s=ke(s)),!me(r)&&Ze(o)&&!Ze(s)))return o.value=s,!0;const a=me(r)&&Eo(n)?Number(n)<r.length:Ce(r,n),c=Reflect.set(r,n,s,i);return r===ke(i)&&(a?Rn(s,o)&&ir(r,"set",n,s):ir(r,"add",n,s)),c}}function rh(e,t){const r=Ce(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&ir(e,"delete",t,void 0),n}function nh(e,t){const r=Reflect.has(e,t);return(!Mn(t)||!yl.has(t))&&Et(e,"has",t),r}function sh(e){return Et(e,"iterate",me(e)?"length":Nr),Reflect.ownKeys(e)}const xl={get:Jf,set:eh,deleteProperty:rh,has:nh,ownKeys:sh},ih={get:Qf,set(e,t){return!0},deleteProperty(e,t){return!0}},oh=st({},xl,{get:Xf,set:th}),Co=e=>e,Ws=e=>Reflect.getPrototypeOf(e);function is(e,t,r=!1,n=!1){e=e.__v_raw;const s=ke(e),i=ke(t);r||(t!==i&&Et(s,"get",t),Et(s,"get",i));const{has:o}=Ws(s),a=n?Co:r?To:Ln;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function os(e,t=!1){const r=this.__v_raw,n=ke(r),s=ke(e);return t||(e!==s&&Et(n,"has",e),Et(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function as(e,t=!1){return e=e.__v_raw,!t&&Et(ke(e),"iterate",Nr),Reflect.get(e,"size",e)}function fa(e){e=ke(e);const t=ke(this);return Ws(t).has.call(t,e)||(t.add(e),ir(t,"add",e,e)),this}function ha(e,t){t=ke(t);const r=ke(this),{has:n,get:s}=Ws(r);let i=n.call(r,e);i||(e=ke(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?Rn(t,o)&&ir(r,"set",e,t):ir(r,"add",e,t),this}function da(e){const t=ke(this),{has:r,get:n}=Ws(t);let s=r.call(t,e);s||(e=ke(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&ir(t,"delete",e,void 0),i}function pa(){const e=ke(this),t=e.size!==0,r=e.clear();return t&&ir(e,"clear",void 0,void 0),r}function cs(e,t){return function(n,s){const i=this,o=i.__v_raw,a=ke(o),c=t?Co:e?To:Ln;return!e&&Et(a,"iterate",Nr),o.forEach((l,u)=>n.call(s,c(l),c(u),i))}}function ls(e,t,r){return function(...n){const s=this.__v_raw,i=ke(s),o=Kr(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=s[e](...n),u=r?Co:t?To:Ln;return!t&&Et(i,"iterate",c?Ui:Nr),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:this}}function ah(){const e={get(i){return is(this,i)},get size(){return as(this)},has:os,add:fa,set:ha,delete:da,clear:pa,forEach:cs(!1,!1)},t={get(i){return is(this,i,!1,!0)},get size(){return as(this)},has:os,add:fa,set:ha,delete:da,clear:pa,forEach:cs(!1,!0)},r={get(i){return is(this,i,!0)},get size(){return as(this,!0)},has(i){return os.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:cs(!0,!1)},n={get(i){return is(this,i,!0,!0)},get size(){return as(this,!0)},has(i){return os.call(this,i,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:cs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ls(i,!1,!1),r[i]=ls(i,!0,!1),t[i]=ls(i,!1,!0),n[i]=ls(i,!0,!0)}),[e,r,t,n]}const[ch,lh,uh,fh]=ah();function Io(e,t){const r=t?e?fh:uh:e?lh:ch;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Ce(r,s)&&s in n?r:n,s,i)}const hh={get:Io(!1,!1)},dh={get:Io(!1,!0)},ph={get:Io(!0,!1)},vl=new WeakMap,El=new WeakMap,Sl=new WeakMap,mh=new WeakMap;function gh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _h(e){return e.__v_skip||!Object.isExtensible(e)?0:gh(Uf(e))}function Kn(e){return Zr(e)?e:ko(e,!1,xl,hh,vl)}function bh(e){return ko(e,!1,oh,dh,El)}function Ol(e){return ko(e,!0,ih,ph,Sl)}function ko(e,t,r,n,s){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=_h(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function Gr(e){return Zr(e)?Gr(e.__v_raw):!!(e&&e.__v_isReactive)}function Zr(e){return!!(e&&e.__v_isReadonly)}function Ss(e){return!!(e&&e.__v_isShallow)}function Al(e){return Gr(e)||Zr(e)}function ke(e){const t=e&&e.__v_raw;return t?ke(t):e}function Pl(e){return Es(e,"__v_skip",!0),e}const Ln=e=>Fe(e)?Kn(e):e,To=e=>Fe(e)?Ol(e):e;function Cl(e){pr&&Rt&&(e=ke(e),bl(e.dep||(e.dep=Oo())))}function Il(e,t){e=ke(e),e.dep&&Di(e.dep)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function Ve(e){return Tl(e,!1)}function kl(e){return Tl(e,!0)}function Tl(e,t){return Ze(e)?e:new yh(e,t)}class yh{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ke(t),this._value=r?t:Ln(t)}get value(){return Cl(this),this._value}set value(t){const r=this.__v_isShallow||Ss(t)||Zr(t);t=r?t:ke(t),Rn(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Ln(t),Il(this))}}function Me(e){return Ze(e)?e.value:e}const wh={get:(e,t,r)=>Me(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return Ze(s)&&!Ze(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Nl(e){return Gr(e)?e:new Proxy(e,wh)}class xh{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Qb(e,t,r){const n=e[t];return Ze(n)?n:new xh(e,t,r)}var Ml;class vh{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Ml]=!1,this._dirty=!0,this.effect=new Ao(t,()=>{this._dirty||(this._dirty=!0,Il(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=ke(this);return Cl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ml="__v_isReadonly";function Eh(e,t,r=!1){let n,s;const i=ve(e);return i?(n=e,s=jt):(n=e.get,s=e.set),new vh(n,s,i||!s,r)}function mr(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){zs(i,t,r)}return s}function Ct(e,t,r,n){if(ve(e)){const i=mr(e,t,r,n);return i&&fl(i)&&i.catch(o=>{zs(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(Ct(e[i],t,r,n));return s}function zs(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=r;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){mr(c,null,10,[e,o,a]);return}}Sh(e,r,s,n)}function Sh(e,t,r,n=!0){console.error(e)}let Fn=!1,Bi=!1;const nt=[];let Wt=0;const Yr=[];let Zt=null,Pr=0;const Rl=Promise.resolve();let No=null;function Gn(e){const t=No||Rl;return e?t.then(this?e.bind(this):e):t}function Oh(e){let t=Wt+1,r=nt.length;for(;t<r;){const n=t+r>>>1;jn(nt[n])<e?t=n+1:r=n}return t}function Mo(e){(!nt.length||!nt.includes(e,Fn&&e.allowRecurse?Wt+1:Wt))&&(e.id==null?nt.push(e):nt.splice(Oh(e.id),0,e),Ll())}function Ll(){!Fn&&!Bi&&(Bi=!0,No=Rl.then(jl))}function Ah(e){const t=nt.indexOf(e);t>Wt&&nt.splice(t,1)}function Ph(e){me(e)?Yr.push(...e):(!Zt||!Zt.includes(e,e.allowRecurse?Pr+1:Pr))&&Yr.push(e),Ll()}function ma(e,t=Fn?Wt+1:0){for(;t<nt.length;t++){const r=nt[t];r&&r.pre&&(nt.splice(t,1),t--,r())}}function Fl(e){if(Yr.length){const t=[...new Set(Yr)];if(Yr.length=0,Zt){Zt.push(...t);return}for(Zt=t,Zt.sort((r,n)=>jn(r)-jn(n)),Pr=0;Pr<Zt.length;Pr++)Zt[Pr]();Zt=null,Pr=0}}const jn=e=>e.id==null?1/0:e.id,Ch=(e,t)=>{const r=jn(e)-jn(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function jl(e){Bi=!1,Fn=!0,nt.sort(Ch);const t=jt;try{for(Wt=0;Wt<nt.length;Wt++){const r=nt[Wt];r&&r.active!==!1&&mr(r,null,14)}}finally{Wt=0,nt.length=0,Fl(),Fn=!1,No=null,(nt.length||Yr.length)&&jl()}}function Ih(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||je;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[u]||je;d&&(s=r.map(b=>Ye(b)?b.trim():b)),f&&(s=r.map(So))}let a,c=n[a=_i(t)]||n[a=_i(Yt(t))];!c&&i&&(c=n[a=_i(Lr(t))]),c&&Ct(c,e,6,s);const l=n[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ct(l,e,6,s)}}function $l(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!ve(e)){const c=l=>{const u=$l(l,t,!0);u&&(a=!0,st(o,u))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Fe(e)&&n.set(e,null),null):(me(i)?i.forEach(c=>o[c]=null):st(o,i),Fe(e)&&n.set(e,o),o)}function Vs(e,t){return!e||!Ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Lr(t))||Ce(e,t))}let rt=null,Ks=null;function Os(e){const t=rt;return rt=e,Ks=e&&e.type.__scopeId||null,t}function Zb(e){Ks=e}function ey(){Ks=null}function rr(e,t=rt,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Oa(-1);const i=Os(t);let o;try{o=e(...s)}finally{Os(i),n._d&&Oa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bi(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:f,data:d,setupState:b,ctx:S,inheritAttrs:I}=e;let H,T;const L=Os(e);try{if(r.shapeFlag&4){const V=s||n;H=qt(u.call(V,V,f,i,b,d,S)),T=c}else{const V=t;H=qt(V.length>1?V(i,{attrs:c,slots:a,emit:l}):V(i,null)),T=t.props?c:kh(c)}}catch(V){Sn.length=0,zs(V,e,1),H=Re(kt)}let q=H;if(T&&I!==!1){const V=Object.keys(T),{shapeFlag:D}=q;V.length&&D&7&&(o&&V.some(xo)&&(T=Th(T,o)),q=br(q,T))}return r.dirs&&(q=br(q),q.dirs=q.dirs?q.dirs.concat(r.dirs):r.dirs),r.transition&&(q.transition=r.transition),H=q,Os(L),H}const kh=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ds(r))&&((t||(t={}))[r]=e[r]);return t},Th=(e,t)=>{const r={};for(const n in e)(!xo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Nh(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?ga(n,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!Vs(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ga(n,o,l):!0:!!o;return!1}function ga(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Vs(r,i))return!0}return!1}function Mh({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Rh=e=>e.__isSuspense;function Lh(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Ph(e)}function ys(e,t){if(Xe){let r=Xe.provides;const n=Xe.parent&&Xe.parent.provides;n===r&&(r=Xe.provides=Object.create(n)),r[e]=t}}function It(e,t,r=!1){const n=Xe||rt;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&ve(t)?t.call(n.proxy):t}}function Fh(e,t){return Ro(e,null,t)}const us={};function ct(e,t,r){return Ro(e,t,r)}function Ro(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=je){const a=Xe;let c,l=!1,u=!1;if(Ze(e)?(c=()=>e.value,l=Ss(e)):Gr(e)?(c=()=>e,n=!0):me(e)?(u=!0,l=e.some(q=>Gr(q)||Ss(q)),c=()=>e.map(q=>{if(Ze(q))return q.value;if(Gr(q))return Tr(q);if(ve(q))return mr(q,a,2)})):ve(e)?t?c=()=>mr(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Ct(e,a,3,[d])}:c=jt,t&&n){const q=c;c=()=>Tr(q())}let f,d=q=>{f=T.onStop=()=>{mr(q,a,4)}},b;if(Dn)if(d=jt,t?r&&Ct(t,a,3,[c(),u?[]:void 0,d]):c(),s==="sync"){const q=Td();b=q.__watcherHandles||(q.__watcherHandles=[])}else return jt;let S=u?new Array(e.length).fill(us):us;const I=()=>{if(T.active)if(t){const q=T.run();(n||l||(u?q.some((V,D)=>Rn(V,S[D])):Rn(q,S)))&&(f&&f(),Ct(t,a,3,[q,S===us?void 0:u&&S[0]===us?[]:S,d]),S=q)}else T.run()};I.allowRecurse=!!t;let H;s==="sync"?H=I:s==="post"?H=()=>ht(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),H=()=>Mo(I));const T=new Ao(c,H);t?r?I():S=T.run():s==="post"?ht(T.run.bind(T),a&&a.suspense):T.run();const L=()=>{T.stop(),a&&a.scope&&vo(a.scope.effects,T)};return b&&b.push(L),L}function jh(e,t,r){const n=this.proxy,s=Ye(e)?e.includes(".")?Ul(n,e):()=>n[e]:e.bind(n,n);let i;ve(t)?i=t:(i=t.handler,r=t);const o=Xe;en(this);const a=Ro(s,i.bind(n),r);return o?en(o):Mr(),a}function Ul(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Tr(e,t){if(!Fe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))Tr(e.value,t);else if(me(e))for(let r=0;r<e.length;r++)Tr(e[r],t);else if(Bs(e)||Kr(e))e.forEach(r=>{Tr(r,t)});else if(dl(e))for(const r in e)Tr(e[r],t);return e}function $h(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yn(()=>{e.isMounted=!0}),Hl(()=>{e.isUnmounting=!0}),e}const Ot=[Function,Array],Uh={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(e,{slots:t}){const r=Xn(),n=$h();let s;return()=>{const i=t.default&&Bl(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==kt){o=I;break}}const a=ke(e),{mode:c}=a;if(n.isLeaving)return yi(o);const l=_a(o);if(!l)return yi(o);const u=qi(l,a,n,r);Hi(l,u);const f=r.subTree,d=f&&_a(f);let b=!1;const{getTransitionKey:S}=l.type;if(S){const I=S();s===void 0?s=I:I!==s&&(s=I,b=!0)}if(d&&d.type!==kt&&(!Cr(l,d)||b)){const I=qi(d,a,n,r);if(Hi(d,I),c==="out-in")return n.isLeaving=!0,I.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},yi(o);c==="in-out"&&l.type!==kt&&(I.delayLeave=(H,T,L)=>{const q=Dl(n,d);q[String(d.key)]=d,H._leaveCb=()=>{T(),H._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=L})}return o}}},Dh=Uh;function Dl(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function qi(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:b,onLeaveCancelled:S,onBeforeAppear:I,onAppear:H,onAfterAppear:T,onAppearCancelled:L}=t,q=String(e.key),V=Dl(r,e),D=(ne,ge)=>{ne&&Ct(ne,n,9,ge)},ue=(ne,ge)=>{const we=ge[1];D(ne,ge),me(ne)?ne.every(Oe=>Oe.length<=1)&&we():ne.length<=1&&we()},re={mode:i,persisted:o,beforeEnter(ne){let ge=a;if(!r.isMounted)if(s)ge=I||a;else return;ne._leaveCb&&ne._leaveCb(!0);const we=V[q];we&&Cr(e,we)&&we.el._leaveCb&&we.el._leaveCb(),D(ge,[ne])},enter(ne){let ge=c,we=l,Oe=u;if(!r.isMounted)if(s)ge=H||c,we=T||l,Oe=L||u;else return;let Ne=!1;const De=ne._enterCb=k=>{Ne||(Ne=!0,k?D(Oe,[ne]):D(we,[ne]),re.delayedLeave&&re.delayedLeave(),ne._enterCb=void 0)};ge?ue(ge,[ne,De]):De()},leave(ne,ge){const we=String(e.key);if(ne._enterCb&&ne._enterCb(!0),r.isUnmounting)return ge();D(f,[ne]);let Oe=!1;const Ne=ne._leaveCb=De=>{Oe||(Oe=!0,ge(),De?D(S,[ne]):D(b,[ne]),ne._leaveCb=void 0,V[we]===e&&delete V[we])};V[we]=e,d?ue(d,[ne,Ne]):Ne()},clone(ne){return qi(ne,t,r,n)}};return re}function yi(e){if(Gs(e))return e=br(e),e.children=null,e}function _a(e){return Gs(e)?e.children?e.children[0]:void 0:e}function Hi(e,t){e.shapeFlag&6&&e.component?Hi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Bl(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===bt?(o.patchFlag&128&&s++,n=n.concat(Bl(o.children,t,a))):(t||o.type!==kt)&&n.push(a!=null?br(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function cn(e){return ve(e)?{setup:e,name:e.name}:e}const vn=e=>!!e.type.__asyncLoader,Gs=e=>e.type.__isKeepAlive;function Bh(e,t){ql(e,"a",t)}function qh(e,t){ql(e,"da",t)}function ql(e,t,r=Xe){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ys(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Gs(s.parent.vnode)&&Hh(n,t,r,s),s=s.parent}}function Hh(e,t,r,n){const s=Ys(t,e,n,!0);Lo(()=>{vo(n[t],s)},r)}function Ys(e,t,r=Xe,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;on(),en(r);const a=Ct(t,r,e,o);return Mr(),an(),a});return n?s.unshift(i):s.push(i),i}}const cr=e=>(t,r=Xe)=>(!Dn||e==="sp")&&Ys(e,(...n)=>t(...n),r),Wh=cr("bm"),Yn=cr("m"),zh=cr("bu"),Vh=cr("u"),Hl=cr("bum"),Lo=cr("um"),Kh=cr("sp"),Gh=cr("rtg"),Yh=cr("rtc");function Jh(e,t=Xe){Ys("ec",e,t)}function ty(e,t){const r=rt;if(r===null)return e;const n=Qs(r)||r.proxy,s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,c,l=je]=t[i];o&&(ve(o)&&(o={mounted:o,updated:o}),o.deep&&Tr(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function Er(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(on(),Ct(c,r,8,[e.el,a,e,t]),an())}}const Wl="components";function Js(e,t){return Qh(Wl,e,!0,t)||e}const Xh=Symbol();function Qh(e,t,r=!0,n=!1){const s=rt||Xe;if(s){const i=s.type;if(e===Wl){const a=Cd(i,!1);if(a&&(a===t||a===Yt(t)||a===Hs(Yt(t))))return i}const o=ba(s[e]||i[e],t)||ba(s.appContext[e],t);return!o&&n?i:o}}function ba(e,t){return e&&(e[t]||e[Yt(t)]||e[Hs(Yt(t))])}function ry(e,t,r,n){let s;const i=r&&r[n];if(me(e)||Ye(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(Fe(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=t(e[l],l,a,i&&i[a])}}else s=[];return r&&(r[n]=s),s}function wi(e,t,r={},n,s){if(rt.isCE||rt.parent&&vn(rt.parent)&&rt.parent.isCE)return t!=="default"&&(r.name=t),Re("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),pt();const o=i&&zl(i(r)),a=Un(bt,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function zl(e){return e.some(t=>Ps(t)?!(t.type===kt||t.type===bt&&!zl(t.children)):!0)?e:null}const Wi=e=>e?nu(e)?Qs(e)||e.proxy:Wi(e.parent):null,En=st(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wi(e.parent),$root:e=>Wi(e.root),$emit:e=>e.emit,$options:e=>Fo(e),$forceUpdate:e=>e.f||(e.f=()=>Mo(e.update)),$nextTick:e=>e.n||(e.n=Gn.bind(e.proxy)),$watch:e=>jh.bind(e)}),xi=(e,t)=>e!==je&&!e.__isScriptSetup&&Ce(e,t),Zh={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(xi(n,t))return o[t]=1,n[t];if(s!==je&&Ce(s,t))return o[t]=2,s[t];if((l=e.propsOptions[0])&&Ce(l,t))return o[t]=3,i[t];if(r!==je&&Ce(r,t))return o[t]=4,r[t];zi&&(o[t]=0)}}const u=En[t];let f,d;if(u)return t==="$attrs"&&Et(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(r!==je&&Ce(r,t))return o[t]=4,r[t];if(d=c.config.globalProperties,Ce(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return xi(s,t)?(s[t]=r,!0):n!==je&&Ce(n,t)?(n[t]=r,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==je&&Ce(e,o)||xi(t,o)||(a=i[0])&&Ce(a,o)||Ce(n,o)||Ce(En,o)||Ce(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ce(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let zi=!0;function ed(e){const t=Fo(e),r=e.proxy,n=e.ctx;zi=!1,t.beforeCreate&&ya(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:b,updated:S,activated:I,deactivated:H,beforeDestroy:T,beforeUnmount:L,destroyed:q,unmounted:V,render:D,renderTracked:ue,renderTriggered:re,errorCaptured:ne,serverPrefetch:ge,expose:we,inheritAttrs:Oe,components:Ne,directives:De,filters:k}=t;if(l&&td(l,n,null,e.appContext.config.unwrapInjectedRef),o)for(const se in o){const ce=o[se];ve(ce)&&(n[se]=ce.bind(r))}if(s){const se=s.call(r,r);Fe(se)&&(e.data=Kn(se))}if(zi=!0,i)for(const se in i){const ce=i[se],be=ve(ce)?ce.bind(r,r):ve(ce.get)?ce.get.bind(r,r):jt,he=!ve(ce)&&ve(ce.set)?ce.set.bind(r):jt,de=qe({get:be,set:he});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>de.value,set:_e=>de.value=_e})}if(a)for(const se in a)Vl(a[se],n,r,se);if(c){const se=ve(c)?c.call(r):c;Reflect.ownKeys(se).forEach(ce=>{ys(ce,se[ce])})}u&&ya(u,e,"c");function fe(se,ce){me(ce)?ce.forEach(be=>se(be.bind(r))):ce&&se(ce.bind(r))}if(fe(Wh,f),fe(Yn,d),fe(zh,b),fe(Vh,S),fe(Bh,I),fe(qh,H),fe(Jh,ne),fe(Yh,ue),fe(Gh,re),fe(Hl,L),fe(Lo,V),fe(Kh,ge),me(we))if(we.length){const se=e.exposed||(e.exposed={});we.forEach(ce=>{Object.defineProperty(se,ce,{get:()=>r[ce],set:be=>r[ce]=be})})}else e.exposed||(e.exposed={});D&&e.render===jt&&(e.render=D),Oe!=null&&(e.inheritAttrs=Oe),Ne&&(e.components=Ne),De&&(e.directives=De)}function td(e,t,r=jt,n=!1){me(e)&&(e=Vi(e));for(const s in e){const i=e[s];let o;Fe(i)?"default"in i?o=It(i.from||s,i.default,!0):o=It(i.from||s):o=It(i),Ze(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function ya(e,t,r){Ct(me(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Vl(e,t,r,n){const s=n.includes(".")?Ul(r,n):()=>r[n];if(Ye(e)){const i=t[e];ve(i)&&ct(s,i)}else if(ve(e))ct(s,e.bind(r));else if(Fe(e))if(me(e))e.forEach(i=>Vl(i,t,r,n));else{const i=ve(e.handler)?e.handler.bind(r):t[e.handler];ve(i)&&ct(s,i,e)}}function Fo(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!r&&!n?c=t:(c={},s.length&&s.forEach(l=>As(c,l,o,!0)),As(c,t,o)),Fe(t)&&i.set(t,c),c}function As(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&As(e,i,r,!0),s&&s.forEach(o=>As(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=rd[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const rd={data:wa,props:Or,emits:Or,methods:Or,computed:Or,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Or,directives:Or,watch:sd,provide:wa,inject:nd};function wa(e,t){return t?e?function(){return st(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function nd(e,t){return Or(Vi(e),Vi(t))}function Vi(e){if(me(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?st(st(Object.create(null),e),t):t}function sd(e,t){if(!e)return t;if(!t)return e;const r=st(Object.create(null),e);for(const n in t)r[n]=it(e[n],t[n]);return r}function id(e,t,r,n=!1){const s={},i={};Es(i,Xs,1),e.propsDefaults=Object.create(null),Kl(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:bh(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function od(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ke(s),[c]=e.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Vs(e.emitsOptions,d))continue;const b=t[d];if(c)if(Ce(i,d))b!==i[d]&&(i[d]=b,l=!0);else{const S=Yt(d);s[S]=Ki(c,a,S,b,e,!1)}else b!==i[d]&&(i[d]=b,l=!0)}}}else{Kl(e,t,s,i)&&(l=!0);let u;for(const f in a)(!t||!Ce(t,f)&&((u=Lr(f))===f||!Ce(t,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(s[f]=Ki(c,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!Ce(t,f))&&(delete i[f],l=!0)}l&&ir(e,"set","$attrs")}function Kl(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(_s(c))continue;const l=t[c];let u;s&&Ce(s,u=Yt(c))?!i||!i.includes(u)?r[u]=l:(a||(a={}))[u]=l:Vs(e.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(i){const c=ke(r),l=a||je;for(let u=0;u<i.length;u++){const f=i[u];r[f]=Ki(s,c,f,l[f],e,!Ce(l,f))}}return o}function Ki(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=Ce(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&ve(c)){const{propsDefaults:l}=s;r in l?n=l[r]:(en(s),n=l[r]=c.call(null,t),Mr())}else n=c}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Lr(r))&&(n=!0))}return n}function Gl(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!ve(e)){const u=f=>{c=!0;const[d,b]=Gl(f,t,!0);st(o,d),b&&a.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return Fe(e)&&n.set(e,Vr),Vr;if(me(i))for(let u=0;u<i.length;u++){const f=Yt(i[u]);xa(f)&&(o[f]=je)}else if(i)for(const u in i){const f=Yt(u);if(xa(f)){const d=i[u],b=o[f]=me(d)||ve(d)?{type:d}:Object.assign({},d);if(b){const S=Sa(Boolean,b.type),I=Sa(String,b.type);b[0]=S>-1,b[1]=I<0||S<I,(S>-1||Ce(b,"default"))&&a.push(f)}}}const l=[o,a];return Fe(e)&&n.set(e,l),l}function xa(e){return e[0]!=="$"}function va(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ea(e,t){return va(e)===va(t)}function Sa(e,t){return me(t)?t.findIndex(r=>Ea(r,e)):ve(t)&&Ea(t,e)?0:-1}const Yl=e=>e[0]==="_"||e==="$stable",jo=e=>me(e)?e.map(qt):[qt(e)],ad=(e,t,r)=>{if(t._n)return t;const n=rr((...s)=>jo(t(...s)),r);return n._c=!1,n},Jl=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Yl(s))continue;const i=e[s];if(ve(i))t[s]=ad(s,i,n);else if(i!=null){const o=jo(i);t[s]=()=>o}}},Xl=(e,t)=>{const r=jo(t);e.slots.default=()=>r},cd=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ke(t),Es(t,"_",r)):Jl(t,e.slots={})}else e.slots={},t&&Xl(e,t);Es(e.slots,Xs,1)},ld=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=je;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(st(s,t),!r&&a===1&&delete s._):(i=!t.$stable,Jl(t,s)),o=t}else t&&(Xl(e,t),o={default:1});if(i)for(const a in s)!Yl(a)&&!(a in o)&&delete s[a]};function Ql(){return{app:null,config:{isNativeTag:Ff,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ud=0;function fd(e,t){return function(n,s=null){ve(n)||(n=Object.assign({},n)),s!=null&&!Fe(s)&&(s=null);const i=Ql(),o=new Set;let a=!1;const c=i.app={_uid:ud++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Nd,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ve(l.install)?(o.add(l),l.install(c,...u)):ve(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,f){if(!a){const d=Re(n,s);return d.appContext=i,u&&t?t(d,l):e(d,l,f),a=!0,c._container=l,l.__vue_app__=c,Qs(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Gi(e,t,r,n,s=!1){if(me(e)){e.forEach((d,b)=>Gi(d,t&&(me(t)?t[b]:t),r,n,s));return}if(vn(n)&&!s)return;const i=n.shapeFlag&4?Qs(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===je?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(Ye(l)?(u[l]=null,Ce(f,l)&&(f[l]=null)):Ze(l)&&(l.value=null)),ve(c))mr(c,a,12,[o,u]);else{const d=Ye(c),b=Ze(c);if(d||b){const S=()=>{if(e.f){const I=d?Ce(f,c)?f[c]:u[c]:c.value;s?me(I)&&vo(I,i):me(I)?I.includes(i)||I.push(i):d?(u[c]=[i],Ce(f,c)&&(f[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,Ce(f,c)&&(f[c]=o)):b&&(c.value=o,e.k&&(u[e.k]=o))};o?(S.id=-1,ht(S,r)):S()}}}const ht=Lh;function hd(e){return dd(e)}function dd(e,t){const r=qf();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:b=jt,insertStaticContent:S}=e,I=(g,w,C,M=null,U=null,z=null,J=!1,W=null,G=!!w.dynamicChildren)=>{if(g===w)return;g&&!Cr(g,w)&&(M=$(g),_e(g,U,z,!0),g=null),w.patchFlag===-2&&(G=!1,w.dynamicChildren=null);const{type:R,ref:E,shapeFlag:O}=w;switch(R){case Jn:H(g,w,C,M);break;case kt:T(g,w,C,M);break;case vi:g==null&&L(w,C,M,J);break;case bt:Ne(g,w,C,M,U,z,J,W,G);break;default:O&1?D(g,w,C,M,U,z,J,W,G):O&6?De(g,w,C,M,U,z,J,W,G):(O&64||O&128)&&R.process(g,w,C,M,U,z,J,W,G,ee)}E!=null&&U&&Gi(E,g&&g.ref,z,w||g,!w)},H=(g,w,C,M)=>{if(g==null)n(w.el=a(w.children),C,M);else{const U=w.el=g.el;w.children!==g.children&&l(U,w.children)}},T=(g,w,C,M)=>{g==null?n(w.el=c(w.children||""),C,M):w.el=g.el},L=(g,w,C,M)=>{[g.el,g.anchor]=S(g.children,w,C,M,g.el,g.anchor)},q=({el:g,anchor:w},C,M)=>{let U;for(;g&&g!==w;)U=d(g),n(g,C,M),g=U;n(w,C,M)},V=({el:g,anchor:w})=>{let C;for(;g&&g!==w;)C=d(g),s(g),g=C;s(w)},D=(g,w,C,M,U,z,J,W,G)=>{J=J||w.type==="svg",g==null?ue(w,C,M,U,z,J,W,G):ge(g,w,U,z,J,W,G)},ue=(g,w,C,M,U,z,J,W)=>{let G,R;const{type:E,props:O,shapeFlag:Y,transition:ie,dirs:xe}=g;if(G=g.el=o(g.type,z,O&&O.is,O),Y&8?u(G,g.children):Y&16&&ne(g.children,G,null,M,U,z&&E!=="foreignObject",J,W),xe&&Er(g,null,M,"created"),O){for(const Ee in O)Ee!=="value"&&!_s(Ee)&&i(G,Ee,null,O[Ee],z,g.children,M,U,K);"value"in O&&i(G,"value",null,O.value),(R=O.onVnodeBeforeMount)&&Dt(R,M,g)}re(G,g,g.scopeId,J,M),xe&&Er(g,null,M,"beforeMount");const Pe=(!U||U&&!U.pendingBranch)&&ie&&!ie.persisted;Pe&&ie.beforeEnter(G),n(G,w,C),((R=O&&O.onVnodeMounted)||Pe||xe)&&ht(()=>{R&&Dt(R,M,g),Pe&&ie.enter(G),xe&&Er(g,null,M,"mounted")},U)},re=(g,w,C,M,U)=>{if(C&&b(g,C),M)for(let z=0;z<M.length;z++)b(g,M[z]);if(U){let z=U.subTree;if(w===z){const J=U.vnode;re(g,J,J.scopeId,J.slotScopeIds,U.parent)}}},ne=(g,w,C,M,U,z,J,W,G=0)=>{for(let R=G;R<g.length;R++){const E=g[R]=W?hr(g[R]):qt(g[R]);I(null,E,w,C,M,U,z,J,W)}},ge=(g,w,C,M,U,z,J)=>{const W=w.el=g.el;let{patchFlag:G,dynamicChildren:R,dirs:E}=w;G|=g.patchFlag&16;const O=g.props||je,Y=w.props||je;let ie;C&&Sr(C,!1),(ie=Y.onVnodeBeforeUpdate)&&Dt(ie,C,w,g),E&&Er(w,g,C,"beforeUpdate"),C&&Sr(C,!0);const xe=U&&w.type!=="foreignObject";if(R?we(g.dynamicChildren,R,W,C,M,xe,z):J||ce(g,w,W,null,C,M,xe,z,!1),G>0){if(G&16)Oe(W,w,O,Y,C,M,U);else if(G&2&&O.class!==Y.class&&i(W,"class",null,Y.class,U),G&4&&i(W,"style",O.style,Y.style,U),G&8){const Pe=w.dynamicProps;for(let Ee=0;Ee<Pe.length;Ee++){const Ue=Pe[Ee],ut=O[Ue],lr=Y[Ue];(lr!==ut||Ue==="value")&&i(W,Ue,ut,lr,U,g.children,C,M,K)}}G&1&&g.children!==w.children&&u(W,w.children)}else!J&&R==null&&Oe(W,w,O,Y,C,M,U);((ie=Y.onVnodeUpdated)||E)&&ht(()=>{ie&&Dt(ie,C,w,g),E&&Er(w,g,C,"updated")},M)},we=(g,w,C,M,U,z,J)=>{for(let W=0;W<w.length;W++){const G=g[W],R=w[W],E=G.el&&(G.type===bt||!Cr(G,R)||G.shapeFlag&70)?f(G.el):C;I(G,R,E,null,M,U,z,J,!0)}},Oe=(g,w,C,M,U,z,J)=>{if(C!==M){if(C!==je)for(const W in C)!_s(W)&&!(W in M)&&i(g,W,C[W],null,J,w.children,U,z,K);for(const W in M){if(_s(W))continue;const G=M[W],R=C[W];G!==R&&W!=="value"&&i(g,W,R,G,J,w.children,U,z,K)}"value"in M&&i(g,"value",C.value,M.value)}},Ne=(g,w,C,M,U,z,J,W,G)=>{const R=w.el=g?g.el:a(""),E=w.anchor=g?g.anchor:a("");let{patchFlag:O,dynamicChildren:Y,slotScopeIds:ie}=w;ie&&(W=W?W.concat(ie):ie),g==null?(n(R,C,M),n(E,C,M),ne(w.children,C,E,U,z,J,W,G)):O>0&&O&64&&Y&&g.dynamicChildren?(we(g.dynamicChildren,Y,C,U,z,J,W),(w.key!=null||U&&w===U.subTree)&&Zl(g,w,!0)):ce(g,w,C,E,U,z,J,W,G)},De=(g,w,C,M,U,z,J,W,G)=>{w.slotScopeIds=W,g==null?w.shapeFlag&512?U.ctx.activate(w,C,M,J,G):k(w,C,M,U,z,J,G):P(g,w,G)},k=(g,w,C,M,U,z,J)=>{const W=g.component=Ed(g,M,U);if(Gs(g)&&(W.ctx.renderer=ee),Sd(W),W.asyncDep){if(U&&U.registerDep(W,fe),!g.el){const G=W.subTree=Re(kt);T(null,G,w,C)}return}fe(W,g,w,C,U,z,J)},P=(g,w,C)=>{const M=w.component=g.component;if(Nh(g,w,C))if(M.asyncDep&&!M.asyncResolved){se(M,w,C);return}else M.next=w,Ah(M.update),M.update();else w.el=g.el,M.vnode=w},fe=(g,w,C,M,U,z,J)=>{const W=()=>{if(g.isMounted){let{next:E,bu:O,u:Y,parent:ie,vnode:xe}=g,Pe=E,Ee;Sr(g,!1),E?(E.el=xe.el,se(g,E,J)):E=xe,O&&bs(O),(Ee=E.props&&E.props.onVnodeBeforeUpdate)&&Dt(Ee,ie,E,xe),Sr(g,!0);const Ue=bi(g),ut=g.subTree;g.subTree=Ue,I(ut,Ue,f(ut.el),$(ut),g,U,z),E.el=Ue.el,Pe===null&&Mh(g,Ue.el),Y&&ht(Y,U),(Ee=E.props&&E.props.onVnodeUpdated)&&ht(()=>Dt(Ee,ie,E,xe),U)}else{let E;const{el:O,props:Y}=w,{bm:ie,m:xe,parent:Pe}=g,Ee=vn(w);if(Sr(g,!1),ie&&bs(ie),!Ee&&(E=Y&&Y.onVnodeBeforeMount)&&Dt(E,Pe,w),Sr(g,!0),O&&pe){const Ue=()=>{g.subTree=bi(g),pe(O,g.subTree,g,U,null)};Ee?w.type.__asyncLoader().then(()=>!g.isUnmounted&&Ue()):Ue()}else{const Ue=g.subTree=bi(g);I(null,Ue,C,M,g,U,z),w.el=Ue.el}if(xe&&ht(xe,U),!Ee&&(E=Y&&Y.onVnodeMounted)){const Ue=w;ht(()=>Dt(E,Pe,Ue),U)}(w.shapeFlag&256||Pe&&vn(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&g.a&&ht(g.a,U),g.isMounted=!0,w=C=M=null}},G=g.effect=new Ao(W,()=>Mo(R),g.scope),R=g.update=()=>G.run();R.id=g.uid,Sr(g,!0),R()},se=(g,w,C)=>{w.component=g;const M=g.vnode.props;g.vnode=w,g.next=null,od(g,w.props,M,C),ld(g,w.children,C),on(),ma(),an()},ce=(g,w,C,M,U,z,J,W,G=!1)=>{const R=g&&g.children,E=g?g.shapeFlag:0,O=w.children,{patchFlag:Y,shapeFlag:ie}=w;if(Y>0){if(Y&128){he(R,O,C,M,U,z,J,W,G);return}else if(Y&256){be(R,O,C,M,U,z,J,W,G);return}}ie&8?(E&16&&K(R,U,z),O!==R&&u(C,O)):E&16?ie&16?he(R,O,C,M,U,z,J,W,G):K(R,U,z,!0):(E&8&&u(C,""),ie&16&&ne(O,C,M,U,z,J,W,G))},be=(g,w,C,M,U,z,J,W,G)=>{g=g||Vr,w=w||Vr;const R=g.length,E=w.length,O=Math.min(R,E);let Y;for(Y=0;Y<O;Y++){const ie=w[Y]=G?hr(w[Y]):qt(w[Y]);I(g[Y],ie,C,null,U,z,J,W,G)}R>E?K(g,U,z,!0,!1,O):ne(w,C,M,U,z,J,W,G,O)},he=(g,w,C,M,U,z,J,W,G)=>{let R=0;const E=w.length;let O=g.length-1,Y=E-1;for(;R<=O&&R<=Y;){const ie=g[R],xe=w[R]=G?hr(w[R]):qt(w[R]);if(Cr(ie,xe))I(ie,xe,C,null,U,z,J,W,G);else break;R++}for(;R<=O&&R<=Y;){const ie=g[O],xe=w[Y]=G?hr(w[Y]):qt(w[Y]);if(Cr(ie,xe))I(ie,xe,C,null,U,z,J,W,G);else break;O--,Y--}if(R>O){if(R<=Y){const ie=Y+1,xe=ie<E?w[ie].el:M;for(;R<=Y;)I(null,w[R]=G?hr(w[R]):qt(w[R]),C,xe,U,z,J,W,G),R++}}else if(R>Y)for(;R<=O;)_e(g[R],U,z,!0),R++;else{const ie=R,xe=R,Pe=new Map;for(R=xe;R<=Y;R++){const Je=w[R]=G?hr(w[R]):qt(w[R]);Je.key!=null&&Pe.set(Je.key,R)}let Ee,Ue=0;const ut=Y-xe+1;let lr=!1,fn=0;const xr=new Array(ut);for(R=0;R<ut;R++)xr[R]=0;for(R=ie;R<=O;R++){const Je=g[R];if(Ue>=ut){_e(Je,U,z,!0);continue}let mt;if(Je.key!=null)mt=Pe.get(Je.key);else for(Ee=xe;Ee<=Y;Ee++)if(xr[Ee-xe]===0&&Cr(Je,w[Ee])){mt=Ee;break}mt===void 0?_e(Je,U,z,!0):(xr[mt-xe]=R+1,mt>=fn?fn=mt:lr=!0,I(Je,w[mt],C,null,U,z,J,W,G),Ue++)}const Ut=lr?pd(xr):Vr;for(Ee=Ut.length-1,R=ut-1;R>=0;R--){const Je=xe+R,mt=w[Je],Fr=Je+1<E?w[Je+1].el:M;xr[R]===0?I(null,mt,C,Fr,U,z,J,W,G):lr&&(Ee<0||R!==Ut[Ee]?de(mt,C,Fr,2):Ee--)}}},de=(g,w,C,M,U=null)=>{const{el:z,type:J,transition:W,children:G,shapeFlag:R}=g;if(R&6){de(g.component.subTree,w,C,M);return}if(R&128){g.suspense.move(w,C,M);return}if(R&64){J.move(g,w,C,ee);return}if(J===bt){n(z,w,C);for(let O=0;O<G.length;O++)de(G[O],w,C,M);n(g.anchor,w,C);return}if(J===vi){q(g,w,C);return}if(M!==2&&R&1&&W)if(M===0)W.beforeEnter(z),n(z,w,C),ht(()=>W.enter(z),U);else{const{leave:O,delayLeave:Y,afterLeave:ie}=W,xe=()=>n(z,w,C),Pe=()=>{O(z,()=>{xe(),ie&&ie()})};Y?Y(z,xe,Pe):Pe()}else n(z,w,C)},_e=(g,w,C,M=!1,U=!1)=>{const{type:z,props:J,ref:W,children:G,dynamicChildren:R,shapeFlag:E,patchFlag:O,dirs:Y}=g;if(W!=null&&Gi(W,null,C,g,!0),E&256){w.ctx.deactivate(g);return}const ie=E&1&&Y,xe=!vn(g);let Pe;if(xe&&(Pe=J&&J.onVnodeBeforeUnmount)&&Dt(Pe,w,g),E&6)N(g.component,C,M);else{if(E&128){g.suspense.unmount(C,M);return}ie&&Er(g,null,w,"beforeUnmount"),E&64?g.type.remove(g,w,C,U,ee,M):R&&(z!==bt||O>0&&O&64)?K(R,w,C,!1,!0):(z===bt&&O&384||!U&&E&16)&&K(G,w,C),M&&$e(g)}(xe&&(Pe=J&&J.onVnodeUnmounted)||ie)&&ht(()=>{Pe&&Dt(Pe,w,g),ie&&Er(g,null,w,"unmounted")},C)},$e=g=>{const{type:w,el:C,anchor:M,transition:U}=g;if(w===bt){Ae(C,M);return}if(w===vi){V(g);return}const z=()=>{s(C),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(g.shapeFlag&1&&U&&!U.persisted){const{leave:J,delayLeave:W}=U,G=()=>J(C,z);W?W(g.el,z,G):G()}else z()},Ae=(g,w)=>{let C;for(;g!==w;)C=d(g),s(g),g=C;s(w)},N=(g,w,C)=>{const{bum:M,scope:U,update:z,subTree:J,um:W}=g;M&&bs(M),U.stop(),z&&(z.active=!1,_e(J,g,w,C)),W&&ht(W,w),ht(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},K=(g,w,C,M=!1,U=!1,z=0)=>{for(let J=z;J<g.length;J++)_e(g[J],w,C,M,U)},$=g=>g.shapeFlag&6?$(g.component.subTree):g.shapeFlag&128?g.suspense.next():d(g.anchor||g.el),te=(g,w,C)=>{g==null?w._vnode&&_e(w._vnode,null,null,!0):I(w._vnode||null,g,w,null,null,null,C),ma(),Fl(),w._vnode=g},ee={p:I,um:_e,m:de,r:$e,mt:k,mc:ne,pc:ce,pbc:we,n:$,o:e};let ye,pe;return t&&([ye,pe]=t(ee)),{render:te,hydrate:ye,createApp:fd(te,ye)}}function Sr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Zl(e,t,r=!1){const n=e.children,s=t.children;if(me(n)&&me(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=hr(s[i]),a.el=o.el),r||Zl(o,a)),a.type===Jn&&(a.el=o.el)}}function pd(e){const t=e.slice(),r=[0];let n,s,i,o,a;const c=e.length;for(n=0;n<c;n++){const l=e[n];if(l!==0){if(s=r[r.length-1],e[s]<l){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<l?i=a+1:o=a;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const md=e=>e.__isTeleport,bt=Symbol(void 0),Jn=Symbol(void 0),kt=Symbol(void 0),vi=Symbol(void 0),Sn=[];let Lt=null;function pt(e=!1){Sn.push(Lt=e?null:[])}function gd(){Sn.pop(),Lt=Sn[Sn.length-1]||null}let $n=1;function Oa(e){$n+=e}function eu(e){return e.dynamicChildren=$n>0?Lt||Vr:null,gd(),$n>0&&Lt&&Lt.push(e),e}function or(e,t,r,n,s,i){return eu(He(e,t,r,n,s,i,!0))}function Un(e,t,r,n,s){return eu(Re(e,t,r,n,s,!0))}function Ps(e){return e?e.__v_isVNode===!0:!1}function Cr(e,t){return e.type===t.type&&e.key===t.key}const Xs="__vInternal",tu=({key:e})=>e??null,ws=({ref:e,ref_key:t,ref_for:r})=>e!=null?Ye(e)||Ze(e)||ve(e)?{i:rt,r:e,k:t,f:!!r}:e:null;function He(e,t=null,r=null,n=0,s=null,i=e===bt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&tu(t),ref:t&&ws(t),scopeId:Ks,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rt};return a?($o(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=Ye(r)?8:16),$n>0&&!o&&Lt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Lt.push(c),c}const Re=_d;function _d(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Xh)&&(e=kt),Ps(e)){const a=br(e,t,!0);return r&&$o(a,r),$n>0&&!i&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(e)]=a:Lt.push(a)),a.patchFlag|=-2,a}if(Id(e)&&(e=e.__vccOpts),t){t=bd(t);let{class:a,style:c}=t;a&&!Ye(a)&&(t.class=Vt(a)),Fe(c)&&(Al(c)&&!me(c)&&(c=st({},c)),t.style=wo(c))}const o=Ye(e)?1:Rh(e)?128:md(e)?64:Fe(e)?4:ve(e)?2:0;return He(e,t,r,n,s,o,i,!0)}function bd(e){return e?Al(e)||Xs in e?st({},e):e:null}function br(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,a=t?wd(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&tu(a),ref:t&&t.ref?r&&s?me(s)?s.concat(ws(t)):[s,ws(t)]:ws(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==bt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&br(e.ssContent),ssFallback:e.ssFallback&&br(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function ru(e=" ",t=0){return Re(Jn,null,e,t)}function yd(e="",t=!1){return t?(pt(),Un(kt,null,e)):Re(kt,null,e)}function qt(e){return e==null||typeof e=="boolean"?Re(kt):me(e)?Re(bt,null,e.slice()):typeof e=="object"?hr(e):Re(Jn,null,String(e))}function hr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:br(e)}function $o(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(me(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),$o(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(Xs in t)?t._ctx=rt:s===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[ru(t)]):r=8);e.children=t,e.shapeFlag|=r}function wd(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Vt([t.class,n.class]));else if(s==="style")t.style=wo([t.style,n.style]);else if(Ds(s)){const i=t[s],o=n[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Dt(e,t,r,n=null){Ct(e,t,7,[r,n])}const xd=Ql();let vd=0;function Ed(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||xd,i={uid:vd++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gl(n,s),emitsOptions:$l(n,s),emit:null,emitted:null,propsDefaults:je,inheritAttrs:n.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ih.bind(null,i),e.ce&&e.ce(i),i}let Xe=null;const Xn=()=>Xe||rt,en=e=>{Xe=e,e.scope.on()},Mr=()=>{Xe&&Xe.scope.off(),Xe=null};function nu(e){return e.vnode.shapeFlag&4}let Dn=!1;function Sd(e,t=!1){Dn=t;const{props:r,children:n}=e.vnode,s=nu(e);id(e,r,s,t),cd(e,n);const i=s?Od(e,t):void 0;return Dn=!1,i}function Od(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Pl(new Proxy(e.ctx,Zh));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?Pd(e):null;en(e),on();const i=mr(n,e,0,[e.props,s]);if(an(),Mr(),fl(i)){if(i.then(Mr,Mr),t)return i.then(o=>{Aa(e,o,t)}).catch(o=>{zs(o,e,0)});e.asyncDep=i}else Aa(e,i,t)}else su(e,t)}function Aa(e,t,r){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=Nl(t)),su(e,r)}let Pa;function su(e,t,r){const n=e.type;if(!e.render){if(!t&&Pa&&!n.render){const s=n.template||Fo(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,l=st(st({isCustomElement:i,delimiters:a},o),c);n.render=Pa(s,l)}}e.render=n.render||jt}en(e),on(),ed(e),an(),Mr()}function Ad(e){return new Proxy(e.attrs,{get(t,r){return Et(e,"get","$attrs"),t[r]}})}function Pd(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Ad(e))},slots:e.slots,emit:e.emit,expose:t}}function Qs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Nl(Pl(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in En)return En[r](e)},has(t,r){return r in t||r in En}}))}function Cd(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Id(e){return ve(e)&&"__vccOpts"in e}const qe=(e,t)=>Eh(e,t,Dn);function Zs(e,t,r){const n=arguments.length;return n===2?Fe(t)&&!me(t)?Ps(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ps(r)&&(r=[r]),Re(e,t,r))}const kd=Symbol(""),Td=()=>It(kd),Nd="3.2.45",Md="http://www.w3.org/2000/svg",Ir=typeof document<"u"?document:null,Ca=Ir&&Ir.createElement("template"),Rd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?Ir.createElementNS(Md,e):Ir.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Ir.createTextNode(e),createComment:e=>Ir.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ir.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Ca.innerHTML=n?`<svg>${e}</svg>`:e;const a=Ca.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Ld(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Fd(e,t,r){const n=e.style,s=Ye(r);if(r&&!s){for(const i in r)Yi(n,i,r[i]);if(t&&!Ye(t))for(const i in t)r[i]==null&&Yi(n,i,"")}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Ia=/\s*!important$/;function Yi(e,t,r){if(me(r))r.forEach(n=>Yi(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=jd(e,t);Ia.test(r)?e.setProperty(Lr(n),r.replace(Ia,""),"important"):e[n]=r}}const ka=["Webkit","Moz","ms"],Ei={};function jd(e,t){const r=Ei[t];if(r)return r;let n=Yt(t);if(n!=="filter"&&n in e)return Ei[t]=n;n=Hs(n);for(let s=0;s<ka.length;s++){const i=ka[s]+n;if(i in e)return Ei[t]=i}return t}const Ta="http://www.w3.org/1999/xlink";function $d(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Ta,t.slice(6,t.length)):e.setAttributeNS(Ta,t,r);else{const i=Mf(t);r==null||i&&!ll(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function Ud(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r??"";(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=ll(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(t)}function iu(e,t,r,n){e.addEventListener(t,r,n)}function Dd(e,t,r,n){e.removeEventListener(t,r,n)}function Bd(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,c]=qd(t);if(n){const l=i[t]=zd(n,s);iu(e,a,l,c)}else o&&(Dd(e,a,o,c),i[t]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function qd(e){let t;if(Na.test(e)){t={};let n;for(;n=e.match(Na);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lr(e.slice(2)),t]}let Si=0;const Hd=Promise.resolve(),Wd=()=>Si||(Hd.then(()=>Si=0),Si=Date.now());function zd(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ct(Vd(n,r.value),t,5,[n])};return r.value=e,r.attached=Wd(),r}function Vd(e,t){if(me(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Ma=/^on[a-z]/,Kd=(e,t,r,n,s=!1,i,o,a,c)=>{t==="class"?Ld(e,n,s):t==="style"?Fd(e,r,n):Ds(t)?xo(t)||Bd(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gd(e,t,n,s))?Ud(e,t,n,i,o,a,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),$d(e,t,n,s))};function Gd(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Ma.test(t)&&ve(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ma.test(t)&&Ye(r)?!1:t in e}const Yd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Dh.props;const Ra=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?r=>bs(t,r):t},ny={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const s=Bs(t);iu(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?So(Cs(o)):Cs(o));e._assign(e.multiple?s?new Set(i):i:i[0])}),e._assign=Ra(n)},mounted(e,{value:t}){La(e,t)},beforeUpdate(e,t,r){e._assign=Ra(r)},updated(e,{value:t}){La(e,t)}};function La(e,t){const r=e.multiple;if(!(r&&!me(t)&&!Bs(t))){for(let n=0,s=e.options.length;n<s;n++){const i=e.options[n],o=Cs(i);if(r)me(t)?i.selected=Lf(t,o)>-1:i.selected=t.has(o);else if(Us(Cs(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Cs(e){return"_value"in e?e._value:e.value}const Jd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sy=(e,t)=>r=>{if(!("key"in r))return;const n=Lr(r.key);if(t.some(s=>s===n||Jd[s]===n))return e(r)},iy={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):gn(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),gn(e,!0),n.enter(e)):n.leave(e,()=>{gn(e,!1)}):gn(e,t))},beforeUnmount(e,{value:t}){gn(e,t)}};function gn(e,t){e.style.display=t?e._vod:"none"}const Xd=st({patchProp:Kd},Rd);let Fa;function Qd(){return Fa||(Fa=hd(Xd))}const Zd=(...e)=>{const t=Qd().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=ep(n);if(!s)return;const i=t._component;!ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function ep(e){return Ye(e)?document.querySelector(e):e}/*!
  * shared v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Ji=typeof window<"u",tp=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",yr=e=>tp?Symbol(e):e,rp=(e,t,r)=>np({l:e,k:t,s:r}),np=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Qe=e=>typeof e=="number"&&isFinite(e),sp=e=>Bo(e)==="[object Date]",Is=e=>Bo(e)==="[object RegExp]",ei=e=>Ie(e)&&Object.keys(e).length===0;function ip(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const lt=Object.assign;let ja;const Uo=()=>ja||(ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $a(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const op=Object.prototype.hasOwnProperty;function Do(e,t){return op.call(e,t)}const Ke=Array.isArray,tt=e=>typeof e=="function",ae=e=>typeof e=="string",We=e=>typeof e=="boolean",Le=e=>e!==null&&typeof e=="object",ou=Object.prototype.toString,Bo=e=>ou.call(e),Ie=e=>Bo(e)==="[object Object]",ap=e=>e==null?"":Ke(e)||Ie(e)&&e.toString===ou?JSON.stringify(e,null,2):String(e);/*!
  * message-compiler v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const au={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};function cu(e,t,r={}){const{domain:n,messages:s,args:i}=r,o=e,a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=n,a}/*!
  * devtools-if v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const lu={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * core-base v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const wr=[];wr[0]={w:[0],i:[3,0],["["]:[4],o:[7]};wr[1]={w:[1],["."]:[2],["["]:[4],o:[7]};wr[2]={w:[2],i:[3,0],[0]:[3,0]};wr[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};wr[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};wr[5]={["'"]:[4,0],o:8,l:[5,0]};wr[6]={['"']:[4,0],o:8,l:[6,0]};const cp=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function lp(e){return cp.test(e)}function up(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function fp(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function hp(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:lp(t)?up(t):"*"+t}function dp(e){const t=[];let r=-1,n=0,s=0,i,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,n=4,d[0]();else{if(s=0,o===void 0||(o=hp(o),o===!1))return!1;d[1]()}};function b(){const S=e[r+1];if(n===5&&S==="'"||n===6&&S==='"')return r++,a="\\"+S,d[0](),!0}for(;n!==null;)if(r++,i=e[r],!(i==="\\"&&b())){if(c=fp(i),f=wr[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=i,u()===!1))))return;if(n===7)return t}}const Ua=new Map;function pp(e,t){return Le(e)?e[t]:null}function mp(e,t){if(!Le(e))return null;let r=Ua.get(t);if(r||(r=dp(t),r&&Ua.set(t,r)),!r)return null;const n=r.length;let s=e,i=0;for(;i<n;){const o=s[r[i]];if(o===void 0)return null;s=o,i++}return s}const gp=e=>e,_p=e=>"",bp="text",yp=e=>e.length===0?"":e.join(""),wp=ap;function Da(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function xp(e){const t=Qe(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Qe(e.named.count)||Qe(e.named.n))?Qe(e.named.count)?e.named.count:Qe(e.named.n)?e.named.n:t:t}function vp(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Ep(e={}){const t=e.locale,r=xp(e),n=Le(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?e.pluralRules[t]:Da,s=Le(e.pluralRules)&&ae(t)&&tt(e.pluralRules[t])?Da:void 0,i=T=>T[n(r,T.length,s)],o=e.list||[],a=T=>o[T],c=e.named||{};Qe(e.pluralIndex)&&vp(r,c);const l=T=>c[T];function u(T){const L=tt(e.messages)?e.messages(T):Le(e.messages)?e.messages[T]:!1;return L||(e.parent?e.parent.message(T):_p)}const f=T=>e.modifiers?e.modifiers[T]:gp,d=Ie(e.processor)&&tt(e.processor.normalize)?e.processor.normalize:yp,b=Ie(e.processor)&&tt(e.processor.interpolate)?e.processor.interpolate:wp,S=Ie(e.processor)&&ae(e.processor.type)?e.processor.type:bp,H={list:a,named:l,plural:i,linked:(T,...L)=>{const[q,V]=L;let D="text",ue="";L.length===1?Le(q)?(ue=q.modifier||ue,D=q.type||D):ae(q)&&(ue=q||ue):L.length===2&&(ae(q)&&(ue=q||ue),ae(V)&&(D=V||D));let re=u(T)(H);return D==="vnode"&&Ke(re)&&ue&&(re=re[0]),ue?f(ue)(re,D):re},message:u,type:S,interpolate:b,normalize:d};return H}let Bn=null;function Sp(e){Bn=e}function Op(e,t,r){Bn&&Bn.emit(lu.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Ap=Pp(lu.FunctionTranslate);function Pp(e){return t=>Bn&&Bn.emit(e,t)}const Cp={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,__EXTEND_POINT__:7};function Ip(e,t,r){return[...new Set([r,...Ke(t)?t:Le(t)?Object.keys(t):ae(t)?[t]:[r]])]}function uu(e,t,r){const n=ae(r)?r:qo,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(n);if(!i){i=[];let o=[r];for(;Ke(o);)o=Ba(i,o,t);const a=Ke(t)||!Ie(t)?t:t.default?t.default:null;o=ae(a)?[a]:a,Ke(o)&&Ba(i,o,!1),s.__localeChainCache.set(n,i)}return i}function Ba(e,t,r){let n=!0;for(let s=0;s<t.length&&We(n);s++){const i=t[s];ae(i)&&(n=kp(e,t[s],r))}return n}function kp(e,t,r){let n;const s=t.split("-");do{const i=s.join("-");n=Tp(e,i,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function Tp(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Ke(r)||Ie(r))&&r[s]&&(n=r[s])}return n}const Np="9.2.2",ti=-1,qo="en-US",qa="",Ha=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Mp(){return{upper:(e,t)=>t==="text"&&ae(e)?e.toUpperCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ae(e)?e.toLowerCase():t==="vnode"&&Le(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ae(e)?Ha(e):t==="vnode"&&Le(e)&&"__v_isVNode"in e?Ha(e.children):e}}let Rp,fu;function Lp(e){fu=e}let hu;function Fp(e){hu=e}let du=null;const Wa=e=>{du=e},jp=()=>du;let pu=null;const za=e=>{pu=e},$p=()=>pu;let Va=0;function Up(e={}){const t=ae(e.version)?e.version:Np,r=ae(e.locale)?e.locale:qo,n=Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,s=Ie(e.messages)?e.messages:{[r]:{}},i=Ie(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},o=Ie(e.numberFormats)?e.numberFormats:{[r]:{}},a=lt({},e.modifiers||{},Mp()),c=e.pluralRules||{},l=tt(e.missing)?e.missing:null,u=We(e.missingWarn)||Is(e.missingWarn)?e.missingWarn:!0,f=We(e.fallbackWarn)||Is(e.fallbackWarn)?e.fallbackWarn:!0,d=!!e.fallbackFormat,b=!!e.unresolving,S=tt(e.postTranslation)?e.postTranslation:null,I=Ie(e.processor)?e.processor:null,H=We(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter,L=tt(e.messageCompiler)?e.messageCompiler:Rp,q=tt(e.messageResolver)?e.messageResolver:fu||pp,V=tt(e.localeFallbacker)?e.localeFallbacker:hu||Ip,D=Le(e.fallbackContext)?e.fallbackContext:void 0,ue=tt(e.onWarn)?e.onWarn:ip,re=e,ne=Le(re.__datetimeFormatters)?re.__datetimeFormatters:new Map,ge=Le(re.__numberFormatters)?re.__numberFormatters:new Map,we=Le(re.__meta)?re.__meta:{};Va++;const Oe={version:t,cid:Va,locale:r,fallbackLocale:n,messages:s,modifiers:a,pluralRules:c,missing:l,missingWarn:u,fallbackWarn:f,fallbackFormat:d,unresolving:b,postTranslation:S,processor:I,warnHtmlMessage:H,escapeParameter:T,messageCompiler:L,messageResolver:q,localeFallbacker:V,fallbackContext:D,onWarn:ue,__meta:we};return Oe.datetimeFormats=i,Oe.numberFormats=o,Oe.__datetimeFormatters=ne,Oe.__numberFormatters=ge,__INTLIFY_PROD_DEVTOOLS__&&Op(Oe,t,we),Oe}function Ho(e,t,r,n,s){const{missing:i,onWarn:o}=e;if(i!==null){const a=i(e,r,t,s);return ae(a)?a:t}else return t}function _n(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}let mu=au.__EXTEND_POINT__;const Oi=()=>++mu,Hr={INVALID_ARGUMENT:mu,INVALID_DATE_ARGUMENT:Oi(),INVALID_ISO_DATE_ARGUMENT:Oi(),__EXTEND_POINT__:Oi()};function Wr(e){return cu(e,null,void 0)}const Ka=()=>"",Ht=e=>tt(e);function Ga(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=e,[c,l]=Xi(...t),u=We(l.missingWarn)?l.missingWarn:e.missingWarn,f=We(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,d=We(l.escapeParameter)?l.escapeParameter:e.escapeParameter,b=!!l.resolvedMessage,S=ae(l.default)||We(l.default)?We(l.default)?i?c:()=>c:l.default:r?i?c:()=>c:"",I=r||S!=="",H=ae(l.locale)?l.locale:e.locale;d&&Dp(l);let[T,L,q]=b?[c,H,a[H]||{}]:gu(e,c,H,o,f,u),V=T,D=c;if(!b&&!(ae(V)||Ht(V))&&I&&(V=S,D=V),!b&&(!(ae(V)||Ht(V))||!ae(L)))return s?ti:c;let ue=!1;const re=()=>{ue=!0},ne=Ht(V)?V:_u(e,c,L,V,D,re);if(ue)return V;const ge=Hp(e,L,q,l),we=Ep(ge),Oe=Bp(e,ne,we),Ne=n?n(Oe,c):Oe;if(__INTLIFY_PROD_DEVTOOLS__){const De={timestamp:Date.now(),key:ae(c)?c:Ht(V)?V.key:"",locale:L||(Ht(V)?V.locale:""),format:ae(V)?V:Ht(V)?V.source:"",message:Ne};De.meta=lt({},e.__meta,jp()||{}),Ap(De)}return Ne}function Dp(e){Ke(e.list)?e.list=e.list.map(t=>ae(t)?$a(t):t):Le(e.named)&&Object.keys(e.named).forEach(t=>{ae(e.named[t])&&(e.named[t]=$a(e.named[t]))})}function gu(e,t,r,n,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=e,u=l(e,n,r);let f={},d,b=null;const S="translate";for(let I=0;I<u.length&&(d=u[I],f=o[d]||{},(b=c(f,t))===null&&(b=f[t]),!(ae(b)||tt(b)));I++){const H=Ho(e,t,d,i,S);H!==t&&(b=H)}return[b,d,f]}function _u(e,t,r,n,s,i){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Ht(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||t,l}if(o==null){const l=()=>n;return l.locale=r,l.key=t,l}const c=o(n,qp(e,r,s,n,a,i));return c.locale=r,c.key=t,c.source=n,c}function Bp(e,t,r){return t(r)}function Xi(...e){const[t,r,n]=e,s={};if(!ae(t)&&!Qe(t)&&!Ht(t))throw Wr(Hr.INVALID_ARGUMENT);const i=Qe(t)?String(t):(Ht(t),t);return Qe(r)?s.plural=r:ae(r)?s.default=r:Ie(r)&&!ei(r)?s.named=r:Ke(r)&&(s.list=r),Qe(n)?s.plural=n:ae(n)?s.default=n:Ie(n)&&lt(s,n),[i,s]}function qp(e,t,r,n,s,i){return{warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>rp(t,r,o)}}function Hp(e,t,r,n){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=e,d={locale:t,modifiers:s,pluralRules:i,messages:b=>{let S=o(r,b);if(S==null&&u){const[,,I]=gu(u,b,t,a,c,l);S=o(I,b)}if(ae(S)){let I=!1;const T=_u(e,b,t,S,b,()=>{I=!0});return I?Ka:T}else return Ht(S)?S:Ka}};return e.processor&&(d.processor=e.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),Qe(n.plural)&&(d.pluralIndex=n.plural),d}function Ya(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[c,l,u,f]=Qi(...t),d=We(u.missingWarn)?u.missingWarn:e.missingWarn;We(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const b=!!u.part,S=ae(u.locale)?u.locale:e.locale,I=o(e,s,S);if(!ae(c)||c==="")return new Intl.DateTimeFormat(S,f).format(l);let H={},T,L=null;const q="datetime format";for(let ue=0;ue<I.length&&(T=I[ue],H=r[T]||{},L=H[c],!Ie(L));ue++)Ho(e,c,T,d,q);if(!Ie(L)||!ae(T))return n?ti:c;let V=`${T}__${c}`;ei(f)||(V=`${V}__${JSON.stringify(f)}`);let D=a.get(V);return D||(D=new Intl.DateTimeFormat(T,lt({},L,f)),a.set(V,D)),b?D.formatToParts(l):D.format(l)}const bu=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Qi(...e){const[t,r,n,s]=e,i={};let o={},a;if(ae(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Wr(Hr.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Wr(Hr.INVALID_ISO_DATE_ARGUMENT)}}else if(sp(t)){if(isNaN(t.getTime()))throw Wr(Hr.INVALID_DATE_ARGUMENT);a=t}else if(Qe(t))a=t;else throw Wr(Hr.INVALID_ARGUMENT);return ae(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{bu.includes(c)?o[c]=r[c]:i[c]=r[c]}),ae(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function Ja(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function Xa(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:a}=e,[c,l,u,f]=Zi(...t),d=We(u.missingWarn)?u.missingWarn:e.missingWarn;We(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const b=!!u.part,S=ae(u.locale)?u.locale:e.locale,I=o(e,s,S);if(!ae(c)||c==="")return new Intl.NumberFormat(S,f).format(l);let H={},T,L=null;const q="number format";for(let ue=0;ue<I.length&&(T=I[ue],H=r[T]||{},L=H[c],!Ie(L));ue++)Ho(e,c,T,d,q);if(!Ie(L)||!ae(T))return n?ti:c;let V=`${T}__${c}`;ei(f)||(V=`${V}__${JSON.stringify(f)}`);let D=a.get(V);return D||(D=new Intl.NumberFormat(T,lt({},L,f)),a.set(V,D)),b?D.formatToParts(l):D.format(l)}const yu=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Zi(...e){const[t,r,n,s]=e,i={};let o={};if(!Qe(t))throw Wr(Hr.INVALID_ARGUMENT);const a=t;return ae(r)?i.key=r:Ie(r)&&Object.keys(r).forEach(c=>{yu.includes(c)?o[c]=r[c]:i[c]=r[c]}),ae(n)?i.locale=n:Ie(n)&&(o=n),Ie(s)&&(o=s),[i.key||"",a,i,o]}function Qa(e,t,r){const n=e;for(const s in r){const i=`${t}__${s}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Uo().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * vue-i18n v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Wp="9.2.2";function zp(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Uo().__INTLIFY_PROD_DEVTOOLS__=!1)}Cp.__EXTEND_POINT__;let wu=au.__EXTEND_POINT__;const ft=()=>++wu,St={UNEXPECTED_RETURN_TYPE:wu,INVALID_ARGUMENT:ft(),MUST_BE_CALL_SETUP_TOP:ft(),NOT_INSLALLED:ft(),NOT_AVAILABLE_IN_LEGACY_MODE:ft(),REQUIRED_VALUE:ft(),INVALID_VALUE:ft(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ft(),NOT_INSLALLED_WITH_PROVIDE:ft(),UNEXPECTED_ERROR:ft(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ft(),BRIDGE_SUPPORT_VUE_2_ONLY:ft(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ft(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ft(),__EXTEND_POINT__:ft()};function Tt(e,...t){return cu(e,null,void 0)}const eo=yr("__transrateVNode"),to=yr("__datetimeParts"),ro=yr("__numberParts"),Vp=yr("__setPluralRules");yr("__intlifyMeta");const Kp=yr("__injectWithOption");function no(e){if(!Le(e))return e;for(const t in e)if(Do(e,t))if(!t.includes("."))Le(e[t])&&no(e[t]);else{const r=t.split("."),n=r.length-1;let s=e;for(let i=0;i<n;i++)r[i]in s||(s[r[i]]={}),s=s[r[i]];s[r[n]]=e[t],delete e[t],Le(s[r[n]])&&no(s[r[n]])}return e}function xu(e,t){const{messages:r,__i18n:n,messageResolver:s,flatJson:i}=t,o=Ie(r)?r:Ke(n)?{}:{[e]:{}};if(Ke(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},On(l,o[c])):On(l,o)}else ae(a)&&On(JSON.parse(a),o)}),s==null&&i)for(const a in o)Do(o,a)&&no(o[a]);return o}const fs=e=>!Le(e)||Ke(e);function On(e,t){if(fs(e)||fs(t))throw Tt(St.INVALID_VALUE);for(const r in e)Do(e,r)&&(fs(e[r])||fs(t[r])?t[r]=e[r]:On(e[r],t[r]))}function vu(e){return e.type}function Gp(e,t,r){let n=Le(t.messages)?t.messages:{};"__i18nGlobal"in r&&(n=xu(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(i=>{e.mergeLocaleMessage(i,n[i])});{if(Le(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(Le(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function Za(e){return Re(Jn,null,e,0)}const ec="__INTLIFY_META__";let tc=0;function rc(e){return(t,r,n,s)=>e(r,n,Xn()||void 0,s)}const Yp=()=>{const e=Xn();let t=null;return e&&(t=vu(e)[ec])?{[ec]:t}:null};function Eu(e={},t){const{__root:r}=e,n=r===void 0;let s=We(e.inheritLocale)?e.inheritLocale:!0;const i=Ve(r&&s?r.locale.value:ae(e.locale)?e.locale:qo),o=Ve(r&&s?r.fallbackLocale.value:ae(e.fallbackLocale)||Ke(e.fallbackLocale)||Ie(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),a=Ve(xu(i.value,e)),c=Ve(Ie(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),l=Ve(Ie(e.numberFormats)?e.numberFormats:{[i.value]:{}});let u=r?r.missingWarn:We(e.missingWarn)||Is(e.missingWarn)?e.missingWarn:!0,f=r?r.fallbackWarn:We(e.fallbackWarn)||Is(e.fallbackWarn)?e.fallbackWarn:!0,d=r?r.fallbackRoot:We(e.fallbackRoot)?e.fallbackRoot:!0,b=!!e.fallbackFormat,S=tt(e.missing)?e.missing:null,I=tt(e.missing)?rc(e.missing):null,H=tt(e.postTranslation)?e.postTranslation:null,T=r?r.warnHtmlMessage:We(e.warnHtmlMessage)?e.warnHtmlMessage:!0,L=!!e.escapeParameter;const q=r?r.modifiers:Ie(e.modifiers)?e.modifiers:{};let V=e.pluralRules||r&&r.pluralRules,D;D=(()=>{n&&za(null);const E={version:Wp,locale:i.value,fallbackLocale:o.value,messages:a.value,modifiers:q,pluralRules:V,missing:I===null?void 0:I,missingWarn:u,fallbackWarn:f,fallbackFormat:b,unresolving:!0,postTranslation:H===null?void 0:H,warnHtmlMessage:T,escapeParameter:L,messageResolver:e.messageResolver,__meta:{framework:"vue"}};E.datetimeFormats=c.value,E.numberFormats=l.value,E.__datetimeFormatters=Ie(D)?D.__datetimeFormatters:void 0,E.__numberFormatters=Ie(D)?D.__numberFormatters:void 0;const O=Up(E);return n&&za(O),O})(),_n(D,i.value,o.value);function re(){return[i.value,o.value,a.value,c.value,l.value]}const ne=qe({get:()=>i.value,set:E=>{i.value=E,D.locale=i.value}}),ge=qe({get:()=>o.value,set:E=>{o.value=E,D.fallbackLocale=o.value,_n(D,i.value,E)}}),we=qe(()=>a.value),Oe=qe(()=>c.value),Ne=qe(()=>l.value);function De(){return tt(H)?H:null}function k(E){H=E,D.postTranslation=E}function P(){return S}function fe(E){E!==null&&(I=rc(E)),S=E,D.missing=I}const se=(E,O,Y,ie,xe,Pe)=>{re();let Ee;if(__INTLIFY_PROD_DEVTOOLS__)try{Wa(Yp()),n||(D.fallbackContext=r?$p():void 0),Ee=E(D)}finally{Wa(null),n||(D.fallbackContext=void 0)}else Ee=E(D);if(Qe(Ee)&&Ee===ti){const[Ue,ut]=O();return r&&d?ie(r):xe(Ue)}else{if(Pe(Ee))return Ee;throw Tt(St.UNEXPECTED_RETURN_TYPE)}};function ce(...E){return se(O=>Reflect.apply(Ga,null,[O,...E]),()=>Xi(...E),"translate",O=>Reflect.apply(O.t,O,[...E]),O=>O,O=>ae(O))}function be(...E){const[O,Y,ie]=E;if(ie&&!Le(ie))throw Tt(St.INVALID_ARGUMENT);return ce(O,Y,lt({resolvedMessage:!0},ie||{}))}function he(...E){return se(O=>Reflect.apply(Ya,null,[O,...E]),()=>Qi(...E),"datetime format",O=>Reflect.apply(O.d,O,[...E]),()=>qa,O=>ae(O))}function de(...E){return se(O=>Reflect.apply(Xa,null,[O,...E]),()=>Zi(...E),"number format",O=>Reflect.apply(O.n,O,[...E]),()=>qa,O=>ae(O))}function _e(E){return E.map(O=>ae(O)||Qe(O)||We(O)?Za(String(O)):O)}const Ae={normalize:_e,interpolate:E=>E,type:"vnode"};function N(...E){return se(O=>{let Y;const ie=O;try{ie.processor=Ae,Y=Reflect.apply(Ga,null,[ie,...E])}finally{ie.processor=null}return Y},()=>Xi(...E),"translate",O=>O[eo](...E),O=>[Za(O)],O=>Ke(O))}function K(...E){return se(O=>Reflect.apply(Xa,null,[O,...E]),()=>Zi(...E),"number format",O=>O[ro](...E),()=>[],O=>ae(O)||Ke(O))}function $(...E){return se(O=>Reflect.apply(Ya,null,[O,...E]),()=>Qi(...E),"datetime format",O=>O[to](...E),()=>[],O=>ae(O)||Ke(O))}function te(E){V=E,D.pluralRules=V}function ee(E,O){const Y=ae(O)?O:i.value,ie=g(Y);return D.messageResolver(ie,E)!==null}function ye(E){let O=null;const Y=uu(D,o.value,i.value);for(let ie=0;ie<Y.length;ie++){const xe=a.value[Y[ie]]||{},Pe=D.messageResolver(xe,E);if(Pe!=null){O=Pe;break}}return O}function pe(E){const O=ye(E);return O??(r?r.tm(E)||{}:{})}function g(E){return a.value[E]||{}}function w(E,O){a.value[E]=O,D.messages=a.value}function C(E,O){a.value[E]=a.value[E]||{},On(O,a.value[E]),D.messages=a.value}function M(E){return c.value[E]||{}}function U(E,O){c.value[E]=O,D.datetimeFormats=c.value,Ja(D,E,O)}function z(E,O){c.value[E]=lt(c.value[E]||{},O),D.datetimeFormats=c.value,Ja(D,E,O)}function J(E){return l.value[E]||{}}function W(E,O){l.value[E]=O,D.numberFormats=l.value,Qa(D,E,O)}function G(E,O){l.value[E]=lt(l.value[E]||{},O),D.numberFormats=l.value,Qa(D,E,O)}tc++,r&&Ji&&(ct(r.locale,E=>{s&&(i.value=E,D.locale=E,_n(D,i.value,o.value))}),ct(r.fallbackLocale,E=>{s&&(o.value=E,D.fallbackLocale=E,_n(D,i.value,o.value))}));const R={id:tc,locale:ne,fallbackLocale:ge,get inheritLocale(){return s},set inheritLocale(E){s=E,E&&r&&(i.value=r.locale.value,o.value=r.fallbackLocale.value,_n(D,i.value,o.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:we,get modifiers(){return q},get pluralRules(){return V||{}},get isGlobal(){return n},get missingWarn(){return u},set missingWarn(E){u=E,D.missingWarn=u},get fallbackWarn(){return f},set fallbackWarn(E){f=E,D.fallbackWarn=f},get fallbackRoot(){return d},set fallbackRoot(E){d=E},get fallbackFormat(){return b},set fallbackFormat(E){b=E,D.fallbackFormat=b},get warnHtmlMessage(){return T},set warnHtmlMessage(E){T=E,D.warnHtmlMessage=E},get escapeParameter(){return L},set escapeParameter(E){L=E,D.escapeParameter=E},t:ce,getLocaleMessage:g,setLocaleMessage:w,mergeLocaleMessage:C,getPostTranslationHandler:De,setPostTranslationHandler:k,getMissingHandler:P,setMissingHandler:fe,[Vp]:te};return R.datetimeFormats=Oe,R.numberFormats=Ne,R.rt=be,R.te=ee,R.tm=pe,R.d=he,R.n=de,R.getDateTimeFormat=M,R.setDateTimeFormat=U,R.mergeDateTimeFormat=z,R.getNumberFormat=J,R.setNumberFormat=W,R.mergeNumberFormat=G,R[Kp]=e.__injectWithOption,R[eo]=N,R[to]=$,R[ro]=K,R}const Wo={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Jp({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,s)=>n=[...n,...Ke(s.children)?s.children:[s]],[]):t.reduce((r,n)=>{const s=e[n];return s&&(r[n]=s()),r},{})}function Su(e){return bt}const nc={name:"i18n-t",props:lt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Qe(e)||!isNaN(e)}},Wo),setup(e,t){const{slots:r,attrs:n}=t,s=e.i18n||ln({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter(f=>f!=="_"),o={};e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=ae(e.plural)?+e.plural:e.plural);const a=Jp(t,i),c=s[eo](e.keypath,a,o),l=lt({},n),u=ae(e.tag)||Le(e.tag)?e.tag:Su();return Zs(u,l,c)}}};function Xp(e){return Ke(e)&&!ae(e[0])}function Ou(e,t,r,n){const{slots:s,attrs:i}=t;return()=>{const o={part:!0};let a={};e.locale&&(o.locale=e.locale),ae(e.format)?o.key=e.format:Le(e.format)&&(ae(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((d,b)=>r.includes(b)?lt({},d,{[b]:e.format[b]}):d,{}));const c=n(e.value,o,a);let l=[o.key];Ke(c)?l=c.map((d,b)=>{const S=s[d.type],I=S?S({[d.type]:d.value,index:b,parts:c}):[d.value];return Xp(I)&&(I[0].key=`${d.type}-${b}`),I}):ae(c)&&(l=[c]);const u=lt({},i),f=ae(e.tag)||Le(e.tag)?e.tag:Su();return Zs(f,u,l)}}const sc={name:"i18n-n",props:lt({value:{type:Number,required:!0},format:{type:[String,Object]}},Wo),setup(e,t){const r=e.i18n||ln({useScope:"parent",__useComponent:!0});return Ou(e,t,yu,(...n)=>r[ro](...n))}},ic={name:"i18n-d",props:lt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Wo),setup(e,t){const r=e.i18n||ln({useScope:"parent",__useComponent:!0});return Ou(e,t,bu,(...n)=>r[to](...n))}};function Qp(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function Zp(e){const t=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Tt(St.UNEXPECTED_ERROR);const u=Qp(e,a.$),f=oc(l);return[Reflect.apply(u.t,u,[...ac(f)]),u]};return{created:(o,a)=>{const[c,l]=t(a);Ji&&e.global===l&&(o.__i18nWatcher=ct(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{Ji&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=oc(a);o.textContent=Reflect.apply(c.t,c,[...ac(l)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function oc(e){if(ae(e))return{path:e};if(Ie(e)){if(!("path"in e))throw Tt(St.REQUIRED_VALUE,"path");return e}else throw Tt(St.INVALID_VALUE)}function ac(e){const{path:t,locale:r,args:n,choice:s,plural:i}=e,o={},a=n||{};return ae(r)&&(o.locale=r),Qe(s)&&(o.plural=s),Qe(i)&&(o.plural=i),[t,a,o]}function em(e,t,...r){const n=Ie(r[0])?r[0]:{},s=!!n.useI18nComponentName;(We(n.globalInstall)?n.globalInstall:!0)&&(e.component(s?"i18n":nc.name,nc),e.component(sc.name,sc),e.component(ic.name,ic)),e.directive("t",Zp(t))}const tm=yr("global-vue-i18n");function rm(e={},t){const r=We(e.globalInjection)?e.globalInjection:!0,n=!0,s=new Map,[i,o]=nm(e),a=yr("");function c(f){return s.get(f)||null}function l(f,d){s.set(f,d)}function u(f){s.delete(f)}{const f={get mode(){return"composition"},get allowComposition(){return n},async install(d,...b){d.__VUE_I18N_SYMBOL__=a,d.provide(d.__VUE_I18N_SYMBOL__,f),r&&fm(d,f.global),em(d,f,...b);const S=d.unmount;d.unmount=()=>{f.dispose(),S()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return f}}function ln(e={}){const t=Xn();if(t==null)throw Tt(St.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Tt(St.NOT_INSLALLED);const r=sm(t),n=om(r),s=vu(t),i=im(e,s);if(i==="global")return Gp(n,e,s),n;if(i==="parent"){let c=am(r,t,e.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(t);if(a==null){const c=lt({},e);"__i18n"in s&&(c.__i18n=s.__i18n),n&&(c.__root=n),a=Eu(c),cm(o,t),o.__setInstance(t,a)}return a}function nm(e,t,r){const n=Hf();{const s=n.run(()=>Eu(e));if(s==null)throw Tt(St.UNEXPECTED_ERROR);return[n,s]}}function sm(e){{const t=It(e.isCE?tm:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Tt(e.isCE?St.NOT_INSLALLED_WITH_PROVIDE:St.UNEXPECTED_ERROR);return t}}function im(e,t){return ei(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function om(e){return e.mode==="composition"?e.global:e.global.__composer}function am(e,t,r=!1){let n=null;const s=t.root;let i=t.parent;for(;i!=null;){const o=e;if(e.mode==="composition"&&(n=o.__getInstance(i)),n!=null||s===i)break;i=i.parent}return n}function cm(e,t,r){Yn(()=>{},t),Lo(()=>{e.__deleteInstance(t)},t)}const lm=["locale","fallbackLocale","availableLocales"],um=["t","rt","d","n","tm"];function fm(e,t){const r=Object.create(null);lm.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw Tt(St.UNEXPECTED_ERROR);const i=Ze(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,i)}),e.config.globalProperties.$i18n=r,um.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw Tt(St.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)})}Lp(mp);Fp(uu);zp();if(__INTLIFY_PROD_DEVTOOLS__){const e=Uo();e.__INTLIFY__=!0,Sp(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const hm={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},dm=He("path",{fill:"currentColor",d:"M19.14 12.94c.04-.3.06-.61.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6s-1.62 3.6-3.6 3.6z"},null,-1),pm=[dm];function mm(e,t){return pt(),or("svg",hm,pm)}const gm={name:"ic-baseline-settings",render:mm},_m={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},bm=He("path",{fill:"currentColor",d:"m234 115.5l-45.2 37.6l14.3 58.1a16.5 16.5 0 0 1-15.8 20.8a16.1 16.1 0 0 1-8.7-2.6l-50.5-31.9h-.2L81 227.2a18 18 0 0 1-20.1-.6a18.5 18.5 0 0 1-7-19.6l13.5-53.1L22 115.5a16.8 16.8 0 0 1-5.2-18.1A16.5 16.5 0 0 1 31.4 86l59-3.8l22.4-55.8A16.4 16.4 0 0 1 128 16a16.4 16.4 0 0 1 15.2 10.4l22 55.5l59.4 4.1a16.4 16.4 0 0 1 14.6 11.4a16.8 16.8 0 0 1-5.2 18.1Z"},null,-1),ym=[bm];function wm(e,t){return pt(),or("svg",_m,ym)}const xm={name:"ph-star-fill",render:wm},vm={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Em=He("path",{fill:"currentColor",d:"m16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13Zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4Z"},null,-1),Sm=He("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),Om=He("path",{fill:"currentColor",d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2Z"},null,-1),Am=[Em,Sm,Om];function Pm(e,t){return pt(),or("svg",vm,Am)}const Cm={name:"carbon-map",render:Pm},Im={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},km=He("path",{fill:"currentColor",d:"m232.5 215.5l-40.7-40.7A94.9 94.9 0 0 0 212 116a96 96 0 1 0-96 96a94.9 94.9 0 0 0 58.8-20.2l40.7 40.7a12.1 12.1 0 0 0 17 0a12 12 0 0 0 0-17ZM44 116a72 72 0 1 1 72 72a72.1 72.1 0 0 1-72-72Z"},null,-1),Tm=[km];function Nm(e,t){return pt(),or("svg",Im,Tm)}const Mm={name:"ph-magnifying-glass-bold",render:Nm};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const qr=typeof window<"u";function Rm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Te=Object.assign;function Ai(e,t){const r={};for(const n in t){const s=t[n];r[n]=$t(s)?s.map(e):e(s)}return r}const An=()=>{},$t=Array.isArray,Lm=/\/$/,Fm=e=>e.replace(Lm,"");function Pi(e,t,r="/"){let n,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=Dm(n??t,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:o}}function jm(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function cc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $m(e,t,r){const n=t.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&tn(t.matched[n],r.matched[s])&&Au(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function tn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Au(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Um(e[r],t[r]))return!1;return!0}function Um(e,t){return $t(e)?lc(e,t):$t(t)?lc(t,e):e===t}function lc(e,t){return $t(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Dm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let s=r.length-1,i,o;for(i=0;i<n.length;i++)if(o=n[i],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var qn;(function(e){e.pop="pop",e.push="push"})(qn||(qn={}));var Pn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pn||(Pn={}));function Bm(e){if(!e)if(qr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Fm(e)}const qm=/^[^#]+#/;function Hm(e,t){return e.replace(qm,"#")+t}function Wm(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const ri=()=>({left:window.pageXOffset,top:window.pageYOffset});function zm(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=Wm(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function uc(e,t){return(history.state?history.state.position-t:-1)+e}const so=new Map;function Vm(e,t){so.set(e,t)}function Km(e){const t=so.get(e);return so.delete(e),t}let Gm=()=>location.protocol+"//"+location.host;function Pu(e,t){const{pathname:r,search:n,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),cc(c,"")}return cc(r,e)+n+s}function Ym(e,t,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const b=Pu(e,location),S=r.value,I=t.value;let H=0;if(d){if(r.value=b,t.value=d,o&&o===S){o=null;return}H=I?d.position-I.position:0}else n(b);s.forEach(T=>{T(r.value,S,{delta:H,type:qn.pop,direction:H?H>0?Pn.forward:Pn.back:Pn.unknown})})};function c(){o=r.value}function l(d){s.push(d);const b=()=>{const S=s.indexOf(d);S>-1&&s.splice(S,1)};return i.push(b),b}function u(){const{history:d}=window;d.state&&d.replaceState(Te({},d.state,{scroll:ri()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:f}}function fc(e,t,r,n=!1,s=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:s?ri():null}}function Jm(e){const{history:t,location:r}=window,n={value:Pu(e,r)},s={value:t.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=e.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?e:e.slice(f))+c:Gm()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(b){console.error(b),r[u?"replace":"assign"](d)}}function o(c,l){const u=Te({},t.state,fc(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),n.value=c}function a(c,l){const u=Te({},s.value,t.state,{forward:c,scroll:ri()});i(u.current,u,!0);const f=Te({},fc(n.value,c,null),{position:u.position+1},l);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function Xm(e){e=Bm(e);const t=Jm(e),r=Ym(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=Te({location:"",base:e,go:n,createHref:Hm.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Qm(e){return typeof e=="string"||e&&typeof e=="object"}function Cu(e){return typeof e=="string"||typeof e=="symbol"}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Iu=Symbol("");var hc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(hc||(hc={}));function rn(e,t){return Te(new Error,{type:e,[Iu]:!0},t)}function Qt(e,t){return e instanceof Error&&Iu in e&&(t==null||!!(e.type&t))}const dc="[^/]+?",Zm={sensitive:!1,strict:!1,start:!0,end:!0},eg=/[.+*?^${}()[\]/\\]/g;function tg(e,t){const r=Te({},Zm,t),n=[];let s=r.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];r.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let b=40+(r.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(eg,"\\$&"),b+=40;else if(d.type===1){const{value:S,repeatable:I,optional:H,regexp:T}=d;i.push({name:S,repeatable:I,optional:H});const L=T||dc;if(L!==dc){b+=10;try{new RegExp(`(${L})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${S}" (${L}): `+V.message)}}let q=I?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||(q=H&&l.length<2?`(?:/${q})`:"/"+q),H&&(q+="?"),s+=q,b+=20,H&&(b+=-8),I&&(b+=-20),L===".*"&&(b+=-50)}u.push(b)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const b=u[d]||"",S=i[d-1];f[S.name]=b&&S.repeatable?b.split("/"):b}return f}function c(l){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const b of d)if(b.type===0)u+=b.value;else if(b.type===1){const{value:S,repeatable:I,optional:H}=b,T=S in l?l[S]:"";if($t(T)&&!I)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const L=$t(T)?T.join("/"):T;if(!L)if(H)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${S}"`);u+=L}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function rg(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ng(e,t){let r=0;const n=e.score,s=t.score;for(;r<n.length&&r<s.length;){const i=rg(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(pc(n))return 1;if(pc(s))return-1}return s.length-n.length}function pc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sg={type:0,value:""},ig=/[a-zA-Z0-9_]/;function og(e){if(!e)return[[]];if(e==="/")return[[sg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${r})/"${l}": ${b}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:ig.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function ag(e,t,r){const n=tg(og(e.path),r),s=Te(n,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function cg(e,t){const r=[],n=new Map;t=_c({strict:!1,end:!0,sensitive:!1},t);function s(u){return n.get(u)}function i(u,f,d){const b=!d,S=lg(u);S.aliasOf=d&&d.record;const I=_c(t,u),H=[S];if("alias"in u){const q=typeof u.alias=="string"?[u.alias]:u.alias;for(const V of q)H.push(Te({},S,{components:d?d.record.components:S.components,path:V,aliasOf:d?d.record:S}))}let T,L;for(const q of H){const{path:V}=q;if(f&&V[0]!=="/"){const D=f.record.path,ue=D[D.length-1]==="/"?"":"/";q.path=f.record.path+(V&&ue+V)}if(T=ag(q,f,I),d?d.alias.push(T):(L=L||T,L!==T&&L.alias.push(T),b&&u.name&&!gc(T)&&o(u.name)),S.children){const D=S.children;for(let ue=0;ue<D.length;ue++)i(D[ue],T,d&&d.children[ue])}d=d||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&c(T)}return L?()=>{o(L)}:An}function o(u){if(Cu(u)){const f=n.get(u);f&&(n.delete(u),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(u);f>-1&&(r.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return r}function c(u){let f=0;for(;f<r.length&&ng(u,r[f])>=0&&(u.record.path!==r[f].record.path||!ku(u,r[f]));)f++;r.splice(f,0,u),u.record.name&&!gc(u)&&n.set(u.record.name,u)}function l(u,f){let d,b={},S,I;if("name"in u&&u.name){if(d=n.get(u.name),!d)throw rn(1,{location:u});I=d.record.name,b=Te(mc(f.params,d.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&mc(u.params,d.keys.map(L=>L.name))),S=d.stringify(b)}else if("path"in u)S=u.path,d=r.find(L=>L.re.test(S)),d&&(b=d.parse(S),I=d.record.name);else{if(d=f.name?n.get(f.name):r.find(L=>L.re.test(f.path)),!d)throw rn(1,{location:u,currentLocation:f});I=d.record.name,b=Te({},f.params,u.params),S=d.stringify(b)}const H=[];let T=d;for(;T;)H.unshift(T.record),T=T.parent;return{name:I,path:S,params:b,matched:H,meta:fg(H)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function mc(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function lg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ug(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ug(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function gc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fg(e){return e.reduce((t,r)=>Te(t,r.meta),{})}function _c(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function ku(e,t){return t.children.some(r=>r===e||ku(e,r))}const Tu=/#/g,hg=/&/g,dg=/\//g,pg=/=/g,mg=/\?/g,Nu=/\+/g,gg=/%5B/g,_g=/%5D/g,Mu=/%5E/g,bg=/%60/g,Ru=/%7B/g,yg=/%7C/g,Lu=/%7D/g,wg=/%20/g;function zo(e){return encodeURI(""+e).replace(yg,"|").replace(gg,"[").replace(_g,"]")}function xg(e){return zo(e).replace(Ru,"{").replace(Lu,"}").replace(Mu,"^")}function io(e){return zo(e).replace(Nu,"%2B").replace(wg,"+").replace(Tu,"%23").replace(hg,"%26").replace(bg,"`").replace(Ru,"{").replace(Lu,"}").replace(Mu,"^")}function vg(e){return io(e).replace(pg,"%3D")}function Eg(e){return zo(e).replace(Tu,"%23").replace(mg,"%3F")}function Sg(e){return e==null?"":Eg(e).replace(dg,"%2F")}function ks(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Og(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Nu," "),o=i.indexOf("="),a=ks(o<0?i:i.slice(0,o)),c=o<0?null:ks(i.slice(o+1));if(a in t){let l=t[a];$t(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function bc(e){let t="";for(let r in e){const n=e[r];if(r=vg(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}($t(n)?n.map(i=>i&&io(i)):[n&&io(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function Ag(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=$t(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return t}const Pg=Symbol(""),yc=Symbol(""),ni=Symbol(""),Vo=Symbol(""),oo=Symbol("");function bn(){let e=[];function t(n){return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function dr(e,t,r,n,s){const i=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(rn(4,{from:r,to:t})):f instanceof Error?a(f):Qm(f)?a(rn(2,{from:t,to:f})):(i&&n.enterCallbacks[s]===i&&typeof f=="function"&&i.push(f),o())},l=e.call(n&&n.instances[s],t,r,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(f=>a(f))})}function Ci(e,t,r,n){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Cg(a)){const l=(a.__vccOpts||a)[t];l&&s.push(dr(l,r,n,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Rm(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&dr(d,r,n,i,o)()}))}}return s}function Cg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function wc(e){const t=It(ni),r=It(Vo),n=qe(()=>t.resolve(Me(e.to))),s=qe(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(tn.bind(null,u));if(d>-1)return d;const b=xc(c[l-2]);return l>1&&xc(u)===b&&f[f.length-1].path!==b?f.findIndex(tn.bind(null,c[l-2])):d}),i=qe(()=>s.value>-1&&Ng(r.params,n.value.params)),o=qe(()=>s.value>-1&&s.value===r.matched.length-1&&Au(r.params,n.value.params));function a(c={}){return Tg(c)?t[Me(e.replace)?"replace":"push"](Me(e.to)).catch(An):Promise.resolve()}return{route:n,href:qe(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const Ig=cn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wc,setup(e,{slots:t}){const r=Kn(wc(e)),{options:n}=It(ni),s=qe(()=>({[vc(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[vc(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:Zs("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),kg=Ig;function Tg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ng(e,t){for(const r in t){const n=t[r],s=e[r];if(typeof n=="string"){if(n!==s)return!1}else if(!$t(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function xc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vc=(e,t,r)=>e??t??r,Mg=cn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=It(oo),s=qe(()=>e.route||n.value),i=It(yc,0),o=qe(()=>{let l=Me(i);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=qe(()=>s.value.matched[o.value]);ys(yc,qe(()=>o.value+1)),ys(Pg,a),ys(oo,s);const c=Ve();return ct(()=>[c.value,a.value,e.name],([l,u,f],[d,b,S])=>{u&&(u.instances[f]=l,b&&b!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=b.leaveGuards),u.updateGuards.size||(u.updateGuards=b.updateGuards))),l&&u&&(!b||!tn(u,b)||!d)&&(u.enterCallbacks[f]||[]).forEach(I=>I(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Ec(r.default,{Component:d,route:l});const b=f.props[u],S=b?b===!0?l.params:typeof b=="function"?b(l):b:null,H=Zs(d,Te({},S,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Ec(r.default,{Component:H,route:l})||H}}});function Ec(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Rg=Mg;function Lg(e){const t=cg(e.routes,e),r=e.parseQuery||Og,n=e.stringifyQuery||bc,s=e.history,i=bn(),o=bn(),a=bn(),c=kl(fr);let l=fr;qr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ai.bind(null,N=>""+N),f=Ai.bind(null,Sg),d=Ai.bind(null,ks);function b(N,K){let $,te;return Cu(N)?($=t.getRecordMatcher(N),te=K):te=N,t.addRoute(te,$)}function S(N){const K=t.getRecordMatcher(N);K&&t.removeRoute(K)}function I(){return t.getRoutes().map(N=>N.record)}function H(N){return!!t.getRecordMatcher(N)}function T(N,K){if(K=Te({},K||c.value),typeof N=="string"){const g=Pi(r,N,K.path),w=t.resolve({path:g.path},K),C=s.createHref(g.fullPath);return Te(g,w,{params:d(w.params),hash:ks(g.hash),redirectedFrom:void 0,href:C})}let $;if("path"in N)$=Te({},N,{path:Pi(r,N.path,K.path).path});else{const g=Te({},N.params);for(const w in g)g[w]==null&&delete g[w];$=Te({},N,{params:f(N.params)}),K.params=f(K.params)}const te=t.resolve($,K),ee=N.hash||"";te.params=u(d(te.params));const ye=jm(n,Te({},N,{hash:xg(ee),path:te.path})),pe=s.createHref(ye);return Te({fullPath:ye,hash:ee,query:n===bc?Ag(N.query):N.query||{}},te,{redirectedFrom:void 0,href:pe})}function L(N){return typeof N=="string"?Pi(r,N,c.value.path):Te({},N)}function q(N,K){if(l!==N)return rn(8,{from:K,to:N})}function V(N){return re(N)}function D(N){return V(Te(L(N),{replace:!0}))}function ue(N){const K=N.matched[N.matched.length-1];if(K&&K.redirect){const{redirect:$}=K;let te=typeof $=="function"?$(N):$;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=L(te):{path:te},te.params={}),Te({query:N.query,hash:N.hash,params:"path"in te?{}:N.params},te)}}function re(N,K){const $=l=T(N),te=c.value,ee=N.state,ye=N.force,pe=N.replace===!0,g=ue($);if(g)return re(Te(L(g),{state:typeof g=="object"?Te({},ee,g.state):ee,force:ye,replace:pe}),K||$);const w=$;w.redirectedFrom=K;let C;return!ye&&$m(n,te,$)&&(C=rn(16,{to:w,from:te}),he(te,te,!0,!1)),(C?Promise.resolve(C):ge(w,te)).catch(M=>Qt(M)?Qt(M,2)?M:be(M):se(M,w,te)).then(M=>{if(M){if(Qt(M,2))return re(Te({replace:pe},L(M.to),{state:typeof M.to=="object"?Te({},ee,M.to.state):ee,force:ye}),K||w)}else M=Oe(w,te,!0,pe,ee);return we(w,te,M),M})}function ne(N,K){const $=q(N,K);return $?Promise.reject($):Promise.resolve()}function ge(N,K){let $;const[te,ee,ye]=Fg(N,K);$=Ci(te.reverse(),"beforeRouteLeave",N,K);for(const g of te)g.leaveGuards.forEach(w=>{$.push(dr(w,N,K))});const pe=ne.bind(null,N,K);return $.push(pe),Dr($).then(()=>{$=[];for(const g of i.list())$.push(dr(g,N,K));return $.push(pe),Dr($)}).then(()=>{$=Ci(ee,"beforeRouteUpdate",N,K);for(const g of ee)g.updateGuards.forEach(w=>{$.push(dr(w,N,K))});return $.push(pe),Dr($)}).then(()=>{$=[];for(const g of N.matched)if(g.beforeEnter&&!K.matched.includes(g))if($t(g.beforeEnter))for(const w of g.beforeEnter)$.push(dr(w,N,K));else $.push(dr(g.beforeEnter,N,K));return $.push(pe),Dr($)}).then(()=>(N.matched.forEach(g=>g.enterCallbacks={}),$=Ci(ye,"beforeRouteEnter",N,K),$.push(pe),Dr($))).then(()=>{$=[];for(const g of o.list())$.push(dr(g,N,K));return $.push(pe),Dr($)}).catch(g=>Qt(g,8)?g:Promise.reject(g))}function we(N,K,$){for(const te of a.list())te(N,K,$)}function Oe(N,K,$,te,ee){const ye=q(N,K);if(ye)return ye;const pe=K===fr,g=qr?history.state:{};$&&(te||pe?s.replace(N.fullPath,Te({scroll:pe&&g&&g.scroll},ee)):s.push(N.fullPath,ee)),c.value=N,he(N,K,$,pe),be()}let Ne;function De(){Ne||(Ne=s.listen((N,K,$)=>{if(!Ae.listening)return;const te=T(N),ee=ue(te);if(ee){re(Te(ee,{replace:!0}),te).catch(An);return}l=te;const ye=c.value;qr&&Vm(uc(ye.fullPath,$.delta),ri()),ge(te,ye).catch(pe=>Qt(pe,12)?pe:Qt(pe,2)?(re(pe.to,te).then(g=>{Qt(g,20)&&!$.delta&&$.type===qn.pop&&s.go(-1,!1)}).catch(An),Promise.reject()):($.delta&&s.go(-$.delta,!1),se(pe,te,ye))).then(pe=>{pe=pe||Oe(te,ye,!1),pe&&($.delta&&!Qt(pe,8)?s.go(-$.delta,!1):$.type===qn.pop&&Qt(pe,20)&&s.go(-1,!1)),we(te,ye,pe)}).catch(An)}))}let k=bn(),P=bn(),fe;function se(N,K,$){be(N);const te=P.list();return te.length?te.forEach(ee=>ee(N,K,$)):console.error(N),Promise.reject(N)}function ce(){return fe&&c.value!==fr?Promise.resolve():new Promise((N,K)=>{k.add([N,K])})}function be(N){return fe||(fe=!N,De(),k.list().forEach(([K,$])=>N?$(N):K()),k.reset()),N}function he(N,K,$,te){const{scrollBehavior:ee}=e;if(!qr||!ee)return Promise.resolve();const ye=!$&&Km(uc(N.fullPath,0))||(te||!$)&&history.state&&history.state.scroll||null;return Gn().then(()=>ee(N,K,ye)).then(pe=>pe&&zm(pe)).catch(pe=>se(pe,N,K))}const de=N=>s.go(N);let _e;const $e=new Set,Ae={currentRoute:c,listening:!0,addRoute:b,removeRoute:S,hasRoute:H,getRoutes:I,resolve:T,options:e,push:V,replace:D,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:ce,install(N){const K=this;N.component("RouterLink",kg),N.component("RouterView",Rg),N.config.globalProperties.$router=K,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(c)}),qr&&!_e&&c.value===fr&&(_e=!0,V(s.location).catch(ee=>{}));const $={};for(const ee in fr)$[ee]=qe(()=>c.value[ee]);N.provide(ni,K),N.provide(Vo,Kn($)),N.provide(oo,c);const te=N.unmount;$e.add(N),N.unmount=function(){$e.delete(N),$e.size<1&&(l=fr,Ne&&Ne(),Ne=null,c.value=fr,_e=!1,fe=!1),te()}}};return Ae}function Dr(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function Fg(e,t){const r=[],n=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>tn(l,a))?n.push(a):r.push(a));const c=e.matched[o];c&&(t.matched.find(l=>tn(l,c))||s.push(c))}return[r,n,s]}function oy(){return It(ni)}function jg(){return It(Vo)}var Sc;const Qn=typeof window<"u",$g=e=>typeof e=="function",Ug=e=>typeof e=="string",Dg=()=>{};Qn&&((Sc=window==null?void 0:window.navigator)!=null&&Sc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Fu(e){return typeof e=="function"?e():Me(e)}function Bg(e,t){function r(...n){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(i)})}return r}const ju=e=>e();function qg(e=ju){const t=Ve(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...i)=>{t.value&&e(...i)}}}function Hg(e){return e}function Ko(e){return zf()?(Vf(e),!0):!1}function Wg(e){return typeof e=="function"?qe(e):Ve(e)}function $u(e,t=!0){Xn()?Yn(e):t?e():Gn(e)}var Oc=Object.getOwnPropertySymbols,zg=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable,Kg=(e,t)=>{var r={};for(var n in e)zg.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Oc)for(var n of Oc(e))t.indexOf(n)<0&&Vg.call(e,n)&&(r[n]=e[n]);return r};function Gg(e,t,r={}){const n=r,{eventFilter:s=ju}=n,i=Kg(n,["eventFilter"]);return ct(e,Bg(s,t),i)}var Yg=Object.defineProperty,Jg=Object.defineProperties,Xg=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Du=Object.prototype.propertyIsEnumerable,Ac=(e,t,r)=>t in e?Yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qg=(e,t)=>{for(var r in t||(t={}))Uu.call(t,r)&&Ac(e,r,t[r]);if(Ts)for(var r of Ts(t))Du.call(t,r)&&Ac(e,r,t[r]);return e},Zg=(e,t)=>Jg(e,Xg(t)),e0=(e,t)=>{var r={};for(var n in e)Uu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ts)for(var n of Ts(e))t.indexOf(n)<0&&Du.call(e,n)&&(r[n]=e[n]);return r};function t0(e,t,r={}){const n=r,{eventFilter:s}=n,i=e0(n,["eventFilter"]),{eventFilter:o,pause:a,resume:c,isActive:l}=qg(s);return{stop:Gg(e,t,Zg(Qg({},i),{eventFilter:o})),pause:a,resume:c,isActive:l}}function Go(e){var t;const r=Fu(e);return(t=r==null?void 0:r.$el)!=null?t:r}const nn=Qn?window:void 0;Qn&&window.document;Qn&&window.navigator;Qn&&window.location;function r0(...e){let t,r,n,s;if(Ug(e[0])||Array.isArray(e[0])?([r,n,s]=e,t=nn):[t,r,n,s]=e,!t)return Dg;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,f,d)=>(u.addEventListener(f,d,s),()=>u.removeEventListener(f,d,s)),c=ct(()=>Go(t),u=>{o(),u&&i.push(...r.flatMap(f=>n.map(d=>a(u,f,d))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Ko(l),l}function Bu(e,t=!1){const r=Ve(),n=()=>r.value=Boolean(e());return n(),$u(n,t),r}function n0(e,t={}){const{window:r=nn}=t,n=Bu(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let s;const i=Ve(!1),o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},a=()=>{n.value&&(o(),s=r.matchMedia(Wg(e).value),i.value=s.matches,"addEventListener"in s?s.addEventListener("change",a):s.addListener(a))};return Fh(a),Ko(()=>o()),i}const ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},co="__vueuse_ssr_handlers__";ao[co]=ao[co]||{};const s0=ao[co];function qu(e,t){return s0[e]||t}function i0(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var o0=Object.defineProperty,Pc=Object.getOwnPropertySymbols,a0=Object.prototype.hasOwnProperty,c0=Object.prototype.propertyIsEnumerable,Cc=(e,t,r)=>t in e?o0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ic=(e,t)=>{for(var r in t||(t={}))a0.call(t,r)&&Cc(e,r,t[r]);if(Pc)for(var r of Pc(t))c0.call(t,r)&&Cc(e,r,t[r]);return e};const l0={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Hu(e,t,r,n={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:f=nn,eventFilter:d,onError:b=re=>{console.error(re)}}=n,S=(u?kl:Ve)(t);if(!r)try{r=qu("getDefaultStorage",()=>{var re;return(re=nn)==null?void 0:re.localStorage})()}catch(re){b(re)}if(!r)return S;const I=Fu(t),H=i0(I),T=(s=n.serializer)!=null?s:l0[H],{pause:L,resume:q}=t0(S,()=>V(S.value),{flush:i,deep:o,eventFilter:d});return f&&a&&r0(f,"storage",ue),ue(),S;function V(re){try{if(re==null)r.removeItem(e);else{const ne=T.write(re),ge=r.getItem(e);ge!==ne&&(r.setItem(e,ne),f&&(f==null||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:ge,newValue:ne,storageArea:r}))))}}catch(ne){b(ne)}}function D(re){const ne=re?re.newValue:r.getItem(e);if(ne==null)return c&&I!==null&&r.setItem(e,T.write(I)),I;if(!re&&l){const ge=T.read(ne);return $g(l)?l(ge,I):H==="object"&&!Array.isArray(ge)?Ic(Ic({},I),ge):ge}else return typeof ne!="string"?ne:T.read(ne)}function ue(re){if(!(re&&re.storageArea!==r)){if(re&&re.key==null){S.value=I;return}if(!(re&&re.key!==e)){L();try{S.value=D(re)}catch(ne){b(ne)}finally{re?Gn(q):q()}}}}}function u0(e){return n0("(prefers-color-scheme: dark)",e)}var f0=Object.defineProperty,kc=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable,Tc=(e,t,r)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p0=(e,t)=>{for(var r in t||(t={}))h0.call(t,r)&&Tc(e,r,t[r]);if(kc)for(var r of kc(t))d0.call(t,r)&&Tc(e,r,t[r]);return e};function m0(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:s=nn,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l}=e,u=p0({auto:"",light:"light",dark:"dark"},e.modes||{}),f=u0({window:s}),d=qe(()=>f.value?"dark":"light"),b=c||(o==null?Ve(n):Hu(o,n,i,{window:s,listenToStorageChanges:a})),S=qe({get(){return b.value==="auto"&&!l?d.value:b.value},set(L){b.value=L}}),I=qu("updateHTMLAttrs",(L,q,V)=>{const D=s==null?void 0:s.document.querySelector(L);if(D)if(q==="class"){const ue=V.split(/\s/g);Object.values(u).flatMap(re=>(re||"").split(/\s/g)).filter(Boolean).forEach(re=>{ue.includes(re)?D.classList.add(re):D.classList.remove(re)})}else D.setAttribute(q,V)});function H(L){var q;const V=L==="auto"?d.value:L;I(t,r,(q=u[V])!=null?q:V)}function T(L){e.onChanged?e.onChanged(L,H):H(L)}return ct(S,T,{flush:"post",immediate:!0}),l&&ct(d,()=>T(S.value),{flush:"post"}),$u(()=>T(S.value)),S}var Nc=Object.getOwnPropertySymbols,g0=Object.prototype.hasOwnProperty,_0=Object.prototype.propertyIsEnumerable,b0=(e,t)=>{var r={};for(var n in e)g0.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Nc)for(var n of Nc(e))t.indexOf(n)<0&&_0.call(e,n)&&(r[n]=e[n]);return r};function y0(e,t,r={}){const n=r,{window:s=nn}=n,i=b0(n,["window"]);let o;const a=Bu(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},l=ct(()=>Go(e),f=>{c(),a.value&&s&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return Ko(u),{isSupported:a,stop:u}}function ay(e,t={width:0,height:0},r={}){const{box:n="content-box"}=r,s=Ve(t.width),i=Ve(t.height);return y0(e,([o])=>{const a=n==="border-box"?o.borderBoxSize:n==="content-box"?o.contentBoxSize:o.devicePixelContentBoxSize;a?(s.value=a.reduce((c,{inlineSize:l})=>c+l,0),i.value=a.reduce((c,{blockSize:l})=>c+l,0)):(s.value=o.contentRect.width,i.value=o.contentRect.height)},r),ct(()=>Go(e),o=>{s.value=o?t.width:0,i.value=o?t.height:0}),{width:s,height:i}}var Mc;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Mc||(Mc={}));var w0=Object.defineProperty,Rc=Object.getOwnPropertySymbols,x0=Object.prototype.hasOwnProperty,v0=Object.prototype.propertyIsEnumerable,Lc=(e,t,r)=>t in e?w0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E0=(e,t)=>{for(var r in t||(t={}))x0.call(t,r)&&Lc(e,r,t[r]);if(Rc)for(var r of Rc(t))v0.call(t,r)&&Lc(e,r,t[r]);return e};const S0={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};E0({linear:Hg},S0);const Wu="kiel_live",O0={liteMode:Hu(`${Wu}.lite`,!1)};function zu(){return O0}const A0={class:"flex w-full justify-center border-t-1 border-gray-200 dark:border-gray-800 dark:bg-dark-400 dark:text-gray-300 shadow-top"},P0={class:"flex w-full justify-around max-w-96"},C0={class:"mt-auto text-xs"},I0={class:"mt-auto text-xs"},k0={class:"mt-auto text-xs"},T0={class:"mt-auto text-xs"},N0=cn({__name:"AppBarBottom",setup(e){const{t}=ln(),{liteMode:r}=zu(),n=jg(),s=qe(()=>n.name==="favorites"?"favorites":n.meta.settings?"settings":"map");return(i,o)=>{const a=Mm,c=Js("router-link"),l=Cm,u=xm,f=gm;return pt(),or("nav",A0,[He("div",P0,[Me(r)?(pt(),Un(c,{key:0,to:{name:"search"},class:Vt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="map"}]),"aria-label":Me(t)("search")},{default:rr(()=>[Re(a,{class:"w-6 h-6 mb-1"}),He("span",C0,er(Me(t)("search")),1)]),_:1},8,["class","aria-label"])):(pt(),Un(c,{key:1,to:{name:"home"},class:Vt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="map"}]),"aria-label":Me(t)("map")},{default:rr(()=>[Re(l,{class:"w-6 h-6 mb-1"}),He("span",I0,er(Me(t)("map")),1)]),_:1},8,["class","aria-label"])),Re(c,{to:{name:"favorites"},class:Vt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="favorites"}]),"aria-label":Me(t)("favorites")},{default:rr(()=>[Re(u,{class:"w-6 h-6 mb-1"}),He("span",k0,er(Me(t)("favorites")),1)]),_:1},8,["class","aria-label"]),Re(c,{to:{name:"settings-about"},class:Vt(["flex flex-col items-center w-1/3 p-2",{"text-blue-700 dark:text-blue-400":Me(s)==="settings"}]),"aria-label":Me(t)("settings")},{default:rr(()=>[Re(f,{class:"w-6 h-6 mb-1"}),He("span",T0,er(Me(t)("settings")),1)]),_:1},8,["class","aria-label"])])])}}});var Yo={};(function e(t,r,n,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function o(){}function a(k){var P=r.exports.Promise,fe=P!==void 0?P:t.Promise;return typeof fe=="function"?new fe(k):(k(o,o),null)}var c=function(){var k=Math.floor(16.666666666666668),P,fe,se={},ce=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(P=function(be){var he=Math.random();return se[he]=requestAnimationFrame(function de(_e){ce===_e||ce+k-1<_e?(ce=_e,delete se[he],be()):se[he]=requestAnimationFrame(de)}),he},fe=function(be){se[be]&&cancelAnimationFrame(se[be])}):(P=function(be){return setTimeout(be,k)},fe=function(be){return clearTimeout(be)}),{frame:P,cancel:fe}}(),l=function(){var k,P,fe={};function se(ce){function be(he,de){ce.postMessage({options:he||{},callback:de})}ce.init=function(de){var _e=de.transferControlToOffscreen();ce.postMessage({canvas:_e},[_e])},ce.fire=function(de,_e,$e){if(P)return be(de,null),P;var Ae=Math.random().toString(36).slice(2);return P=a(function(N){function K($){$.data.callback===Ae&&(delete fe[Ae],ce.removeEventListener("message",K),P=null,$e(),N())}ce.addEventListener("message",K),be(de,Ae),fe[Ae]=K.bind(null,{data:{callback:Ae}})}),P},ce.reset=function(){ce.postMessage({reset:!0});for(var de in fe)fe[de](),delete fe[de]}}return function(){if(k)return k;if(!n&&i){var ce=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([ce])))}catch(be){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",be),null}se(k)}return k}}(),u={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(k,P){return P?P(k):k}function d(k){return k!=null}function b(k,P,fe){return f(k&&d(k[P])?k[P]:u[P],fe)}function S(k){return k<0?0:Math.floor(k)}function I(k,P){return Math.floor(Math.random()*(P-k))+k}function H(k){return parseInt(k,16)}function T(k){return k.map(L)}function L(k){var P=String(k).replace(/[^0-9a-f]/gi,"");return P.length<6&&(P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]),{r:H(P.substring(0,2)),g:H(P.substring(2,4)),b:H(P.substring(4,6))}}function q(k){var P=b(k,"origin",Object);return P.x=b(P,"x",Number),P.y=b(P,"y",Number),P}function V(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function D(k){var P=k.getBoundingClientRect();k.width=P.width,k.height=P.height}function ue(k){var P=document.createElement("canvas");return P.style.position="fixed",P.style.top="0px",P.style.left="0px",P.style.pointerEvents="none",P.style.zIndex=k,P}function re(k,P,fe,se,ce,be,he,de,_e){k.save(),k.translate(P,fe),k.rotate(be),k.scale(se,ce),k.arc(0,0,1,he,de,_e),k.restore()}function ne(k){var P=k.angle*(Math.PI/180),fe=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-P+(.5*fe-Math.random()*fe),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar}}function ge(k,P){P.x+=Math.cos(P.angle2D)*P.velocity+P.drift,P.y+=Math.sin(P.angle2D)*P.velocity+P.gravity,P.wobble+=P.wobbleSpeed,P.velocity*=P.decay,P.tiltAngle+=.1,P.tiltSin=Math.sin(P.tiltAngle),P.tiltCos=Math.cos(P.tiltAngle),P.random=Math.random()+2,P.wobbleX=P.x+10*P.scalar*Math.cos(P.wobble),P.wobbleY=P.y+10*P.scalar*Math.sin(P.wobble);var fe=P.tick++/P.totalTicks,se=P.x+P.random*P.tiltCos,ce=P.y+P.random*P.tiltSin,be=P.wobbleX+P.random*P.tiltCos,he=P.wobbleY+P.random*P.tiltSin;if(k.fillStyle="rgba("+P.color.r+", "+P.color.g+", "+P.color.b+", "+(1-fe)+")",k.beginPath(),P.shape==="circle")k.ellipse?k.ellipse(P.x,P.y,Math.abs(be-se)*P.ovalScalar,Math.abs(he-ce)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI):re(k,P.x,P.y,Math.abs(be-se)*P.ovalScalar,Math.abs(he-ce)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI);else if(P.shape==="star")for(var de=Math.PI/2*3,_e=4*P.scalar,$e=8*P.scalar,Ae=P.x,N=P.y,K=5,$=Math.PI/K;K--;)Ae=P.x+Math.cos(de)*$e,N=P.y+Math.sin(de)*$e,k.lineTo(Ae,N),de+=$,Ae=P.x+Math.cos(de)*_e,N=P.y+Math.sin(de)*_e,k.lineTo(Ae,N),de+=$;else k.moveTo(Math.floor(P.x),Math.floor(P.y)),k.lineTo(Math.floor(P.wobbleX),Math.floor(ce)),k.lineTo(Math.floor(be),Math.floor(he)),k.lineTo(Math.floor(se),Math.floor(P.wobbleY));return k.closePath(),k.fill(),P.tick<P.totalTicks}function we(k,P,fe,se,ce){var be=P.slice(),he=k.getContext("2d"),de,_e,$e=a(function(Ae){function N(){de=_e=null,he.clearRect(0,0,se.width,se.height),ce(),Ae()}function K(){n&&!(se.width===s.width&&se.height===s.height)&&(se.width=k.width=s.width,se.height=k.height=s.height),!se.width&&!se.height&&(fe(k),se.width=k.width,se.height=k.height),he.clearRect(0,0,se.width,se.height),be=be.filter(function($){return ge(he,$)}),be.length?de=c.frame(K):N()}de=c.frame(K),_e=N});return{addFettis:function(Ae){return be=be.concat(Ae),$e},canvas:k,promise:$e,reset:function(){de&&c.cancel(de),_e&&_e()}}}function Oe(k,P){var fe=!k,se=!!b(P||{},"resize"),ce=b(P,"disableForReducedMotion",Boolean),be=i&&!!b(P||{},"useWorker"),he=be?l():null,de=fe?V:D,_e=k&&he?!!k.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function N($,te,ee){for(var ye=b($,"particleCount",S),pe=b($,"angle",Number),g=b($,"spread",Number),w=b($,"startVelocity",Number),C=b($,"decay",Number),M=b($,"gravity",Number),U=b($,"drift",Number),z=b($,"colors",T),J=b($,"ticks",Number),W=b($,"shapes"),G=b($,"scalar"),R=q($),E=ye,O=[],Y=k.width*R.x,ie=k.height*R.y;E--;)O.push(ne({x:Y,y:ie,angle:pe,spread:g,startVelocity:w,color:z[E%z.length],shape:W[I(0,W.length)],ticks:J,decay:C,gravity:M,drift:U,scalar:G}));return Ae?Ae.addFettis(O):(Ae=we(k,O,de,te,ee),Ae.promise)}function K($){var te=ce||b($,"disableForReducedMotion",Boolean),ee=b($,"zIndex",Number);if(te&&$e)return a(function(w){w()});fe&&Ae?k=Ae.canvas:fe&&!k&&(k=ue(ee),document.body.appendChild(k)),se&&!_e&&de(k);var ye={width:k.width,height:k.height};he&&!_e&&he.init(k),_e=!0,he&&(k.__confetti_initialized=!0);function pe(){if(he){var w={getBoundingClientRect:function(){if(!fe)return k.getBoundingClientRect()}};de(w),he.postMessage({resize:{width:w.width,height:w.height}});return}ye.width=ye.height=null}function g(){Ae=null,se&&t.removeEventListener("resize",pe),fe&&k&&(document.body.removeChild(k),k=null,_e=!1)}return se&&t.addEventListener("resize",pe,!1),he?he.fire($,ye,g):N($,ye,g)}return K.reset=function(){he&&he.reset(),Ae&&Ae.reset()},K}var Ne;function De(){return Ne||(Ne=Oe(null,{useWorker:!0,resize:!0})),Ne}r.exports=function(){return De().apply(this,arguments)},r.exports.reset=function(){De().reset()},r.exports.create=Oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Yo,!1);const M0=Yo.exports;Yo.exports.create;const R0=["href"],L0=cn({__name:"Button",props:{to:null,href:null},setup(e){const t="border-1 hover:border-gray-300 dark:border-gray-400 dark:hover:border-gray-500 rounded p-2 flex items-center justify-center cursor-pointer";return(r,n)=>{const s=Js("router-link");return e.to?(pt(),Un(s,{key:0,class:Vt(t),to:e.to},{default:rr(()=>[wi(r.$slots,"default")]),_:3},8,["to"])):e.href?(pt(),or("a",{key:1,href:e.href,target:"_blank",rel:"noopener noreferrer",class:Vt(t)},[wi(r.$slots,"default")],8,R0)):(pt(),or("button",{key:2,type:"button",class:Vt(t)},[wi(r.$slots,"default")]))}}}),Fc=atob("YW5kcm9pZEBqdTYwLmRl"),cy="31.01.2023 19:03:51",ly="https://boomerang.ju60.de/share/z8KAHmGY/Kiel%20Live",Vu="https://tiles.ju60.de",uy=`${Vu}/styles/gray-matter/style.json`,fy=`${Vu}/styles/bright-matter/style.json`,F0="wss://api.kiel-live.ju60.de/",j0={class:"m-2 flex flex-col rounded-md p-4 bg-white border-1 border-gray-200 shadow-xl z-20 md:w-104 dark:bg-dark-400 dark:text-gray-300 dark:border-dark-800"},$0={class:"flex flex-col text-center gap-4"},U0={class:"text-xl mb-2"},D0=["href"],B0={href:"https://www.instagram.com/kiel.live/",target:"_blank",class:"underline"},q0={class:"flex flex-row w-full justify-center mt-8"},H0=cn({__name:"UpdateNotice",setup(e){const t="kiel-live-version-v1",r="2.0.0",n=Ve(localStorage.getItem(t)),s=qe(()=>n.value!==null&&n.value!==r),{t:i}=ln();Yn(async()=>{const a=localStorage.getItem("version");a!==null&&(n.value=a,localStorage.removeItem("version"))}),ct(s,()=>{if(!s.value)return;const a=3*1e3,c=Date.now()+a,l=setInterval(()=>{if(c-Date.now()<=0){clearInterval(l);return}M0({particleCount:100,spread:70,origin:{y:1.1},startVelocity:90,zIndex:2e3})},250)},{immediate:!0});function o(){localStorage.setItem(t,r),n.value=r}return(a,c)=>{const l=Js("i18n-t");return Me(s)?(pt(),or("div",{key:0,class:"flex fixed top-0 left-0 right-0 bottom-0 bg-gray-900 bg-opacity-80 z-1000 justify-center items-center",onClick:o},[He("div",j0,[He("div",$0,[He("span",U0,er(Me(i)("update_title")),1),He("span",null,er(Me(i)("update_msg")),1),Re(l,{keypath:"feedback",tag:"span"},{email:rr(()=>[He("a",{href:`mailto:${Me(Fc)}`,class:"underline"},er(Me(Fc)),9,D0)]),instagram:rr(()=>[He("a",B0,er(Me(i)("instagram")),1)]),_:1})]),He("div",q0,[Re(L0,{onClick:o},{default:rr(()=>[ru(er(Me(i)("nice")),1)]),_:1})])])])):yd("",!0)}}}),W0=e=>m0({storageKey:`${Wu}.theme`,...e}),z0={class:"app flex flex-col m-auto w-full h-full bg-white text-black dark:bg-dark-400 dark:text-gray-300"},V0={class:"flex flex-grow min-h-0"},K0=cn({__name:"App",setup(e){W0();const{locale:t}=ln();return ct(t,()=>{document.documentElement.setAttribute("lang",t.value)},{immediate:!0}),(r,n)=>{const s=Js("router-view");return pt(),or("div",z0,[He("main",V0,[Re(s)]),Re(N0,{class:"mt-auto flex-shrink-0"}),Re(H0)])}}});const G0=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},Y0=G0(K0,[["__scopeId","data-v-376ff901"]]),J0="modulepreload",X0=function(e){return"/"+e},jc={},Bt=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=X0(i),i in jc)return;jc[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":J0,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},Q0=(e,t)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};function Z0(){return navigator.language.split("-")[0]}const Ku=Z0(),Gu=rm({legacy:!1,locale:Ku}),e_=async e=>{const{default:t}=await Q0(Object.assign({"./locales/de.json":()=>Bt(()=>import("./de-0cfbb1ea.js"),[]),"./locales/en.json":()=>Bt(()=>import("./en-50f729de.js"),[])}),`./locales/${e}.json`);return Gu.global.setLocaleMessage(e,t),Gn()};e_(Ku);let Ii=!0;const t_=[{path:"/",name:"home",component:()=>Bt(()=>import("./Home-a28403b8.js"),["assets/Home-a28403b8.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/map/:markerType/:markerId",name:"map-marker",component:()=>Bt(()=>import("./Home-a28403b8.js"),["assets/Home-a28403b8.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"]),props:!0},{path:"/search",name:"search",component:()=>Bt(()=>import("./Home-a28403b8.js"),["assets/Home-a28403b8.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/favorites",name:"favorites",component:()=>Bt(()=>import("./Home-a28403b8.js"),["assets/Home-a28403b8.js","assets/logo-553d861a.js","assets/Home-889b8f42.css"])},{path:"/settings/about",name:"settings-about",component:()=>Bt(()=>import("./About-84ef8763.js"),["assets/About-84ef8763.js","assets/logo-553d861a.js","assets/SettingsContainer-91a95157.js"]),meta:{settings:!0}},{path:"/settings/changelog",name:"settings-changelog",component:()=>Bt(()=>import("./Changelog-8900741c.js"),["assets/Changelog-8900741c.js","assets/SettingsContainer-91a95157.js"]),meta:{settings:!0}},{path:"/settings/settings",name:"settings-settings",component:()=>Bt(()=>import("./Settings-b588b056.js"),["assets/Settings-b588b056.js","assets/SettingsContainer-91a95157.js"]),meta:{settings:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>Bt(()=>import("./NotFound-5db0bee5.js"),[])}],Yu=Lg({history:Xm(),routes:t_}),{liteMode:r_}=zu();Yu.beforeEach((e,t,r)=>{if(e.name==="home"&&(Ii||r_.value)){Ii=!1,r({name:"favorites"});return}Ii=!1,r()});var Z;(function(e){e.ApiError="BAD API",e.BadAuthentication="BAD_AUTHENTICATION",e.BadCreds="BAD_CREDS",e.BadHeader="BAD_HEADER",e.BadJson="BAD_JSON",e.BadPayload="BAD_PAYLOAD",e.BadSubject="BAD_SUBJECT",e.Cancelled="CANCELLED",e.ConnectionClosed="CONNECTION_CLOSED",e.ConnectionDraining="CONNECTION_DRAINING",e.ConnectionRefused="CONNECTION_REFUSED",e.ConnectionTimeout="CONNECTION_TIMEOUT",e.Disconnect="DISCONNECT",e.InvalidOption="INVALID_OPTION",e.InvalidPayload="INVALID_PAYLOAD",e.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",e.NoResponders="503",e.NotFunction="NOT_FUNC",e.RequestError="REQUEST_ERROR",e.ServerOptionNotAvailable="SERVER_OPT_NA",e.SubClosed="SUB_CLOSED",e.SubDraining="SUB_DRAINING",e.Timeout="TIMEOUT",e.Tls="TLS",e.Unknown="UNKNOWN_ERROR",e.WssRequired="WSS_REQUIRED",e.JetStreamInvalidAck="JESTREAM_INVALID_ACK",e.JetStream404NoMessages="404",e.JetStream408RequestTimeout="408",e.JetStream409MaxAckPendingExceeded="409",e.JetStream409="409",e.JetStreamNotEnabled="503",e.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",e.AuthorizationViolation="AUTHORIZATION_VIOLATION",e.AuthenticationExpired="AUTHENTICATION_EXPIRED",e.ProtocolError="NATS_PROTOCOL_ERR",e.PermissionsViolation="PERMISSIONS_VIOLATION"})(Z||(Z={}));class Ju{constructor(){_(this,"messages");this.messages=new Map,this.messages.set(Z.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(Z.BadJson,"Bad JSON"),this.messages.set(Z.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(t){return n_.getMessage(t)}getMessage(t){return this.messages.get(t)||t}}const n_=new Ju;function s_(e){return typeof e.code=="string"}class le extends Error{constructor(r,n,s){super(r);_(this,"name");_(this,"message");_(this,"code");_(this,"permissionContext");_(this,"chainedError");_(this,"api_error");this.name="NatsError",this.message=r,this.code=n,this.chainedError=s}static errorForCode(r,n){const s=Ju.getMessage(r);return new le(s,r,n)}isAuthError(){return this.code===Z.AuthenticationExpired||this.code===Z.AuthorizationViolation}isPermissionError(){return this.code===Z.PermissionsViolation}isProtocolError(){return this.code===Z.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}const at=new Uint8Array(0);var tr;(function(e){e.Disconnect="disconnect",e.Reconnect="reconnect",e.Update="update",e.LDM="ldm",e.Error="error"})(tr||(tr={}));var Hn;(function(e){e.Reconnecting="reconnecting",e.PingTimer="pingTimer",e.StaleConnection="staleConnection"})(Hn||(Hn={}));const lo="127.0.0.1",Xu=2*1e3,Qu=2*60*1e3,i_=2;var Kt;(function(e){e.Timer="timer",e.Count="count",e.JitterTimer="jitterTimer",e.SentinelMsg="sentinelMsg"})(Kt||(Kt={}));var $c;(function(e){e.API="api_audit",e.StreamAction="stream_action",e.ConsumerAction="consumer_action",e.SnapshotCreate="snapshot_create",e.SnapshotComplete="snapshot_complete",e.RestoreCreate="restore_create",e.RestoreComplete="restore_complete",e.MaxDeliver="max_deliver",e.Terminated="terminated",e.Ack="consumer_ack",e.StreamLeaderElected="stream_leader_elected",e.StreamQuorumLost="stream_quorum_lost",e.ConsumerLeaderElected="consumer_leader_elected",e.ConsumerQuorumLost="consumer_quorum_lost"})($c||($c={}));var uo;(function(e){e.Limits="limits",e.Interest="interest",e.Workqueue="workqueue"})(uo||(uo={}));var Wn;(function(e){e.Old="old",e.New="new"})(Wn||(Wn={}));var fo;(function(e){e.File="file",e.Memory="memory"})(fo||(fo={}));var yt;(function(e){e.All="all",e.Last="last",e.New="new",e.StartSequence="by_start_sequence",e.StartTime="by_start_time",e.LastPerSubject="last_per_subject"})(yt||(yt={}));var et;(function(e){e.None="none",e.All="all",e.Explicit="explicit",e.NotSet=""})(et||(et={}));var sn;(function(e){e.Instant="instant",e.Original="original"})(sn||(sn={}));var Ft;(function(e){e.StreamSourceHdr="Nats-Stream-Source",e.LastConsumerSeqHdr="Nats-Last-Consumer",e.LastStreamSeqHdr="Nats-Last-Stream",e.ConsumerStalledHdr="Nats-Consumer-Stalled",e.MessageSizeHdr="Nats-Msg-Size",e.RollupHdr="Nats-Rollup",e.RollupValueSubject="sub",e.RollupValueAll="all"})(Ft||(Ft={}));var zr;(function(e){e.Stream="Nats-Stream",e.Sequence="Nats-Sequence",e.TimeStamp="Nats-Time-Stamp",e.Subject="Nats-Subject"})(zr||(zr={}));var Uc;(function(e){e.Stream="Nats-Stream",e.Subject="Nats-Subject",e.Sequence="Nats-Sequence",e.LastSequence="Nats-Last-Sequence",e.Size="Nats-Msg-Size"})(Uc||(Uc={}));const un=new TextEncoder,Jt=new TextDecoder;function o_(...e){let t=0;for(let s=0;s<e.length;s++)t+=e[s].length;const r=new Uint8Array(t);let n=0;for(let s=0;s<e.length;s++)r.set(e[s],n),n+=e[s].length;return r}function Cn(...e){const t=[];for(let r=0;r<e.length;r++)t.push(un.encode(e[r]));return t.length===0?at:t.length===1?t[0]:o_(...t)}function Dc(e){return!e||e.length===0?"":Jt.decode(e)}class Zn{constructor(){_(this,"buffers");_(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...t){let r=0;for(let i=0;i<t.length;i++)r+=t[i].length;const n=new Uint8Array(r);let s=0;for(let i=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}static fromAscii(t){return t||(t=""),un.encode(t)}static toAscii(t){return Jt.decode(t)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const t=new Uint8Array(this.byteLength);let r=0;for(let n=0;n<this.buffers.length;n++)t.set(this.buffers[n],r),r+=this.buffers[n].length;this.buffers.length=0,this.buffers.push(t)}}shift(){if(this.buffers.length){const t=this.buffers.shift();if(t)return this.byteLength-=t.length,t}return new Uint8Array(0)}drain(t){if(this.buffers.length){this.pack();const r=this.buffers.pop();if(r){const n=this.byteLength;(t===void 0||t>n)&&(t=n);const s=r.subarray(0,t);return n>t&&this.buffers.push(r.subarray(t)),this.byteLength=n-t,s}}return new Uint8Array(0)}fill(t,...r){t&&(this.buffers.push(t),this.byteLength+=t.length);for(let n=0;n<r.length;n++)r[n]&&r[n].length&&(this.buffers.push(r[n]),this.byteLength+=r[n].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}const Ar=`\r
`,Ns=Zn.fromAscii(Ar),a_=new Uint8Array(Ns)[0],c_=new Uint8Array(Ns)[1];function l_(e){return e instanceof Uint8Array}function u_(e){for(let t=0;t<e.length;t++){const r=t+1;if(e.byteLength>r&&e[t]===a_&&e[r]===c_)return r+1}return 0}function f_(e){const t=u_(e);if(t>0){const n=new Uint8Array(e).slice(0,t);return Jt.decode(n)}return""}function si(e,...t){for(let r=0;r<t.length;r++){const n=t[r];Object.keys(n).forEach(function(s){e[s]=n[s]})}return e}function hs(e){const t="",r="";return Jt.decode(e).replace(/\n/g,r).replace(/\r/g,t)}function ii(e){const t=le.errorForCode(Z.Timeout);let r,n;const s=new Promise((i,o)=>{r={cancel:()=>{n&&clearTimeout(n)}},n=setTimeout(()=>{o(t)},e)});return Object.assign(s,r)}function Jo(e=0){return new Promise(t=>{setTimeout(()=>{t()},e)})}function ze(){let e={};const t=new Promise((r,n)=>{e={resolve:r,reject:n}});return Object.assign(t,e)}function Zu(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}class xt{constructor(){_(this,"inflight");_(this,"processed");_(this,"received");_(this,"noIterator");_(this,"iterClosed");_(this,"done");_(this,"signal");_(this,"yields");_(this,"filtered");_(this,"pendingFiltered");_(this,"ingestionFilterFn");_(this,"protocolFilterFn");_(this,"dispatchedFn");_(this,"ctx");_(this,"_data");_(this,"err");_(this,"time");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=ze(),this.yields=[],this.iterClosed=ze(),this.time=0}[Symbol.asyncIterator](){return this.iterate()}push(t){if(this.done)return;if(typeof t=="function"){this.yields.push(t),this.signal.resolve();return}const{ingest:r,protocol:n}=this.ingestionFilterFn?this.ingestionFilterFn(t,this.ctx||this):{ingest:!0,protocol:!1};r&&(n&&(this.filtered++,this.pendingFiltered++),this.yields.push(t),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new le("unsupported iterator",Z.ApiError);try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const t=this.yields;this.inflight=t.length,this.yields=[];for(let r=0;r<t.length;r++){if(typeof t[r]=="function"){const s=t[r];try{s()}catch(i){throw i}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(t[r]):!0){this.processed++;const s=Date.now();yield t[r],this.time=Date.now()-s,this.dispatchedFn&&t[r]&&this.dispatchedFn(t[r])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ze())}}finally{this.stop()}}stop(t){this.done||(this.err=t,this.done=!0,this.signal.resolve(),this.iterClosed.resolve())}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}function Bc(e){let n=!0;const s=new Array(e.length);for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===58||o<33||o>126)throw new le(`'${e[i]}' is not a valid character for a header key`,Z.BadHeader);n&&97<=o&&o<=122?o-=32:!n&&65<=o&&o<=90&&(o+=32),s[i]=o,n=o==45}return String.fromCharCode(...s)}function ar(e=0,t=""){if(e===0&&t!==""||e>0&&t==="")throw new Error("setting status requires both code and description");return new gr(e,t)}const ki="NATS/1.0";var At;(function(e){e[e.Exact=0]="Exact",e[e.CanonicalMIME=1]="CanonicalMIME",e[e.IgnoreCase=2]="IgnoreCase"})(At||(At={}));class gr{constructor(t=0,r=""){_(this,"_code");_(this,"headers");_(this,"_description");this._code=t,this._description=r,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(t){if(t&&this.headers.size===t.headers.size&&this._code===t._code){for(const[r,n]of this.headers){const s=t.values(r);if(n.length!==s.length)return!1;const i=[...n].sort(),o=[...s].sort();for(let a=0;a<i.length;a++)if(i[a]!==o[a])return!1}return!0}return!1}static decode(t){const r=new gr,s=Jt.decode(t).split(`\r
`),i=s[0];if(i!==ki){let o=i.replace(ki,"");r._code=parseInt(o,10);const a=r._code.toString();o=o.replace(a,""),r._description=o.trim()}return s.length>=1&&s.slice(1).map(o=>{if(o){const a=o.indexOf(":");if(a>-1){const c=o.slice(0,a),l=o.slice(a+1).trim();r.append(c,l)}}}),r}toString(){if(this.headers.size===0&&this._code===0)return"";let t=ki;this._code>0&&this._description!==""&&(t+=` ${this._code} ${this._description}`);for(const[r,n]of this.headers)for(let s=0;s<n.length;s++)t=`${t}\r
${r}: ${n[s]}`;return`${t}\r
\r
`}encode(){return un.encode(this.toString())}static validHeaderValue(t){if(/[\r\n]/.test(t))throw new le("invalid header value - \\r and \\n are not allowed.",Z.BadHeader);return t.trim()}keys(){const t=[];for(const r of this.headers.keys())t.push(r);return t}findKeys(t,r=At.Exact){const n=this.keys();switch(r){case At.Exact:return n.filter(s=>s===t);case At.CanonicalMIME:return t=Bc(t),n.filter(s=>s===t);default:{const s=t.toLowerCase();return n.filter(i=>s===i.toLowerCase())}}}get(t,r=At.Exact){const n=this.findKeys(t,r);if(n.length){const s=this.headers.get(n[0]);if(s)return Array.isArray(s)?s[0]:s}return""}has(t,r=At.Exact){return this.findKeys(t,r).length>0}set(t,r,n=At.Exact){this.delete(t,n),this.append(t,r,n)}append(t,r,n=At.Exact){const s=Bc(t);n===At.CanonicalMIME&&(t=s);const i=this.findKeys(t,n);t=i.length>0?i[0]:t;const o=gr.validHeaderValue(r);let a=this.headers.get(t);a||(a=[],this.headers.set(t,a)),a.push(o)}values(t,r=At.Exact){const n=[];return this.findKeys(t,r).forEach(i=>{const o=this.headers.get(i);o&&n.push(...o)}),n}delete(t,r=At.Exact){this.findKeys(t,r).forEach(s=>{this.headers.delete(s)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const t={};return this.keys().forEach(r=>{t[r]=this.values(r)}),t}get code(){return this._code}get description(){return this._description}static fromRecord(t){const r=new gr;for(const n in t)r.headers.set(n,t[n]);return r}}function ef(){return{encode(e){return un.encode(e)},decode(e){return Jt.decode(e)}}}function zt(e){return{encode(t){try{return t===void 0&&(t=null),un.encode(JSON.stringify(t))}catch(r){throw le.errorForCode(Z.BadJson,r)}},decode(t){try{return JSON.parse(Jt.decode(t),e)}catch(r){throw le.errorForCode(Z.BadJson,r)}}}}const qc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Hc=36,h_=0xcfd41b9100000,Wc=33,d_=333,zc=12+10;function p_(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*255)}function m_(e){var t;(t=globalThis==null?void 0:globalThis.crypto)!=null&&t.getRandomValues?globalThis.crypto.getRandomValues(e):p_(e)}class g_{constructor(){_(this,"buf");_(this,"seq");_(this,"inc");this.buf=new Uint8Array(zc),this.init()}init(){this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*h_),this.inc=Math.floor(Math.random()*(d_-Wc)+Wc)}setPre(){const t=new Uint8Array(12);m_(t);for(let r=0;r<12;r++){const n=t[r]%36;this.buf[r]=qc.charCodeAt(n)}}fillSeq(){let t=this.seq;for(let r=zc-1;r>=12;r--)this.buf[r]=qc.charCodeAt(t%Hc),t=Math.floor(t/Hc)}next(){return this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const oi=new g_;function tf(e){var t;return e&&e.data.length===0&&((t=e.headers)==null?void 0:t.code)===503?le.errorForCode(Z.NoResponders):null}class rf{constructor(t,r,n){_(this,"_headers");_(this,"_msg");_(this,"_rdata");_(this,"_reply");_(this,"_subject");_(this,"publisher");this._msg=t,this._rdata=r,this.publisher=n}get subject(){return this._subject?this._subject:(this._subject=Jt.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=Jt.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const t=this._rdata.subarray(0,this._msg.hdr);this._headers=gr.decode(t)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(t=at,r){return this.reply?(this.publisher.publish(this.reply,t,r),!0):!1}size(){var s;const t=this._msg.subject.length,r=((s=this._msg.reply)==null?void 0:s.length)||0,n=this._msg.size===-1?0:this._msg.size;return t+r+n}}function Jr(e){return nf("durable",e)}function dt(e){return nf("stream",e)}function nf(e,t=""){if(t==="")throw Error(`${e} name required`);const r=In(t);if(r.length)throw new Error(`invalid ${e} name - ${e} name ${r}`)}function In(e=""){if(e==="")throw Error("name required");const t=/^[-\w]+$/g;if(e.match(t)===null){for(const n of e.split(""))if(n.match(t)===null)return`cannot contain '${n}'`}return""}function __(e,t={}){return Object.assign({name:e,deliver_policy:yt.All,ack_policy:et.Explicit,ack_wait:Ge(30*1e3),replay_policy:sn.Instant},t)}function Ge(e){return e*1e6}function Xo(e){return Math.floor(e/1e6)}function ho(e){if(e.data.length>0)return!1;const t=e.headers;return t?t.code>=100&&t.code<200:!1}function Vc(e){var t;return ho(e)&&((t=e.headers)==null?void 0:t.description)==="Idle Heartbeat"}function b_(e,t,r){const n=ar(e,t),s={hdr:1,sid:0,size:0},i=new rf(s,at,{});return i._headers=n,i._subject=r,i}function Xr(e){if(e.data.length!==0)return null;const t=e.headers;return t?sf(t.code,t.description):null}var Mt;(function(e){e.MaxBatchExceeded="exceeded maxrequestbatch of",e.MaxExpiresExceeded="exceeded maxrequestexpires of",e.MaxBytesExceeded="exceeded maxrequestmaxbytes of",e.MaxMessageSizeExceeded="message size exceeds maxbytes",e.PushConsumer="consumer is push based",e.MaxWaitingExceeded="exceeded maxwaiting",e.IdleHeartbeatMissed="`idle heartbeats missed`"})(Mt||(Mt={}));function y_(e){return e.code!==Z.JetStream409?!1:[Mt.MaxBatchExceeded,Mt.MaxExpiresExceeded,Mt.MaxBytesExceeded,Mt.MaxMessageSizeExceeded,Mt.PushConsumer,Mt.IdleHeartbeatMissed].find(r=>e.message.indexOf(r)!==-1)!==void 0}function sf(e,t=""){if(e<300)return null;switch(t=t.toLowerCase(),e){case 404:return new le(t,Z.JetStream404NoMessages);case 408:return new le(t,Z.JetStream408RequestTimeout);case 409:{const r=t.startsWith(Mt.IdleHeartbeatMissed)?Z.JetStreamIdleHeartBeat:Z.JetStream409;return new le(t,r)}case 503:return le.errorForCode(Z.JetStreamNotEnabled,new Error(t));default:return t===""&&(t=Z.Unknown),new le(t,`${e}`)}}function Rr(e=""){const t=e.match(/(\d+).(\d+).(\d+)/);if(t)return{major:parseInt(t[1]),minor:parseInt(t[2]),micro:parseInt(t[3])};throw new Error(`'${e}' is not a semver value`)}function po(e,t){return e.major<t.major?-1:e.major>t.major?1:e.minor<t.minor?-1:e.minor>t.minor?1:e.micro<t.micro?-1:e.micro>t.micro?1:0}var wt;(function(e){e.JS_KV="js_kv",e.JS_OBJECTSTORE="js_objectstore",e.JS_PULL_MAX_BYTES="js_pull_max_bytes",e.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",e.JS_ALLOW_DIRECT="js_allow_direct"})(wt||(wt={}));class w_{constructor(t){_(this,"server");_(this,"features");_(this,"disabled");this.features=new Map,this.disabled=[],this.update(t)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(t){this.disabled.push(t),this.update(this.server)}isDisabled(t){return this.disabled.indexOf(t)!==-1}update(t){typeof t=="string"&&(t=Rr(t)),this.server=t,this.set(wt.JS_KV,"2.6.2"),this.set(wt.JS_OBJECTSTORE,"2.6.3"),this.set(wt.JS_PULL_MAX_BYTES,"2.8.3"),this.set(wt.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(wt.JS_ALLOW_DIRECT,"2.9.0"),this.disabled.forEach(r=>{this.features.delete(r)})}set(t,r){this.features.set(t,{min:r,ok:po(this.server,Rr(r))>=0})}get(t){return this.features.get(t)||{min:"unknown",ok:!1}}supports(t){var r;return((r=this.get(t))==null?void 0:r.ok)||!1}require(t){return typeof t=="string"&&(t=Rr(t)),po(this.server,t)>=0}}const x_="$SRV",Ms="Nats-Service-Error",Rs="Nats-Service-Error-Code";var Gt;(function(e){e.PING="PING",e.STATS="STATS",e.INFO="INFO",e.SCHEMA="SCHEMA"})(Gt||(Gt={}));class Kc{constructor(t){_(this,"msg");this.msg=t}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}respond(t,r){return this.msg.respond(t,r)}respondError(t,r,n,s){var i,o;return s=s||{},s.headers=s.headers||ar(),(i=s.headers)==null||i.set(Rs,`${t}`),(o=s.headers)==null||o.set(Ms,r),this.msg.respond(n,s)}}class Ls extends Error{constructor(r,n){super(n);_(this,"code");this.code=r}static isServiceError(r){return Ls.toServiceError(r)!==null}static toServiceError(r){var s,i;const n=((s=r==null?void 0:r.headers)==null?void 0:s.get(Rs))||"";if(n!==""){const o=parseInt(n)||400,a=((i=r==null?void 0:r.headers)==null?void 0:i.get(Ms))||"";return new Ls(o,a.length?a:n)}return null}}class ai extends xt{constructor(r,n){var i;super();_(this,"nc");_(this,"_id");_(this,"config");_(this,"handler");_(this,"internal");_(this,"_stopped");_(this,"_done");_(this,"_stats");_(this,"_lastException");_(this,"_schema");this.nc=r,n.name=(n==null?void 0:n.name)||"",this.config=n;const s=In(this.name);if(s!=="")throw new Error(`name ${s}`);Rr(this.config.version),this.noIterator=typeof((i=n==null?void 0:n.endpoint)==null?void 0:i.handler)=="function",this.noIterator||(this.config.endpoint.handler=(o,a)=>{o?this.stop(o).catch():this.push(new Kc(a))}),this.reset(),this._id=oi.next(),this.handler=n.endpoint,this.internal=[],this._done=ze(),this._stopped=!1,this.nc.closed().then(()=>{this.close().catch()}).catch(o=>{this.close(o).catch()}),this.noIterator||this.iterClosed.then(()=>{this.close().catch()})}static controlSubject(r,n="",s="",i){const o=i??x_;return n===""&&s===""?`${o}.${r}`:(In(n),s!==""?(In(s),`${o}.${r}.${n}.${s}`):`${o}.${r}.${n}`)}get subject(){const{subject:r}=this.config.endpoint;return r!==""?r:""}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}errorToHeader(r){const n=ar();if(r instanceof Ls){const s=r;n.set(Ms,s.message),n.set(Rs,`${s.code}`)}else n.set(Ms,r.message),n.set(Rs,"500");return n}countError(r){this._lastException=r,this._stats.num_errors++,this._stats.last_error=r.message}setupNATS(r,n=!1){const s=n?"":"q",{subject:i,handler:o}=r,a=r;a.internal=n,n&&this.internal.push(a);const c=u=>{n||(this._stats.num_requests++,this._stats.processing_time=Ge(Date.now()-u),this._stats.average_processing_time=Math.round(this._stats.processing_time/this._stats.num_requests))},l=o?(u,f)=>{if(u){this.close(u);return}const d=Date.now();try{o(u,new Kc(f))}catch(b){this.countError(b),f==null||f.respond(at,{headers:this.errorToHeader(b)})}finally{c(d)}}:void 0;a.sub=this.nc.subscribe(i,{callback:l,queue:s}),a.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${r.subject} stopped`)).catch()}).catch(u=>{if(!this._stopped){const f=new Error(`required subscription ${r.subject} errored: ${u.message}`);f.stack=u.stack,this.close(f).catch()}})}info(){return{name:this.name,id:this.id,version:this.version,description:this.description,subject:this.config.endpoint.subject}}async stats(){if(typeof this.config.statsHandler=="function")try{this._stats.data=await this.config.statsHandler(this.handler)}catch(r){this.countError(r)}return this.noIterator||(this._stats.processing_time=this.time,this._stats.num_requests=this.processed,this._stats.average_processing_time=this.time>0&&this.processed>0?this.time/this.processed:0),Object.assign({name:this.name,id:this.id,version:this.version},this._stats)}addInternalHandler(r,n){const s=`${r}`.toUpperCase();this._doAddInternalHandler(`${s}-all`,r,n),this._doAddInternalHandler(`${s}-kind`,r,n,this.name),this._doAddInternalHandler(`${s}`,r,n,this.name,this.id)}_doAddInternalHandler(r,n,s,i="",o=""){const a={};a.name=r,a.subject=ai.controlSubject(n,i,o),a.handler=s,this.setupNATS(a,!0)}start(){const r=zt(),n=(l,u)=>l?(this.close(l),Promise.reject(l)):this.stats().then(f=>(u==null||u.respond(r.encode(f)),Promise.resolve())),s=(l,u)=>l?(this.close(l),Promise.reject(l)):(u==null||u.respond(r.encode(this.info())),Promise.resolve()),i=r.encode({name:this.name,id:this.id,version:this.version}),o=(l,u)=>l?(this.close(l).then().catch(),Promise.reject(l)):(u.respond(i),Promise.resolve()),a=(l,u)=>l?(this.close(l),Promise.reject(l)):(u==null||u.respond(this.schema),Promise.resolve());return this.addInternalHandler(Gt.PING,o),this.addInternalHandler(Gt.STATS,n),this.addInternalHandler(Gt.INFO,s),this.addInternalHandler(Gt.SCHEMA,a),[this.handler].forEach(l=>{const{subject:u}=l;typeof u=="string"&&this.setupNATS(l)}),Promise.resolve(this)}close(r){if(this._stopped)return this._done;this._stopped=!0;const n=[];return this.nc.isClosed()||(n.push(this.handler.sub.drain()),this.internal.forEach(s=>{n.push(s.sub.drain())})),Promise.allSettled(n).then(()=>{this._done.resolve(r||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(r){return this.close(r)}get schema(){const r=zt();return this._schema||(this._schema=r.encode({name:this.name,id:this.id,version:this.version,schema:this.config.schema})),this._schema}reset(){this._lastException=void 0,this._stats={name:this.name,num_requests:0,num_errors:0,processing_time:0,average_processing_time:0,started:new Date().toISOString()},this.noIterator||(this.processed=0,this.time=0)}}const v_="$JS.API";function E_(e){return e=e||{},e.domain&&(e.apiPrefix=`$JS.${e.domain}.API`,delete e.domain),si({apiPrefix:v_,timeout:5e3},e)}class es{constructor(t,r){_(this,"nc");_(this,"opts");_(this,"prefix");_(this,"timeout");_(this,"jc");this.nc=t,this.opts=E_(r),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=zt()}_parseOpts(){let t=this.opts.apiPrefix;if(!t||t.length===0)throw new Error("invalid empty prefix");t[t.length-1]==="."&&(t=t.substr(0,t.length-1)),this.opts.apiPrefix=t}async _request(t,r=null,n){n=n||{},n.timeout=this.timeout;let s=at;r&&(s=this.jc.encode(r));const i=await this.nc.request(t,s,n);return this.parseJsResponse(i)}async findStream(t){const r={subject:t},s=await this._request(`${this.prefix}.STREAM.NAMES`,r);if(!s.streams||s.streams.length!==1)throw new Error("no stream matches subject");return s.streams[0]}parseJsResponse(t){const r=this.jc.decode(t.data),n=r;if(n.error){const s=sf(n.error.code,n.error.description);if(s!==null)throw s.api_error=n.error,s}return r}}class xn{constructor(t,r,n,s){_(this,"err");_(this,"offset");_(this,"pageInfo");_(this,"subject");_(this,"jsm");_(this,"filter");_(this,"payload");if(!t)throw new Error("subject is required");this.subject=t,this.jsm=n,this.offset=0,this.pageInfo={},this.filter=r,this.payload=s||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const t={offset:this.offset};this.payload&&Object.assign(t,this.payload);try{const r=await this.jsm._request(this.subject,t,{timeout:this.jsm.timeout});this.pageInfo=r;const n=this.filter(r);return this.offset+=n.length,n}catch(r){throw this.err=r,r}}async*[Symbol.asyncIterator](){let t=await this.next();for(;t.length>0;){for(const r of t)yield r;t=await this.next()}}}class of extends es{constructor(t,r){super(t,r)}async add(t,r){if(dt(t),r.deliver_group&&r.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(r.deliver_group&&r.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const n={};n.config=r,n.stream_name=t,n.config.durable_name&&Jr(n.config.durable_name);const s=this.nc,{min:i,ok:o}=s.features.get(wt.JS_NEW_CONSUMER_CREATE_API),a=r.name===""?void 0:r.name;if(a&&!o)throw new Error(`consumer 'name' requires server ${i}`);if(a){const f=In(a);if(f.length)throw new Error(`consumer 'name' ${f}`)}let c,l="";if(o&&(l=r.name??r.durable_name??""),l!==""){let f=r.filter_subject??void 0;f===">"&&(f=void 0),c=f!==void 0?`${this.prefix}.CONSUMER.CREATE.${t}.${l}.${f}`:`${this.prefix}.CONSUMER.CREATE.${t}.${l}`}else c=r.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${t}.${r.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${t}`;return await this._request(c,n)}async update(t,r,n){const s=await this.info(t,r),i=n;return this.add(t,Object.assign(s.config,i))}async info(t,r){return dt(t),Jr(r),await this._request(`${this.prefix}.CONSUMER.INFO.${t}.${r}`)}async delete(t,r){return dt(t),Jr(r),(await this._request(`${this.prefix}.CONSUMER.DELETE.${t}.${r}`)).success}list(t){dt(t);const r=s=>s.consumers,n=`${this.prefix}.CONSUMER.LIST.${t}`;return new xn(n,r,this)}}class af{constructor(t,r){_(this,"token");_(this,"received");_(this,"ctx");_(this,"requestSubject");_(this,"mux");this.mux=t,this.requestSubject=r,this.received=0,this.token=oi.next(),this.ctx=new Error}}class S_ extends af{constructor(r,n,s={maxWait:1e3}){super(r,n);_(this,"callback");_(this,"done");_(this,"timer");_(this,"max");_(this,"opts");if(this.opts=s,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof s.maxMessages=="number"&&s.maxMessages>0?s.maxMessages:-1,this.done=ze(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},s.maxWait)}cancel(r){r&&this.callback(r,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(r,n){r?(r.stack+=`

${this.ctx.stack}`,this.cancel(r)):(this.callback(null,n),this.opts.strategy===Kt.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===Kt.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===Kt.SentinelMsg&&n&&n.data.length===0&&this.cancel())}}class cf extends af{constructor(r,n,s={timeout:1e3}){super(r,n);_(this,"deferred");_(this,"timer");this.deferred=ze(),this.timer=ii(s.timeout)}resolver(r,n){this.timer&&this.timer.cancel(),r?(r.stack+=`

${this.ctx.stack}`,this.deferred.reject(r)):this.deferred.resolve(n),this.cancel()}cancel(r){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(r||le.errorForCode(Z.Cancelled))}}const Gc=Uint8Array.of(43,65,67,75),O_=Uint8Array.of(45,78,65,75),yn=Uint8Array.of(43,87,80,73),A_=Uint8Array.of(43,78,88,84),P_=Uint8Array.of(43,84,69,82,77),C_=Uint8Array.of(32);function Fs(e){return new k_(e)}function I_(e){const t=e.split(".");if(t.length===9&&t.splice(2,0,"_",""),t.length<11||t[0]!=="$JS"||t[1]!=="ACK")throw new Error("not js message");const r={};return r.domain=t[2]==="_"?"":t[2],r.account_hash=t[3],r.stream=t[4],r.consumer=t[5],r.redeliveryCount=parseInt(t[6],10),r.redelivered=r.redeliveryCount>1,r.streamSequence=parseInt(t[7],10),r.deliverySequence=parseInt(t[8],10),r.timestampNanos=parseInt(t[9],10),r.pending=parseInt(t[10],10),r}class k_{constructor(t){_(this,"msg");_(this,"di");_(this,"didAck");this.msg=t,this.didAck=!1}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=I_(this.reply)),this.di}get redelivered(){return this.info.redeliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(t){this.didAck||(this.didAck=!this.isWIP(t),this.msg.respond(t))}isWIP(t){return t.length===4&&t[0]===yn[0]&&t[1]===yn[1]&&t[2]===yn[2]&&t[3]===yn[3]}async ackAck(){if(!this.didAck&&(this.didAck=!0,this.msg.reply)){const r=this.msg.publisher,n=new cf(r.muxSubscriptions,this.msg.reply);r.request(n);try{r.publish(this.msg.reply,Gc,{reply:`${r.muxSubscriptions.baseInbox}${n.token}`})}catch(s){n.cancel(s)}try{return await Promise.race([n.timer,n.deferred]),!0}catch(s){n.cancel(s)}}return!1}ack(){this.doAck(Gc)}nak(t){let r=O_;t&&(r=ef().encode(`-NAK ${JSON.stringify({delay:Ge(t)})}`)),this.doAck(r)}working(){this.doAck(yn)}next(t,r={batch:1}){const n={};n.batch=r.batch||1,n.no_wait=r.no_wait||!1,r.expires&&r.expires>0&&(n.expires=Ge(r.expires));const s=zt().encode(n),i=Zn.concat(A_,C_,s),o=t?{reply:t}:void 0;this.msg.respond(i,o)}term(){this.doAck(P_)}}function Br(e,t,r=!1){if(r===!0&&!e)throw le.errorForCode(Z.ApiError,new Error(`${t} is not a function`));if(e&&typeof e!="function")throw le.errorForCode(Z.ApiError,new Error(`${t} is not a function`))}class T_ extends xt{constructor(r,n,s){super();_(this,"sub");_(this,"adapter");_(this,"subIterDone");Br(s.adapter,"adapter",!0),this.adapter=s.adapter,s.callback&&Br(s.callback,"callback"),this.noIterator=typeof s.callback=="function",s.ingestionFilterFn&&(Br(s.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=s.ingestionFilterFn),s.protocolFilterFn&&(Br(s.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=s.protocolFilterFn),s.dispatchedFn&&(Br(s.dispatchedFn,"dispatchedFn"),this.dispatchedFn=s.dispatchedFn),s.cleanupFn&&Br(s.cleanupFn,"cleanupFn");let i=(u,f)=>{this.callback(u,f)};if(s.callback){const u=s.callback;i=(f,d)=>{const[b,S]=this.adapter(f,d);if(b){u(b,null);return}const{ingest:I}=this.ingestionFilterFn?this.ingestionFilterFn(S,this):{ingest:!0};I&&(!this.protocolFilterFn||this.protocolFilterFn(S))&&(u(b,S),this.dispatchedFn&&S&&this.dispatchedFn(S))}}const{max:o,queue:a,timeout:c}=s,l={queue:a,timeout:c,callback:i};o&&o>0&&(l.max=o),this.sub=r.subscribe(n,l),s.cleanupFn&&(this.sub.cleanupFn=s.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=ze(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async u=>{await u.closed,this.stop()})(this.sub).then().catch()}unsubscribe(r){this.sub.unsubscribe(r)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(r,n){this.sub.cancelTimeout();const[s,i]=this.adapter(r,n);s&&this.stop(s),i&&this.push(i)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let vt;function N_(e){vt=e}function lf(){return vt!==void 0&&vt.defaultPort!==void 0?vt.defaultPort:4222}function Ti(){return vt!==void 0&&vt.urlParseFn?vt.urlParseFn:void 0}function M_(){if(!vt||typeof vt.factory!="function")throw new Error("transport fn is not set");return vt.factory()}function uf(){return vt!==void 0&&vt.dnsResolveFn?vt.dnsResolveFn:void 0}const R_=4,ff=48,L_=65,F_=97;function j_(e,t,r,n){const s=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((o,a)=>{s[a]=o}),s[12]=e,s[13]=t,s[14]=r,s[15]=n,s}function mo(e){return $_(e)!==void 0}function $_(e){for(let t=0;t<e.length;t++)switch(e[t]){case".":return hf(e);case":":return U_(e)}}function hf(e){const t=new Uint8Array(4);for(let r=0;r<4;r++){if(e.length===0)return;if(r>0){if(e[0]!==".")return;e=e.substring(1)}const{n,c:s,ok:i}=D_(e);if(!i||n>255)return;e=e.substring(s),t[r]=n}return j_(t[0],t[1],t[2],t[3])}function U_(e){const t=new Uint8Array(16);let r=-1;if(e.length>=2&&e[0]===":"&&e[1]===":"&&(r=0,e=e.substring(2),e.length===0))return t;let n=0;for(;n<16;){const{n:s,c:i,ok:o}=B_(e);if(!o||s>65535)return;if(i<e.length&&e[i]==="."){if(r<0&&n!=16-4||n+4>16)return;const a=hf(e);if(a===void 0)return;t[n]=a[12],t[n+1]=a[13],t[n+2]=a[14],t[n+3]=a[15],e="",n+=R_;break}if(t[n]=s>>8,t[n+1]=s,n+=2,e=e.substring(i),e.length===0)break;if(e[0]!==":"||e.length==1)return;if(e=e.substring(1),e[0]===":"){if(r>=0)return;if(r=n,e=e.substring(1),e.length===0)break}}if(e.length===0){if(n<16){if(r<0)return;const s=16-n;for(let i=n-1;i>=r;i--)t[i+s]=t[i];for(let i=r+s-1;i>=r;i--)t[i]=0}else if(r>=0)return;return t}}function D_(e){let t=0,r=0;for(t=0;t<e.length&&48<=e.charCodeAt(t)&&e.charCodeAt(t)<=57;t++)if(r=r*10+(e.charCodeAt(t)-ff),r>=16777215)return{n:16777215,c:t,ok:!1};return t===0?{n:0,c:0,ok:!1}:{n:r,c:t,ok:!0}}function B_(e){let t=0,r=0;for(r=0;r<e.length;r++){if(48<=e.charCodeAt(r)&&e.charCodeAt(r)<=57)t*=16,t+=e.charCodeAt(r)-ff;else if(97<=e.charCodeAt(r)&&e.charCodeAt(r)<=102)t*=16,t+=e.charCodeAt(r)-F_+10;else if(65<=e.charCodeAt(r)&&e.charCodeAt(r)<=70)t*=16,t+=e.charCodeAt(r)-L_+10;else break;if(t>=16777215)return{n:0,c:r,ok:!1}}return r===0?{n:0,c:r,ok:!1}:{n:t,c:r,ok:!0}}function q_(e){return e.indexOf(".")!==-1?!0:e.indexOf("[")!==-1||e.indexOf("::")!==-1?!1:e.split(":").length<=2}function go(e){return!q_(e)}function H_(e){e=e.trim(),e.match(/^(.*:\/\/)(.*)/m)&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2")),go(e)&&e.indexOf("[")===-1&&(e=`[${e}]`);const t=go(e)?e.match(/(]:)(\d+)/):e.match(/(:)(\d+)/),r=t&&t.length===3&&t[1]&&t[2]?parseInt(t[2]):4222,n=r===80?"https":"http",s=new URL(`${n}://${e}`);s.port=`${r}`;let i=s.hostname;return i.charAt(0)==="["&&(i=i.substring(1,i.length-1)),{listen:s.host,hostname:i,port:r}}class kn{constructor(t,r=!1){_(this,"src");_(this,"listen");_(this,"hostname");_(this,"port");_(this,"didConnect");_(this,"reconnects");_(this,"lastConnect");_(this,"gossiped");_(this,"tlsName");_(this,"resolves");this.src=t,this.tlsName="";const n=H_(t);this.listen=n.listen,this.hostname=n.hostname,this.port=n.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=r}toString(){return this.listen}async resolve(t){if(!t.fn)return[this];const r=[];if(mo(this.hostname))return[this];{const n=await t.fn(this.hostname);t.debug&&console.log(`resolve ${this.hostname} = ${n.join(",")}`);for(const s of n){const i=this.port===80?"https":"http",o=new URL(`${i}://${go(s)?"["+s+"]":s}`);o.port=`${this.port}`;const a=new kn(o.host,!1);a.tlsName=this.hostname,r.push(a)}}return t.randomize&&Zu(r),this.resolves=r,r}}class W_{constructor(t=[],r={}){_(this,"firstSelect");_(this,"servers");_(this,"currentServer");_(this,"tlsName");_(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=r.randomize||!1;const n=Ti();t&&(t.forEach(s=>{s=n?n(s):s,this.servers.push(new kn(s))}),this.randomize&&(this.servers=Zu(this.servers))),this.servers.length===0&&this.addServer(`${lo}:${lf()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const t=this.getCurrentServer();mo(t.hostname)||(this.tlsName=t.hostname,this.servers.forEach(r=>{r.gossiped&&(r.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(t,r=!1){const n=Ti();t=n?n(t):t;const s=new kn(t,r);mo(s.hostname)&&(s.tlsName=this.tlsName),this.servers.push(s)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const t=this.servers.shift();return t&&(this.servers.push(t),this.currentServer=t),t}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(t){if(t){const r=this.servers.indexOf(t);this.servers.splice(r,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(t){const r=[];let n=[];const s=Ti(),i=new Map;t.connect_urls&&t.connect_urls.length>0&&t.connect_urls.forEach(a=>{a=s?s(a):a;const c=new kn(a,!0);i.set(a,c)});const o=[];return this.servers.forEach((a,c)=>{const l=a.listen;a.gossiped&&this.currentServer.listen!==l&&i.get(l)===void 0&&o.push(c),i.delete(l)}),o.reverse(),o.forEach(a=>{const c=this.servers.splice(a,1);n=n.concat(c[0].listen)}),i.forEach((a,c)=>{this.servers.push(a),r.push(c)}),{added:r,deleted:n}}}class df extends xt{constructor(r,n,s={}){super();_(this,"sid");_(this,"queue");_(this,"draining");_(this,"max");_(this,"subject");_(this,"drained");_(this,"protocol");_(this,"timer");_(this,"info");_(this,"cleanupFn");_(this,"closed");_(this,"requestSubject");si(this,s),this.protocol=r,this.subject=n,this.draining=!1,this.noIterator=typeof s.callback=="function",this.closed=ze(),s.timeout&&(this.timer=ii(s.timeout),this.timer.then(()=>{this.timer=void 0}).catch(i=>{this.stop(i),this.noIterator&&this.callback(i,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(r){if(this.noIterator){const n=this.callback,s=r.ingestionFilterFn?r.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),i=r.protocolFilterFn?r.protocolFilterFn:()=>!0,o=r.dispatchedFn?r.dispatchedFn:()=>{};this.callback=(a,c)=>{const{ingest:l}=s(c);l&&i(c)&&(n(a,c),o(c))}}else this.protocolFilterFn=r.protocolFilterFn,this.dispatchedFn=r.dispatchedFn}callback(r,n){this.cancelTimeout(),r?this.stop(r):this.push(n)}close(){if(!this.isClosed()){this.cancelTimeout();const r=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?r():this.push(r)}}unsubscribe(r){this.protocol.unsubscribe(this,r)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.isClosed()?Promise.reject(le.errorForCode(Z.SubClosed)):(this.drained||(this.protocol.unsub(this),this.drained=this.protocol.flush(ze()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class z_{constructor(){_(this,"mux");_(this,"subs");_(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(t){return this.sidCounter++,t.sid=this.sidCounter,this.subs.set(t.sid,t),t}setMux(t){return this.mux=t,t}getMux(){return this.mux}get(t){return this.subs.get(t)}resub(t){return this.sidCounter++,this.subs.delete(t.sid),t.sid=this.sidCounter,this.subs.set(t.sid,t),t}all(){return Array.from(this.subs.values())}cancel(t){t&&(t.close(),this.subs.delete(t.sid))}handleError(t){if(t&&t.permissionContext){const r=t.permissionContext,n=this.all();let s;if(r.operation==="subscription"&&(s=n.find(i=>i.subject===r.subject)),r.operation==="publish"&&(s=n.find(i=>i.requestSubject===r.subject)),s)return s.callback(t,{}),s.close(),this.subs.delete(s.sid),s!==this.mux}return!1}close(){this.subs.forEach(t=>{t.close()})}}class V_{constructor(t,r,n){_(this,"ph");_(this,"interval");_(this,"maxOut");_(this,"timer");_(this,"pendings");this.ph=t,this.interval=r,this.maxOut=n,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),t&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:Hn.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const t=ze();this.ph.flush(t).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(t),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(t=>(t.resolve(),!1))}}class K_ extends Error{constructor(t){super(t),this.name="AssertionError"}}function G_(e,t="Assertion failed."){if(!e)throw new K_(t)}const Yc=32*1024,Ni=2**32-2;function ds(e,t,r=0){const n=t.byteLength-r;return e.byteLength>n&&(e=e.subarray(0,n)),t.set(e,r),e.byteLength}class Mi{constructor(t){_(this,"_buf");_(this,"_off");if(this._off=0,t==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(t)}bytes(t={copy:!0}){return t.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(t){if(t===0){this.reset();return}if(t<0||t>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+t)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(t){const r=this._buf.byteLength;return t<=this.capacity-r?(this._reslice(r+t),r):-1}_reslice(t){G_(t<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,t)}readByte(){const t=new Uint8Array(1);return this.read(t)?t[0]:null}read(t){if(this.empty())return this.reset(),t.byteLength===0?0:null;const r=ds(this._buf.subarray(this._off),t);return this._off+=r,r}writeByte(t){return this.write(Uint8Array.of(t))}writeString(t){return this.write(un.encode(t))}write(t){const r=this._grow(t.byteLength);return ds(t,this._buf,r)}_grow(t){const r=this.length;r===0&&this._off!==0&&this.reset();const n=this._tryGrowByReslice(t);if(n>=0)return n;const s=this.capacity;if(t<=Math.floor(s/2)-r)ds(this._buf.subarray(this._off),this._buf);else{if(s+t>Ni)throw new Error("The buffer cannot be grown beyond the maximum size.");{const i=new Uint8Array(Math.min(2*s+t,Ni));ds(this._buf.subarray(this._off),i),this._buf=i}}return this._off=0,this._reslice(Math.min(r+t,Ni)),r}grow(t){if(t<0)throw Error("Buffer._grow: negative count");const r=this._grow(t);this._reslice(r)}readFrom(t){let r=0;const n=new Uint8Array(Yc);for(;;){const s=this.capacity-this.length<Yc,i=s?n:new Uint8Array(this._buf.buffer,this.length),o=t.read(i);if(o===null)return r;s?this.write(i.subarray(0,o)):this._reslice(this.length+o),r+=o}}}var ot;(function(e){e[e.OK=0]="OK",e[e.ERR=1]="ERR",e[e.MSG=2]="MSG",e[e.INFO=3]="INFO",e[e.PING=4]="PING",e[e.PONG=5]="PONG"})(ot||(ot={}));function Jc(){const e={};return e.sid=-1,e.hdr=-1,e.size=-1,e}const Y_=48;class Xc{constructor(t){_(this,"dispatcher");_(this,"state");_(this,"as");_(this,"drop");_(this,"hdr");_(this,"ma");_(this,"argBuf");_(this,"msgBuf");this.dispatcher=t,this.state=X.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(t){let r;for(r=0;r<t.length;r++){const n=t[r];switch(this.state){case X.OP_START:switch(n){case Q.M:case Q.m:this.state=X.OP_M,this.hdr=-1,this.ma=Jc();break;case Q.H:case Q.h:this.state=X.OP_H,this.hdr=0,this.ma=Jc();break;case Q.P:case Q.p:this.state=X.OP_P;break;case Q.PLUS:this.state=X.OP_PLUS;break;case Q.MINUS:this.state=X.OP_MINUS;break;case Q.I:case Q.i:this.state=X.OP_I;break;default:throw this.fail(t.subarray(r))}break;case X.OP_H:switch(n){case Q.M:case Q.m:this.state=X.OP_M;break;default:throw this.fail(t.subarray(r))}break;case X.OP_M:switch(n){case Q.S:case Q.s:this.state=X.OP_MS;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MS:switch(n){case Q.G:case Q.g:this.state=X.OP_MSG;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MSG:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_MSG_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MSG_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.MSG_ARG,this.as=r}break;case X.MSG_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{const s=this.argBuf?this.argBuf.bytes():t.subarray(this.as,r-this.drop);this.processMsgArgs(s),this.drop=0,this.as=r+1,this.state=X.MSG_PAYLOAD,r=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;case X.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const s=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:s}),this.argBuf=void 0,this.msgBuf=void 0,this.state=X.MSG_END}else{let s=this.ma.size-this.msgBuf.length;const i=t.length-r;i<s&&(s=i),s>0?(this.msgBuf.write(t.subarray(r,r+s)),r=r+s-1):this.msgBuf.writeByte(n)}else r-this.as>=this.ma.size&&(this.dispatcher.push({kind:ot.MSG,msg:this.ma,data:t.subarray(this.as,r)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=X.MSG_END);break;case X.MSG_END:switch(n){case Q.NL:this.drop=0,this.as=r+1,this.state=X.OP_START;break;default:continue}break;case X.OP_PLUS:switch(n){case Q.O:case Q.o:this.state=X.OP_PLUS_O;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PLUS_O:switch(n){case Q.K:case Q.k:this.state=X.OP_PLUS_OK;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PLUS_OK:switch(n){case Q.NL:this.dispatcher.push({kind:ot.OK}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_MINUS:switch(n){case Q.E:case Q.e:this.state=X.OP_MINUS_E;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_E:switch(n){case Q.R:case Q.r:this.state=X.OP_MINUS_ER;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ER:switch(n){case Q.R:case Q.r:this.state=X.OP_MINUS_ERR;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ERR:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_MINUS_ERR_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_MINUS_ERR_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.MINUS_ERR_ARG,this.as=r}break;case X.MINUS_ERR_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.ERR,data:s}),this.drop=0,this.as=r+1,this.state=X.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(n))}break;case X.OP_P:switch(n){case Q.I:case Q.i:this.state=X.OP_PI;break;case Q.O:case Q.o:this.state=X.OP_PO;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PO:switch(n){case Q.N:case Q.n:this.state=X.OP_PON;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PON:switch(n){case Q.G:case Q.g:this.state=X.OP_PONG;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PONG:switch(n){case Q.NL:this.dispatcher.push({kind:ot.PONG}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_PI:switch(n){case Q.N:case Q.n:this.state=X.OP_PIN;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PIN:switch(n){case Q.G:case Q.g:this.state=X.OP_PING;break;default:throw this.fail(t.subarray(r))}break;case X.OP_PING:switch(n){case Q.NL:this.dispatcher.push({kind:ot.PING}),this.drop=0,this.state=X.OP_START;break}break;case X.OP_I:switch(n){case Q.N:case Q.n:this.state=X.OP_IN;break;default:throw this.fail(t.subarray(r))}break;case X.OP_IN:switch(n){case Q.F:case Q.f:this.state=X.OP_INF;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INF:switch(n){case Q.O:case Q.o:this.state=X.OP_INFO;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INFO:switch(n){case Q.SPACE:case Q.TAB:this.state=X.OP_INFO_SPC;break;default:throw this.fail(t.subarray(r))}break;case X.OP_INFO_SPC:switch(n){case Q.SPACE:case Q.TAB:continue;default:this.state=X.INFO_ARG,this.as=r}break;case X.INFO_ARG:switch(n){case Q.CR:this.drop=1;break;case Q.NL:{let s;this.argBuf?(s=this.argBuf.bytes(),this.argBuf=void 0):s=t.subarray(this.as,r-this.drop),this.dispatcher.push({kind:ot.INFO,data:s}),this.drop=0,this.as=r+1,this.state=X.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(n)}break;default:throw this.fail(t.subarray(r))}}(this.state===X.MSG_ARG||this.state===X.MINUS_ERR_ARG||this.state===X.INFO_ARG)&&!this.argBuf&&(this.argBuf=new Mi(t.subarray(this.as,r-this.drop))),this.state===X.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new Mi(t.subarray(this.as)))}cloneMsgArg(){const t=this.ma.subject.length,r=this.ma.reply?this.ma.reply.length:0,n=new Uint8Array(t+r);n.set(this.ma.subject),this.ma.reply&&n.set(this.ma.reply,t),this.argBuf=new Mi(n),this.ma.subject=n.subarray(0,t),this.ma.reply&&(this.ma.reply=n.subarray(t))}processMsgArgs(t){if(this.hdr>=0)return this.processHeaderMsgArgs(t);const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case Q.SPACE:case Q.TAB:case Q.CR:case Q.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 3:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(r[2]);break;case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.size=this.protoParseInt(r[3]);break;default:throw this.fail(t,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(t,"processMsgArgs Bad or Missing Size Error")}fail(t,r=""){return r?r=`${r} [${this.state}]`:r=`parse error [${this.state}]`,new Error(`${r}: ${Jt.decode(t)}`)}processHeaderMsgArgs(t){const r=[];let n=-1;for(let s=0;s<t.length;s++)switch(t[s]){case Q.SPACE:case Q.TAB:case Q.CR:case Q.NL:n>=0&&(r.push(t.subarray(n,s)),n=-1);break;default:n<0&&(n=s)}switch(n>=0&&r.push(t.subarray(n)),r.length){case 4:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(r[2]),this.ma.size=this.protoParseInt(r[3]);break;case 5:this.ma.subject=r[0],this.ma.sid=this.protoParseInt(r[1]),this.ma.reply=r[2],this.ma.hdr=this.protoParseInt(r[3]),this.ma.size=this.protoParseInt(r[4]);break;default:throw this.fail(t,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(t,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(t){if(t.length===0)return-1;let r=0;for(let n=0;n<t.length;n++){if(t[n]<48||t[n]>57)return-1;r=r*10+(t[n]-Y_)}return r}}var X;(function(e){e[e.OP_START=0]="OP_START",e[e.OP_PLUS=1]="OP_PLUS",e[e.OP_PLUS_O=2]="OP_PLUS_O",e[e.OP_PLUS_OK=3]="OP_PLUS_OK",e[e.OP_MINUS=4]="OP_MINUS",e[e.OP_MINUS_E=5]="OP_MINUS_E",e[e.OP_MINUS_ER=6]="OP_MINUS_ER",e[e.OP_MINUS_ERR=7]="OP_MINUS_ERR",e[e.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",e[e.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",e[e.OP_M=10]="OP_M",e[e.OP_MS=11]="OP_MS",e[e.OP_MSG=12]="OP_MSG",e[e.OP_MSG_SPC=13]="OP_MSG_SPC",e[e.MSG_ARG=14]="MSG_ARG",e[e.MSG_PAYLOAD=15]="MSG_PAYLOAD",e[e.MSG_END=16]="MSG_END",e[e.OP_H=17]="OP_H",e[e.OP_P=18]="OP_P",e[e.OP_PI=19]="OP_PI",e[e.OP_PIN=20]="OP_PIN",e[e.OP_PING=21]="OP_PING",e[e.OP_PO=22]="OP_PO",e[e.OP_PON=23]="OP_PON",e[e.OP_PONG=24]="OP_PONG",e[e.OP_I=25]="OP_I",e[e.OP_IN=26]="OP_IN",e[e.OP_INF=27]="OP_INF",e[e.OP_INFO=28]="OP_INFO",e[e.OP_INFO_SPC=29]="OP_INFO_SPC",e[e.INFO_ARG=30]="INFO_ARG"})(X||(X={}));var Q;(function(e){e[e.CR="\r".charCodeAt(0)]="CR",e[e.E="E".charCodeAt(0)]="E",e[e.e="e".charCodeAt(0)]="e",e[e.F="F".charCodeAt(0)]="F",e[e.f="f".charCodeAt(0)]="f",e[e.G="G".charCodeAt(0)]="G",e[e.g="g".charCodeAt(0)]="g",e[e.H="H".charCodeAt(0)]="H",e[e.h="h".charCodeAt(0)]="h",e[e.I="I".charCodeAt(0)]="I",e[e.i="i".charCodeAt(0)]="i",e[e.K="K".charCodeAt(0)]="K",e[e.k="k".charCodeAt(0)]="k",e[e.M="M".charCodeAt(0)]="M",e[e.m="m".charCodeAt(0)]="m",e[e.MINUS="-".charCodeAt(0)]="MINUS",e[e.N="N".charCodeAt(0)]="N",e[e.n="n".charCodeAt(0)]="n",e[e.NL=`
`.charCodeAt(0)]="NL",e[e.O="O".charCodeAt(0)]="O",e[e.o="o".charCodeAt(0)]="o",e[e.P="P".charCodeAt(0)]="P",e[e.p="p".charCodeAt(0)]="p",e[e.PLUS="+".charCodeAt(0)]="PLUS",e[e.R="R".charCodeAt(0)]="R",e[e.r="r".charCodeAt(0)]="r",e[e.S="S".charCodeAt(0)]="S",e[e.s="s".charCodeAt(0)]="s",e[e.SPACE=" ".charCodeAt(0)]="SPACE",e[e.TAB="	".charCodeAt(0)]="TAB"})(Q||(Q={}));const J_=1024*32,X_=/^INFO\s+([^\r\n]+)\r\n/i;function nr(e=""){if(e=e||"_INBOX",typeof e!="string")throw new Error("prefix must be a string");return`${e}.${oi.next()}`}class Q_{constructor(){_(this,"baseInbox");_(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(t){return this.baseInbox=`${nr(t)}.`,this.baseInbox}add(t){isNaN(t.received)||(t.received=0),this.reqs.set(t.token,t)}get(t){return this.reqs.get(t)}cancel(t){this.reqs.delete(t.token)}getToken(t){const r=t.subject||"";return r.indexOf(this.baseInbox)===0?r.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(t,r){if(r&&r.permissionContext){if(t)return this.all().forEach(s=>{s.resolver(r,{})}),!0;const n=r.permissionContext;if(n.operation==="publish"){const s=this.all().find(i=>i.requestSubject===n.subject);if(s)return s.resolver(r,{}),!0}}return!1}dispatcher(){return(t,r)=>{const n=this.getToken(r);if(n){const s=this.get(n);s&&(t===null&&r.headers&&(t=tf(r)),s.resolver(t,r))}}}close(){const t=le.errorForCode(Z.Timeout);this.reqs.forEach(r=>{r.resolver(t,{})})}}const Z_=Cn(`PONG\r
`),Qc=Cn(`PING\r
`);class eb{constructor(t,r,n){_(this,"echo");_(this,"no_responders");_(this,"protocol");_(this,"verbose");_(this,"pedantic");_(this,"jwt");_(this,"nkey");_(this,"sig");_(this,"user");_(this,"pass");_(this,"auth_token");_(this,"tls_required");_(this,"name");_(this,"lang");_(this,"version");_(this,"headers");this.protocol=1,this.version=t.version,this.lang=t.lang,this.echo=r.noEcho?!1:void 0,this.verbose=r.verbose,this.pedantic=r.pedantic,this.tls_required=r.tls?!0:void 0,this.name=r.name;const s=(r&&r.authenticator?r.authenticator(n):{})||{};si(this,s)}}class js{constructor(t,r){_(this,"connected");_(this,"connectedOnce");_(this,"infoReceived");_(this,"info");_(this,"muxSubscriptions");_(this,"options");_(this,"outbound");_(this,"pongs");_(this,"subscriptions");_(this,"transport");_(this,"noMorePublishing");_(this,"connectError");_(this,"publisher");_(this,"_closed");_(this,"closed");_(this,"listeners");_(this,"heartbeats");_(this,"parser");_(this,"outMsgs");_(this,"inMsgs");_(this,"outBytes");_(this,"inBytes");_(this,"pendingLimit");_(this,"lastError");_(this,"abortReconnect");_(this,"servers");_(this,"server");_(this,"features");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=J_,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=t,this.publisher=r,this.subscriptions=new z_,this.muxSubscriptions=new Q_,this.outbound=new Zn,this.pongs=[],this.pendingLimit=t.pendingLimit||this.pendingLimit,this.features=new w_({major:0,minor:0,micro:0});const n=typeof t.servers=="string"?[t.servers]:t.servers;this.servers=new W_(n,{randomize:!t.noRandomize}),this.closed=ze(),this.parser=new Xc(this),this.heartbeats=new V_(this,this.options.pingInterval||Qu,this.options.maxPingOut||i_)}resetOutbound(){this.outbound.reset();const t=this.pongs;this.pongs=[];const r=le.errorForCode(Z.Disconnect);r.stack="",t.forEach(n=>{n.reject(r)}),this.parser=new Xc(this),this.infoReceived=!1}dispatchStatus(t){this.listeners.forEach(r=>{r.push(t)})}status(){const t=new xt;return this.listeners.push(t),t}prepare(){this.info=void 0,this.resetOutbound();const t=ze();return t.catch(()=>{}),this.pongs.unshift(t),this.connectError=r=>{t.reject(r)},this.transport=M_(),this.transport.closed().then(async r=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),t}disconnect(){this.dispatchStatus({type:Hn.StaleConnection,data:""}),this.transport.disconnect()}async disconnected(t){this.dispatchStatus({type:tr.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{this.dispatchStatus({type:tr.Reconnect,data:this.servers.getCurrentServer().toString()})}).catch(r=>{this._close(r)}):await this._close(t)}async dial(t){const r=this.prepare();let n;try{n=ii(this.options.timeout||2e4);const s=this.transport.connect(t,this.options);await Promise.race([s,n]),(async()=>{try{for await(const i of this.transport)this.parser.parse(i)}catch(i){console.log("reader closed",i)}})().then()}catch(s){r.reject(s)}try{await Promise.race([n,r]),n&&n.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(s){throw n&&n.cancel(),await this.transport.close(s),s}}async _doDial(t){const r=await t.resolve({fn:uf(),debug:this.options.debug,randomize:!this.options.noRandomize});let n=null;for(const s of r)try{n=null,this.dispatchStatus({type:Hn.Reconnecting,data:s.toString()}),await this.dial(s);return}catch(i){n=i}throw n}async dialLoop(){let t;for(;;){this._closed&&this.servers.clear();const r=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():Xu;let n=r;const s=this.selectServer();if(!s||this.abortReconnect)throw t||(this.lastError?this.lastError:le.errorForCode(Z.ConnectionRefused));const i=Date.now();if(s.lastConnect===0||s.lastConnect+r<=i){s.lastConnect=Date.now();try{await this._doDial(s);break}catch(o){if(t=o,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}s.reconnects++;const a=this.options.maxReconnectAttempts||0;a!==-1&&s.reconnects>=a&&this.servers.removeCurrentServer()}}else n=Math.min(n,s.lastConnect+r-i),await Jo(n)}}static async connect(t,r){const n=new js(t,r);return await n.dialLoop(),n}static toError(t){const r=t?t.toLowerCase():"";if(r.indexOf("permissions violation")!==-1){const n=new le(t,Z.PermissionsViolation),s=t.match(/(Publish|Subscription) to "(\S+)"/);return s&&(n.permissionContext={operation:s[1].toLowerCase(),subject:s[2]}),n}else return r.indexOf("authorization violation")!==-1?new le(t,Z.AuthorizationViolation):r.indexOf("user authentication expired")!==-1?new le(t,Z.AuthenticationExpired):new le(t,Z.ProtocolError)}processMsg(t,r){if(this.inMsgs++,this.inBytes+=r.length,!this.subscriptions.sidCounter)return;const n=this.subscriptions.get(t.sid);n&&(n.received+=1,n.callback&&n.callback(null,new rf(t,r,this)),n.max!==void 0&&n.received>=n.max&&n.unsubscribe())}processError(t){const r=Dc(t),n=js.toError(r),s={type:tr.Error,data:n.code};if(n.isPermissionError()){let i=!1;if(n.permissionContext){s.permissionContext=n.permissionContext;const o=this.subscriptions.getMux();i=(o==null?void 0:o.subject)===n.permissionContext.subject}this.subscriptions.handleError(n),this.muxSubscriptions.handleError(i,n),i&&this.subscriptions.setMux(null)}this.dispatchStatus(s),this.handleError(n)}handleError(t){t.isAuthError()&&this.handleAuthError(t),t.isProtocolError()&&(this.lastError=t),t.isPermissionError()||(this.lastError=t)}handleAuthError(t){this.lastError&&t.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(t):this.disconnect()}processPing(){this.transport.send(Z_)}processPong(){const t=this.pongs.shift();t&&t.resolve()}processInfo(t){const r=JSON.parse(Dc(t));this.info=r;const n=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(r);if(!this.infoReceived){this.features.update(Rr(r.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:i,lang:o}=this.transport;try{const a=new eb({version:i,lang:o},this.options,r.nonce);r.headers&&(a.headers=!0,a.no_responders=!0);const c=JSON.stringify(a);this.transport.send(Cn(`CONNECT ${c}${Ar}`)),this.transport.send(Qc)}catch(a){this._close(a)}}n&&this.dispatchStatus({type:tr.Update,data:n}),(r.ldm!==void 0?r.ldm:!1)&&this.dispatchStatus({type:tr.LDM,data:this.servers.getCurrentServer().toString()})}push(t){switch(t.kind){case ot.MSG:{const{msg:r,data:n}=t;this.processMsg(r,n);break}case ot.OK:break;case ot.ERR:this.processError(t.data);break;case ot.PING:this.processPing();break;case ot.PONG:this.processPong();break;case ot.INFO:this.processInfo(t.data);break}}sendCommand(t,...r){const n=this.outbound.length();let s;typeof t=="string"?s=Cn(t):s=t,this.outbound.fill(s,...r),n===0?setTimeout(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(t,r,n){let s=r.length;n=n||{},n.reply=n.reply||"";let i=at,o=0;if(n.headers){if(this.info&&!this.info.headers)throw new le("headers",Z.ServerOptionNotAvailable);i=n.headers.encode(),o=i.length,s=r.length+o}if(this.info&&s>this.info.max_payload)throw le.errorForCode(Z.MaxPayloadExceeded);this.outBytes+=s,this.outMsgs++;let a;n.headers?(n.reply?a=`HPUB ${t} ${n.reply} ${o} ${s}${Ar}`:a=`HPUB ${t} ${o} ${s}\r
`,this.sendCommand(a,i,r,Ns)):(n.reply?a=`PUB ${t} ${n.reply} ${s}\r
`:a=`PUB ${t} ${s}\r
`,this.sendCommand(a,r,Ns))}request(t){return this.initMux(),this.muxSubscriptions.add(t),t}subscribe(t){return this.subscriptions.add(t),this._subunsub(t),t}_sub(t){t.queue?this.sendCommand(`SUB ${t.subject} ${t.queue} ${t.sid}\r
`):this.sendCommand(`SUB ${t.subject} ${t.sid}\r
`)}_subunsub(t){return this._sub(t),t.max&&this.unsubscribe(t,t.max),t}unsubscribe(t,r){this.unsub(t,r),(t.max===void 0||t.received>=t.max)&&this.subscriptions.cancel(t)}unsub(t,r){!t||this.isClosed()||(r?this.sendCommand(`UNSUB ${t.sid} ${r}${Ar}`):this.sendCommand(`UNSUB ${t.sid}${Ar}`),t.max=r)}resub(t,r){!t||this.isClosed()||(t.subject=r,this.subscriptions.resub(t),this._sub(t))}flush(t){return t||(t=ze()),this.pongs.push(t),this.sendCommand(Qc),t}sendSubscriptions(){const t=[];this.subscriptions.all().forEach(r=>{const n=r;n.queue?t.push(`SUB ${n.subject} ${n.queue} ${n.sid}${Ar}`):t.push(`SUB ${n.subject} ${n.sid}${Ar}`)}),t.length&&this.transport.send(Cn(t.join("")))}async _close(t){this._closed||(this.heartbeats.cancel(),this.connectError&&(this.connectError(t),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(r=>{r.stop()}),this._closed=!0,await this.transport.close(t),await this.closed.resolve(t))}close(){return this._close()}isClosed(){return this._closed}drain(){const t=this.subscriptions.all(),r=[];return t.forEach(n=>{r.push(n.drain())}),Promise.all(r).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const t=this.outbound.drain();this.transport.send(t)}}initMux(){if(!this.subscriptions.getMux()){const r=this.muxSubscriptions.init(this.options.inboxPrefix),n=new df(this,`${r}*`);n.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(n),this.subscribe(n)}}selectServer(){const t=this.servers.selectServer();if(t!==void 0)return this.server=t,this.server}getServer(){return this.server}}function sr(e){return new tb(e)}class tb{constructor(t){_(this,"config");_(this,"ordered");_(this,"mack");_(this,"stream");_(this,"callbackFn");_(this,"max");_(this,"qname");_(this,"isBind");this.stream="",this.mack=!1,this.ordered=!1,this.config=__("",t||{})}getOpts(){const t={};return t.config=this.config,t.mack=this.mack,t.stream=this.stream,t.callbackFn=this.callbackFn,t.max=this.max,t.queue=this.qname,t.ordered=this.ordered,t.config.ack_policy=t.ordered?et.None:t.config.ack_policy,t.isBind=t.isBind||!1,t}description(t){return this.config.description=t,this}deliverTo(t){return this.config.deliver_subject=t,this}durable(t){return Jr(t),this.config.durable_name=t,this}startSequence(t){if(t<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=yt.StartSequence,this.config.opt_start_seq=t,this}startTime(t){return this.config.deliver_policy=yt.StartTime,this.config.opt_start_time=t.toISOString(),this}deliverAll(){return this.config.deliver_policy=yt.All,this}deliverLastPerSubject(){return this.config.deliver_policy=yt.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=yt.Last,this}deliverNew(){return this.config.deliver_policy=yt.New,this}startAtTimeDelta(t){return this.startTime(new Date(Date.now()-t)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=et.None,this}ackAll(){return this.config.ack_policy=et.All,this}ackExplicit(){return this.config.ack_policy=et.Explicit,this}ackWait(t){return this.config.ack_wait=Ge(t),this}maxDeliver(t){return this.config.max_deliver=t,this}filterSubject(t){return this.config.filter_subject=t,this}replayInstantly(){return this.config.replay_policy=sn.Instant,this}replayOriginal(){return this.config.replay_policy=sn.Original,this}sample(t){if(t=Math.trunc(t),t<0||t>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${t}%`,this}limit(t){return this.config.rate_limit_bps=t,this}maxWaiting(t){return this.config.max_waiting=t,this}maxAckPending(t){return this.config.max_ack_pending=t,this}idleHeartbeat(t){return this.config.idle_heartbeat=Ge(t),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(t){return this.queue(t),this}manualAck(){return this.mack=!0,this}maxMessages(t){return this.max=t,this}callback(t){return this.callbackFn=t,this}queue(t){return this.qname=t,this.config.deliver_group=t,this}orderedConsumer(){return this.ordered=!0,this}bind(t,r){return this.stream=t,this.config.durable_name=r,this.isBind=!0,this}bindStream(t){return this.stream=t,this}inactiveEphemeralThreshold(t){return this.config.inactive_threshold=Ge(t),this}maxPullBatch(t){return this.config.max_batch=t,this}maxPullRequestExpires(t){return this.config.max_expires=Ge(t),this}memory(){return this.config.mem_storage=!0,this}numReplicas(t){return this.config.num_replicas=t,this}}function Zc(e){return typeof e.getOpts=="function"}class pf{constructor(t,r,n={maxOut:2}){_(this,"interval");_(this,"maxOut");_(this,"cancelAfter");_(this,"timer");_(this,"autoCancelTimer");_(this,"last");_(this,"missed");_(this,"count");_(this,"callback");this.interval=t,this.maxOut=(n==null?void 0:n.maxOut)||2,this.cancelAfter=(n==null?void 0:n.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=r,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0}work(){this.last=Date.now(),this.missed=0}_change(t,r=0,n=2){this.interval=t,this.maxOut=n,this.cancelAfter=r,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.interval>this.last&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(t){console.log(t)}},this.interval)}}class el{static encode(t){if(typeof t=="string")return btoa(t);const r=Array.from(t);return btoa(String.fromCharCode(...r))}static decode(t,r=!1){const n=atob(t);return r?Uint8Array.from(n,s=>s.charCodeAt(0)):n}}class $s{static encode(t){return $s.toB64URLEncoding(el.encode(t))}static decode(t,r=!1){return el.decode($s.fromB64URLEncoding(t),r)}static toB64URLEncoding(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}function tl(e){const t=e.length;let r=e.indexOf("=");r===-1&&(r=t);const n=r===t?0:4-r%4;return[r,n]}function rb(e,t,r=!1){function n(o,a){return Math.floor((o+a)*3/4-a)}function s(o){return e[o>>18&63]+e[o>>12&63]+e[o>>6&63]+e[o&63]}function i(o,a,c){const l=new Array((c-a)/3);for(let u=a,f=0;u<c;u+=3)l[f++]=s((o[u]<<16)+(o[u+1]<<8)+o[u+2]);return l.join("")}return{byteLength(o){return n.apply(null,tl(o))},toUint8Array(o){const[a,c]=tl(o),l=new Uint8Array(n(a,c)),u=c?a-4:a;let f,d=0,b;for(b=0;b<u;b+=4)f=t[o.charCodeAt(b)]<<18|t[o.charCodeAt(b+1)]<<12|t[o.charCodeAt(b+2)]<<6|t[o.charCodeAt(b+3)],l[d++]=f>>16&255,l[d++]=f>>8&255,l[d++]=f&255;return c===2?(f=t[o.charCodeAt(b)]<<2|t[o.charCodeAt(b+1)]>>4,l[d++]=f&255):c===1&&(f=t[o.charCodeAt(b)]<<10|t[o.charCodeAt(b+1)]<<4|t[o.charCodeAt(b+2)]>>2,l[d++]=f>>8&255,l[d++]=f&255),l},fromUint8Array(o){const c=o.length,l=c%3,u=c-l,f=new Array(Math.ceil(u/16383)+(l?1:0));let d=0,b;for(let I=0;I<u;I+=16383)b=I+16383,f[d++]=i(o,I,b>u?u:b);let S;return l===1?(S=o[u],f[d]=e[S>>2]+e[S<<4&63],r||(f[d]+="==")):l===2&&(S=o[u]<<8|o[u+1]&255,f[d]=e[S>>10]+e[S>>4&63]+e[S<<2&63],r||(f[d]+="=")),f.join("")}}}const mf=[],gf=[],Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let e=0,t=Ri.length;e<t;++e)mf[e]=Ri[e],gf[Ri.charCodeAt(e)]=e;const{byteLength:hy,toUint8Array:nb,fromUint8Array:sb}=rb(mf,gf,!0),ib=new TextDecoder,ob=new TextEncoder;function ab(e){return e.reduce((t,r)=>`${t}${r<16?"0":""}${r.toString(16)}`,"")}function cb(e){const t=e.length;if(t%2||!/^[0-9a-fA-F]+$/.test(e))throw new TypeError("Invalid hex string.");e=e.toLowerCase();const r=new Uint8Array(Math.floor(t/2)),n=t/2;for(let s=0;s<n;++s)r[s]=parseInt(e.substr(s*2,2),16);return r}function lb(e,t="utf8"){if(/^utf-?8$/i.test(t))return ib.decode(e);if(/^base64$/i.test(t))return sb(e);if(/^hex(?:adecimal)?$/i.test(t))return ab(e);throw new TypeError("Unsupported string encoding.")}function ub(e,t="utf8"){if(/^utf-?8$/i.test(t))return ob.encode(e);if(/^base64$/i.test(t))return nb(e);if(/^hex(?:adecimal)?$/i.test(t))return cb(e);throw new TypeError("Unsupported string encoding.")}class rl{constructor(){_(this,"hashSize",32);_(this,"_buf");_(this,"_bufIdx");_(this,"_count");_(this,"_K");_(this,"_H");_(this,"_finalized");this._buf=new Uint8Array(64),this._K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),this.init()}init(){return this._H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this._bufIdx=0,this._count=new Uint32Array(2),this._buf.fill(0),this._finalized=!1,this}update(t,r){if(t===null)throw new TypeError("msg must be a string or Uint8Array.");typeof t=="string"&&(t=ub(t,r));for(let s=0,i=t.length;s<i;s++)this._buf[this._bufIdx++]=t[s],this._bufIdx===64&&(this._transform(),this._bufIdx=0);const n=this._count;return(n[0]+=t.length<<3)<t.length<<3&&n[1]++,n[1]+=t.length>>>29,this}digest(t){if(this._finalized)throw new Error("digest has already been called.");this._finalized=!0;const r=this._buf;let n=this._bufIdx;for(r[n++]=128;n!==56;)n===64&&(this._transform(),n=0),r[n++]=0;const s=this._count;r[56]=s[1]>>>24&255,r[57]=s[1]>>>16&255,r[58]=s[1]>>>8&255,r[59]=s[1]>>>0&255,r[60]=s[0]>>>24&255,r[61]=s[0]>>>16&255,r[62]=s[0]>>>8&255,r[63]=s[0]>>>0&255,this._transform();const i=new Uint8Array(32);for(let o=0;o<8;o++)i[(o<<2)+0]=this._H[o]>>>24&255,i[(o<<2)+1]=this._H[o]>>>16&255,i[(o<<2)+2]=this._H[o]>>>8&255,i[(o<<2)+3]=this._H[o]>>>0&255;return this.init(),t?lb(i,t):i}_transform(){const t=this._H;let r=t[0],n=t[1],s=t[2],i=t[3],o=t[4],a=t[5],c=t[6],l=t[7];const u=new Uint32Array(16);let f;for(f=0;f<16;f++)u[f]=this._buf[(f<<2)+3]|this._buf[(f<<2)+2]<<8|this._buf[(f<<2)+1]<<16|this._buf[f<<2]<<24;for(f=0;f<64;f++){let d;if(f<16)d=u[f];else{let b=u[f+1&15],S=u[f+14&15];d=u[f&15]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+u[f&15]+u[f+9&15]|0}d=d+l+(o>>>6^o>>>11^o>>>25^o<<26^o<<21^o<<7)+(c^o&(a^c))+this._K[f]|0,l=c,c=a,a=o,o=i+d,i=s,s=n,n=r,r=d+(n&s^i&(n^s))+(n>>>2^n>>>13^n>>>22^n<<30^n<<19^n<<10)|0}t[0]=t[0]+r|0,t[1]=t[1]+n|0,t[2]=t[2]+s|0,t[3]=t[3]+i|0,t[4]=t[4]+o|0,t[5]=t[5]+a|0,t[6]=t[6]+c|0,t[7]=t[7]+l|0}}class fb extends es{constructor(t,r){super(t,r)}async getMessage(t,r){dt(t);let n=r;const{last_by_subj:s}=n;s&&(n=null);const i=n?this.jc.encode(n):at,o=this.opts.apiPrefix||"$JS.API",a=s?`${o}.DIRECT.GET.${t}.${s}`:`${o}.DIRECT.GET.${t}`,c=await this.nc.request(a,i),l=Xr(c);if(l)return Promise.reject(l);const u=new hb(c);return Promise.resolve(u)}}class hb{constructor(t){_(this,"data");_(this,"header");if(!t.headers)throw new Error("headers expected");this.data=t.data,this.header=t.headers}get subject(){return this.header.get(zr.Subject)}get seq(){const t=this.header.get(zr.Sequence);return typeof t=="string"?parseInt(t):0}get time(){return new Date(Date.parse(this.header.get(zr.TimeStamp)))}get stream(){return this.header.get(zr.Stream)}}(function(e){var t=function(h,m){this.hi=h|0,this.lo=m|0},r=function(h){var m,p=new Float64Array(16);if(h)for(m=0;m<h.length;m++)p[m]=h[m];return p},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=r(),a=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(h,m){return h<<m|h>>>32-m}function I(h,m){var p=h[m+3]&255;return p=p<<8|h[m+2]&255,p=p<<8|h[m+1]&255,p<<8|h[m+0]&255}function H(h,m){var p=h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3],y=h[m+4]<<24|h[m+5]<<16|h[m+6]<<8|h[m+7];return new t(p,y)}function T(h,m,p){var y;for(y=0;y<4;y++)h[m+y]=p&255,p>>>=8}function L(h,m,p){h[m]=p.hi>>24&255,h[m+1]=p.hi>>16&255,h[m+2]=p.hi>>8&255,h[m+3]=p.hi&255,h[m+4]=p.lo>>24&255,h[m+5]=p.lo>>16&255,h[m+6]=p.lo>>8&255,h[m+7]=p.lo&255}function q(h,m,p,y,x){var v,j=0;for(v=0;v<x;v++)j|=h[m+v]^p[y+v];return(1&j-1>>>8)-1}function V(h,m,p,y){return q(h,m,p,y,16)}function D(h,m,p,y){return q(h,m,p,y,32)}function ue(h,m,p,y,x){var v=new Uint32Array(16),j=new Uint32Array(16),B=new Uint32Array(16),A=new Uint32Array(4),F,oe,Se;for(F=0;F<4;F++)j[5*F]=I(y,4*F),j[1+F]=I(p,4*F),j[6+F]=I(m,4*F),j[11+F]=I(p,16+4*F);for(F=0;F<16;F++)B[F]=j[F];for(F=0;F<20;F++){for(oe=0;oe<4;oe++){for(Se=0;Se<4;Se++)A[Se]=j[(5*oe+4*Se)%16];for(A[1]^=S(A[0]+A[3]|0,7),A[2]^=S(A[1]+A[0]|0,9),A[3]^=S(A[2]+A[1]|0,13),A[0]^=S(A[3]+A[2]|0,18),Se=0;Se<4;Se++)v[4*oe+(oe+Se)%4]=A[Se]}for(Se=0;Se<16;Se++)j[Se]=v[Se]}if(x){for(F=0;F<16;F++)j[F]=j[F]+B[F]|0;for(F=0;F<4;F++)j[5*F]=j[5*F]-I(y,4*F)|0,j[6+F]=j[6+F]-I(m,4*F)|0;for(F=0;F<4;F++)T(h,4*F,j[5*F]),T(h,16+4*F,j[6+F])}else for(F=0;F<16;F++)T(h,4*F,j[F]+B[F]|0)}function re(h,m,p,y){return ue(h,m,p,y,!1),0}function ne(h,m,p,y){return ue(h,m,p,y,!0),0}var ge=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function we(h,m,p,y,x,v,j){var B=new Uint8Array(16),A=new Uint8Array(64),F,oe;if(!x)return 0;for(oe=0;oe<16;oe++)B[oe]=0;for(oe=0;oe<8;oe++)B[oe]=v[oe];for(;x>=64;){for(re(A,B,j,ge),oe=0;oe<64;oe++)h[m+oe]=(p?p[y+oe]:0)^A[oe];for(F=1,oe=8;oe<16;oe++)F=F+(B[oe]&255)|0,B[oe]=F&255,F>>>=8;x-=64,m+=64,p&&(y+=64)}if(x>0)for(re(A,B,j,ge),oe=0;oe<x;oe++)h[m+oe]=(p?p[y+oe]:0)^A[oe];return 0}function Oe(h,m,p,y,x){return we(h,m,null,0,p,y,x)}function Ne(h,m,p,y,x){var v=new Uint8Array(32);return ne(v,y,x,ge),Oe(h,m,p,y.subarray(16),v)}function De(h,m,p,y,x,v,j){var B=new Uint8Array(32);return ne(B,v,j,ge),we(h,m,p,y,x,v.subarray(16),B)}function k(h,m){var p,y=0;for(p=0;p<17;p++)y=y+(h[p]+m[p]|0)|0,h[p]=y&255,y>>>=8}var P=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function fe(h,m,p,y,x,v){var j,B,A,F,oe=new Uint32Array(17),Se=new Uint32Array(17),Be=new Uint32Array(17),Nt=new Uint32Array(17),Ur=new Uint32Array(17);for(A=0;A<17;A++)Se[A]=Be[A]=0;for(A=0;A<16;A++)Se[A]=v[A];for(Se[3]&=15,Se[4]&=252,Se[7]&=15,Se[8]&=252,Se[11]&=15,Se[12]&=252,Se[15]&=15;x>0;){for(A=0;A<17;A++)Nt[A]=0;for(A=0;A<16&&A<x;++A)Nt[A]=p[y+A];for(Nt[A]=1,y+=A,x-=A,k(Be,Nt),B=0;B<17;B++)for(oe[B]=0,A=0;A<17;A++)oe[B]=oe[B]+Be[A]*(A<=B?Se[B-A]:320*Se[B+17-A]|0)|0|0;for(B=0;B<17;B++)Be[B]=oe[B];for(F=0,A=0;A<16;A++)F=F+Be[A]|0,Be[A]=F&255,F>>>=8;for(F=F+Be[16]|0,Be[16]=F&3,F=5*(F>>>2)|0,A=0;A<16;A++)F=F+Be[A]|0,Be[A]=F&255,F>>>=8;F=F+Be[16]|0,Be[16]=F}for(A=0;A<17;A++)Ur[A]=Be[A];for(k(Be,P),j=-(Be[16]>>>7)|0,A=0;A<17;A++)Be[A]^=j&(Ur[A]^Be[A]);for(A=0;A<16;A++)Nt[A]=v[A+16];for(Nt[16]=0,k(Be,Nt),A=0;A<16;A++)h[m+A]=Be[A];return 0}function se(h,m,p,y,x,v){var j=new Uint8Array(16);return fe(j,0,p,y,x,v),V(h,m,j,0)}function ce(h,m,p,y,x){var v;if(p<32)return-1;for(De(h,0,m,0,p,y,x),fe(h,16,h,32,p-32,h),v=0;v<16;v++)h[v]=0;return 0}function be(h,m,p,y,x){var v,j=new Uint8Array(32);if(p<32||(Ne(j,0,32,y,x),se(m,16,m,32,p-32,j)!==0))return-1;for(De(h,0,m,0,p,y,x),v=0;v<32;v++)h[v]=0;return 0}function he(h,m){var p;for(p=0;p<16;p++)h[p]=m[p]|0}function de(h){var m,p;for(p=0;p<16;p++)h[p]+=65536,m=Math.floor(h[p]/65536),h[(p+1)*(p<15?1:0)]+=m-1+37*(m-1)*(p===15?1:0),h[p]-=m*65536}function _e(h,m,p){for(var y,x=~(p-1),v=0;v<16;v++)y=x&(h[v]^m[v]),h[v]^=y,m[v]^=y}function $e(h,m){var p,y,x,v=r(),j=r();for(p=0;p<16;p++)j[p]=m[p];for(de(j),de(j),de(j),y=0;y<2;y++){for(v[0]=j[0]-65517,p=1;p<15;p++)v[p]=j[p]-65535-(v[p-1]>>16&1),v[p-1]&=65535;v[15]=j[15]-32767-(v[14]>>16&1),x=v[15]>>16&1,v[14]&=65535,_e(j,v,1-x)}for(p=0;p<16;p++)h[2*p]=j[p]&255,h[2*p+1]=j[p]>>8}function Ae(h,m){var p=new Uint8Array(32),y=new Uint8Array(32);return $e(p,h),$e(y,m),D(p,0,y,0)}function N(h){var m=new Uint8Array(32);return $e(m,h),m[0]&1}function K(h,m){var p;for(p=0;p<16;p++)h[p]=m[2*p]+(m[2*p+1]<<8);h[15]&=32767}function $(h,m,p){var y;for(y=0;y<16;y++)h[y]=m[y]+p[y]|0}function te(h,m,p){var y;for(y=0;y<16;y++)h[y]=m[y]-p[y]|0}function ee(h,m,p){var y,x,v=new Float64Array(31);for(y=0;y<31;y++)v[y]=0;for(y=0;y<16;y++)for(x=0;x<16;x++)v[y+x]+=m[y]*p[x];for(y=0;y<15;y++)v[y]+=38*v[y+16];for(y=0;y<16;y++)h[y]=v[y];de(h),de(h)}function ye(h,m){ee(h,m,m)}function pe(h,m){var p=r(),y;for(y=0;y<16;y++)p[y]=m[y];for(y=253;y>=0;y--)ye(p,p),y!==2&&y!==4&&ee(p,p,m);for(y=0;y<16;y++)h[y]=p[y]}function g(h,m){var p=r(),y;for(y=0;y<16;y++)p[y]=m[y];for(y=250;y>=0;y--)ye(p,p),y!==1&&ee(p,p,m);for(y=0;y<16;y++)h[y]=p[y]}function w(h,m,p){var y=new Uint8Array(32),x=new Float64Array(80),v,j,B=r(),A=r(),F=r(),oe=r(),Se=r(),Be=r();for(j=0;j<31;j++)y[j]=m[j];for(y[31]=m[31]&127|64,y[0]&=248,K(x,p),j=0;j<16;j++)A[j]=x[j],oe[j]=B[j]=F[j]=0;for(B[0]=oe[0]=1,j=254;j>=0;--j)v=y[j>>>3]>>>(j&7)&1,_e(B,A,v),_e(F,oe,v),$(Se,B,F),te(B,B,F),$(F,A,oe),te(A,A,oe),ye(oe,Se),ye(Be,B),ee(B,F,B),ee(F,A,Se),$(Se,B,F),te(B,B,F),ye(A,B),te(F,oe,Be),ee(B,F,c),$(B,B,oe),ee(F,F,B),ee(B,oe,Be),ee(oe,A,x),ye(A,Se),_e(B,A,v),_e(F,oe,v);for(j=0;j<16;j++)x[j+16]=B[j],x[j+32]=F[j],x[j+48]=A[j],x[j+64]=oe[j];var Nt=x.subarray(32),Ur=x.subarray(16);return pe(Nt,Nt),ee(Ur,Ur,Nt),$e(h,Ur),0}function C(h,m){return w(h,m,i)}function M(h,m){return n(m,32),C(h,m)}function U(h,m,p){var y=new Uint8Array(32);return w(y,p,m),ne(h,s,y,ge)}var z=ce,J=be;function W(h,m,p,y,x,v){var j=new Uint8Array(32);return U(j,x,v),z(h,m,p,y,j)}function G(h,m,p,y,x,v){var j=new Uint8Array(32);return U(j,x,v),J(h,m,p,y,j)}function R(){var h=0,m=0,p=0,y=0,x=65535,v,j,B;for(B=0;B<arguments.length;B++)v=arguments[B].lo,j=arguments[B].hi,h+=v&x,m+=v>>>16,p+=j&x,y+=j>>>16;return m+=h>>>16,p+=m>>>16,y+=p>>>16,new t(p&x|y<<16,h&x|m<<16)}function E(h,m){return new t(h.hi>>>m,h.lo>>>m|h.hi<<32-m)}function O(){var h=0,m=0,p;for(p=0;p<arguments.length;p++)h^=arguments[p].lo,m^=arguments[p].hi;return new t(m,h)}function Y(h,m){var p,y,x=32-m;return m<32?(p=h.hi>>>m|h.lo<<x,y=h.lo>>>m|h.hi<<x):m<64&&(p=h.lo>>>m|h.hi<<x,y=h.hi>>>m|h.lo<<x),new t(p,y)}function ie(h,m,p){var y=h.hi&m.hi^~h.hi&p.hi,x=h.lo&m.lo^~h.lo&p.lo;return new t(y,x)}function xe(h,m,p){var y=h.hi&m.hi^h.hi&p.hi^m.hi&p.hi,x=h.lo&m.lo^h.lo&p.lo^m.lo&p.lo;return new t(y,x)}function Pe(h){return O(Y(h,28),Y(h,34),Y(h,39))}function Ee(h){return O(Y(h,14),Y(h,18),Y(h,41))}function Ue(h){return O(Y(h,1),Y(h,8),E(h,7))}function ut(h){return O(Y(h,19),Y(h,61),E(h,6))}var lr=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)];function fn(h,m,p){var y=[],x=[],v=[],j=[],B,A,F;for(A=0;A<8;A++)y[A]=v[A]=H(h,8*A);for(var oe=0;p>=128;){for(A=0;A<16;A++)j[A]=H(m,8*A+oe);for(A=0;A<80;A++){for(F=0;F<8;F++)x[F]=v[F];for(B=R(v[7],Ee(v[4]),ie(v[4],v[5],v[6]),lr[A],j[A%16]),x[7]=R(B,Pe(v[0]),xe(v[0],v[1],v[2])),x[3]=R(x[3],B),F=0;F<8;F++)v[(F+1)%8]=x[F];if(A%16===15)for(F=0;F<16;F++)j[F]=R(j[F],j[(F+9)%16],Ue(j[(F+1)%16]),ut(j[(F+14)%16]))}for(A=0;A<8;A++)v[A]=R(v[A],y[A]),y[A]=v[A];oe+=128,p-=128}for(A=0;A<8;A++)L(h,8*A,y[A]);return p}var xr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function Ut(h,m,p){var y=new Uint8Array(64),x=new Uint8Array(256),v,j=p;for(v=0;v<64;v++)y[v]=xr[v];for(fn(y,m,p),p%=128,v=0;v<256;v++)x[v]=0;for(v=0;v<p;v++)x[v]=m[j-p+v];for(x[p]=128,p=256-128*(p<112?1:0),x[p-9]=0,L(x,p-8,new t(j/536870912|0,j<<3)),fn(y,x,p),v=0;v<64;v++)h[v]=y[v];return 0}function Je(h,m){var p=r(),y=r(),x=r(),v=r(),j=r(),B=r(),A=r(),F=r(),oe=r();te(p,h[1],h[0]),te(oe,m[1],m[0]),ee(p,p,oe),$(y,h[0],h[1]),$(oe,m[0],m[1]),ee(y,y,oe),ee(x,h[3],m[3]),ee(x,x,u),ee(v,h[2],m[2]),$(v,v,v),te(j,y,p),te(B,v,x),$(A,v,x),$(F,y,p),ee(h[0],j,B),ee(h[1],F,A),ee(h[2],A,B),ee(h[3],j,F)}function mt(h,m,p){var y;for(y=0;y<4;y++)_e(h[y],m[y],p)}function Fr(h,m){var p=r(),y=r(),x=r();pe(x,m[2]),ee(p,m[0],x),ee(y,m[1],x),$e(h,y),h[31]^=N(p)<<7}function ci(h,m,p){var y,x;for(he(h[0],o),he(h[1],a),he(h[2],a),he(h[3],o),x=255;x>=0;--x)y=p[x/8|0]>>(x&7)&1,mt(h,m,y),Je(m,h),Je(h,h),mt(h,m,y)}function ts(h,m){var p=[r(),r(),r(),r()];he(p[0],f),he(p[1],d),he(p[2],a),ee(p[3],f,d),ci(h,p,m)}function li(h,m,p){var y=new Uint8Array(64),x=[r(),r(),r(),r()],v;for(p||n(m,32),Ut(y,m,32),y[0]&=248,y[31]&=127,y[31]|=64,ts(x,y),Fr(h,x),v=0;v<32;v++)m[v+32]=h[v];return 0}var rs=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ui(h,m){var p,y,x,v;for(y=63;y>=32;--y){for(p=0,x=y-32,v=y-12;x<v;++x)m[x]+=p-16*m[y]*rs[x-(y-32)],p=Math.floor((m[x]+128)/256),m[x]-=p*256;m[x]+=p,m[y]=0}for(p=0,x=0;x<32;x++)m[x]+=p-(m[31]>>4)*rs[x],p=m[x]>>8,m[x]&=255;for(x=0;x<32;x++)m[x]-=p*rs[x];for(y=0;y<32;y++)m[y+1]+=m[y]>>8,h[y]=m[y]&255}function fi(h){var m=new Float64Array(64),p;for(p=0;p<64;p++)m[p]=h[p];for(p=0;p<64;p++)h[p]=0;ui(h,m)}function ra(h,m,p,y){var x=new Uint8Array(64),v=new Uint8Array(64),j=new Uint8Array(64),B,A,F=new Float64Array(64),oe=[r(),r(),r(),r()];Ut(x,y,32),x[0]&=248,x[31]&=127,x[31]|=64;var Se=p+64;for(B=0;B<p;B++)h[64+B]=m[B];for(B=0;B<32;B++)h[32+B]=x[32+B];for(Ut(j,h.subarray(32),p+32),fi(j),ts(oe,j),Fr(h,oe),B=32;B<64;B++)h[B]=y[B];for(Ut(v,h,p+64),fi(v),B=0;B<64;B++)F[B]=0;for(B=0;B<32;B++)F[B]=j[B];for(B=0;B<32;B++)for(A=0;A<32;A++)F[B+A]+=v[B]*x[A];return ui(h.subarray(32),F),Se}function vf(h,m){var p=r(),y=r(),x=r(),v=r(),j=r(),B=r(),A=r();return he(h[2],a),K(h[1],m),ye(x,h[1]),ee(v,x,l),te(x,x,h[2]),$(v,h[2],v),ye(j,v),ye(B,j),ee(A,B,j),ee(p,A,x),ee(p,p,v),g(p,p),ee(p,p,x),ee(p,p,v),ee(p,p,v),ee(h[0],p,v),ye(y,h[0]),ee(y,y,v),Ae(y,x)&&ee(h[0],h[0],b),ye(y,h[0]),ee(y,y,v),Ae(y,x)?-1:(N(h[0])===m[31]>>7&&te(h[0],o,h[0]),ee(h[3],h[0],h[1]),0)}function hi(h,m,p,y){var x,v=new Uint8Array(32),j=new Uint8Array(64),B=[r(),r(),r(),r()],A=[r(),r(),r(),r()];if(p<64||vf(A,y))return-1;for(x=0;x<p;x++)h[x]=m[x];for(x=0;x<32;x++)h[x+32]=y[x];if(Ut(j,h,p),fi(j),ci(B,A,j),ts(A,m.subarray(32)),Je(B,A),Fr(v,B),p-=64,D(m,0,v,0)){for(x=0;x<p;x++)h[x]=0;return-1}for(x=0;x<p;x++)h[x]=m[x+64];return p}var di=32,ns=24,hn=32,jr=16,dn=32,ss=32,pn=32,mn=32,pi=32,na=ns,Ef=hn,Sf=jr,Xt=64,vr=32,$r=64,mi=32,gi=64;e.lowlevel={crypto_core_hsalsa20:ne,crypto_stream_xor:De,crypto_stream:Ne,crypto_stream_salsa20_xor:we,crypto_stream_salsa20:Oe,crypto_onetimeauth:fe,crypto_onetimeauth_verify:se,crypto_verify_16:V,crypto_verify_32:D,crypto_secretbox:ce,crypto_secretbox_open:be,crypto_scalarmult:w,crypto_scalarmult_base:C,crypto_box_beforenm:U,crypto_box_afternm:z,crypto_box:W,crypto_box_open:G,crypto_box_keypair:M,crypto_hash:Ut,crypto_sign:ra,crypto_sign_keypair:li,crypto_sign_open:hi,crypto_secretbox_KEYBYTES:di,crypto_secretbox_NONCEBYTES:ns,crypto_secretbox_ZEROBYTES:hn,crypto_secretbox_BOXZEROBYTES:jr,crypto_scalarmult_BYTES:dn,crypto_scalarmult_SCALARBYTES:ss,crypto_box_PUBLICKEYBYTES:pn,crypto_box_SECRETKEYBYTES:mn,crypto_box_BEFORENMBYTES:pi,crypto_box_NONCEBYTES:na,crypto_box_ZEROBYTES:Ef,crypto_box_BOXZEROBYTES:Sf,crypto_sign_BYTES:Xt,crypto_sign_PUBLICKEYBYTES:vr,crypto_sign_SECRETKEYBYTES:$r,crypto_sign_SEEDBYTES:mi,crypto_hash_BYTES:gi,gf:r,D:l,L:rs,pack25519:$e,unpack25519:K,M:ee,A:$,S:ye,Z:te,pow2523:g,add:Je,set25519:he,modL:ui,scalarmult:ci,scalarbase:ts};function sa(h,m){if(h.length!==di)throw new Error("bad key size");if(m.length!==ns)throw new Error("bad nonce size")}function Of(h,m){if(h.length!==pn)throw new Error("bad public key size");if(m.length!==mn)throw new Error("bad secret key size")}function gt(){for(var h=0;h<arguments.length;h++)if(!(arguments[h]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ia(h){for(var m=0;m<h.length;m++)h[m]=0}e.randomBytes=function(h){var m=new Uint8Array(h);return n(m,h),m},e.secretbox=function(h,m,p){gt(h,m,p),sa(p,m);for(var y=new Uint8Array(hn+h.length),x=new Uint8Array(y.length),v=0;v<h.length;v++)y[v+hn]=h[v];return ce(x,y,y.length,m,p),x.subarray(jr)},e.secretbox.open=function(h,m,p){gt(h,m,p),sa(p,m);for(var y=new Uint8Array(jr+h.length),x=new Uint8Array(y.length),v=0;v<h.length;v++)y[v+jr]=h[v];return y.length<32||be(x,y,y.length,m,p)!==0?null:x.subarray(hn)},e.secretbox.keyLength=di,e.secretbox.nonceLength=ns,e.secretbox.overheadLength=jr,e.scalarMult=function(h,m){if(gt(h,m),h.length!==ss)throw new Error("bad n size");if(m.length!==dn)throw new Error("bad p size");var p=new Uint8Array(dn);return w(p,h,m),p},e.scalarMult.base=function(h){if(gt(h),h.length!==ss)throw new Error("bad n size");var m=new Uint8Array(dn);return C(m,h),m},e.scalarMult.scalarLength=ss,e.scalarMult.groupElementLength=dn,e.box=function(h,m,p,y){var x=e.box.before(p,y);return e.secretbox(h,m,x)},e.box.before=function(h,m){gt(h,m),Of(h,m);var p=new Uint8Array(pi);return U(p,h,m),p},e.box.after=e.secretbox,e.box.open=function(h,m,p,y){var x=e.box.before(p,y);return e.secretbox.open(h,m,x)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var h=new Uint8Array(pn),m=new Uint8Array(mn);return M(h,m),{publicKey:h,secretKey:m}},e.box.keyPair.fromSecretKey=function(h){if(gt(h),h.length!==mn)throw new Error("bad secret key size");var m=new Uint8Array(pn);return C(m,h),{publicKey:m,secretKey:new Uint8Array(h)}},e.box.publicKeyLength=pn,e.box.secretKeyLength=mn,e.box.sharedKeyLength=pi,e.box.nonceLength=na,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(h,m){if(gt(h,m),m.length!==$r)throw new Error("bad secret key size");var p=new Uint8Array(Xt+h.length);return ra(p,h,h.length,m),p},e.sign.open=function(h,m){if(gt(h,m),m.length!==vr)throw new Error("bad public key size");var p=new Uint8Array(h.length),y=hi(p,h,h.length,m);if(y<0)return null;for(var x=new Uint8Array(y),v=0;v<x.length;v++)x[v]=p[v];return x},e.sign.detached=function(h,m){for(var p=e.sign(h,m),y=new Uint8Array(Xt),x=0;x<y.length;x++)y[x]=p[x];return y},e.sign.detached.verify=function(h,m,p){if(gt(h,m,p),m.length!==Xt)throw new Error("bad signature size");if(p.length!==vr)throw new Error("bad public key size");var y=new Uint8Array(Xt+h.length),x=new Uint8Array(Xt+h.length),v;for(v=0;v<Xt;v++)y[v]=m[v];for(v=0;v<h.length;v++)y[v+Xt]=h[v];return hi(x,y,y.length,p)>=0},e.sign.keyPair=function(){var h=new Uint8Array(vr),m=new Uint8Array($r);return li(h,m),{publicKey:h,secretKey:m}},e.sign.keyPair.fromSecretKey=function(h){if(gt(h),h.length!==$r)throw new Error("bad secret key size");for(var m=new Uint8Array(vr),p=0;p<m.length;p++)m[p]=h[32+p];return{publicKey:m,secretKey:new Uint8Array(h)}},e.sign.keyPair.fromSeed=function(h){if(gt(h),h.length!==mi)throw new Error("bad seed size");for(var m=new Uint8Array(vr),p=new Uint8Array($r),y=0;y<32;y++)p[y]=h[y];return li(m,p,!0),{publicKey:m,secretKey:p}},e.sign.publicKeyLength=vr,e.sign.secretKeyLength=$r,e.sign.seedLength=mi,e.sign.signatureLength=Xt,e.hash=function(h){gt(h);var m=new Uint8Array(gi);return Ut(m,h,h.length),m},e.hash.hashLength=gi,e.verify=function(h,m){return gt(h,m),h.length===0||m.length===0||h.length!==m.length?!1:q(h,0,m,0,h.length)===0},e.setPRNG=function(h){n=h},function(){var h=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(h&&h.getRandomValues){var m=65536;e.setPRNG(function(p,y){var x,v=new Uint8Array(y);for(x=0;x<y;x+=m)h.getRandomValues(v.subarray(x,x+Math.min(y-x,m)));for(x=0;x<y;x++)p[x]=v[x];ia(v)})}else typeof require<"u"&&(h=require("crypto"),h&&h.randomBytes&&e.setPRNG(function(p,y){var x,v=h.randomBytes(y);for(x=0;x<y;x++)p[x]=v[x];ia(v)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const ps=typeof module<"u"&&module.exports?module.exports:globalThis.nacl;ps.sign.keyPair.fromSeed,ps.sign.detached,ps.sign.detached.verify,ps.randomBytes;var nl;(function(e){e.InvalidPrefixByte="nkeys: invalid prefix byte",e.InvalidKey="nkeys: invalid key",e.InvalidPublicKey="nkeys: invalid public key",e.InvalidSeedLen="nkeys: invalid seed length",e.InvalidSeed="nkeys: invalid seed",e.InvalidEncoding="nkeys: invalid encoded key",e.InvalidSignature="nkeys: signature verification failed",e.CannotSign="nkeys: cannot sign, no private key available",e.PublicKeyOnly="nkeys: no seed or private key available",e.InvalidChecksum="nkeys: invalid checksum",e.SerializationError="nkeys: serialization error",e.ApiError="nkeys: api error",e.ClearedPair="nkeys: pair is cleared"})(nl||(nl={}));var sl;(function(e){e[e.Seed=144]="Seed",e[e.Private=120]="Private",e[e.Operator=112]="Operator",e[e.Server=104]="Server",e[e.Cluster=16]="Cluster",e[e.Account=0]="Account",e[e.User=160]="User"})(sl||(sl={}));function db(e){return e.authenticator?e.authenticator:e.token?gb(e.token):e.user?mb(e.user,e.pass):pb()}function pb(){return()=>{}}function mb(e,t){return()=>{const r=typeof e=="function"?e():e,n=typeof t=="function"?t():t;return{user:r,pass:n}}}function gb(e){return()=>({auth_token:typeof e=="function"?e():e})}function _b(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:Qu,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:Xu,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function bb(e){const t=`${lo}:${lf()}`;if(e=e||{servers:[t]},e.servers=e.servers||[],typeof e.servers=="string"&&(e.servers=[e.servers]),e.servers.length>0&&e.port)throw new le("port and servers options are mutually exclusive",Z.InvalidOption);e.servers.length===0&&e.port&&(e.servers=[`${lo}:${e.port}`]),e.servers&&e.servers.length===0&&(e.servers=[t]);const r=si(_b(),e);if(e.user&&e.token||e.authenticator&&(e.token||e.user||e.pass))throw le.errorForCode(Z.BadAuthentication);if(r.authenticator=db(r),["reconnectDelayHandler","authenticator"].forEach(n=>{if(r[n]&&typeof r[n]!="function")throw new le(`${n} option should be a function`,Z.NotFunction)}),r.reconnectDelayHandler||(r.reconnectDelayHandler=()=>{let n=r.tls?r.reconnectJitterTLS:r.reconnectJitter;return n&&(n++,n=Math.floor(Math.random()*n)),r.reconnectTimeWait+n}),r.inboxPrefix)try{nr(r.inboxPrefix)}catch(n){throw new le(n.message,Z.ApiError)}if(r.resolve&&typeof uf()!="function")throw new le("'resolve' is not supported on this client",Z.InvalidOption);return r}function _f(){return{key:{encode(e){return e},decode(e){return e}},value:{encode(e){return e},decode(e){return e}}}}function yb(){return{replicas:1,history:1,timeout:2e3,maxBucketSize:-1,maxValueSize:-1,codec:_f(),storage:fo.File}}const ms="KV-Operation",Pt="KV_",il="$KV",wb=/^[-/=.\w]+$/,xb=/^[-/=.>*\w]+$/,vb=/^[-\w]+$/;function bf(e){if(e.startsWith(".")||e.endsWith(".")||!wb.test(e))throw new Error(`invalid key: ${e}`)}function Eb(e){if(e.startsWith(".")||e.endsWith(".")||!xb.test(e))throw new Error(`invalid key: ${e}`)}function Sb(e){if(e.startsWith(".")||e.endsWith("."))throw new Error(`invalid key: ${e}`);const t=e.split(".");let r=!1;for(let n=0;n<t.length;n++)switch(t[n]){case"*":r=!0;break;case">":if(n!==t.length-1)throw new Error(`invalid key: ${e}`);r=!0;break}return r}function xs(e){if(!vb.test(e))throw new Error(`invalid bucket name: ${e}`)}class zn{constructor(t,r,n){_(this,"jsm");_(this,"js");_(this,"stream");_(this,"bucket");_(this,"direct");_(this,"codec");_(this,"prefix");_(this,"editPrefix");_(this,"useJsPrefix");_(this,"_prefixLen");_(this,"validateKey",bf);_(this,"validateSearchKey",Eb);_(this,"hasWildcards",Sb);xs(t),this.jsm=r,this.js=n,this.bucket=t,this.prefix=il,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(t,r,n={}){const s=t,{ok:i,min:o}=s.nc.features.get(wt.JS_KV);if(!i)return Promise.reject(new Error(`kv is only supported on servers ${o} or better`));xs(r);const a=n.timeout||2e3;let c=s.opts||{};c=Object.assign(c,{timeout:a});const l=await s.nc.jetstreamManager(c),u=new zn(r,l,t);return await u.init(n),u}static async bind(t,r,n={}){const i=await t.nc.jetstreamManager(),o=await i.streams.info(`${Pt}${r}`);xs(o.config.name);const a=new zn(r,i,t);return Object.assign(a,o),a.codec=n.codec||_f(),a.direct=o.config.allow_direct??!1,a.initializePrefixes(o),a}async init(t={}){const r=Object.assign(yb(),t);this.codec=r.codec;const n={};this.stream=n.name=t.streamName??this.bucketName(),n.retention=uo.Limits,n.max_msgs_per_subject=r.history,r.maxBucketSize&&(r.max_bytes=r.maxBucketSize),r.max_bytes&&(n.max_bytes=r.max_bytes),n.max_msg_size=r.maxValueSize,n.storage=r.storage;const s=t.placementCluster??"";if(s&&(t.placement={},t.placement.cluster=s,t.placement.tags=[]),t.placement&&(n.placement=t.placement),t.republish&&(n.republish=t.republish),t.description&&(n.description=t.description),t.mirror){const f=Object.assign({},t.mirror);f.name.startsWith(Pt)||(f.name=`${Pt}${f.name}`),n.mirror=f,n.mirror_direct=!0}else if(t.sources){const f=t.sources.map(d=>{const b=Object.assign({},d);b.name.startsWith(Pt)||(b.name=`${Pt}${b.name}`)});n.sources=f}else n.subjects=[this.subjectForBucket()];const i=this.js.nc,o=i.getServerVersion(),a=o?po(o,Rr("2.7.2"))>=0:!1;n.discard=a?Wn.New:Wn.Old;const{ok:c,min:l}=i.features.get(wt.JS_ALLOW_DIRECT);if(!c&&t.allow_direct===!0){const f=o?`${o.major}.${o.minor}.${o.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${f} - requires ${l}`))}t.allow_direct=typeof t.allow_direct=="boolean"?t.allow_direct:c,n.allow_direct=t.allow_direct,this.direct=n.allow_direct,n.num_replicas=r.replicas,r.ttl&&(n.max_age=Ge(r.ttl)),n.allow_rollup_hdrs=!0;let u;try{u=await this.jsm.streams.info(n.name),!u.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(f){if(f.message==="stream not found")u=await this.jsm.streams.add(n);else throw f}this.initializePrefixes(u)}initializePrefixes(t){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.opts.apiPrefix!=="$JS.API";const{mirror:r}=t.config;if(r){let n=r.name;if(n.startsWith(Pt)&&(n=n.substring(Pt.length)),r.external&&r.external.api!==""){const s=r.name.substring(Pt.length);this.useJsPrefix=!1,this.prefix=`$KV.${s}`,this.editPrefix=`${r.external.api}.$KV.${n}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${Pt}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(t,r=!1){const n=[];return r?(this.useJsPrefix&&n.push(this.js.apiPrefix),this.editPrefix!==""?n.push(this.editPrefix):n.push(this.prefix)):this.prefix&&n.push(this.prefix),n.push(t),n.join(".")}fullKeyName(t){return this.prefix!==""?`${this.prefix}.${t}`:`${il}.${this.bucket}.${t}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.encode(n));break}return r.join(".")}decodeKey(t){const r=[];for(const n of t.split("."))switch(n){case">":case"*":r.push(n);break;default:r.push(this.codec.key.decode(n));break}return r.join(".")}close(){return Promise.resolve()}dataLen(t,r){const n=r&&r.get(Ft.MessageSizeHdr)||"";return n!==""?parseInt(n,10):t.length}smToEntry(t){return{bucket:this.bucket,key:t.subject.substring(this.prefixLen),value:t.data,delta:0,created:t.time,revision:t.seq,operation:t.header.get(ms)||"PUT",length:this.dataLen(t.data,t.header)}}jmToEntry(t){var n;const r=this.decodeKey(t.subject.substring(this.prefixLen));return{bucket:this.bucket,key:r,value:t.data,created:new Date(Xo(t.info.timestampNanos)),revision:t.seq,operation:((n=t.headers)==null?void 0:n.get(ms))||"PUT",delta:t.info.pending,length:this.dataLen(t.data,t.headers)}}create(t,r){return this.put(t,r,{previousSeq:0})}update(t,r,n){if(n<=0)throw new Error("version must be greater than 0");return this.put(t,r,{previousSeq:n})}async put(t,r,n={}){var o,a;const s=this.encodeKey(t);this.validateKey(s);const i={};if(n.previousSeq!==void 0){const c=ar();i.headers=c,c.set("Nats-Expected-Last-Subject-Sequence",`${n.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(s,!0),r,i)).seq}catch(c){const l=c;return l.isJetStreamError()?(l.message=(o=l.api_error)==null?void 0:o.description,l.code=`${(a=l.api_error)==null?void 0:a.code}`,Promise.reject(l)):Promise.reject(c)}}async get(t,r){const n=this.encodeKey(t);this.validateKey(n);let s={last_by_subj:this.subjectForKey(n)};r&&r.revision>0&&(s={seq:r.revision});let i;try{this.direct?i=await this.jsm.direct.getMessage(this.bucketName(),s):i=await this.jsm.streams.getMessage(this.bucketName(),s);const o=this.smToEntry(i);return o.key!==n?null:o}catch(o){if(o.code===Z.JetStream404NoMessages)return null;throw o}}purge(t){return this._deleteOrPurge(t,"PURGE")}delete(t){return this._deleteOrPurge(t,"DEL")}async purgeDeletes(t=30*60*1e3){const r=ze(),n=[],s=await this.watch({key:">",initializedFn:()=>{r.resolve()}});(async()=>{for await(const c of s)(c.operation==="DEL"||c.operation==="PURGE")&&n.push(c)})().then(),await r,s.stop();const i=Date.now()-t,o=n.map(c=>{const l=this.subjectForKey(c.key);return c.created.getTime()>=i?this.jsm.streams.purge(this.stream,{filter:l,keep:1}):this.jsm.streams.purge(this.stream,{filter:l,keep:0})}),a=await Promise.all(o);return a.unshift({success:!0,purged:0}),a.reduce((c,l)=>(c.purged+=l.purged,c))}async _deleteOrPurge(t,r){if(!this.hasWildcards(t))return this._doDeleteOrPurge(t,r);const n=await this.keys(t),s=[];for await(const i of n)s.push(this._doDeleteOrPurge(i,r)),s.length===100&&(await Promise.all(s),s.length=0);s.length>0&&await Promise.all(s)}async _doDeleteOrPurge(t,r){const n=this.encodeKey(t);this.validateKey(n);const s=ar();s.set(ms,r),r==="PURGE"&&s.set(Ft.RollupHdr,Ft.RollupValueSubject),await this.js.publish(this.subjectForKey(n,!0),at,{headers:s})}_buildCC(t,r=!1,n={}){const s=this.encodeKey(t);return this.validateSearchKey(t),Object.assign({deliver_policy:r?yt.All:yt.LastPerSubject,ack_policy:et.None,filter_subject:this.fullKeyName(s),flow_control:!0,idle_heartbeat:Ge(5*1e3)},n)}remove(t){return this.purge(t)}async history(t={}){const r=t.key??">",n=new xt,s={};s.headers_only=t.headers_only||!1;let i;i=()=>{n.stop()};let o=0;const a=this._buildCC(r,!0,s),c=a.filter_subject,l=sr(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const b=this.jmToEntry(d);n.push(b),n.received++,(i&&o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(b){n.stop(b)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async watch(t={}){const r=t.key??">",n=new xt,s={};s.headers_only=t.headers_only||!1;let i=t.initializedFn,o=0;const a=this._buildCC(r,!1,s),c=a.filter_subject,l=sr(a);l.bindStream(this.stream),l.orderedConsumer(),l.callback((f,d)=>{if(f){n.stop(f);return}if(d){const b=this.jmToEntry(d);n.push(b),n.received++,i&&(o>0&&n.received>=o||d.info.pending===0)&&(n.push(i),i=void 0)}});const u=await this.js.subscribe(c,l);if(i){const{info:{last:f}}=u,d=f.num_pending+f.delivered.consumer_seq;if(d===0||n.received>=d)try{i()}catch(b){n.stop(b)}finally{i=void 0}else o=d}return n._data=u,n.iterClosed.then(()=>{u.unsubscribe()}),u.closed.then(()=>{n.stop()}).catch(f=>{n.stop(f)}),n}async keys(t=">"){const r=new xt,n=this._buildCC(t,!1,{headers_only:!0}),s=n.filter_subject,i=sr(n);i.bindStream(this.stream),i.orderedConsumer();const o=await this.js.subscribe(s,i);return(async()=>{var c;for await(const l of o){const u=(c=l.headers)==null?void 0:c.get(ms);if(u!=="DEL"&&u!=="PURGE"){const f=this.decodeKey(l.subject.substring(this.prefixLen));r.push(f)}l.info.pending===0&&o.unsubscribe()}})().then(()=>{r.stop()}).catch(c=>{r.stop(c)}),o.info.last.num_pending===0&&o.unsubscribe(),r}purgeBucket(t){return this.jsm.streams.purge(this.bucketName(),t)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var i;const r=((i=this.js.nc.info)==null?void 0:i.cluster)??"",n=this.bucketName(),s=await this.jsm.streams.info(n);return new yf(s,r)}}class yf{constructor(t,r=""){_(this,"si");_(this,"cluster");this.si=t,this.cluster=r}get bucket(){return this.si.config.name.startsWith(Pt)?this.si.config.name.substring(Pt.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return Xo(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var t;return((t=this.si.config.placement)==null?void 0:t.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}}const Qo="OBJ_",ol="SHA-256=";function Ob(e){return xs(e),`${Qo}${e}`}function Ab(e){return e.startsWith(Qo)?e.substring(4):e}class _o{constructor(t){_(this,"si");_(this,"backingStore");this.si=t,this.backingStore="JetStream"}get bucket(){return Ab(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}}function gs(e){if(e===void 0)return;const{domain:t}=e;if(t===void 0)return e;const r=Object.assign({},e);if(delete r.domain,t==="")return r;if(r.external)throw new Error("domain and external are both set");return r.external={api:`$JS.${t}.API`},r}class Pb extends es{constructor(t,r){super(t,r)}async add(t={}){var s;dt(t.name),t.mirror=gs(t.mirror),t.sources=(s=t.sources)==null?void 0:s.map(gs);const n=await this._request(`${this.prefix}.STREAM.CREATE.${t.name}`,t);return this._fixInfo(n),n}async delete(t){return dt(t),(await this._request(`${this.prefix}.STREAM.DELETE.${t}`)).success}async update(t,r={}){var a;if(typeof t=="object"){const c=t;t=c.name,r=c,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}dt(t);const n=await this.info(t),s=Object.assign(n.config,r);s.mirror=gs(s.mirror),s.sources=(a=s.sources)==null?void 0:a.map(gs);const o=await this._request(`${this.prefix}.STREAM.UPDATE.${t}`,s);return this._fixInfo(o),o}async info(t,r){dt(t);const n=`${this.prefix}.STREAM.INFO.${t}`;let i=await this._request(n,r),{total:o,limit:a}=i,c=i.state.subjects?Object.getOwnPropertyNames(i.state.subjects).length:1;if(o&&o>c){const l=[i],u=r||{};let f=0;for(;o>c;){f++,u.offset=a*f;const b=await this._request(n,u);o=b.total,l.push(b);const S=Object.getOwnPropertyNames(b.state.subjects).length;if(c+=S,S<a)break}let d={};for(let b=0;b<l.length;b++)i=l[b],i.state.subjects&&(d=Object.assign(d,i.state.subjects));i.offset=0,i.total=0,i.limit=0,i.state.subjects=d}return this._fixInfo(i),i}list(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>{const o=i;return o.streams.forEach(a=>{this._fixInfo(a)}),o.streams},s=`${this.prefix}.STREAM.LIST`;return new xn(s,n,this,r)}_fixInfo(t){t.config.sealed=t.config.sealed||!1,t.config.deny_delete=t.config.deny_delete||!1,t.config.deny_purge=t.config.deny_purge||!1,t.config.allow_rollup_hdrs=t.config.allow_rollup_hdrs||!1}async purge(t,r){if(r){const{keep:s,seq:i}=r;if(typeof s=="number"&&typeof i=="number")throw new Error("can specify one of keep or seq")}return dt(t),await this._request(`${this.prefix}.STREAM.PURGE.${t}`,r)}async deleteMessage(t,r,n=!0){dt(t);const s={seq:r};return n||(s.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${t}`,s)).success}async getMessage(t,r){dt(t);const s=await this._request(`${this.prefix}.STREAM.MSG.GET.${t}`,r);return new Lb(s)}find(t){return this.findStream(t)}listKvs(){const t=n=>{var c;const i=n.streams.filter(l=>l.config.name.startsWith(Pt));i.forEach(l=>{this._fixInfo(l)});let o="";return i.length&&(o=((c=this.nc.info)==null?void 0:c.cluster)??""),i.map(l=>new yf(l,o))},r=`${this.prefix}.STREAM.LIST`;return new xn(r,t,this)}listObjectStores(){const t=n=>{const i=n.streams.filter(a=>a.config.name.startsWith(Qo));return i.forEach(a=>{this._fixInfo(a)}),i.map(a=>new _o(a))},r=`${this.prefix}.STREAM.LIST`;return new xn(r,t,this)}names(t=""){const r=t!=null&&t.length?{subject:t}:{},n=i=>i.streams,s=`${this.prefix}.STREAM.NAMES`;return new xn(s,n,this,r)}}class Cb extends es{constructor(r,n){super(r,n);_(this,"streams");_(this,"consumers");_(this,"direct");this.streams=new Pb(r,n),this.consumers=new of(r,n),this.direct=new fb(r,n)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}advisories(){const r=new xt;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(n,s)=>{if(n)throw n;try{const i=this.parseJsResponse(s),o=i.type.split("."),a=o[o.length-1];r.push({kind:a,data:i})}catch(i){r.stop(i)}}}),r}}var kr;(function(e){e.MsgIdHdr="Nats-Msg-Id",e.ExpectedStreamHdr="Nats-Expected-Stream",e.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",e.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",e.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(kr||(kr={}));class Li{constructor(t){_(this,"info");_(this,"hdrs");this.info=t}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=gr.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}}function al(e){const t={name:e.name,description:e.description??"",options:e.options};if(e.headers){const r=e.headers;t.headers=r.toRecord()}return t}function Ib(e){return{name:e.name,description:e.description,headers:e.headers,options:e.options}}function kb(){return new ReadableStream({pull(e){e.enqueue(new Uint8Array(0)),e.close()}})}class Tn{constructor(t,r,n){_(this,"jsm");_(this,"js");_(this,"stream");_(this,"name");this.name=t,this.jsm=r,this.js=n}_sanitizeName(t){if(!t||t.length===0)return{name:t,error:new Error("name cannot be empty")};t=t.replace(/[. ]/g,"_");let r;try{bf(t)}catch(n){r=n}return{name:t,error:r}}async info(t){const r=await this.rawInfo(t);return r?new Li(r):null}async list(){const t=[],r=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const n of r){if(n===null)break;t.push(n)}return Promise.resolve(t)}async rawInfo(t){const{name:r,error:n}=this._sanitizeName(t);if(n)return Promise.reject(n);const s=this._metaSubject(r);try{const i=await this.jsm.streams.getMessage(this.stream,{last_by_subj:s});return zt().decode(i.data)}catch(i){return i.code==="404"?null:Promise.reject(i)}}async _si(t){try{return await this.jsm.streams.info(this.stream,t)}catch(r){return r.code==="404"?null:Promise.reject(r)}}async seal(){let t=await this._si();return t===null?Promise.reject(new Error("object store not found")):(t.config.sealed=!0,t=await this.jsm.streams.update(this.stream,t.config),Promise.resolve(new _o(t)))}async status(t){const r=await this._si(t);return r===null?Promise.reject(new Error("object store not found")):Promise.resolve(new _o(r))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(t,r){var H,T;const s=((H=this.js.nc.info)==null?void 0:H.max_payload)||1024;t=t||{},t.options=t.options||{};let i=((T=t.options)==null?void 0:T.max_chunk_size)||128*1024;i=i>s?s:i,t.options.max_chunk_size=i;const o=await this.info(t.name),{name:a,error:c}=this._sanitizeName(t.name);if(c)return Promise.reject(c);const l=oi.next(),u=this._chunkSubject(l),f=this._metaSubject(a),d=Object.assign({bucket:this.name,nuid:l,size:0,chunks:0},al(t)),b=ze(),S=[],I=new Zn;try{const L=r?r.getReader():null,q=new rl;for(;;){const{done:V,value:D}=L?await L.read():{done:!0,value:void 0};if(V){if(I.size()>0){const we=I.drain();q.update(we),d.chunks++,d.size+=we.length,S.push(this.js.publish(u,we))}d.mtime=new Date().toISOString();const ue=q.digest("base64"),re=ue.length%3,ne=re>0?"=".repeat(re):"";d.digest=`${ol}${ue}${ne}`,d.deleted=!1;const ge=ar();ge.set(Ft.RollupHdr,Ft.RollupValueSubject),S.push(this.js.publish(f,zt().encode(d),{headers:ge})),o&&S.push(this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${o.nuid}`})),await Promise.all(S),b.resolve(new Li(d));break}if(D)for(I.fill(D);I.size()>i;){d.chunks++,d.size+=i;const ue=I.drain(t.options.max_chunk_size);q.update(ue),S.push(this.js.publish(u,ue))}}}catch(L){await this.jsm.streams.purge(this.stream,{filter:u}),b.reject(L)}return b}put(t,r){var n;return(n=t==null?void 0:t.options)!=null&&n.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(t,r)}async get(t){const r=await this.rawInfo(t);if(r===null||r.deleted)return Promise.resolve(null);if(r.options&&r.options.link){const u=r.options.link.name||"";if(u==="")throw new Error("link is a bucket");return(await Tn.create(this.js,r.options.link.bucket)).get(u)}const n=ze(),s={info:new Li(r),error:n};if(r.size===0)return s.data=kb(),n.resolve(null),Promise.resolve(s);let i;const o=sr();o.orderedConsumer();const a=new rl,c=`$O.${this.name}.C.${r.nuid}`,l=await this.js.subscribe(c,o);return(async()=>{for await(const u of l)if(u.data.length>0&&(a.update(u.data),i.enqueue(u.data)),u.info.pending===0){const f=a.digest("base64"),d=f.length%3,b=d>0?"=".repeat(d):"",S=`${ol}${f}${b}`;S!==r.digest?i.error(new Error(`received a corrupt object, digests do not match received: ${r.digest} calculated ${S}`)):i.close(),l.unsubscribe()}})().then(()=>{n.resolve()}).catch(u=>{i.error(u),n.reject(u)}),s.data=new ReadableStream({start(u){i=u},cancel(){l.unsubscribe()}}),s}linkStore(t,r){if(!(r instanceof Tn))return Promise.reject("bucket required");const n=r,{name:s,error:i}=this._sanitizeName(t);if(i)return Promise.reject(i);const o={name:s,options:{link:{bucket:n.name}}};return this._put(o,null)}async link(t,r){if(r.deleted)return Promise.reject(new Error("object is deleted"));const{name:n,error:s}=this._sanitizeName(t);if(s)return Promise.reject(s);if(this.name===r.bucket){const a=Object.assign({},Ib(r));a.name=n;try{return await this.update(r.name,a),await this.info(n)}catch(c){return Promise.reject(c)}}const i={bucket:r.bucket,name:r.name},o={name:n,options:{link:i}};return this._put(o,null)}async delete(t){const r=await this.rawInfo(t);if(r===null)return Promise.resolve({purged:0,success:!1});r.deleted=!0,r.size=0,r.chunks=0,r.digest="";const n=zt(),s=ar();return s.set(Ft.RollupHdr,Ft.RollupValueSubject),await this.js.publish(this._metaSubject(r.name),n.encode(r),{headers:s}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(r.nuid)})}async update(t,r={}){const n=await this.rawInfo(t);if(n===null)return Promise.reject(new Error("object not found"));if(n.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));r.name=r.name??n.name;const{name:s,error:i}=this._sanitizeName(r.name);if(i)return Promise.reject(i);if(t!==r.name){const c=await this.info(r.name);if(c&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"))}r.name=s;const o=Object.assign({},n,al(r)),a=zt();return this.js.publish(this._metaSubject(o.name),a.encode(o))}async watch(t={}){t.includeHistory=t.includeHistory??!1,t.ignoreDeletes=t.ignoreDeletes??!1;let r=!1;const n=new xt,s=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:s})}catch(c){c.code==="404"?(n.push(null),r=!0):n.stop(c)}const i=zt(),o=sr();o.orderedConsumer(),t.includeHistory?o.deliverLastPerSubject():(r=!0,o.deliverNew()),o.callback((c,l)=>{var u;if(c){n.stop(c);return}if(l!==null){const f=i.decode(l.data);f.deleted&&t.ignoreDeletes===!0||n.push(f),((u=l.info)==null?void 0:u.pending)===0&&!r&&(r=!0,n.push(null))}});const a=await this.js.subscribe(s,o);return n._data=a,n.iterClosed.then(()=>{a.unsubscribe()}),a.closed.then(()=>{n.stop()}).catch(c=>{n.stop(c)}),n}_chunkSubject(t){return`$O.${this.name}.C.${t}`}_metaSubject(t){return`$O.${this.name}.M.${$s.encode(t)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(t={}){try{this.stream=Ob(this.name)}catch(n){return Promise.reject(n)}const r=Object.assign({},t);r.name=this.stream,r.allow_rollup_hdrs=!0,r.discard=Wn.New,r.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],t.placement&&(r.placement=t.placement);try{await this.jsm.streams.info(r.name)}catch(n){n.message==="stream not found"&&await this.jsm.streams.add(r)}}static async create(t,r,n={}){var f;if(typeof((f=crypto==null?void 0:crypto.subtle)==null?void 0:f.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const s=t,{ok:i,min:o}=s.nc.features.get(wt.JS_OBJECTSTORE);if(!i)return Promise.reject(new Error(`objectstore is only supported on servers ${o} or better`));let a=s.opts||{};const c=a.timeout||2e3;a=Object.assign(a,{timeout:c});const l=await s.nc.jetstreamManager(a),u=new Tn(r,l,t);return await u.init(n),Promise.resolve(u)}}class Tb{constructor(t){_(this,"js");this.js=t}kv(t,r={}){return r.bindOnly?zn.bind(this.js,t):zn.create(this.js,t,r)}os(t,r={}){return Bb(this.js.nc),Tn.create(this.js,t,r)}}class Zo extends es{constructor(r,n){super(r,n);_(this,"api");this.api=new of(r,n)}get apiPrefix(){return this.prefix}get views(){return new Tb(this)}async publish(r,n=at,s){s=s||{},s.expect=s.expect||{};const i=(s==null?void 0:s.headers)||ar();s&&(s.msgID&&i.set(kr.MsgIdHdr,s.msgID),s.expect.lastMsgID&&i.set(kr.ExpectedLastMsgIdHdr,s.expect.lastMsgID),s.expect.streamName&&i.set(kr.ExpectedStreamHdr,s.expect.streamName),typeof s.expect.lastSequence=="number"&&i.set(kr.ExpectedLastSeqHdr,`${s.expect.lastSequence}`),typeof s.expect.lastSubjectSequence=="number"&&i.set(kr.ExpectedLastSubjectSequenceHdr,`${s.expect.lastSubjectSequence}`));const o=s.timeout||this.timeout,a={};o&&(a.timeout=o),s&&(a.headers=i);let{retries:c,retry_delay:l}=s;c=c||1,l=l||250;let u;for(let d=0;d<c;d++)try{u=await this.nc.request(r,n,a);break}catch(b){if(b.code==="503"&&d+1<c)await Jo(l);else throw b}const f=this.parseJsResponse(u);if(f.stream==="")throw le.errorForCode(Z.JetStreamInvalidAck);return f.duplicate=f.duplicate?f.duplicate:!1,f}async pull(r,n,s=0){dt(r),Jr(n);let i=this.timeout;s>i&&(i=s),s=s<0?0:Ge(s);const o={batch:1,no_wait:s===0,expires:s},a=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(o),{noMux:!0,timeout:i}),c=Xr(a);if(c)throw c;return Fs(a)}fetch(r,n,s={}){dt(r),Jr(n);let i=null;const o=(s.max_bytes??0)>0;let a=0;const c=o?s.max_bytes:0;let l=null;const u={};if(u.batch=s.batch||1,c){const L=this.nc.features.get(wt.JS_PULL_MAX_BYTES);if(!L.ok)throw new Error(`max_bytes is only supported on servers ${L.min} or better`);u.max_bytes=c}u.no_wait=s.no_wait||!1,u.no_wait&&u.expires&&(u.expires=0);const f=s.expires||0;if(f&&(u.expires=Ge(f)),f===0&&u.no_wait===!1)throw new Error("expires or no_wait is required");const d=s.idle_heartbeat||0;d&&(u.idle_heartbeat=Ge(d),s.delay_heartbeat===!0&&(u.idle_heartbeat=Ge(d*4)));const b=new xt,S=u.batch;let I=0;b.protocolFilterFn=(L,q=!1)=>Vc(L.msg)?(l==null||l.work(),!1):!0,b.dispatchedFn=L=>{if(L){if(o&&(a+=L.data.length),I++,i&&L.info.pending===0)return;(b.getPending()===1&&L.info.pending===0||S===I||c>0&&a>=c)&&b.stop()}};const H=nr(this.nc.options.inboxPrefix),T=this.nc.subscribe(H,{max:s.batch,callback:(L,q)=>{L===null&&(L=Xr(q)),L!==null?(i&&(i.cancel(),i=null),s_(L)?b.stop(xf(L)===null?void 0:L):b.stop(L)):(l==null||l.work(),b.received++,b.push(Fs(q)))}});return f&&(i=ii(f),i.catch(()=>{T.isClosed()||(T.drain().catch(()=>{}),i=null),l&&l.cancel()})),(async()=>{try{d&&(l=new pf(d,L=>(b.push(()=>{b.err=new le(`${Mt.IdleHeartbeatMissed}: ${L}`,Z.JetStreamIdleHeartBeat)}),!0)))}catch{}await T.closed,i!==null&&(i.cancel(),i=null),l&&l.cancel(),b.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${r}.${n}`,this.jc.encode(u),{reply:H}),b}async pullSubscribe(r,n=sr()){const s=await this._processOptions(r,n);if(s.ordered)throw new Error("pull subscribers cannot be be ordered");if(s.attached||(s.config.filter_subject=r),s.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const i=s.config.ack_policy;if(i===et.None||i===et.All)throw new Error("ack policy for pull consumers must be explicit");const o=this._buildTypedSubscriptionOpts(s),a=new Fb(this,s.deliver,o);a.info=s;try{await this._maybeCreateConsumer(s)}catch(c){throw a.unsubscribe(),c}return a}async subscribe(r,n=sr()){const s=await this._processOptions(r,n);if(!s.isBind&&!s.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const i=this._buildTypedSubscriptionOpts(s),o=new wf(this,s.deliver,i);o.info=s;try{await this._maybeCreateConsumer(s)}catch(a){throw o.unsubscribe(),a}return o._maybeSetupHbMonitoring(),o}async _processOptions(r,n=sr()){const s=Zc(n)?n.getOpts():n;if(s.isBind=Zc(n)?n.isBind:!1,s.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},s.ordered){if(s.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},s.config.ack_policy!==et.NotSet&&s.config.ack_policy!==et.None)throw new le("ordered consumer: ack_policy can only be set to 'none'",Z.ApiError);if(s.config.durable_name&&s.config.durable_name.length>0)throw new le("ordered consumer: durable_name cannot be set",Z.ApiError);if(s.config.deliver_subject&&s.config.deliver_subject.length>0)throw new le("ordered consumer: deliver_subject cannot be set",Z.ApiError);if(s.config.max_deliver!==void 0&&s.config.max_deliver>1)throw new le("ordered consumer: max_deliver cannot be set",Z.ApiError);if(s.config.deliver_group&&s.config.deliver_group.length>0)throw new le("ordered consumer: deliver_group cannot be set",Z.ApiError);s.config.deliver_subject=nr(this.nc.options.inboxPrefix),s.config.ack_policy=et.None,s.config.max_deliver=1,s.config.flow_control=!0,s.config.idle_heartbeat=s.config.idle_heartbeat||Ge(5e3),s.config.ack_wait=Ge(22*60*60*1e3),s.config.mem_storage=!0,s.config.num_replicas=1}if(s.config.ack_policy===et.NotSet&&(s.config.ack_policy=et.All),s.api=this,s.config=s.config||{},s.stream=s.stream?s.stream:await this.findStream(r),s.attached=!1,s.config.durable_name)try{const i=await this.api.info(s.stream,s.config.durable_name);if(i){if(i.config.filter_subject&&i.config.filter_subject!==r)throw new Error("subject does not match consumer");const o=s.config.deliver_group??"";if(o===""&&i.push_bound===!0)throw new Error("duplicate subscription");const a=i.config.deliver_group??"";if(o!==a)throw a===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${a}'`);s.last=i,s.config=i.config,s.attached=!0,s.config.durable_name||(s.name=i.name)}}catch(i){if(i.code!=="404")throw i}return s.attached||(s.config.filter_subject=r),s.deliver=s.config.deliver_subject||nr(this.nc.options.inboxPrefix),s}_buildTypedSubscriptionOpts(r){const n={};return n.adapter=jb(r.callbackFn===void 0),n.ingestionFilterFn=Zo.ingestionFn(r.ordered),n.protocolFilterFn=(s,i=!1)=>{const o=s;return ho(o.msg)?(i||o.msg.respond(),!1):!0},!r.mack&&r.config.ack_policy!==et.None&&(n.dispatchedFn=Db),r.callbackFn&&(n.callback=r.callbackFn),n.max=r.max||0,n.queue=r.queue,n}async _maybeCreateConsumer(r){if(r.attached)return;if(r.isBind)throw new Error(`unable to bind - durable consumer ${r.config.durable_name} doesn't exist in ${r.stream}`);r.config=Object.assign({deliver_policy:yt.All,ack_policy:et.Explicit,ack_wait:Ge(30*1e3),replay_policy:sn.Instant},r.config);const n=await this.api.add(r.stream,r.config);r.name=n.name,r.config=n.config,r.last=n}static ingestionFn(r){return(n,s)=>{var c;const i=s;if(!n)return{ingest:!1,protocol:!1};const o=n;if(Xr(o.msg)||(c=i.monitor)==null||c.work(),Vc(o.msg)){const l=r?i._checkHbOrderConsumer(o.msg):!0;return r||i.info.flow_control.heartbeat_count++,{ingest:l,protocol:!0}}else if(ho(o.msg))return i.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:r?i._checkOrderedConsumer(n):!0,protocol:!1}}}}class ea{constructor(t){_(this,"options");_(this,"protocol");_(this,"draining");_(this,"listeners");_(this,"_services");this.draining=!1,this.options=bb(t),this.listeners=[]}static connect(t={}){return new Promise((r,n)=>{const s=new ea(t);js.connect(s.options,s).then(i=>{s.protocol=i,async function(){for await(const o of i.status())s.listeners.forEach(a=>{a.push(o)})}(),r(s)}).catch(i=>{n(i)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(t,r,n){if(this.isClosed())throw le.errorForCode(Z.ConnectionClosed);if(r&&this.isDraining()||n&&this.protocol.noMorePublishing)throw le.errorForCode(Z.ConnectionDraining);if(t=t||"",t.length===0)throw le.errorForCode(Z.BadSubject)}publish(t,r=at,n){if(this._check(t,!1,!0),r&&!l_(r))throw le.errorForCode(Z.BadPayload);this.protocol.publish(t,r,n)}subscribe(t,r={}){this._check(t,!0,!1);const n=new df(this.protocol,t,r);return this.protocol.subscribe(n),n}_resub(t,r,n){this._check(r,!0,!1);const s=t;s.max=n,n&&(s.max=n+s.received),this.protocol.resub(s,r)}requestMany(t,r=at,n={maxWait:1e3,maxMessages:-1}){try{this._check(t,!0,!0)}catch(a){return Promise.reject(a)}if(n.strategy=n.strategy||Kt.Timer,n.maxWait=n.maxWait||1e3,n.maxWait<1)return Promise.reject(new le("timeout",Z.InvalidOption));const s=new xt;function i(a){s.push(()=>{s.stop(a)})}function o(a,c){a||c===null?i(a===null?void 0:a):s.push(c)}if(n.noMux){const a=new Error().stack;let c=typeof n.maxMessages=="number"&&n.maxMessages>0?n.maxMessages:-1;const l=this.subscribe(nr(this.options.inboxPrefix),{callback:(b,S)=>{var I,H;if(((I=S==null?void 0:S.data)==null?void 0:I.length)===0&&((H=S==null?void 0:S.headers)==null?void 0:H.status)===Z.NoResponders&&(b=le.errorForCode(Z.NoResponders)),b){b.stack+=`

${a}`,u(b);return}o(null,S),n.strategy===Kt.Count&&(c--,c===0&&u()),n.strategy===Kt.JitterTimer&&(d(),f=setTimeout(()=>{u()},300)),n.strategy===Kt.SentinelMsg&&S&&S.data.length===0&&u()}});l.closed.then(()=>{i()}).catch(b=>{s.stop(b)});const u=b=>{b&&s.push(()=>{throw b}),d(),l.drain().then(()=>{i()}).catch(S=>{i()})};s.iterClosed.then(()=>{d(),l==null||l.unsubscribe()}).catch(b=>{d(),l==null||l.unsubscribe()});try{this.publish(t,at,{reply:l.getSubject()})}catch(b){u(b)}let f=setTimeout(()=>{u()},n.maxWait);const d=()=>{f&&clearTimeout(f)}}else{const a=n;a.callback=o,s.iterClosed.then(()=>{c.cancel()}).catch(l=>{c.cancel(l)});const c=new S_(this.protocol.muxSubscriptions,t,a);this.protocol.request(c);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:n.headers})}catch(l){c.cancel(l)}}return Promise.resolve(s)}request(t,r=at,n={timeout:1e3,noMux:!1}){try{this._check(t,!0,!0)}catch(s){return Promise.reject(s)}if(n.timeout=n.timeout||1e3,n.timeout<1)return Promise.reject(new le("timeout",Z.InvalidOption));if(!n.noMux&&n.reply)return Promise.reject(new le("reply can only be used with noMux",Z.InvalidOption));if(n.noMux){const s=n.reply?n.reply:nr(this.options.inboxPrefix),i=ze(),o=new Error,a=this.subscribe(s,{max:1,timeout:n.timeout,callback:(c,l)=>{c?(c.code!==Z.Timeout&&(c.stack+=`

${o.stack}`),i.reject(c)):(c=tf(l),c?(c.stack+=`

${o.stack}`,i.reject(c)):i.resolve(l))}});return a.requestSubject=t,this.protocol.publish(t,r,{reply:s,headers:n.headers}),i}else{const s=new cf(this.protocol.muxSubscriptions,t,n);this.protocol.request(s);try{this.publish(t,r,{reply:`${this.protocol.muxSubscriptions.baseInbox}${s.token}`,headers:n.headers})}catch(o){s.cancel(o)}const i=Promise.race([s.timer,s.deferred]);return i.catch(()=>{s.cancel()}),i}}flush(){return this.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(le.errorForCode(Z.ConnectionClosed)):this.isDraining()?Promise.reject(le.errorForCode(Z.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const t=this.protocol.getServer();return t?t.listen:""}status(){const t=new xt;return this.listeners.push(t),t}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(t={}){const r=new Cb(this,t);try{await r.getAccountInfo()}catch(n){const s=n;throw s.code===Z.NoResponders&&(s.code=Z.JetStreamNotEnabled),s}return r}jetstream(t={}){return new Zo(this,t)}getServerVersion(){const t=this.info;return t?Rr(t.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw le.errorForCode(Z.Disconnect);const t=Date.now();return await this.flush(),Date.now()-t}get features(){return this.protocol.features}get services(){return this._services||(this._services=new Rb(this)),this._services}}class Nb{constructor(t,r={strategy:Kt.JitterTimer,maxWait:2e3},n){_(this,"nc");_(this,"prefix");_(this,"opts");this.nc=t,this.prefix=n,this.opts=r}ping(t="",r=""){return this.q(Gt.PING,t,r)}stats(t="",r=""){return this.q(Gt.STATS,t,r)}schema(t="",r=""){return this.q(Gt.SCHEMA,t,r)}info(t="",r=""){return this.q(Gt.INFO,t,r)}async q(t,r="",n=""){const s=new xt,i=zt(),o=ai.controlSubject(t,r,n,this.prefix),a=await this.nc.requestMany(o,at,this.opts);return(async()=>{for await(const c of a)try{const l=i.decode(c.data);s.push(l)}catch(l){s.push(()=>{s.stop(l)})}s.push(()=>{s.stop()})})().catch(c=>{s.stop(c)}),s}}function Mb(e,t){const{proto:r,tls_required:n,tls_available:s}=e;if((r===void 0||r<1)&&t.noEcho)throw new le("noEcho",Z.ServerOptionNotAvailable);const i=n||s||!1;if(t.tls&&!i)throw new le("tls",Z.ServerOptionNotAvailable)}class Rb{constructor(t){_(this,"nc");this.nc=t,console.log("\x1B[33m >> service framework is beta functionality \x1B[0m")}add(t){try{return new ai(this.nc,t).start()}catch(r){return Promise.reject(r)}}client(t,r){return new Nb(this.nc,t,r)}}class Lb{constructor(t){_(this,"subject");_(this,"seq");_(this,"data");_(this,"time");_(this,"header");if(this.subject=t.message.subject,this.seq=t.message.seq,this.time=new Date(Date.parse(t.message.time)),this.data=t.message.data?this._parse(t.message.data):at,t.message.hdrs){const r=this._parse(t.message.hdrs);this.header=gr.decode(r)}else this.header=ar()}_parse(t){const r=atob(t),n=r.length,s=new Uint8Array(n);for(let i=0;i<n;i++)s[i]=r.charCodeAt(i);return s}}class wf extends T_{constructor(r,n,s){super(r.nc,n,s);_(this,"js");_(this,"monitor");this.js=r,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(r){this.sub.info=r}get info(){return this.sub.info}_resetOrderedConsumer(r){if(this.info===null||this.sub.isClosed())return;const n=nr(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,n);const i=this.info;i.ordered_consumer_sequence.delivery_seq=0,i.flow_control.heartbeat_count=0,i.flow_control.fc_count=0,i.flow_control.consumer_restarts++,i.deliver=n,i.config.deliver_subject=n,i.config.deliver_policy=yt.StartSequence,i.config.opt_start_seq=r;const o={};o.stream_name=this.info.stream,o.config=i.config;const a=`${i.api.prefix}.CONSUMER.CREATE.${i.stream}`;this.js._request(a,o).then(c=>{const l=c;this.info.config=l.config,this.info.name=l.name}).catch(c=>{const l=new le(`unable to recreate ordered consumer ${i.stream} at seq ${r}`,Z.RequestError,c);this.sub.callback(l,{})})}_maybeSetupHbMonitoring(){var n,s;const r=((s=(n=this.info)==null?void 0:n.config)==null?void 0:s.idle_heartbeat)||0;r&&this._setupHbMonitoring(Xo(r))}_setupHbMonitoring(r,n=0){const s={cancelAfter:0,maxOut:2};n&&(s.cancelAfter=n);const i=this.sub,o=a=>{var u,f,d;const c=b_(409,`${Mt.IdleHeartbeatMissed}: ${a}`,this.sub.subject);if(!((u=this.info)==null?void 0:u.ordered))this.sub.callback(null,c);else{if(!this.js.nc.protocol.connected)return!1;const b=((d=(f=this.info)==null?void 0:f.ordered_consumer_sequence)==null?void 0:d.stream_seq)||0;return this._resetOrderedConsumer(b+1),!1}return!i.noIterator};this.monitor=new pf(r,o,s)}_checkHbOrderConsumer(r){const n=r.headers.get(Ft.ConsumerStalledHdr);n!==""&&this.js.nc.publish(n);const s=parseInt(r.headers.get(Ft.LastConsumerSeqHdr),10),i=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,s!==i.delivery_seq&&this._resetOrderedConsumer(i.stream_seq+1),!1}_checkOrderedConsumer(r){const n=this.info.ordered_consumer_sequence,s=r.info.streamSequence,i=r.info.deliverySequence;return i!=n.delivery_seq+1?(this._resetOrderedConsumer(n.stream_seq+1),!1):(n.delivery_seq=i,n.stream_seq=s,!0)}async destroy(){this.isClosed()||await this.drain();const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.DELETE.${r.stream}.${n}`;await r.api._request(s)}async consumerInfo(){const r=this.sub.info,n=r.config.durable_name||r.name,s=`${r.api.prefix}.CONSUMER.INFO.${r.stream}.${n}`,i=await r.api._request(s);return r.last=i,i}}class Fb extends wf{constructor(t,r,n){super(t,r,n)}pull(t={batch:1}){const{stream:r,config:n,name:s}=this.sub.info,i=n.durable_name??s,o={};if(o.batch=t.batch||1,o.no_wait=t.no_wait||!1,(t.max_bytes??0)>0){const l=this.js.nc.features.get(wt.JS_PULL_MAX_BYTES);if(!l.ok)throw new Error(`max_bytes is only supported on servers ${l.min} or better`);o.max_bytes=t.max_bytes}let a=0;t.expires&&t.expires>0&&(a=t.expires,o.expires=Ge(a));let c=0;if(t.idle_heartbeat&&t.idle_heartbeat>0&&(c=t.idle_heartbeat,o.idle_heartbeat=Ge(c)),c&&a===0)throw new Error("idle_heartbeat requires expires");if(c>a)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),a&&c&&(this.monitor?this.monitor._change(c,a):this._setupHbMonitoring(c,a));const l=this.info.api,u=`${l.prefix}.CONSUMER.MSG.NEXT.${r}.${i}`,f=this.sub.subject;l.nc.publish(u,l.jc.encode(o),{reply:f})}}}function jb(e){return e?Ub:$b}function $b(e,t){return e?[e,null]:(e=Xr(t),e?[e,null]:[null,Fs(t)])}function Ub(e,t){if(e)return[e,null];const r=Xr(t);return r!==null?[xf(r),null]:[null,Fs(t)]}function xf(e){if(e!==null)switch(e.code){case Z.JetStream404NoMessages:case Z.JetStream408RequestTimeout:return null;case Z.JetStream409:return y_(e)?e:null;default:return e}return null}function Db(e){e&&e.ack()}const Bb=(()=>{let e=!1;return t=>{var r;if(!e){e=!0;const{lang:n}=(r=t==null?void 0:t.protocol)==null?void 0:r.transport;console.log(n?`\x1B[33m >> jetstream's materialized views object store functionality in ${n} is beta functionality \x1B[0m`:"\x1B[33m >> jetstream's materialized views object store functionality is beta functionality \x1B[0m")}}})(),qb="1.11.2",Hb="nats.ws";class Wb{constructor(){_(this,"version");_(this,"lang");_(this,"closeError");_(this,"connected");_(this,"done");_(this,"socket");_(this,"options");_(this,"socketClosed");_(this,"encrypted");_(this,"peeked");_(this,"yields");_(this,"signal");_(this,"closedNotification");this.version=qb,this.lang=Hb,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=ze(),this.closedNotification=ze()}async connect(t,r){const n=ze();if(r.tls)return n.reject(new le("tls",Z.InvalidOption)),n;this.options=r;const s=t.src;if(r.wsFactory){const{socket:i,encrypted:o}=await r.wsFactory(t.src,r);this.socket=i,this.encrypted=o}else this.encrypted=s.indexOf("wss://")===0,this.socket=new WebSocket(s);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{},this.socket.onmessage=i=>{if(this.yields.push(new Uint8Array(i.data)),this.peeked){this.signal.resolve();return}const o=Zn.concat(...this.yields),a=f_(o);if(a!==""){const c=X_.exec(a);if(!c){r.debug&&console.error("!!!",hs(o)),n.reject(new Error("unexpected response from server"));return}try{const l=JSON.parse(c[1]);Mb(l,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),n.resolve()}catch(l){n.reject(l);return}}},this.socket.onclose=i=>{this.socketClosed=!0;let o;this.done||(i.wasClean||(o=new Error(i.reason)),this._closed(o))},this.socket.onerror=i=>{const o=i,a=new le(o.message,Z.Unknown,new Error(o.error));n.reject(a)},n}disconnect(){this._closed(void 0,!0)}async _closed(t,r=!0){if(this.connected&&!this.done){if(this.closeError=t,!t)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)console.log(this.socket.bufferedAmount),await Jo(100);this.done=!0;try{this.socket.close(t?1002:1e3,t?t.message:void 0)}catch{}r&&this.closedNotification.resolve(t)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){this.yields.length===0&&await this.signal;const t=this.yields;this.yields=[];for(let r=0;r<t.length;r++)this.options.debug&&console.info(`> ${hs(t[r])}`),yield t[r];if(this.done)break;this.yields.length===0&&(t.length=0,this.yields=t,this.signal=ze())}}isEncrypted(){return this.connected&&this.encrypted}send(t){if(!this.done)try{this.socket.send(t.buffer),this.options.debug&&console.info(`< ${hs(t)}`);return}catch(r){this.options.debug&&console.error(`!!! ${hs(t)}: ${r}`)}}close(t){return this._closed(t,!1)}closed(){return this.closedNotification}}function zb(e){/^(.*:\/\/)(.*)/.test(e)||(e=`https://${e}`);let r=new URL(e);const n=r.protocol.toLowerCase();n!=="https:"&&n!=="http"&&(e=e.replace(/^(.*:\/\/)(.*)/gm,"$2"),r=new URL(`http://${e}`));let s,i;const o=r.hostname,a=r.pathname,c=r.search||"";switch(n){case"http:":case"ws:":case"nats:":i=r.port||"80",s="ws:";break;default:i=r.port||"443",s="wss:";break}return`${s}//${o}:${i}${a}${c}`}function Vb(e={}){return N_({defaultPort:443,urlParseFn:zb,factory:()=>new Wb}),ea.connect(e)}const Kb=ef(),Gb="---",dy=Ve({}),py=Ve({}),my=Ve({}),vs=Ve(!1),Nn=Ve({}),Qr={};let Fi,bo;const Yb=async(e,t)=>{if(Nn.value[e])return;if(!vs.value||!bo){Qr[e]=t;return}const r=sr();r.deliverTo(nr()),r.deliverAll(),r.ackNone(),r.replayInstantly();const n=await bo.subscribe(e,r);Nn.value[e]=n,(async()=>{for await(const s of n){const i=Kb.decode(s.data);if(i!==Gb){const o=JSON.parse(i);t.value=Object.freeze({...t.value,[o.id]:Object.freeze(o)})}}})()},gy=async e=>{Nn.value[e]&&(Nn.value[e].unsubscribe(),delete Nn.value[e]),Qr[e]&&delete Qr[e]},cl=async()=>{await Promise.all(Object.keys(Qr).map(async e=>{await Yb(e,Qr[e]),delete Qr[e]}))},Jb=async()=>{Fi=await Vb({servers:[F0],waitOnFirstConnect:!0,maxReconnectAttempts:-1}),vs.value=!0,bo=Fi.jetstream(),await cl(),(async()=>{for await(const e of Fi.status())e.type===tr.Disconnect&&(vs.value=!1),e.type===tr.Reconnect&&(vs.value=!0,await cl())})()},ta=Zd(Y0);ta.use(Yu);ta.use(Gu);ta.mount("#app");Jb();export{W0 as A,ay as B,Yn as C,Yb as D,uy as E,fy as F,ct as G,dy as H,py as I,my as J,bt as K,ry as L,xm as M,Lo as N,ru as O,gy as P,Zb as Q,ey as R,Mm as S,zu as T,Fc as U,ly as V,cy as W,ny as X,Ze as Y,G0 as _,or as a,He as b,qe as c,cn as d,yd as e,wi as f,wo as g,Bt as h,jg as i,oy as j,Re as k,rr as l,Me as m,Vt as n,pt as o,sy as p,er as q,Ve as r,Un as s,Qb as t,ln as u,iy as v,ty as w,L0 as x,Js as y,vs as z};
//# sourceMappingURL=index-28e3a21c.js.map
